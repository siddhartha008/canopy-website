var tT=Object.defineProperty;var Mw=n=>{throw TypeError(n)};var nT=(n,e,t)=>e in n?tT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var J=(n,e,t)=>nT(n,typeof e!="symbol"?e+"":e,t),rg=(n,e,t)=>e.has(n)||Mw("Cannot "+t);var u=(n,e,t)=>(rg(n,e,"read from private field"),t?t.call(n):e.get(n)),C=(n,e,t)=>e.has(n)?Mw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),b=(n,e,t,s)=>(rg(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),A=(n,e,t)=>(rg(n,e,"access private method"),t);var Yt=(n,e,t,s)=>({set _(i){b(n,e,i,t)},get _(){return u(n,e,s)}});function sT(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in n)){const r=Object.getOwnPropertyDescriptor(s,i);r&&Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function iS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rS={exports:{}},Am={},aS={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh=Symbol.for("react.element"),iT=Symbol.for("react.portal"),rT=Symbol.for("react.fragment"),aT=Symbol.for("react.strict_mode"),oT=Symbol.for("react.profiler"),lT=Symbol.for("react.provider"),cT=Symbol.for("react.context"),uT=Symbol.for("react.forward_ref"),dT=Symbol.for("react.suspense"),hT=Symbol.for("react.memo"),fT=Symbol.for("react.lazy"),Lw=Symbol.iterator;function pT(n){return n===null||typeof n!="object"?null:(n=Lw&&n[Lw]||n["@@iterator"],typeof n=="function"?n:null)}var oS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lS=Object.assign,cS={};function Uc(n,e,t){this.props=n,this.context=e,this.refs=cS,this.updater=t||oS}Uc.prototype.isReactComponent={};Uc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Uc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function uS(){}uS.prototype=Uc.prototype;function O0(n,e,t){this.props=n,this.context=e,this.refs=cS,this.updater=t||oS}var F0=O0.prototype=new uS;F0.constructor=O0;lS(F0,Uc.prototype);F0.isPureReactComponent=!0;var Dw=Array.isArray,dS=Object.prototype.hasOwnProperty,B0={current:null},hS={key:!0,ref:!0,__self:!0,__source:!0};function fS(n,e,t){var s,i={},r=null,a=null;if(e!=null)for(s in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(r=""+e.key),e)dS.call(e,s)&&!hS.hasOwnProperty(s)&&(i[s]=e[s]);var o=arguments.length-2;if(o===1)i.children=t;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(s in o=n.defaultProps,o)i[s]===void 0&&(i[s]=o[s]);return{$$typeof:Mh,type:n,key:r,ref:a,props:i,_owner:B0.current}}function mT(n,e){return{$$typeof:Mh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function V0(n){return typeof n=="object"&&n!==null&&n.$$typeof===Mh}function gT(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Ow=/\/+/g;function ag(n,e){return typeof n=="object"&&n!==null&&n.key!=null?gT(""+n.key):e.toString(36)}function _f(n,e,t,s,i){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Mh:case iT:a=!0}}if(a)return a=n,i=i(a),n=s===""?"."+ag(a,0):s,Dw(i)?(t="",n!=null&&(t=n.replace(Ow,"$&/")+"/"),_f(i,e,t,"",function(c){return c})):i!=null&&(V0(i)&&(i=mT(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ow,"$&/")+"/")+n)),e.push(i)),1;if(a=0,s=s===""?".":s+":",Dw(n))for(var o=0;o<n.length;o++){r=n[o];var l=s+ag(r,o);a+=_f(r,e,t,l,i)}else if(l=pT(n),typeof l=="function")for(n=l.call(n),o=0;!(r=n.next()).done;)r=r.value,l=s+ag(r,o++),a+=_f(r,e,t,l,i);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Qh(n,e,t){if(n==null)return n;var s=[],i=0;return _f(n,s,"","",function(r){return e.call(t,r,i++)}),s}function yT(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var an={current:null},Nf={transition:null},vT={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:Nf,ReactCurrentOwner:B0};function pS(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Qh,forEach:function(n,e,t){Qh(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Qh(n,function(){e++}),e},toArray:function(n){return Qh(n,function(e){return e})||[]},only:function(n){if(!V0(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ce.Component=Uc;ce.Fragment=rT;ce.Profiler=oT;ce.PureComponent=O0;ce.StrictMode=aT;ce.Suspense=dT;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vT;ce.act=pS;ce.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=lS({},n.props),i=n.key,r=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,a=B0.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)dS.call(e,l)&&!hS.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];s.children=o}return{$$typeof:Mh,type:n.type,key:i,ref:r,props:s,_owner:a}};ce.createContext=function(n){return n={$$typeof:cT,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:lT,_context:n},n.Consumer=n};ce.createElement=fS;ce.createFactory=function(n){var e=fS.bind(null,n);return e.type=n,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(n){return{$$typeof:uT,render:n}};ce.isValidElement=V0;ce.lazy=function(n){return{$$typeof:fT,_payload:{_status:-1,_result:n},_init:yT}};ce.memo=function(n,e){return{$$typeof:hT,type:n,compare:e===void 0?null:e}};ce.startTransition=function(n){var e=Nf.transition;Nf.transition={};try{n()}finally{Nf.transition=e}};ce.unstable_act=pS;ce.useCallback=function(n,e){return an.current.useCallback(n,e)};ce.useContext=function(n){return an.current.useContext(n)};ce.useDebugValue=function(){};ce.useDeferredValue=function(n){return an.current.useDeferredValue(n)};ce.useEffect=function(n,e){return an.current.useEffect(n,e)};ce.useId=function(){return an.current.useId()};ce.useImperativeHandle=function(n,e,t){return an.current.useImperativeHandle(n,e,t)};ce.useInsertionEffect=function(n,e){return an.current.useInsertionEffect(n,e)};ce.useLayoutEffect=function(n,e){return an.current.useLayoutEffect(n,e)};ce.useMemo=function(n,e){return an.current.useMemo(n,e)};ce.useReducer=function(n,e,t){return an.current.useReducer(n,e,t)};ce.useRef=function(n){return an.current.useRef(n)};ce.useState=function(n){return an.current.useState(n)};ce.useSyncExternalStore=function(n,e,t){return an.current.useSyncExternalStore(n,e,t)};ce.useTransition=function(){return an.current.useTransition()};ce.version="18.3.1";aS.exports=ce;var _=aS.exports;const Fr=iS(_),xT=sT({__proto__:null,default:Fr},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT=_,bT=Symbol.for("react.element"),AT=Symbol.for("react.fragment"),ST=Object.prototype.hasOwnProperty,ET=wT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CT={key:!0,ref:!0,__self:!0,__source:!0};function mS(n,e,t){var s,i={},r=null,a=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)ST.call(e,s)&&!CT.hasOwnProperty(s)&&(i[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:bT,type:n,key:r,ref:a,props:i,_owner:ET.current}}Am.Fragment=AT;Am.jsx=mS;Am.jsxs=mS;rS.exports=Am;var h=rS.exports,gS={exports:{}},Vn={},yS={exports:{}},vS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(j,H){var W=j.length;j.push(H);e:for(;0<W;){var ie=W-1>>>1,te=j[ie];if(0<i(te,H))j[ie]=H,j[W]=te,W=ie;else break e}}function t(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var H=j[0],W=j.pop();if(W!==H){j[0]=W;e:for(var ie=0,te=j.length,he=te>>>1;ie<he;){var De=2*(ie+1)-1,et=j[De],fe=De+1,ae=j[fe];if(0>i(et,W))fe<te&&0>i(ae,et)?(j[ie]=ae,j[fe]=W,ie=fe):(j[ie]=et,j[De]=W,ie=De);else if(fe<te&&0>i(ae,W))j[ie]=ae,j[fe]=W,ie=fe;else break e}}return H}function i(j,H){var W=j.sortIndex-H.sortIndex;return W!==0?W:j.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,p=3,m=!1,y=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var H=t(c);H!==null;){if(H.callback===null)s(c);else if(H.startTime<=j)s(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=t(c)}}function E(j){if(v=!1,w(j),!y)if(t(l)!==null)y=!0,Y(k);else{var H=t(c);H!==null&&O(E,H.startTime-j)}}function k(j,H){y=!1,v&&(v=!1,g(P),P=-1),m=!0;var W=p;try{for(w(H),f=t(l);f!==null&&(!(f.expirationTime>H)||j&&!M());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,p=f.priorityLevel;var te=ie(f.expirationTime<=H);H=n.unstable_now(),typeof te=="function"?f.callback=te:f===t(l)&&s(l),w(H)}else s(l);f=t(l)}if(f!==null)var he=!0;else{var De=t(c);De!==null&&O(E,De.startTime-H),he=!1}return he}finally{f=null,p=W,m=!1}}var T=!1,N=null,P=-1,R=5,I=-1;function M(){return!(n.unstable_now()-I<R)}function q(){if(N!==null){var j=n.unstable_now();I=j;var H=!0;try{H=N(!0,j)}finally{H?U():(T=!1,N=null)}}else T=!1}var U;if(typeof x=="function")U=function(){x(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Q=$.port2;$.port1.onmessage=q,U=function(){Q.postMessage(null)}}else U=function(){S(q,0)};function Y(j){N=j,T||(T=!0,U())}function O(j,H){P=S(function(){j(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,Y(k))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(j){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var W=p;p=H;try{return j()}finally{p=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=p;p=j;try{return H()}finally{p=W}},n.unstable_scheduleCallback=function(j,H,W){var ie=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ie+W:ie):W=ie,j){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=W+te,j={id:d++,callback:H,priorityLevel:j,startTime:W,expirationTime:te,sortIndex:-1},W>ie?(j.sortIndex=W,e(c,j),t(l)===null&&j===t(c)&&(v?(g(P),P=-1):v=!0,O(E,W-ie))):(j.sortIndex=te,e(l,j),y||m||(y=!0,Y(k))),j},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(j){var H=p;return function(){var W=p;p=H;try{return j.apply(this,arguments)}finally{p=W}}}})(vS);yS.exports=vS;var kT=yS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T=_,Fn=kT;function L(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xS=new Set,qu={};function Oo(n,e){Tc(n,e),Tc(n+"Capture",e)}function Tc(n,e){for(qu[n]=e,n=0;n<e.length;n++)xS.add(e[n])}var Wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ny=Object.prototype.hasOwnProperty,NT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fw={},Bw={};function TT(n){return ny.call(Bw,n)?!0:ny.call(Fw,n)?!1:NT.test(n)?Bw[n]=!0:(Fw[n]=!0,!1)}function PT(n,e,t,s){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function jT(n,e,t,s){if(e===null||typeof e>"u"||PT(n,e,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(n,e,t,s,i,r,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Mt[n]=new on(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Mt[e]=new on(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Mt[n]=new on(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Mt[n]=new on(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Mt[n]=new on(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Mt[n]=new on(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Mt[n]=new on(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Mt[n]=new on(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Mt[n]=new on(n,5,!1,n.toLowerCase(),null,!1,!1)});var U0=/[\-:]([a-z])/g;function z0(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(U0,z0);Mt[e]=new on(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(U0,z0);Mt[e]=new on(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(U0,z0);Mt[e]=new on(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Mt[n]=new on(n,1,!1,n.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Mt[n]=new on(n,1,!1,n.toLowerCase(),null,!0,!0)});function H0(n,e,t,s){var i=Mt.hasOwnProperty(e)?Mt[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jT(e,t,i,s)&&(t=null),s||i===null?TT(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,s=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,s?n.setAttributeNS(s,e,t):n.setAttribute(e,t))))}var Qi=_T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jh=Symbol.for("react.element"),sl=Symbol.for("react.portal"),il=Symbol.for("react.fragment"),W0=Symbol.for("react.strict_mode"),sy=Symbol.for("react.profiler"),wS=Symbol.for("react.provider"),bS=Symbol.for("react.context"),$0=Symbol.for("react.forward_ref"),iy=Symbol.for("react.suspense"),ry=Symbol.for("react.suspense_list"),G0=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),AS=Symbol.for("react.offscreen"),Vw=Symbol.iterator;function Xc(n){return n===null||typeof n!="object"?null:(n=Vw&&n[Vw]||n["@@iterator"],typeof n=="function"?n:null)}var We=Object.assign,og;function ou(n){if(og===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);og=e&&e[1]||""}return`
`+og+n}var lg=!1;function cg(n,e){if(!n||lg)return"";lg=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){s=c}n.call(e.prototype)}else{try{throw Error()}catch(c){s=c}n()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),r=s.stack.split(`
`),a=i.length-1,o=r.length-1;1<=a&&0<=o&&i[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==r[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==r[o]){var l=`
`+i[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{lg=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ou(n):""}function RT(n){switch(n.tag){case 5:return ou(n.type);case 16:return ou("Lazy");case 13:return ou("Suspense");case 19:return ou("SuspenseList");case 0:case 2:case 15:return n=cg(n.type,!1),n;case 11:return n=cg(n.type.render,!1),n;case 1:return n=cg(n.type,!0),n;default:return""}}function ay(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case il:return"Fragment";case sl:return"Portal";case sy:return"Profiler";case W0:return"StrictMode";case iy:return"Suspense";case ry:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case bS:return(n.displayName||"Context")+".Consumer";case wS:return(n._context.displayName||"Context")+".Provider";case $0:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G0:return e=n.displayName||null,e!==null?e:ay(n.type)||"Memo";case nr:e=n._payload,n=n._init;try{return ay(n(e))}catch{}}return null}function IT(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ay(e);case 8:return e===W0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xr(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function SS(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MT(n){var e=SS(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),s=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){s=""+a,r.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Zh(n){n._valueTracker||(n._valueTracker=MT(n))}function ES(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return n&&(s=SS(n)?n.checked?"true":"false":n.value),n=s,n!==t?(e.setValue(n),!0):!1}function wp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function oy(n,e){var t=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Uw(n,e){var t=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;t=Xr(e.value!=null?e.value:t),n._wrapperState={initialChecked:s,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CS(n,e){e=e.checked,e!=null&&H0(n,"checked",e,!1)}function ly(n,e){CS(n,e);var t=Xr(e.value),s=e.type;if(t!=null)s==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?cy(n,e.type,t):e.hasOwnProperty("defaultValue")&&cy(n,e.type,Xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function zw(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function cy(n,e,t){(e!=="number"||wp(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var lu=Array.isArray;function bl(n,e,t,s){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&s&&(n[t].defaultSelected=!0)}else{for(t=""+Xr(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,s&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function uy(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Hw(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(L(92));if(lu(t)){if(1<t.length)throw Error(L(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Xr(t)}}function kS(n,e){var t=Xr(e.value),s=Xr(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),s!=null&&(n.defaultValue=""+s)}function Ww(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function _S(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dy(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?_S(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ef,NS=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,s,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,s,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ef=ef||document.createElement("div"),ef.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ef.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ku(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ju={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LT=["Webkit","ms","Moz","O"];Object.keys(ju).forEach(function(n){LT.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ju[e]=ju[n]})});function TS(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ju.hasOwnProperty(n)&&ju[n]?(""+e).trim():e+"px"}function PS(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var s=t.indexOf("--")===0,i=TS(t,e[t],s);t==="float"&&(t="cssFloat"),s?n.setProperty(t,i):n[t]=i}}var DT=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hy(n,e){if(e){if(DT[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function fy(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var py=null;function q0(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var my=null,Al=null,Sl=null;function $w(n){if(n=Oh(n)){if(typeof my!="function")throw Error(L(280));var e=n.stateNode;e&&(e=_m(e),my(n.stateNode,n.type,e))}}function jS(n){Al?Sl?Sl.push(n):Sl=[n]:Al=n}function RS(){if(Al){var n=Al,e=Sl;if(Sl=Al=null,$w(n),e)for(n=0;n<e.length;n++)$w(e[n])}}function IS(n,e){return n(e)}function MS(){}var ug=!1;function LS(n,e,t){if(ug)return n(e,t);ug=!0;try{return IS(n,e,t)}finally{ug=!1,(Al!==null||Sl!==null)&&(MS(),RS())}}function Xu(n,e){var t=n.stateNode;if(t===null)return null;var s=_m(t);if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(L(231,e,typeof t));return t}var gy=!1;if(Wi)try{var Yc={};Object.defineProperty(Yc,"passive",{get:function(){gy=!0}}),window.addEventListener("test",Yc,Yc),window.removeEventListener("test",Yc,Yc)}catch{gy=!1}function OT(n,e,t,s,i,r,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var Ru=!1,bp=null,Ap=!1,yy=null,FT={onError:function(n){Ru=!0,bp=n}};function BT(n,e,t,s,i,r,a,o,l){Ru=!1,bp=null,OT.apply(FT,arguments)}function VT(n,e,t,s,i,r,a,o,l){if(BT.apply(this,arguments),Ru){if(Ru){var c=bp;Ru=!1,bp=null}else throw Error(L(198));Ap||(Ap=!0,yy=c)}}function Fo(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function DS(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Gw(n){if(Fo(n)!==n)throw Error(L(188))}function UT(n){var e=n.alternate;if(!e){if(e=Fo(n),e===null)throw Error(L(188));return e!==n?null:n}for(var t=n,s=e;;){var i=t.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){t=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===t)return Gw(i),n;if(r===s)return Gw(i),e;r=r.sibling}throw Error(L(188))}if(t.return!==s.return)t=i,s=r;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,s=r;break}if(o===s){a=!0,s=i,t=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===t){a=!0,t=r,s=i;break}if(o===s){a=!0,s=r,t=i;break}o=o.sibling}if(!a)throw Error(L(189))}}if(t.alternate!==s)throw Error(L(190))}if(t.tag!==3)throw Error(L(188));return t.stateNode.current===t?n:e}function OS(n){return n=UT(n),n!==null?FS(n):null}function FS(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=FS(n);if(e!==null)return e;n=n.sibling}return null}var BS=Fn.unstable_scheduleCallback,qw=Fn.unstable_cancelCallback,zT=Fn.unstable_shouldYield,HT=Fn.unstable_requestPaint,Je=Fn.unstable_now,WT=Fn.unstable_getCurrentPriorityLevel,K0=Fn.unstable_ImmediatePriority,VS=Fn.unstable_UserBlockingPriority,Sp=Fn.unstable_NormalPriority,$T=Fn.unstable_LowPriority,US=Fn.unstable_IdlePriority,Sm=null,Zs=null;function GT(n){if(Zs&&typeof Zs.onCommitFiberRoot=="function")try{Zs.onCommitFiberRoot(Sm,n,void 0,(n.current.flags&128)===128)}catch{}}var _s=Math.clz32?Math.clz32:XT,qT=Math.log,KT=Math.LN2;function XT(n){return n>>>=0,n===0?32:31-(qT(n)/KT|0)|0}var tf=64,nf=4194304;function cu(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ep(n,e){var t=n.pendingLanes;if(t===0)return 0;var s=0,i=n.suspendedLanes,r=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~i;o!==0?s=cu(o):(r&=a,r!==0&&(s=cu(r)))}else a=t&~i,a!==0?s=cu(a):r!==0&&(s=cu(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=s;0<e;)t=31-_s(e),i=1<<t,s|=n[t],e&=~i;return s}function YT(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QT(n,e){for(var t=n.suspendedLanes,s=n.pingedLanes,i=n.expirationTimes,r=n.pendingLanes;0<r;){var a=31-_s(r),o=1<<a,l=i[a];l===-1?(!(o&t)||o&s)&&(i[a]=YT(o,e)):l<=e&&(n.expiredLanes|=o),r&=~o}}function vy(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function zS(){var n=tf;return tf<<=1,!(tf&4194240)&&(tf=64),n}function dg(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Lh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-_s(e),n[e]=t}function JT(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-_s(t),r=1<<i;e[i]=0,s[i]=-1,n[i]=-1,t&=~r}}function X0(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var s=31-_s(t),i=1<<s;i&e|n[s]&e&&(n[s]|=e),t&=~i}}var be=0;function HS(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var WS,Y0,$S,GS,qS,xy=!1,sf=[],Br=null,Vr=null,Ur=null,Yu=new Map,Qu=new Map,ir=[],ZT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kw(n,e){switch(n){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Yu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qu.delete(e.pointerId)}}function Qc(n,e,t,s,i,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Oh(e),e!==null&&Y0(e)),n):(n.eventSystemFlags|=s,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function eP(n,e,t,s,i){switch(e){case"focusin":return Br=Qc(Br,n,e,t,s,i),!0;case"dragenter":return Vr=Qc(Vr,n,e,t,s,i),!0;case"mouseover":return Ur=Qc(Ur,n,e,t,s,i),!0;case"pointerover":var r=i.pointerId;return Yu.set(r,Qc(Yu.get(r)||null,n,e,t,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Qu.set(r,Qc(Qu.get(r)||null,n,e,t,s,i)),!0}return!1}function KS(n){var e=ba(n.target);if(e!==null){var t=Fo(e);if(t!==null){if(e=t.tag,e===13){if(e=DS(t),e!==null){n.blockedOn=e,qS(n.priority,function(){$S(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Tf(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=wy(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var s=new t.constructor(t.type,t);py=s,t.target.dispatchEvent(s),py=null}else return e=Oh(t),e!==null&&Y0(e),n.blockedOn=t,!1;e.shift()}return!0}function Xw(n,e,t){Tf(n)&&t.delete(e)}function tP(){xy=!1,Br!==null&&Tf(Br)&&(Br=null),Vr!==null&&Tf(Vr)&&(Vr=null),Ur!==null&&Tf(Ur)&&(Ur=null),Yu.forEach(Xw),Qu.forEach(Xw)}function Jc(n,e){n.blockedOn===e&&(n.blockedOn=null,xy||(xy=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,tP)))}function Ju(n){function e(i){return Jc(i,n)}if(0<sf.length){Jc(sf[0],n);for(var t=1;t<sf.length;t++){var s=sf[t];s.blockedOn===n&&(s.blockedOn=null)}}for(Br!==null&&Jc(Br,n),Vr!==null&&Jc(Vr,n),Ur!==null&&Jc(Ur,n),Yu.forEach(e),Qu.forEach(e),t=0;t<ir.length;t++)s=ir[t],s.blockedOn===n&&(s.blockedOn=null);for(;0<ir.length&&(t=ir[0],t.blockedOn===null);)KS(t),t.blockedOn===null&&ir.shift()}var El=Qi.ReactCurrentBatchConfig,Cp=!0;function nP(n,e,t,s){var i=be,r=El.transition;El.transition=null;try{be=1,Q0(n,e,t,s)}finally{be=i,El.transition=r}}function sP(n,e,t,s){var i=be,r=El.transition;El.transition=null;try{be=4,Q0(n,e,t,s)}finally{be=i,El.transition=r}}function Q0(n,e,t,s){if(Cp){var i=wy(n,e,t,s);if(i===null)bg(n,e,s,kp,t),Kw(n,s);else if(eP(i,n,e,t,s))s.stopPropagation();else if(Kw(n,s),e&4&&-1<ZT.indexOf(n)){for(;i!==null;){var r=Oh(i);if(r!==null&&WS(r),r=wy(n,e,t,s),r===null&&bg(n,e,s,kp,t),r===i)break;i=r}i!==null&&s.stopPropagation()}else bg(n,e,s,null,t)}}var kp=null;function wy(n,e,t,s){if(kp=null,n=q0(s),n=ba(n),n!==null)if(e=Fo(n),e===null)n=null;else if(t=e.tag,t===13){if(n=DS(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return kp=n,null}function XS(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WT()){case K0:return 1;case VS:return 4;case Sp:case $T:return 16;case US:return 536870912;default:return 16}default:return 16}}var Lr=null,J0=null,Pf=null;function YS(){if(Pf)return Pf;var n,e=J0,t=e.length,s,i="value"in Lr?Lr.value:Lr.textContent,r=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(s=1;s<=a&&e[t-s]===i[r-s];s++);return Pf=i.slice(n,1<s?1-s:void 0)}function jf(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function rf(){return!0}function Yw(){return!1}function Un(n){function e(t,s,i,r,a){this._reactName=t,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?rf:Yw,this.isPropagationStopped=Yw,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=rf)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=rf)},persist:function(){},isPersistent:rf}),e}var zc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Z0=Un(zc),Dh=We({},zc,{view:0,detail:0}),iP=Un(Dh),hg,fg,Zc,Em=We({},Dh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ex,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Zc&&(Zc&&n.type==="mousemove"?(hg=n.screenX-Zc.screenX,fg=n.screenY-Zc.screenY):fg=hg=0,Zc=n),hg)},movementY:function(n){return"movementY"in n?n.movementY:fg}}),Qw=Un(Em),rP=We({},Em,{dataTransfer:0}),aP=Un(rP),oP=We({},Dh,{relatedTarget:0}),pg=Un(oP),lP=We({},zc,{animationName:0,elapsedTime:0,pseudoElement:0}),cP=Un(lP),uP=We({},zc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dP=Un(uP),hP=We({},zc,{data:0}),Jw=Un(hP),fP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gP(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=mP[n])?!!e[n]:!1}function ex(){return gP}var yP=We({},Dh,{key:function(n){if(n.key){var e=fP[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=jf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?pP[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ex,charCode:function(n){return n.type==="keypress"?jf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?jf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vP=Un(yP),xP=We({},Em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zw=Un(xP),wP=We({},Dh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ex}),bP=Un(wP),AP=We({},zc,{propertyName:0,elapsedTime:0,pseudoElement:0}),SP=Un(AP),EP=We({},Em,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),CP=Un(EP),kP=[9,13,27,32],tx=Wi&&"CompositionEvent"in window,Iu=null;Wi&&"documentMode"in document&&(Iu=document.documentMode);var _P=Wi&&"TextEvent"in window&&!Iu,QS=Wi&&(!tx||Iu&&8<Iu&&11>=Iu),eb=" ",tb=!1;function JS(n,e){switch(n){case"keyup":return kP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZS(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var rl=!1;function NP(n,e){switch(n){case"compositionend":return ZS(e);case"keypress":return e.which!==32?null:(tb=!0,eb);case"textInput":return n=e.data,n===eb&&tb?null:n;default:return null}}function TP(n,e){if(rl)return n==="compositionend"||!tx&&JS(n,e)?(n=YS(),Pf=J0=Lr=null,rl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QS&&e.locale!=="ko"?null:e.data;default:return null}}var PP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nb(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!PP[n.type]:e==="textarea"}function eE(n,e,t,s){jS(s),e=_p(e,"onChange"),0<e.length&&(t=new Z0("onChange","change",null,t,s),n.push({event:t,listeners:e}))}var Mu=null,Zu=null;function jP(n){dE(n,0)}function Cm(n){var e=ll(n);if(ES(e))return n}function RP(n,e){if(n==="change")return e}var tE=!1;if(Wi){var mg;if(Wi){var gg="oninput"in document;if(!gg){var sb=document.createElement("div");sb.setAttribute("oninput","return;"),gg=typeof sb.oninput=="function"}mg=gg}else mg=!1;tE=mg&&(!document.documentMode||9<document.documentMode)}function ib(){Mu&&(Mu.detachEvent("onpropertychange",nE),Zu=Mu=null)}function nE(n){if(n.propertyName==="value"&&Cm(Zu)){var e=[];eE(e,Zu,n,q0(n)),LS(jP,e)}}function IP(n,e,t){n==="focusin"?(ib(),Mu=e,Zu=t,Mu.attachEvent("onpropertychange",nE)):n==="focusout"&&ib()}function MP(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Cm(Zu)}function LP(n,e){if(n==="click")return Cm(e)}function DP(n,e){if(n==="input"||n==="change")return Cm(e)}function OP(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ts=typeof Object.is=="function"?Object.is:OP;function ed(n,e){if(Ts(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++){var i=t[s];if(!ny.call(e,i)||!Ts(n[i],e[i]))return!1}return!0}function rb(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ab(n,e){var t=rb(n);n=0;for(var s;t;){if(t.nodeType===3){if(s=n+t.textContent.length,n<=e&&s>=e)return{node:t,offset:e-n};n=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=rb(t)}}function sE(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?sE(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function iE(){for(var n=window,e=wp();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=wp(n.document)}return e}function nx(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function FP(n){var e=iE(),t=n.focusedElem,s=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&sE(t.ownerDocument.documentElement,t)){if(s!==null&&nx(t)){if(e=s.start,n=s.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!n.extend&&r>s&&(i=s,s=r,r=i),i=ab(t,r);var a=ab(t,s);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),r>s?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var BP=Wi&&"documentMode"in document&&11>=document.documentMode,al=null,by=null,Lu=null,Ay=!1;function ob(n,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Ay||al==null||al!==wp(s)||(s=al,"selectionStart"in s&&nx(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Lu&&ed(Lu,s)||(Lu=s,s=_p(by,"onSelect"),0<s.length&&(e=new Z0("onSelect","select",null,e,t),n.push({event:e,listeners:s}),e.target=al)))}function af(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ol={animationend:af("Animation","AnimationEnd"),animationiteration:af("Animation","AnimationIteration"),animationstart:af("Animation","AnimationStart"),transitionend:af("Transition","TransitionEnd")},yg={},rE={};Wi&&(rE=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function km(n){if(yg[n])return yg[n];if(!ol[n])return n;var e=ol[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in rE)return yg[n]=e[t];return n}var aE=km("animationend"),oE=km("animationiteration"),lE=km("animationstart"),cE=km("transitionend"),uE=new Map,lb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(n,e){uE.set(n,e),Oo(e,[n])}for(var vg=0;vg<lb.length;vg++){var xg=lb[vg],VP=xg.toLowerCase(),UP=xg[0].toUpperCase()+xg.slice(1);sa(VP,"on"+UP)}sa(aE,"onAnimationEnd");sa(oE,"onAnimationIteration");sa(lE,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(cE,"onTransitionEnd");Tc("onMouseEnter",["mouseout","mouseover"]);Tc("onMouseLeave",["mouseout","mouseover"]);Tc("onPointerEnter",["pointerout","pointerover"]);Tc("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zP=new Set("cancel close invalid load scroll toggle".split(" ").concat(uu));function cb(n,e,t){var s=n.type||"unknown-event";n.currentTarget=t,VT(s,e,void 0,n),n.currentTarget=null}function dE(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var s=n[t],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&i.isPropagationStopped())break e;cb(i,o,c),r=l}else for(a=0;a<s.length;a++){if(o=s[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==r&&i.isPropagationStopped())break e;cb(i,o,c),r=l}}}if(Ap)throw n=yy,Ap=!1,yy=null,n}function Te(n,e){var t=e[_y];t===void 0&&(t=e[_y]=new Set);var s=n+"__bubble";t.has(s)||(hE(e,n,2,!1),t.add(s))}function wg(n,e,t){var s=0;e&&(s|=4),hE(t,n,s,e)}var of="_reactListening"+Math.random().toString(36).slice(2);function td(n){if(!n[of]){n[of]=!0,xS.forEach(function(t){t!=="selectionchange"&&(zP.has(t)||wg(t,!1,n),wg(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[of]||(e[of]=!0,wg("selectionchange",!1,e))}}function hE(n,e,t,s){switch(XS(e)){case 1:var i=nP;break;case 4:i=sP;break;default:i=Q0}t=i.bind(null,e,t,n),i=void 0,!gy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function bg(n,e,t,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=s.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ba(o),a===null)return;if(l=a.tag,l===5||l===6){s=r=a;continue e}o=o.parentNode}}s=s.return}LS(function(){var c=r,d=q0(t),f=[];e:{var p=uE.get(n);if(p!==void 0){var m=Z0,y=n;switch(n){case"keypress":if(jf(t)===0)break e;case"keydown":case"keyup":m=vP;break;case"focusin":y="focus",m=pg;break;case"focusout":y="blur",m=pg;break;case"beforeblur":case"afterblur":m=pg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=aP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=bP;break;case aE:case oE:case lE:m=cP;break;case cE:m=SP;break;case"scroll":m=iP;break;case"wheel":m=CP;break;case"copy":case"cut":case"paste":m=dP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zw}var v=(e&4)!==0,S=!v&&n==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var x=c,w;x!==null;){w=x;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,g!==null&&(E=Xu(x,g),E!=null&&v.push(nd(x,E,w)))),S)break;x=x.return}0<v.length&&(p=new m(p,y,null,t,d),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==py&&(y=t.relatedTarget||t.fromElement)&&(ba(y)||y[$i]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=c,y=y?ba(y):null,y!==null&&(S=Fo(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(v=Qw,E="onMouseLeave",g="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(v=Zw,E="onPointerLeave",g="onPointerEnter",x="pointer"),S=m==null?p:ll(m),w=y==null?p:ll(y),p=new v(E,x+"leave",m,t,d),p.target=S,p.relatedTarget=w,E=null,ba(d)===c&&(v=new v(g,x+"enter",y,t,d),v.target=w,v.relatedTarget=S,E=v),S=E,m&&y)t:{for(v=m,g=y,x=0,w=v;w;w=qo(w))x++;for(w=0,E=g;E;E=qo(E))w++;for(;0<x-w;)v=qo(v),x--;for(;0<w-x;)g=qo(g),w--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=qo(v),g=qo(g)}v=null}else v=null;m!==null&&ub(f,p,m,v,!1),y!==null&&S!==null&&ub(f,S,y,v,!0)}}e:{if(p=c?ll(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var k=RP;else if(nb(p))if(tE)k=DP;else{k=MP;var T=IP}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=LP);if(k&&(k=k(n,c))){eE(f,k,t,d);break e}T&&T(n,p,c),n==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&cy(p,"number",p.value)}switch(T=c?ll(c):window,n){case"focusin":(nb(T)||T.contentEditable==="true")&&(al=T,by=c,Lu=null);break;case"focusout":Lu=by=al=null;break;case"mousedown":Ay=!0;break;case"contextmenu":case"mouseup":case"dragend":Ay=!1,ob(f,t,d);break;case"selectionchange":if(BP)break;case"keydown":case"keyup":ob(f,t,d)}var N;if(tx)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else rl?JS(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(QS&&t.locale!=="ko"&&(rl||P!=="onCompositionStart"?P==="onCompositionEnd"&&rl&&(N=YS()):(Lr=d,J0="value"in Lr?Lr.value:Lr.textContent,rl=!0)),T=_p(c,P),0<T.length&&(P=new Jw(P,n,null,t,d),f.push({event:P,listeners:T}),N?P.data=N:(N=ZS(t),N!==null&&(P.data=N)))),(N=_P?NP(n,t):TP(n,t))&&(c=_p(c,"onBeforeInput"),0<c.length&&(d=new Jw("onBeforeInput","beforeinput",null,t,d),f.push({event:d,listeners:c}),d.data=N))}dE(f,e)})}function nd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function _p(n,e){for(var t=e+"Capture",s=[];n!==null;){var i=n,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Xu(n,t),r!=null&&s.unshift(nd(n,r,i)),r=Xu(n,e),r!=null&&s.push(nd(n,r,i))),n=n.return}return s}function qo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ub(n,e,t,s,i){for(var r=e._reactName,a=[];t!==null&&t!==s;){var o=t,l=o.alternate,c=o.stateNode;if(l!==null&&l===s)break;o.tag===5&&c!==null&&(o=c,i?(l=Xu(t,r),l!=null&&a.unshift(nd(t,l,o))):i||(l=Xu(t,r),l!=null&&a.push(nd(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var HP=/\r\n?/g,WP=/\u0000|\uFFFD/g;function db(n){return(typeof n=="string"?n:""+n).replace(HP,`
`).replace(WP,"")}function lf(n,e,t){if(e=db(e),db(n)!==e&&t)throw Error(L(425))}function Np(){}var Sy=null,Ey=null;function Cy(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ky=typeof setTimeout=="function"?setTimeout:void 0,$P=typeof clearTimeout=="function"?clearTimeout:void 0,hb=typeof Promise=="function"?Promise:void 0,GP=typeof queueMicrotask=="function"?queueMicrotask:typeof hb<"u"?function(n){return hb.resolve(null).then(n).catch(qP)}:ky;function qP(n){setTimeout(function(){throw n})}function Ag(n,e){var t=e,s=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(s===0){n.removeChild(i),Ju(e);return}s--}else t!=="$"&&t!=="$?"&&t!=="$!"||s++;t=i}while(t);Ju(e)}function zr(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function fb(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Hc=Math.random().toString(36).slice(2),Js="__reactFiber$"+Hc,sd="__reactProps$"+Hc,$i="__reactContainer$"+Hc,_y="__reactEvents$"+Hc,KP="__reactListeners$"+Hc,XP="__reactHandles$"+Hc;function ba(n){var e=n[Js];if(e)return e;for(var t=n.parentNode;t;){if(e=t[$i]||t[Js]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=fb(n);n!==null;){if(t=n[Js])return t;n=fb(n)}return e}n=t,t=n.parentNode}return null}function Oh(n){return n=n[Js]||n[$i],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ll(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(L(33))}function _m(n){return n[sd]||null}var Ny=[],cl=-1;function ia(n){return{current:n}}function je(n){0>cl||(n.current=Ny[cl],Ny[cl]=null,cl--)}function _e(n,e){cl++,Ny[cl]=n.current,n.current=e}var Yr={},Kt=ia(Yr),vn=ia(!1),ko=Yr;function Pc(n,e){var t=n.type.contextTypes;if(!t)return Yr;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in t)i[r]=e[r];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function xn(n){return n=n.childContextTypes,n!=null}function Tp(){je(vn),je(Kt)}function pb(n,e,t){if(Kt.current!==Yr)throw Error(L(168));_e(Kt,e),_e(vn,t)}function fE(n,e,t){var s=n.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(L(108,IT(n)||"Unknown",i));return We({},t,s)}function Pp(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yr,ko=Kt.current,_e(Kt,n),_e(vn,vn.current),!0}function mb(n,e,t){var s=n.stateNode;if(!s)throw Error(L(169));t?(n=fE(n,e,ko),s.__reactInternalMemoizedMergedChildContext=n,je(vn),je(Kt),_e(Kt,n)):je(vn),_e(vn,t)}var ui=null,Nm=!1,Sg=!1;function pE(n){ui===null?ui=[n]:ui.push(n)}function YP(n){Nm=!0,pE(n)}function ra(){if(!Sg&&ui!==null){Sg=!0;var n=0,e=be;try{var t=ui;for(be=1;n<t.length;n++){var s=t[n];do s=s(!0);while(s!==null)}ui=null,Nm=!1}catch(i){throw ui!==null&&(ui=ui.slice(n+1)),BS(K0,ra),i}finally{be=e,Sg=!1}}return null}var ul=[],dl=0,jp=null,Rp=0,Yn=[],Qn=0,_o=null,Di=1,Oi="";function da(n,e){ul[dl++]=Rp,ul[dl++]=jp,jp=n,Rp=e}function mE(n,e,t){Yn[Qn++]=Di,Yn[Qn++]=Oi,Yn[Qn++]=_o,_o=n;var s=Di;n=Oi;var i=32-_s(s)-1;s&=~(1<<i),t+=1;var r=32-_s(e)+i;if(30<r){var a=i-i%5;r=(s&(1<<a)-1).toString(32),s>>=a,i-=a,Di=1<<32-_s(e)+i|t<<i|s,Oi=r+n}else Di=1<<r|t<<i|s,Oi=n}function sx(n){n.return!==null&&(da(n,1),mE(n,1,0))}function ix(n){for(;n===jp;)jp=ul[--dl],ul[dl]=null,Rp=ul[--dl],ul[dl]=null;for(;n===_o;)_o=Yn[--Qn],Yn[Qn]=null,Oi=Yn[--Qn],Yn[Qn]=null,Di=Yn[--Qn],Yn[Qn]=null}var Ln=null,Mn=null,Le=!1,Cs=null;function gE(n,e){var t=es(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function gb(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ln=n,Mn=zr(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ln=n,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=_o!==null?{id:Di,overflow:Oi}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=es(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ln=n,Mn=null,!0):!1;default:return!1}}function Ty(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Py(n){if(Le){var e=Mn;if(e){var t=e;if(!gb(n,e)){if(Ty(n))throw Error(L(418));e=zr(t.nextSibling);var s=Ln;e&&gb(n,e)?gE(s,t):(n.flags=n.flags&-4097|2,Le=!1,Ln=n)}}else{if(Ty(n))throw Error(L(418));n.flags=n.flags&-4097|2,Le=!1,Ln=n}}}function yb(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ln=n}function cf(n){if(n!==Ln)return!1;if(!Le)return yb(n),Le=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Cy(n.type,n.memoizedProps)),e&&(e=Mn)){if(Ty(n))throw yE(),Error(L(418));for(;e;)gE(n,e),e=zr(e.nextSibling)}if(yb(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(L(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Mn=zr(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Mn=null}}else Mn=Ln?zr(n.stateNode.nextSibling):null;return!0}function yE(){for(var n=Mn;n;)n=zr(n.nextSibling)}function jc(){Mn=Ln=null,Le=!1}function rx(n){Cs===null?Cs=[n]:Cs.push(n)}var QP=Qi.ReactCurrentBatchConfig;function eu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(L(309));var s=t.stateNode}if(!s)throw Error(L(147,n));var i=s,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(a){var o=i.refs;a===null?delete o[r]:o[r]=a},e._stringRef=r,e)}if(typeof n!="string")throw Error(L(284));if(!t._owner)throw Error(L(290,n))}return n}function uf(n,e){throw n=Object.prototype.toString.call(e),Error(L(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function vb(n){var e=n._init;return e(n._payload)}function vE(n){function e(g,x){if(n){var w=g.deletions;w===null?(g.deletions=[x],g.flags|=16):w.push(x)}}function t(g,x){if(!n)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function s(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=Gr(g,x),g.index=0,g.sibling=null,g}function r(g,x,w){return g.index=w,n?(w=g.alternate,w!==null?(w=w.index,w<x?(g.flags|=2,x):w):(g.flags|=2,x)):(g.flags|=1048576,x)}function a(g){return n&&g.alternate===null&&(g.flags|=2),g}function o(g,x,w,E){return x===null||x.tag!==6?(x=Pg(w,g.mode,E),x.return=g,x):(x=i(x,w),x.return=g,x)}function l(g,x,w,E){var k=w.type;return k===il?d(g,x,w.props.children,E,w.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===nr&&vb(k)===x.type)?(E=i(x,w.props),E.ref=eu(g,x,w),E.return=g,E):(E=Ff(w.type,w.key,w.props,null,g.mode,E),E.ref=eu(g,x,w),E.return=g,E)}function c(g,x,w,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=jg(w,g.mode,E),x.return=g,x):(x=i(x,w.children||[]),x.return=g,x)}function d(g,x,w,E,k){return x===null||x.tag!==7?(x=Eo(w,g.mode,E,k),x.return=g,x):(x=i(x,w),x.return=g,x)}function f(g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Pg(""+x,g.mode,w),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Jh:return w=Ff(x.type,x.key,x.props,null,g.mode,w),w.ref=eu(g,null,x),w.return=g,w;case sl:return x=jg(x,g.mode,w),x.return=g,x;case nr:var E=x._init;return f(g,E(x._payload),w)}if(lu(x)||Xc(x))return x=Eo(x,g.mode,w,null),x.return=g,x;uf(g,x)}return null}function p(g,x,w,E){var k=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:o(g,x,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jh:return w.key===k?l(g,x,w,E):null;case sl:return w.key===k?c(g,x,w,E):null;case nr:return k=w._init,p(g,x,k(w._payload),E)}if(lu(w)||Xc(w))return k!==null?null:d(g,x,w,E,null);uf(g,w)}return null}function m(g,x,w,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(w)||null,o(x,g,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Jh:return g=g.get(E.key===null?w:E.key)||null,l(x,g,E,k);case sl:return g=g.get(E.key===null?w:E.key)||null,c(x,g,E,k);case nr:var T=E._init;return m(g,x,w,T(E._payload),k)}if(lu(E)||Xc(E))return g=g.get(w)||null,d(x,g,E,k,null);uf(x,E)}return null}function y(g,x,w,E){for(var k=null,T=null,N=x,P=x=0,R=null;N!==null&&P<w.length;P++){N.index>P?(R=N,N=null):R=N.sibling;var I=p(g,N,w[P],E);if(I===null){N===null&&(N=R);break}n&&N&&I.alternate===null&&e(g,N),x=r(I,x,P),T===null?k=I:T.sibling=I,T=I,N=R}if(P===w.length)return t(g,N),Le&&da(g,P),k;if(N===null){for(;P<w.length;P++)N=f(g,w[P],E),N!==null&&(x=r(N,x,P),T===null?k=N:T.sibling=N,T=N);return Le&&da(g,P),k}for(N=s(g,N);P<w.length;P++)R=m(N,g,P,w[P],E),R!==null&&(n&&R.alternate!==null&&N.delete(R.key===null?P:R.key),x=r(R,x,P),T===null?k=R:T.sibling=R,T=R);return n&&N.forEach(function(M){return e(g,M)}),Le&&da(g,P),k}function v(g,x,w,E){var k=Xc(w);if(typeof k!="function")throw Error(L(150));if(w=k.call(w),w==null)throw Error(L(151));for(var T=k=null,N=x,P=x=0,R=null,I=w.next();N!==null&&!I.done;P++,I=w.next()){N.index>P?(R=N,N=null):R=N.sibling;var M=p(g,N,I.value,E);if(M===null){N===null&&(N=R);break}n&&N&&M.alternate===null&&e(g,N),x=r(M,x,P),T===null?k=M:T.sibling=M,T=M,N=R}if(I.done)return t(g,N),Le&&da(g,P),k;if(N===null){for(;!I.done;P++,I=w.next())I=f(g,I.value,E),I!==null&&(x=r(I,x,P),T===null?k=I:T.sibling=I,T=I);return Le&&da(g,P),k}for(N=s(g,N);!I.done;P++,I=w.next())I=m(N,g,P,I.value,E),I!==null&&(n&&I.alternate!==null&&N.delete(I.key===null?P:I.key),x=r(I,x,P),T===null?k=I:T.sibling=I,T=I);return n&&N.forEach(function(q){return e(g,q)}),Le&&da(g,P),k}function S(g,x,w,E){if(typeof w=="object"&&w!==null&&w.type===il&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Jh:e:{for(var k=w.key,T=x;T!==null;){if(T.key===k){if(k=w.type,k===il){if(T.tag===7){t(g,T.sibling),x=i(T,w.props.children),x.return=g,g=x;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===nr&&vb(k)===T.type){t(g,T.sibling),x=i(T,w.props),x.ref=eu(g,T,w),x.return=g,g=x;break e}t(g,T);break}else e(g,T);T=T.sibling}w.type===il?(x=Eo(w.props.children,g.mode,E,w.key),x.return=g,g=x):(E=Ff(w.type,w.key,w.props,null,g.mode,E),E.ref=eu(g,x,w),E.return=g,g=E)}return a(g);case sl:e:{for(T=w.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){t(g,x.sibling),x=i(x,w.children||[]),x.return=g,g=x;break e}else{t(g,x);break}else e(g,x);x=x.sibling}x=jg(w,g.mode,E),x.return=g,g=x}return a(g);case nr:return T=w._init,S(g,x,T(w._payload),E)}if(lu(w))return y(g,x,w,E);if(Xc(w))return v(g,x,w,E);uf(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(t(g,x.sibling),x=i(x,w),x.return=g,g=x):(t(g,x),x=Pg(w,g.mode,E),x.return=g,g=x),a(g)):t(g,x)}return S}var Rc=vE(!0),xE=vE(!1),Ip=ia(null),Mp=null,hl=null,ax=null;function ox(){ax=hl=Mp=null}function lx(n){var e=Ip.current;je(Ip),n._currentValue=e}function jy(n,e,t){for(;n!==null;){var s=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),n===t)break;n=n.return}}function Cl(n,e){Mp=n,ax=hl=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(gn=!0),n.firstContext=null)}function ss(n){var e=n._currentValue;if(ax!==n)if(n={context:n,memoizedValue:e,next:null},hl===null){if(Mp===null)throw Error(L(308));hl=n,Mp.dependencies={lanes:0,firstContext:n}}else hl=hl.next=n;return e}var Aa=null;function cx(n){Aa===null?Aa=[n]:Aa.push(n)}function wE(n,e,t,s){var i=e.interleaved;return i===null?(t.next=t,cx(e)):(t.next=i.next,i.next=t),e.interleaved=t,Gi(n,s)}function Gi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var sr=!1;function ux(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bE(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Fi(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Hr(n,e,t){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,pe&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Gi(n,t)}return i=s.interleaved,i===null?(e.next=e,cx(s)):(e.next=i.next,i.next=e),s.interleaved=e,Gi(n,t)}function Rf(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,X0(n,t)}}function xb(n,e){var t=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var i=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?i=r=a:r=r.next=a,t=t.next}while(t!==null);r===null?i=r=e:r=r.next=e}else i=r=e;t={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Lp(n,e,t,s){var i=n.updateQueue;sr=!1;var r=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?r=c:a.next=c,a=l;var d=n.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(r!==null){var f=i.baseState;a=0,d=c=l=null,o=r;do{var p=o.lane,m=o.eventTime;if((s&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=n,v=o;switch(p=e,m=t,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=We({},f,p);break e;case 2:sr=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);To|=a,n.lanes=a,n.memoizedState=f}}function wb(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var s=n[e],i=s.callback;if(i!==null){if(s.callback=null,s=t,typeof i!="function")throw Error(L(191,i));i.call(s)}}}var Fh={},ei=ia(Fh),id=ia(Fh),rd=ia(Fh);function Sa(n){if(n===Fh)throw Error(L(174));return n}function dx(n,e){switch(_e(rd,e),_e(id,n),_e(ei,Fh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dy(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=dy(e,n)}je(ei),_e(ei,e)}function Ic(){je(ei),je(id),je(rd)}function AE(n){Sa(rd.current);var e=Sa(ei.current),t=dy(e,n.type);e!==t&&(_e(id,n),_e(ei,t))}function hx(n){id.current===n&&(je(ei),je(id))}var Ue=ia(0);function Dp(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Eg=[];function fx(){for(var n=0;n<Eg.length;n++)Eg[n]._workInProgressVersionPrimary=null;Eg.length=0}var If=Qi.ReactCurrentDispatcher,Cg=Qi.ReactCurrentBatchConfig,No=0,He=null,ht=null,Et=null,Op=!1,Du=!1,ad=0,JP=0;function Lt(){throw Error(L(321))}function px(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ts(n[t],e[t]))return!1;return!0}function mx(n,e,t,s,i,r){if(No=r,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,If.current=n===null||n.memoizedState===null?nj:sj,n=t(s,i),Du){r=0;do{if(Du=!1,ad=0,25<=r)throw Error(L(301));r+=1,Et=ht=null,e.updateQueue=null,If.current=ij,n=t(s,i)}while(Du)}if(If.current=Fp,e=ht!==null&&ht.next!==null,No=0,Et=ht=He=null,Op=!1,e)throw Error(L(300));return n}function gx(){var n=ad!==0;return ad=0,n}function Is(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?He.memoizedState=Et=n:Et=Et.next=n,Et}function is(){if(ht===null){var n=He.alternate;n=n!==null?n.memoizedState:null}else n=ht.next;var e=Et===null?He.memoizedState:Et.next;if(e!==null)Et=e,ht=n;else{if(n===null)throw Error(L(310));ht=n,n={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Et===null?He.memoizedState=Et=n:Et=Et.next=n}return Et}function od(n,e){return typeof e=="function"?e(n):e}function kg(n){var e=is(),t=e.queue;if(t===null)throw Error(L(311));t.lastRenderedReducer=n;var s=ht,i=s.baseQueue,r=t.pending;if(r!==null){if(i!==null){var a=i.next;i.next=r.next,r.next=a}s.baseQueue=i=r,t.pending=null}if(i!==null){r=i.next,s=s.baseState;var o=a=null,l=null,c=r;do{var d=c.lane;if((No&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:n(s,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=s):l=l.next=f,He.lanes|=d,To|=d}c=c.next}while(c!==null&&c!==r);l===null?a=s:l.next=o,Ts(s,e.memoizedState)||(gn=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=l,t.lastRenderedState=s}if(n=t.interleaved,n!==null){i=n;do r=i.lane,He.lanes|=r,To|=r,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function _g(n){var e=is(),t=e.queue;if(t===null)throw Error(L(311));t.lastRenderedReducer=n;var s=t.dispatch,i=t.pending,r=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do r=n(r,a.action),a=a.next;while(a!==i);Ts(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,s]}function SE(){}function EE(n,e){var t=He,s=is(),i=e(),r=!Ts(s.memoizedState,i);if(r&&(s.memoizedState=i,gn=!0),s=s.queue,yx(_E.bind(null,t,s,n),[n]),s.getSnapshot!==e||r||Et!==null&&Et.memoizedState.tag&1){if(t.flags|=2048,ld(9,kE.bind(null,t,s,i,e),void 0,null),Ct===null)throw Error(L(349));No&30||CE(t,e,i)}return i}function CE(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function kE(n,e,t,s){e.value=t,e.getSnapshot=s,NE(e)&&TE(n)}function _E(n,e,t){return t(function(){NE(e)&&TE(n)})}function NE(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ts(n,t)}catch{return!0}}function TE(n){var e=Gi(n,1);e!==null&&Ns(e,n,1,-1)}function bb(n){var e=Is();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:n},e.queue=n,n=n.dispatch=tj.bind(null,He,n),[e.memoizedState,n]}function ld(n,e,t,s){return n={tag:n,create:e,destroy:t,deps:s,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(s=t.next,t.next=n,n.next=s,e.lastEffect=n)),n}function PE(){return is().memoizedState}function Mf(n,e,t,s){var i=Is();He.flags|=n,i.memoizedState=ld(1|e,t,void 0,s===void 0?null:s)}function Tm(n,e,t,s){var i=is();s=s===void 0?null:s;var r=void 0;if(ht!==null){var a=ht.memoizedState;if(r=a.destroy,s!==null&&px(s,a.deps)){i.memoizedState=ld(e,t,r,s);return}}He.flags|=n,i.memoizedState=ld(1|e,t,r,s)}function Ab(n,e){return Mf(8390656,8,n,e)}function yx(n,e){return Tm(2048,8,n,e)}function jE(n,e){return Tm(4,2,n,e)}function RE(n,e){return Tm(4,4,n,e)}function IE(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function ME(n,e,t){return t=t!=null?t.concat([n]):null,Tm(4,4,IE.bind(null,e,n),t)}function vx(){}function LE(n,e){var t=is();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&px(e,s[1])?s[0]:(t.memoizedState=[n,e],n)}function DE(n,e){var t=is();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&px(e,s[1])?s[0]:(n=n(),t.memoizedState=[n,e],n)}function OE(n,e,t){return No&21?(Ts(t,e)||(t=zS(),He.lanes|=t,To|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,gn=!0),n.memoizedState=t)}function ZP(n,e){var t=be;be=t!==0&&4>t?t:4,n(!0);var s=Cg.transition;Cg.transition={};try{n(!1),e()}finally{be=t,Cg.transition=s}}function FE(){return is().memoizedState}function ej(n,e,t){var s=$r(n);if(t={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null},BE(n))VE(e,t);else if(t=wE(n,e,t,s),t!==null){var i=tn();Ns(t,n,s,i),UE(t,e,s)}}function tj(n,e,t){var s=$r(n),i={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null};if(BE(n))VE(e,i);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,o=r(a,t);if(i.hasEagerState=!0,i.eagerState=o,Ts(o,a)){var l=e.interleaved;l===null?(i.next=i,cx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=wE(n,e,i,s),t!==null&&(i=tn(),Ns(t,n,s,i),UE(t,e,s))}}function BE(n){var e=n.alternate;return n===He||e!==null&&e===He}function VE(n,e){Du=Op=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function UE(n,e,t){if(t&4194240){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,X0(n,t)}}var Fp={readContext:ss,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},nj={readContext:ss,useCallback:function(n,e){return Is().memoizedState=[n,e===void 0?null:e],n},useContext:ss,useEffect:Ab,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Mf(4194308,4,IE.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Mf(4194308,4,n,e)},useInsertionEffect:function(n,e){return Mf(4,2,n,e)},useMemo:function(n,e){var t=Is();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var s=Is();return e=t!==void 0?t(e):e,s.memoizedState=s.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},s.queue=n,n=n.dispatch=ej.bind(null,He,n),[s.memoizedState,n]},useRef:function(n){var e=Is();return n={current:n},e.memoizedState=n},useState:bb,useDebugValue:vx,useDeferredValue:function(n){return Is().memoizedState=n},useTransition:function(){var n=bb(!1),e=n[0];return n=ZP.bind(null,n[1]),Is().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var s=He,i=Is();if(Le){if(t===void 0)throw Error(L(407));t=t()}else{if(t=e(),Ct===null)throw Error(L(349));No&30||CE(s,e,t)}i.memoizedState=t;var r={value:t,getSnapshot:e};return i.queue=r,Ab(_E.bind(null,s,r,n),[n]),s.flags|=2048,ld(9,kE.bind(null,s,r,t,e),void 0,null),t},useId:function(){var n=Is(),e=Ct.identifierPrefix;if(Le){var t=Oi,s=Di;t=(s&~(1<<32-_s(s)-1)).toString(32)+t,e=":"+e+"R"+t,t=ad++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=JP++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},sj={readContext:ss,useCallback:LE,useContext:ss,useEffect:yx,useImperativeHandle:ME,useInsertionEffect:jE,useLayoutEffect:RE,useMemo:DE,useReducer:kg,useRef:PE,useState:function(){return kg(od)},useDebugValue:vx,useDeferredValue:function(n){var e=is();return OE(e,ht.memoizedState,n)},useTransition:function(){var n=kg(od)[0],e=is().memoizedState;return[n,e]},useMutableSource:SE,useSyncExternalStore:EE,useId:FE,unstable_isNewReconciler:!1},ij={readContext:ss,useCallback:LE,useContext:ss,useEffect:yx,useImperativeHandle:ME,useInsertionEffect:jE,useLayoutEffect:RE,useMemo:DE,useReducer:_g,useRef:PE,useState:function(){return _g(od)},useDebugValue:vx,useDeferredValue:function(n){var e=is();return ht===null?e.memoizedState=n:OE(e,ht.memoizedState,n)},useTransition:function(){var n=_g(od)[0],e=is().memoizedState;return[n,e]},useMutableSource:SE,useSyncExternalStore:EE,useId:FE,unstable_isNewReconciler:!1};function cs(n,e){if(n&&n.defaultProps){e=We({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Ry(n,e,t,s){e=n.memoizedState,t=t(s,e),t=t==null?e:We({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Pm={isMounted:function(n){return(n=n._reactInternals)?Fo(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var s=tn(),i=$r(n),r=Fi(s,i);r.payload=e,t!=null&&(r.callback=t),e=Hr(n,r,i),e!==null&&(Ns(e,n,i,s),Rf(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var s=tn(),i=$r(n),r=Fi(s,i);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=Hr(n,r,i),e!==null&&(Ns(e,n,i,s),Rf(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=tn(),s=$r(n),i=Fi(t,s);i.tag=2,e!=null&&(i.callback=e),e=Hr(n,i,s),e!==null&&(Ns(e,n,s,t),Rf(e,n,s))}};function Sb(n,e,t,s,i,r,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,r,a):e.prototype&&e.prototype.isPureReactComponent?!ed(t,s)||!ed(i,r):!0}function zE(n,e,t){var s=!1,i=Yr,r=e.contextType;return typeof r=="object"&&r!==null?r=ss(r):(i=xn(e)?ko:Kt.current,s=e.contextTypes,r=(s=s!=null)?Pc(n,i):Yr),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pm,n.stateNode=e,e._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=r),e}function Eb(n,e,t,s){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==n&&Pm.enqueueReplaceState(e,e.state,null)}function Iy(n,e,t,s){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},ux(n);var r=e.contextType;typeof r=="object"&&r!==null?i.context=ss(r):(r=xn(e)?ko:Kt.current,i.context=Pc(n,r)),i.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Ry(n,e,r,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pm.enqueueReplaceState(i,i.state,null),Lp(n,t,i,s),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Mc(n,e){try{var t="",s=e;do t+=RT(s),s=s.return;while(s);var i=t}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:i,digest:null}}function Ng(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function My(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var rj=typeof WeakMap=="function"?WeakMap:Map;function HE(n,e,t){t=Fi(-1,t),t.tag=3,t.payload={element:null};var s=e.value;return t.callback=function(){Vp||(Vp=!0,Wy=s),My(n,e)},t}function WE(n,e,t){t=Fi(-1,t),t.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;t.payload=function(){return s(i)},t.callback=function(){My(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){My(n,e),typeof s!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function Cb(n,e,t){var s=n.pingCache;if(s===null){s=n.pingCache=new rj;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(t)||(i.add(t),n=xj.bind(null,n,e,t),e.then(n,n))}function kb(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function _b(n,e,t,s,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Fi(-1,1),e.tag=2,Hr(t,e,1))),t.lanes|=1),n)}var aj=Qi.ReactCurrentOwner,gn=!1;function Zt(n,e,t,s){e.child=n===null?xE(e,null,t,s):Rc(e,n.child,t,s)}function Nb(n,e,t,s,i){t=t.render;var r=e.ref;return Cl(e,i),s=mx(n,e,t,s,r,i),t=gx(),n!==null&&!gn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,qi(n,e,i)):(Le&&t&&sx(e),e.flags|=1,Zt(n,e,s,i),e.child)}function Tb(n,e,t,s,i){if(n===null){var r=t.type;return typeof r=="function"&&!kx(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,$E(n,e,r,s,i)):(n=Ff(t.type,null,s,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&i)){var a=r.memoizedProps;if(t=t.compare,t=t!==null?t:ed,t(a,s)&&n.ref===e.ref)return qi(n,e,i)}return e.flags|=1,n=Gr(r,s),n.ref=e.ref,n.return=e,e.child=n}function $E(n,e,t,s,i){if(n!==null){var r=n.memoizedProps;if(ed(r,s)&&n.ref===e.ref)if(gn=!1,e.pendingProps=s=r,(n.lanes&i)!==0)n.flags&131072&&(gn=!0);else return e.lanes=n.lanes,qi(n,e,i)}return Ly(n,e,t,s,i)}function GE(n,e,t){var s=e.pendingProps,i=s.children,r=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(pl,Rn),Rn|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,_e(pl,Rn),Rn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:t,_e(pl,Rn),Rn|=s}else r!==null?(s=r.baseLanes|t,e.memoizedState=null):s=t,_e(pl,Rn),Rn|=s;return Zt(n,e,i,t),e.child}function qE(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Ly(n,e,t,s,i){var r=xn(t)?ko:Kt.current;return r=Pc(e,r),Cl(e,i),t=mx(n,e,t,s,r,i),s=gx(),n!==null&&!gn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,qi(n,e,i)):(Le&&s&&sx(e),e.flags|=1,Zt(n,e,t,i),e.child)}function Pb(n,e,t,s,i){if(xn(t)){var r=!0;Pp(e)}else r=!1;if(Cl(e,i),e.stateNode===null)Lf(n,e),zE(e,t,s),Iy(e,t,s,i),s=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=ss(c):(c=xn(t)?ko:Kt.current,c=Pc(e,c));var d=t.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==s||l!==c)&&Eb(e,a,s,c),sr=!1;var p=e.memoizedState;a.state=p,Lp(e,s,a,i),l=e.memoizedState,o!==s||p!==l||vn.current||sr?(typeof d=="function"&&(Ry(e,t,d,s),l=e.memoizedState),(o=sr||Sb(e,t,o,s,p,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),a.props=s,a.state=l,a.context=c,s=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,bE(n,e),o=e.memoizedProps,c=e.type===e.elementType?o:cs(e.type,o),a.props=c,f=e.pendingProps,p=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=ss(l):(l=xn(t)?ko:Kt.current,l=Pc(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||p!==l)&&Eb(e,a,s,l),sr=!1,p=e.memoizedState,a.state=p,Lp(e,s,a,i);var y=e.memoizedState;o!==f||p!==y||vn.current||sr?(typeof m=="function"&&(Ry(e,t,m,s),y=e.memoizedState),(c=sr||Sb(e,t,c,s,p,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),a.props=s,a.state=y,a.context=l,s=c):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),s=!1)}return Dy(n,e,t,s,r,i)}function Dy(n,e,t,s,i,r){qE(n,e);var a=(e.flags&128)!==0;if(!s&&!a)return i&&mb(e,t,!1),qi(n,e,r);s=e.stateNode,aj.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,n!==null&&a?(e.child=Rc(e,n.child,null,r),e.child=Rc(e,null,o,r)):Zt(n,e,o,r),e.memoizedState=s.state,i&&mb(e,t,!0),e.child}function KE(n){var e=n.stateNode;e.pendingContext?pb(n,e.pendingContext,e.pendingContext!==e.context):e.context&&pb(n,e.context,!1),dx(n,e.containerInfo)}function jb(n,e,t,s,i){return jc(),rx(i),e.flags|=256,Zt(n,e,t,s),e.child}var Oy={dehydrated:null,treeContext:null,retryLane:0};function Fy(n){return{baseLanes:n,cachePool:null,transitions:null}}function XE(n,e,t){var s=e.pendingProps,i=Ue.current,r=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!==0),o?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),_e(Ue,i&1),n===null)return Py(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=s.children,n=s.fallback,r?(s=e.mode,r=e.child,a={mode:"hidden",children:a},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=a):r=Im(a,s,0,null),n=Eo(n,s,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=Fy(t),e.memoizedState=Oy,n):xx(e,a));if(i=n.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return oj(n,e,a,s,o,i,t);if(r){r=s.fallback,a=e.mode,i=n.child,o=i.sibling;var l={mode:"hidden",children:s.children};return!(a&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Gr(i,l),s.subtreeFlags=i.subtreeFlags&14680064),o!==null?r=Gr(o,r):(r=Eo(r,a,t,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,a=n.child.memoizedState,a=a===null?Fy(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},r.memoizedState=a,r.childLanes=n.childLanes&~t,e.memoizedState=Oy,s}return r=n.child,n=r.sibling,s=Gr(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=t),s.return=e,s.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=s,e.memoizedState=null,s}function xx(n,e){return e=Im({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function df(n,e,t,s){return s!==null&&rx(s),Rc(e,n.child,null,t),n=xx(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function oj(n,e,t,s,i,r,a){if(t)return e.flags&256?(e.flags&=-257,s=Ng(Error(L(422))),df(n,e,a,s)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=Im({mode:"visible",children:s.children},i,0,null),r=Eo(r,i,a,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&Rc(e,n.child,null,a),e.child.memoizedState=Fy(a),e.memoizedState=Oy,r);if(!(e.mode&1))return df(n,e,a,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var o=s.dgst;return s=o,r=Error(L(419)),s=Ng(r,s,void 0),df(n,e,a,s)}if(o=(a&n.childLanes)!==0,gn||o){if(s=Ct,s!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|a)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Gi(n,i),Ns(s,n,i,-1))}return Cx(),s=Ng(Error(L(421))),df(n,e,a,s)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=wj.bind(null,n),i._reactRetry=e,null):(n=r.treeContext,Mn=zr(i.nextSibling),Ln=e,Le=!0,Cs=null,n!==null&&(Yn[Qn++]=Di,Yn[Qn++]=Oi,Yn[Qn++]=_o,Di=n.id,Oi=n.overflow,_o=e),e=xx(e,s.children),e.flags|=4096,e)}function Rb(n,e,t){n.lanes|=e;var s=n.alternate;s!==null&&(s.lanes|=e),jy(n.return,e,t)}function Tg(n,e,t,s,i){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=t,r.tailMode=i)}function YE(n,e,t){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(Zt(n,e,s.children,t),s=Ue.current,s&2)s=s&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Rb(n,t,e);else if(n.tag===19)Rb(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(_e(Ue,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Dp(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Tg(e,!1,i,t,r);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Dp(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Tg(e,!0,t,null,r);break;case"together":Tg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lf(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function qi(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),To|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(L(153));if(e.child!==null){for(n=e.child,t=Gr(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Gr(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function lj(n,e,t){switch(e.tag){case 3:KE(e),jc();break;case 5:AE(e);break;case 1:xn(e.type)&&Pp(e);break;case 4:dx(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;_e(Ip,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(_e(Ue,Ue.current&1),e.flags|=128,null):t&e.child.childLanes?XE(n,e,t):(_e(Ue,Ue.current&1),n=qi(n,e,t),n!==null?n.sibling:null);_e(Ue,Ue.current&1);break;case 19:if(s=(t&e.childLanes)!==0,n.flags&128){if(s)return YE(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Ue,Ue.current),s)break;return null;case 22:case 23:return e.lanes=0,GE(n,e,t)}return qi(n,e,t)}var QE,By,JE,ZE;QE=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};By=function(){};JE=function(n,e,t,s){var i=n.memoizedProps;if(i!==s){n=e.stateNode,Sa(ei.current);var r=null;switch(t){case"input":i=oy(n,i),s=oy(n,s),r=[];break;case"select":i=We({},i,{value:void 0}),s=We({},s,{value:void 0}),r=[];break;case"textarea":i=uy(n,i),s=uy(n,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=Np)}hy(t,s);var a;t=null;for(c in i)if(!s.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qu.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in s){var l=s[c];if(o=i!=null?i[c]:void 0,s.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(r||(r=[]),r.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Te("scroll",n),r||o===l||(r=[])):(r=r||[]).push(c,l))}t&&(r=r||[]).push("style",t);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};ZE=function(n,e,t,s){t!==s&&(e.flags|=4)};function tu(n,e){if(!Le)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function Dt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,s=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=s,n.childLanes=t,e}function cj(n,e,t){var s=e.pendingProps;switch(ix(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return xn(e.type)&&Tp(),Dt(e),null;case 3:return s=e.stateNode,Ic(),je(vn),je(Kt),fx(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(cf(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cs!==null&&(qy(Cs),Cs=null))),By(n,e),Dt(e),null;case 5:hx(e);var i=Sa(rd.current);if(t=e.type,n!==null&&e.stateNode!=null)JE(n,e,t,s,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(L(166));return Dt(e),null}if(n=Sa(ei.current),cf(e)){s=e.stateNode,t=e.type;var r=e.memoizedProps;switch(s[Js]=e,s[sd]=r,n=(e.mode&1)!==0,t){case"dialog":Te("cancel",s),Te("close",s);break;case"iframe":case"object":case"embed":Te("load",s);break;case"video":case"audio":for(i=0;i<uu.length;i++)Te(uu[i],s);break;case"source":Te("error",s);break;case"img":case"image":case"link":Te("error",s),Te("load",s);break;case"details":Te("toggle",s);break;case"input":Uw(s,r),Te("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},Te("invalid",s);break;case"textarea":Hw(s,r),Te("invalid",s)}hy(t,r),i=null;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];a==="children"?typeof o=="string"?s.textContent!==o&&(r.suppressHydrationWarning!==!0&&lf(s.textContent,o,n),i=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(r.suppressHydrationWarning!==!0&&lf(s.textContent,o,n),i=["children",""+o]):qu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Te("scroll",s)}switch(t){case"input":Zh(s),zw(s,r,!0);break;case"textarea":Zh(s),Ww(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=Np)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=_S(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=a.createElement(t,{is:s.is}):(n=a.createElement(t),t==="select"&&(a=n,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):n=a.createElementNS(n,t),n[Js]=e,n[sd]=s,QE(n,e,!1,!1),e.stateNode=n;e:{switch(a=fy(t,s),t){case"dialog":Te("cancel",n),Te("close",n),i=s;break;case"iframe":case"object":case"embed":Te("load",n),i=s;break;case"video":case"audio":for(i=0;i<uu.length;i++)Te(uu[i],n);i=s;break;case"source":Te("error",n),i=s;break;case"img":case"image":case"link":Te("error",n),Te("load",n),i=s;break;case"details":Te("toggle",n),i=s;break;case"input":Uw(n,s),i=oy(n,s),Te("invalid",n);break;case"option":i=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},i=We({},s,{value:void 0}),Te("invalid",n);break;case"textarea":Hw(n,s),i=uy(n,s),Te("invalid",n);break;default:i=s}hy(t,i),o=i;for(r in o)if(o.hasOwnProperty(r)){var l=o[r];r==="style"?PS(n,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NS(n,l)):r==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Ku(n,l):typeof l=="number"&&Ku(n,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(qu.hasOwnProperty(r)?l!=null&&r==="onScroll"&&Te("scroll",n):l!=null&&H0(n,r,l,a))}switch(t){case"input":Zh(n),zw(n,s,!1);break;case"textarea":Zh(n),Ww(n);break;case"option":s.value!=null&&n.setAttribute("value",""+Xr(s.value));break;case"select":n.multiple=!!s.multiple,r=s.value,r!=null?bl(n,!!s.multiple,r,!1):s.defaultValue!=null&&bl(n,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Np)}switch(t){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(n&&e.stateNode!=null)ZE(n,e,n.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(L(166));if(t=Sa(rd.current),Sa(ei.current),cf(e)){if(s=e.stateNode,t=e.memoizedProps,s[Js]=e,(r=s.nodeValue!==t)&&(n=Ln,n!==null))switch(n.tag){case 3:lf(s.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&lf(s.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[Js]=e,e.stateNode=s}return Dt(e),null;case 13:if(je(Ue),s=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Le&&Mn!==null&&e.mode&1&&!(e.flags&128))yE(),jc(),e.flags|=98560,r=!1;else if(r=cf(e),s!==null&&s.dehydrated!==null){if(n===null){if(!r)throw Error(L(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[Js]=e}else jc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),r=!1}else Cs!==null&&(qy(Cs),Cs=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(n===null||Ue.current&1?pt===0&&(pt=3):Cx())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return Ic(),By(n,e),n===null&&td(e.stateNode.containerInfo),Dt(e),null;case 10:return lx(e.type._context),Dt(e),null;case 17:return xn(e.type)&&Tp(),Dt(e),null;case 19:if(je(Ue),r=e.memoizedState,r===null)return Dt(e),null;if(s=(e.flags&128)!==0,a=r.rendering,a===null)if(s)tu(r,!1);else{if(pt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=Dp(n),a!==null){for(e.flags|=128,tu(r,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=t,t=e.child;t!==null;)r=t,n=s,r.flags&=14680066,a=r.alternate,a===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,n=a.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return _e(Ue,Ue.current&1|2),e.child}n=n.sibling}r.tail!==null&&Je()>Lc&&(e.flags|=128,s=!0,tu(r,!1),e.lanes=4194304)}else{if(!s)if(n=Dp(a),n!==null){if(e.flags|=128,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),tu(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Le)return Dt(e),null}else 2*Je()-r.renderingStartTime>Lc&&t!==1073741824&&(e.flags|=128,s=!0,tu(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Je(),e.sibling=null,t=Ue.current,_e(Ue,s?t&1|2:t&1),e):(Dt(e),null);case 22:case 23:return Ex(),s=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Rn&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function uj(n,e){switch(ix(e),e.tag){case 1:return xn(e.type)&&Tp(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ic(),je(vn),je(Kt),fx(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return hx(e),null;case 13:if(je(Ue),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(L(340));jc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return je(Ue),null;case 4:return Ic(),null;case 10:return lx(e.type._context),null;case 22:case 23:return Ex(),null;case 24:return null;default:return null}}var hf=!1,Wt=!1,dj=typeof WeakSet=="function"?WeakSet:Set,z=null;function fl(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(s){Ke(n,e,s)}else t.current=null}function Vy(n,e,t){try{t()}catch(s){Ke(n,e,s)}}var Ib=!1;function hj(n,e){if(Sy=Cp,n=iE(),nx(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var s=t.getSelection&&t.getSelection();if(s&&s.rangeCount!==0){t=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,c=0,d=0,f=n,p=null;t:for(;;){for(var m;f!==t||i!==0&&f.nodeType!==3||(o=a+i),f!==r||s!==0&&f.nodeType!==3||(l=a+s),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===n)break t;if(p===t&&++c===i&&(o=a),p===r&&++d===s&&(l=a),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Ey={focusedElem:n,selectionRange:t},Cp=!1,z=e;z!==null;)if(e=z,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,z=n;else for(;z!==null;){e=z;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,S=y.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:cs(e.type,v),S);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(E){Ke(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}return y=Ib,Ib=!1,y}function Ou(n,e,t){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&n)===n){var r=i.destroy;i.destroy=void 0,r!==void 0&&Vy(e,t,r)}i=i.next}while(i!==s)}}function jm(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}}function Uy(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function eC(n){var e=n.alternate;e!==null&&(n.alternate=null,eC(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Js],delete e[sd],delete e[_y],delete e[KP],delete e[XP])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function tC(n){return n.tag===5||n.tag===3||n.tag===4}function Mb(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||tC(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zy(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Np));else if(s!==4&&(n=n.child,n!==null))for(zy(n,e,t),n=n.sibling;n!==null;)zy(n,e,t),n=n.sibling}function Hy(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(Hy(n,e,t),n=n.sibling;n!==null;)Hy(n,e,t),n=n.sibling}var Pt=null,Es=!1;function Ji(n,e,t){for(t=t.child;t!==null;)nC(n,e,t),t=t.sibling}function nC(n,e,t){if(Zs&&typeof Zs.onCommitFiberUnmount=="function")try{Zs.onCommitFiberUnmount(Sm,t)}catch{}switch(t.tag){case 5:Wt||fl(t,e);case 6:var s=Pt,i=Es;Pt=null,Ji(n,e,t),Pt=s,Es=i,Pt!==null&&(Es?(n=Pt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Pt.removeChild(t.stateNode));break;case 18:Pt!==null&&(Es?(n=Pt,t=t.stateNode,n.nodeType===8?Ag(n.parentNode,t):n.nodeType===1&&Ag(n,t),Ju(n)):Ag(Pt,t.stateNode));break;case 4:s=Pt,i=Es,Pt=t.stateNode.containerInfo,Es=!0,Ji(n,e,t),Pt=s,Es=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(s=t.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,a=r.destroy;r=r.tag,a!==void 0&&(r&2||r&4)&&Vy(t,e,a),i=i.next}while(i!==s)}Ji(n,e,t);break;case 1:if(!Wt&&(fl(t,e),s=t.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=t.memoizedProps,s.state=t.memoizedState,s.componentWillUnmount()}catch(o){Ke(t,e,o)}Ji(n,e,t);break;case 21:Ji(n,e,t);break;case 22:t.mode&1?(Wt=(s=Wt)||t.memoizedState!==null,Ji(n,e,t),Wt=s):Ji(n,e,t);break;default:Ji(n,e,t)}}function Lb(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new dj),e.forEach(function(s){var i=bj.bind(null,n,s);t.has(s)||(t.add(s),s.then(i,i))})}}function as(n,e){var t=e.deletions;if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];try{var r=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Pt=o.stateNode,Es=!1;break e;case 3:Pt=o.stateNode.containerInfo,Es=!0;break e;case 4:Pt=o.stateNode.containerInfo,Es=!0;break e}o=o.return}if(Pt===null)throw Error(L(160));nC(r,a,i),Pt=null,Es=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ke(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sC(e,n),e=e.sibling}function sC(n,e){var t=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(as(e,n),Ps(n),s&4){try{Ou(3,n,n.return),jm(3,n)}catch(v){Ke(n,n.return,v)}try{Ou(5,n,n.return)}catch(v){Ke(n,n.return,v)}}break;case 1:as(e,n),Ps(n),s&512&&t!==null&&fl(t,t.return);break;case 5:if(as(e,n),Ps(n),s&512&&t!==null&&fl(t,t.return),n.flags&32){var i=n.stateNode;try{Ku(i,"")}catch(v){Ke(n,n.return,v)}}if(s&4&&(i=n.stateNode,i!=null)){var r=n.memoizedProps,a=t!==null?t.memoizedProps:r,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&r.type==="radio"&&r.name!=null&&CS(i,r),fy(o,a);var c=fy(o,r);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?PS(i,f):d==="dangerouslySetInnerHTML"?NS(i,f):d==="children"?Ku(i,f):H0(i,d,f,c)}switch(o){case"input":ly(i,r);break;case"textarea":kS(i,r);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var m=r.value;m!=null?bl(i,!!r.multiple,m,!1):p!==!!r.multiple&&(r.defaultValue!=null?bl(i,!!r.multiple,r.defaultValue,!0):bl(i,!!r.multiple,r.multiple?[]:"",!1))}i[sd]=r}catch(v){Ke(n,n.return,v)}}break;case 6:if(as(e,n),Ps(n),s&4){if(n.stateNode===null)throw Error(L(162));i=n.stateNode,r=n.memoizedProps;try{i.nodeValue=r}catch(v){Ke(n,n.return,v)}}break;case 3:if(as(e,n),Ps(n),s&4&&t!==null&&t.memoizedState.isDehydrated)try{Ju(e.containerInfo)}catch(v){Ke(n,n.return,v)}break;case 4:as(e,n),Ps(n);break;case 13:as(e,n),Ps(n),i=n.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(Ax=Je())),s&4&&Lb(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Wt=(c=Wt)||d,as(e,n),Wt=c):as(e,n),Ps(n),s&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(z=n,d=n.child;d!==null;){for(f=z=d;z!==null;){switch(p=z,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ou(4,p,p.return);break;case 1:fl(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){s=p,t=p.return;try{e=s,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){Ke(s,t,v)}}break;case 5:fl(p,p.return);break;case 22:if(p.memoizedState!==null){Ob(f);continue}}m!==null?(m.return=p,z=m):Ob(f)}d=d.sibling}e:for(d=null,f=n;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=TS("display",a))}catch(v){Ke(n,n.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Ke(n,n.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:as(e,n),Ps(n),s&4&&Lb(n);break;case 21:break;default:as(e,n),Ps(n)}}function Ps(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(tC(t)){var s=t;break e}t=t.return}throw Error(L(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Ku(i,""),s.flags&=-33);var r=Mb(n);Hy(n,r,i);break;case 3:case 4:var a=s.stateNode.containerInfo,o=Mb(n);zy(n,o,a);break;default:throw Error(L(161))}}catch(l){Ke(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function fj(n,e,t){z=n,iC(n)}function iC(n,e,t){for(var s=(n.mode&1)!==0;z!==null;){var i=z,r=i.child;if(i.tag===22&&s){var a=i.memoizedState!==null||hf;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Wt;o=hf;var c=Wt;if(hf=a,(Wt=l)&&!c)for(z=i;z!==null;)a=z,l=a.child,a.tag===22&&a.memoizedState!==null?Fb(i):l!==null?(l.return=a,z=l):Fb(i);for(;r!==null;)z=r,iC(r),r=r.sibling;z=i,hf=o,Wt=c}Db(n)}else i.subtreeFlags&8772&&r!==null?(r.return=i,z=r):Db(n)}}function Db(n){for(;z!==null;){var e=z;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||jm(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Wt)if(t===null)s.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:cs(e.type,t.memoizedProps);s.componentDidUpdate(i,t.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&wb(e,r,s);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}wb(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ju(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Wt||e.flags&512&&Uy(e)}catch(p){Ke(e,e.return,p)}}if(e===n){z=null;break}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}}function Ob(n){for(;z!==null;){var e=z;if(e===n){z=null;break}var t=e.sibling;if(t!==null){t.return=e.return,z=t;break}z=e.return}}function Fb(n){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{jm(4,e)}catch(l){Ke(e,t,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(l){Ke(e,i,l)}}var r=e.return;try{Uy(e)}catch(l){Ke(e,r,l)}break;case 5:var a=e.return;try{Uy(e)}catch(l){Ke(e,a,l)}}}catch(l){Ke(e,e.return,l)}if(e===n){z=null;break}var o=e.sibling;if(o!==null){o.return=e.return,z=o;break}z=e.return}}var pj=Math.ceil,Bp=Qi.ReactCurrentDispatcher,wx=Qi.ReactCurrentOwner,ts=Qi.ReactCurrentBatchConfig,pe=0,Ct=null,it=null,Rt=0,Rn=0,pl=ia(0),pt=0,cd=null,To=0,Rm=0,bx=0,Fu=null,mn=null,Ax=0,Lc=1/0,oi=null,Vp=!1,Wy=null,Wr=null,ff=!1,Dr=null,Up=0,Bu=0,$y=null,Df=-1,Of=0;function tn(){return pe&6?Je():Df!==-1?Df:Df=Je()}function $r(n){return n.mode&1?pe&2&&Rt!==0?Rt&-Rt:QP.transition!==null?(Of===0&&(Of=zS()),Of):(n=be,n!==0||(n=window.event,n=n===void 0?16:XS(n.type)),n):1}function Ns(n,e,t,s){if(50<Bu)throw Bu=0,$y=null,Error(L(185));Lh(n,t,s),(!(pe&2)||n!==Ct)&&(n===Ct&&(!(pe&2)&&(Rm|=t),pt===4&&rr(n,Rt)),wn(n,s),t===1&&pe===0&&!(e.mode&1)&&(Lc=Je()+500,Nm&&ra()))}function wn(n,e){var t=n.callbackNode;QT(n,e);var s=Ep(n,n===Ct?Rt:0);if(s===0)t!==null&&qw(t),n.callbackNode=null,n.callbackPriority=0;else if(e=s&-s,n.callbackPriority!==e){if(t!=null&&qw(t),e===1)n.tag===0?YP(Bb.bind(null,n)):pE(Bb.bind(null,n)),GP(function(){!(pe&6)&&ra()}),t=null;else{switch(HS(s)){case 1:t=K0;break;case 4:t=VS;break;case 16:t=Sp;break;case 536870912:t=US;break;default:t=Sp}t=hC(t,rC.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function rC(n,e){if(Df=-1,Of=0,pe&6)throw Error(L(327));var t=n.callbackNode;if(kl()&&n.callbackNode!==t)return null;var s=Ep(n,n===Ct?Rt:0);if(s===0)return null;if(s&30||s&n.expiredLanes||e)e=zp(n,s);else{e=s;var i=pe;pe|=2;var r=oC();(Ct!==n||Rt!==e)&&(oi=null,Lc=Je()+500,So(n,e));do try{yj();break}catch(o){aC(n,o)}while(!0);ox(),Bp.current=r,pe=i,it!==null?e=0:(Ct=null,Rt=0,e=pt)}if(e!==0){if(e===2&&(i=vy(n),i!==0&&(s=i,e=Gy(n,i))),e===1)throw t=cd,So(n,0),rr(n,s),wn(n,Je()),t;if(e===6)rr(n,s);else{if(i=n.current.alternate,!(s&30)&&!mj(i)&&(e=zp(n,s),e===2&&(r=vy(n),r!==0&&(s=r,e=Gy(n,r))),e===1))throw t=cd,So(n,0),rr(n,s),wn(n,Je()),t;switch(n.finishedWork=i,n.finishedLanes=s,e){case 0:case 1:throw Error(L(345));case 2:ha(n,mn,oi);break;case 3:if(rr(n,s),(s&130023424)===s&&(e=Ax+500-Je(),10<e)){if(Ep(n,0)!==0)break;if(i=n.suspendedLanes,(i&s)!==s){tn(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=ky(ha.bind(null,n,mn,oi),e);break}ha(n,mn,oi);break;case 4:if(rr(n,s),(s&4194240)===s)break;for(e=n.eventTimes,i=-1;0<s;){var a=31-_s(s);r=1<<a,a=e[a],a>i&&(i=a),s&=~r}if(s=i,s=Je()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*pj(s/1960))-s,10<s){n.timeoutHandle=ky(ha.bind(null,n,mn,oi),s);break}ha(n,mn,oi);break;case 5:ha(n,mn,oi);break;default:throw Error(L(329))}}}return wn(n,Je()),n.callbackNode===t?rC.bind(null,n):null}function Gy(n,e){var t=Fu;return n.current.memoizedState.isDehydrated&&(So(n,e).flags|=256),n=zp(n,e),n!==2&&(e=mn,mn=t,e!==null&&qy(e)),n}function qy(n){mn===null?mn=n:mn.push.apply(mn,n)}function mj(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var s=0;s<t.length;s++){var i=t[s],r=i.getSnapshot;i=i.value;try{if(!Ts(r(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rr(n,e){for(e&=~bx,e&=~Rm,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-_s(e),s=1<<t;n[t]=-1,e&=~s}}function Bb(n){if(pe&6)throw Error(L(327));kl();var e=Ep(n,0);if(!(e&1))return wn(n,Je()),null;var t=zp(n,e);if(n.tag!==0&&t===2){var s=vy(n);s!==0&&(e=s,t=Gy(n,s))}if(t===1)throw t=cd,So(n,0),rr(n,e),wn(n,Je()),t;if(t===6)throw Error(L(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ha(n,mn,oi),wn(n,Je()),null}function Sx(n,e){var t=pe;pe|=1;try{return n(e)}finally{pe=t,pe===0&&(Lc=Je()+500,Nm&&ra())}}function Po(n){Dr!==null&&Dr.tag===0&&!(pe&6)&&kl();var e=pe;pe|=1;var t=ts.transition,s=be;try{if(ts.transition=null,be=1,n)return n()}finally{be=s,ts.transition=t,pe=e,!(pe&6)&&ra()}}function Ex(){Rn=pl.current,je(pl)}function So(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,$P(t)),it!==null)for(t=it.return;t!==null;){var s=t;switch(ix(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Tp();break;case 3:Ic(),je(vn),je(Kt),fx();break;case 5:hx(s);break;case 4:Ic();break;case 13:je(Ue);break;case 19:je(Ue);break;case 10:lx(s.type._context);break;case 22:case 23:Ex()}t=t.return}if(Ct=n,it=n=Gr(n.current,null),Rt=Rn=e,pt=0,cd=null,bx=Rm=To=0,mn=Fu=null,Aa!==null){for(e=0;e<Aa.length;e++)if(t=Aa[e],s=t.interleaved,s!==null){t.interleaved=null;var i=s.next,r=t.pending;if(r!==null){var a=r.next;r.next=i,s.next=a}t.pending=s}Aa=null}return n}function aC(n,e){do{var t=it;try{if(ox(),If.current=Fp,Op){for(var s=He.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Op=!1}if(No=0,Et=ht=He=null,Du=!1,ad=0,wx.current=null,t===null||t.return===null){pt=1,cd=e,it=null;break}e:{var r=n,a=t.return,o=t,l=e;if(e=Rt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=kb(a);if(m!==null){m.flags&=-257,_b(m,a,o,r,e),m.mode&1&&Cb(r,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){Cb(r,c,e),Cx();break e}l=Error(L(426))}}else if(Le&&o.mode&1){var S=kb(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),_b(S,a,o,r,e),rx(Mc(l,o));break e}}r=l=Mc(l,o),pt!==4&&(pt=2),Fu===null?Fu=[r]:Fu.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=HE(r,l,e);xb(r,g);break e;case 1:o=l;var x=r.type,w=r.stateNode;if(!(r.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Wr===null||!Wr.has(w)))){r.flags|=65536,e&=-e,r.lanes|=e;var E=WE(r,o,e);xb(r,E);break e}}r=r.return}while(r!==null)}cC(t)}catch(k){e=k,it===t&&t!==null&&(it=t=t.return);continue}break}while(!0)}function oC(){var n=Bp.current;return Bp.current=Fp,n===null?Fp:n}function Cx(){(pt===0||pt===3||pt===2)&&(pt=4),Ct===null||!(To&268435455)&&!(Rm&268435455)||rr(Ct,Rt)}function zp(n,e){var t=pe;pe|=2;var s=oC();(Ct!==n||Rt!==e)&&(oi=null,So(n,e));do try{gj();break}catch(i){aC(n,i)}while(!0);if(ox(),pe=t,Bp.current=s,it!==null)throw Error(L(261));return Ct=null,Rt=0,pt}function gj(){for(;it!==null;)lC(it)}function yj(){for(;it!==null&&!zT();)lC(it)}function lC(n){var e=dC(n.alternate,n,Rn);n.memoizedProps=n.pendingProps,e===null?cC(n):it=e,wx.current=null}function cC(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=uj(t,e),t!==null){t.flags&=32767,it=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{pt=6,it=null;return}}else if(t=cj(t,e,Rn),t!==null){it=t;return}if(e=e.sibling,e!==null){it=e;return}it=e=n}while(e!==null);pt===0&&(pt=5)}function ha(n,e,t){var s=be,i=ts.transition;try{ts.transition=null,be=1,vj(n,e,t,s)}finally{ts.transition=i,be=s}return null}function vj(n,e,t,s){do kl();while(Dr!==null);if(pe&6)throw Error(L(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(L(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if(JT(n,r),n===Ct&&(it=Ct=null,Rt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||ff||(ff=!0,hC(Sp,function(){return kl(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=ts.transition,ts.transition=null;var a=be;be=1;var o=pe;pe|=4,wx.current=null,hj(n,t),sC(t,n),FP(Ey),Cp=!!Sy,Ey=Sy=null,n.current=t,fj(t),HT(),pe=o,be=a,ts.transition=r}else n.current=t;if(ff&&(ff=!1,Dr=n,Up=i),r=n.pendingLanes,r===0&&(Wr=null),GT(t.stateNode),wn(n,Je()),e!==null)for(s=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],s(i.value,{componentStack:i.stack,digest:i.digest});if(Vp)throw Vp=!1,n=Wy,Wy=null,n;return Up&1&&n.tag!==0&&kl(),r=n.pendingLanes,r&1?n===$y?Bu++:(Bu=0,$y=n):Bu=0,ra(),null}function kl(){if(Dr!==null){var n=HS(Up),e=ts.transition,t=be;try{if(ts.transition=null,be=16>n?16:n,Dr===null)var s=!1;else{if(n=Dr,Dr=null,Up=0,pe&6)throw Error(L(331));var i=pe;for(pe|=4,z=n.current;z!==null;){var r=z,a=r.child;if(z.flags&16){var o=r.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(z=c;z!==null;){var d=z;switch(d.tag){case 0:case 11:case 15:Ou(8,d,r)}var f=d.child;if(f!==null)f.return=d,z=f;else for(;z!==null;){d=z;var p=d.sibling,m=d.return;if(eC(d),d===c){z=null;break}if(p!==null){p.return=m,z=p;break}z=m}}}var y=r.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}z=r}}if(r.subtreeFlags&2064&&a!==null)a.return=r,z=a;else e:for(;z!==null;){if(r=z,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Ou(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,z=g;break e}z=r.return}}var x=n.current;for(z=x;z!==null;){a=z;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,z=w;else e:for(a=x;z!==null;){if(o=z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:jm(9,o)}}catch(k){Ke(o,o.return,k)}if(o===a){z=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,z=E;break e}z=o.return}}if(pe=i,ra(),Zs&&typeof Zs.onPostCommitFiberRoot=="function")try{Zs.onPostCommitFiberRoot(Sm,n)}catch{}s=!0}return s}finally{be=t,ts.transition=e}}return!1}function Vb(n,e,t){e=Mc(t,e),e=HE(n,e,1),n=Hr(n,e,1),e=tn(),n!==null&&(Lh(n,1,e),wn(n,e))}function Ke(n,e,t){if(n.tag===3)Vb(n,n,t);else for(;e!==null;){if(e.tag===3){Vb(e,n,t);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Wr===null||!Wr.has(s))){n=Mc(t,n),n=WE(e,n,1),e=Hr(e,n,1),n=tn(),e!==null&&(Lh(e,1,n),wn(e,n));break}}e=e.return}}function xj(n,e,t){var s=n.pingCache;s!==null&&s.delete(e),e=tn(),n.pingedLanes|=n.suspendedLanes&t,Ct===n&&(Rt&t)===t&&(pt===4||pt===3&&(Rt&130023424)===Rt&&500>Je()-Ax?So(n,0):bx|=t),wn(n,e)}function uC(n,e){e===0&&(n.mode&1?(e=nf,nf<<=1,!(nf&130023424)&&(nf=4194304)):e=1);var t=tn();n=Gi(n,e),n!==null&&(Lh(n,e,t),wn(n,t))}function wj(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),uC(n,t)}function bj(n,e){var t=0;switch(n.tag){case 13:var s=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(L(314))}s!==null&&s.delete(e),uC(n,t)}var dC;dC=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||vn.current)gn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return gn=!1,lj(n,e,t);gn=!!(n.flags&131072)}else gn=!1,Le&&e.flags&1048576&&mE(e,Rp,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Lf(n,e),n=e.pendingProps;var i=Pc(e,Kt.current);Cl(e,t),i=mx(null,e,s,n,i,t);var r=gx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(s)?(r=!0,Pp(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ux(e),i.updater=Pm,e.stateNode=i,i._reactInternals=e,Iy(e,s,n,t),e=Dy(null,e,s,!0,r,t)):(e.tag=0,Le&&r&&sx(e),Zt(null,e,i,t),e=e.child),e;case 16:s=e.elementType;e:{switch(Lf(n,e),n=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=Sj(s),n=cs(s,n),i){case 0:e=Ly(null,e,s,n,t);break e;case 1:e=Pb(null,e,s,n,t);break e;case 11:e=Nb(null,e,s,n,t);break e;case 14:e=Tb(null,e,s,cs(s.type,n),t);break e}throw Error(L(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:cs(s,i),Ly(n,e,s,i,t);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:cs(s,i),Pb(n,e,s,i,t);case 3:e:{if(KE(e),n===null)throw Error(L(387));s=e.pendingProps,r=e.memoizedState,i=r.element,bE(n,e),Lp(e,s,null,t);var a=e.memoizedState;if(s=a.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=Mc(Error(L(423)),e),e=jb(n,e,s,t,i);break e}else if(s!==i){i=Mc(Error(L(424)),e),e=jb(n,e,s,t,i);break e}else for(Mn=zr(e.stateNode.containerInfo.firstChild),Ln=e,Le=!0,Cs=null,t=xE(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(jc(),s===i){e=qi(n,e,t);break e}Zt(n,e,s,t)}e=e.child}return e;case 5:return AE(e),n===null&&Py(e),s=e.type,i=e.pendingProps,r=n!==null?n.memoizedProps:null,a=i.children,Cy(s,i)?a=null:r!==null&&Cy(s,r)&&(e.flags|=32),qE(n,e),Zt(n,e,a,t),e.child;case 6:return n===null&&Py(e),null;case 13:return XE(n,e,t);case 4:return dx(e,e.stateNode.containerInfo),s=e.pendingProps,n===null?e.child=Rc(e,null,s,t):Zt(n,e,s,t),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:cs(s,i),Nb(n,e,s,i,t);case 7:return Zt(n,e,e.pendingProps,t),e.child;case 8:return Zt(n,e,e.pendingProps.children,t),e.child;case 12:return Zt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,a=i.value,_e(Ip,s._currentValue),s._currentValue=a,r!==null)if(Ts(r.value,a)){if(r.children===i.children&&!vn.current){e=qi(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var o=r.dependencies;if(o!==null){a=r.child;for(var l=o.firstContext;l!==null;){if(l.context===s){if(r.tag===1){l=Fi(-1,t&-t),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}r.lanes|=t,l=r.alternate,l!==null&&(l.lanes|=t),jy(r.return,t,e),o.lanes|=t;break}l=l.next}}else if(r.tag===10)a=r.type===e.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(L(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),jy(a,t,e),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}Zt(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Cl(e,t),i=ss(i),s=s(i),e.flags|=1,Zt(n,e,s,t),e.child;case 14:return s=e.type,i=cs(s,e.pendingProps),i=cs(s.type,i),Tb(n,e,s,i,t);case 15:return $E(n,e,e.type,e.pendingProps,t);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:cs(s,i),Lf(n,e),e.tag=1,xn(s)?(n=!0,Pp(e)):n=!1,Cl(e,t),zE(e,s,i),Iy(e,s,i,t),Dy(null,e,s,!0,n,t);case 19:return YE(n,e,t);case 22:return GE(n,e,t)}throw Error(L(156,e.tag))};function hC(n,e){return BS(n,e)}function Aj(n,e,t,s){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(n,e,t,s){return new Aj(n,e,t,s)}function kx(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Sj(n){if(typeof n=="function")return kx(n)?1:0;if(n!=null){if(n=n.$$typeof,n===$0)return 11;if(n===G0)return 14}return 2}function Gr(n,e){var t=n.alternate;return t===null?(t=es(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Ff(n,e,t,s,i,r){var a=2;if(s=n,typeof n=="function")kx(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case il:return Eo(t.children,i,r,e);case W0:a=8,i|=8;break;case sy:return n=es(12,t,e,i|2),n.elementType=sy,n.lanes=r,n;case iy:return n=es(13,t,e,i),n.elementType=iy,n.lanes=r,n;case ry:return n=es(19,t,e,i),n.elementType=ry,n.lanes=r,n;case AS:return Im(t,i,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case wS:a=10;break e;case bS:a=9;break e;case $0:a=11;break e;case G0:a=14;break e;case nr:a=16,s=null;break e}throw Error(L(130,n==null?n:typeof n,""))}return e=es(a,t,e,i),e.elementType=n,e.type=s,e.lanes=r,e}function Eo(n,e,t,s){return n=es(7,n,s,e),n.lanes=t,n}function Im(n,e,t,s){return n=es(22,n,s,e),n.elementType=AS,n.lanes=t,n.stateNode={isHidden:!1},n}function Pg(n,e,t){return n=es(6,n,null,e),n.lanes=t,n}function jg(n,e,t){return e=es(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Ej(n,e,t,s,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dg(0),this.expirationTimes=dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dg(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _x(n,e,t,s,i,r,a,o,l){return n=new Ej(n,e,t,o,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=es(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:s,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},ux(r),n}function Cj(n,e,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sl,key:s==null?null:""+s,children:n,containerInfo:e,implementation:t}}function fC(n){if(!n)return Yr;n=n._reactInternals;e:{if(Fo(n)!==n||n.tag!==1)throw Error(L(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(n.tag===1){var t=n.type;if(xn(t))return fE(n,t,e)}return e}function pC(n,e,t,s,i,r,a,o,l){return n=_x(t,s,!0,n,i,r,a,o,l),n.context=fC(null),t=n.current,s=tn(),i=$r(t),r=Fi(s,i),r.callback=e??null,Hr(t,r,i),n.current.lanes=i,Lh(n,i,s),wn(n,s),n}function Mm(n,e,t,s){var i=e.current,r=tn(),a=$r(i);return t=fC(t),e.context===null?e.context=t:e.pendingContext=t,e=Fi(r,a),e.payload={element:n},s=s===void 0?null:s,s!==null&&(e.callback=s),n=Hr(i,e,a),n!==null&&(Ns(n,i,a,r),Rf(n,i,a)),a}function Hp(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ub(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Nx(n,e){Ub(n,e),(n=n.alternate)&&Ub(n,e)}function kj(){return null}var mC=typeof reportError=="function"?reportError:function(n){console.error(n)};function Tx(n){this._internalRoot=n}Lm.prototype.render=Tx.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(L(409));Mm(n,e,null,null)};Lm.prototype.unmount=Tx.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Po(function(){Mm(null,n,null,null)}),e[$i]=null}};function Lm(n){this._internalRoot=n}Lm.prototype.unstable_scheduleHydration=function(n){if(n){var e=GS();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ir.length&&e!==0&&e<ir[t].priority;t++);ir.splice(t,0,n),t===0&&KS(n)}};function Px(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Dm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function zb(){}function _j(n,e,t,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var c=Hp(a);r.call(c)}}var a=pC(e,s,n,0,null,!1,!1,"",zb);return n._reactRootContainer=a,n[$i]=a.current,td(n.nodeType===8?n.parentNode:n),Po(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof s=="function"){var o=s;s=function(){var c=Hp(l);o.call(c)}}var l=_x(n,0,!1,null,null,!1,!1,"",zb);return n._reactRootContainer=l,n[$i]=l.current,td(n.nodeType===8?n.parentNode:n),Po(function(){Mm(e,l,t,s)}),l}function Om(n,e,t,s,i){var r=t._reactRootContainer;if(r){var a=r;if(typeof i=="function"){var o=i;i=function(){var l=Hp(a);o.call(l)}}Mm(e,a,n,i)}else a=_j(t,e,n,i,s);return Hp(a)}WS=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=cu(e.pendingLanes);t!==0&&(X0(e,t|1),wn(e,Je()),!(pe&6)&&(Lc=Je()+500,ra()))}break;case 13:Po(function(){var s=Gi(n,1);if(s!==null){var i=tn();Ns(s,n,1,i)}}),Nx(n,1)}};Y0=function(n){if(n.tag===13){var e=Gi(n,134217728);if(e!==null){var t=tn();Ns(e,n,134217728,t)}Nx(n,134217728)}};$S=function(n){if(n.tag===13){var e=$r(n),t=Gi(n,e);if(t!==null){var s=tn();Ns(t,n,e,s)}Nx(n,e)}};GS=function(){return be};qS=function(n,e){var t=be;try{return be=n,e()}finally{be=t}};my=function(n,e,t){switch(e){case"input":if(ly(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==n&&s.form===n.form){var i=_m(s);if(!i)throw Error(L(90));ES(s),ly(s,i)}}}break;case"textarea":kS(n,t);break;case"select":e=t.value,e!=null&&bl(n,!!t.multiple,e,!1)}};IS=Sx;MS=Po;var Nj={usingClientEntryPoint:!1,Events:[Oh,ll,_m,jS,RS,Sx]},nu={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tj={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=OS(n),n===null?null:n.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||kj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{Sm=pf.inject(Tj),Zs=pf}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nj;Vn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Px(e))throw Error(L(200));return Cj(n,e,null,t)};Vn.createRoot=function(n,e){if(!Px(n))throw Error(L(299));var t=!1,s="",i=mC;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_x(n,1,!1,null,null,t,!1,s,i),n[$i]=e.current,td(n.nodeType===8?n.parentNode:n),new Tx(e)};Vn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(L(188)):(n=Object.keys(n).join(","),Error(L(268,n)));return n=OS(e),n=n===null?null:n.stateNode,n};Vn.flushSync=function(n){return Po(n)};Vn.hydrate=function(n,e,t){if(!Dm(e))throw Error(L(200));return Om(null,n,e,!0,t)};Vn.hydrateRoot=function(n,e,t){if(!Px(n))throw Error(L(405));var s=t!=null&&t.hydratedSources||null,i=!1,r="",a=mC;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=pC(e,null,n,1,t??null,i,!1,r,a),n[$i]=e.current,td(n),s)for(n=0;n<s.length;n++)t=s[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Lm(e)};Vn.render=function(n,e,t){if(!Dm(e))throw Error(L(200));return Om(null,n,e,!1,t)};Vn.unmountComponentAtNode=function(n){if(!Dm(n))throw Error(L(40));return n._reactRootContainer?(Po(function(){Om(null,null,n,!1,function(){n._reactRootContainer=null,n[$i]=null})}),!0):!1};Vn.unstable_batchedUpdates=Sx;Vn.unstable_renderSubtreeIntoContainer=function(n,e,t,s){if(!Dm(t))throw Error(L(200));if(n==null||n._reactInternals===void 0)throw Error(L(38));return Om(n,e,t,!1,s)};Vn.version="18.3.1-next-f1338f8080-20240426";function gC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gC)}catch(n){console.error(n)}}gC(),gS.exports=Vn;var Pj=gS.exports,yC,Hb=Pj;yC=Hb.createRoot,Hb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ud(){return ud=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ud.apply(this,arguments)}var Or;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Or||(Or={}));const Wb="popstate";function jj(n){n===void 0&&(n={});function e(s,i){let{pathname:r,search:a,hash:o}=s.location;return Ky("",{pathname:r,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){return typeof i=="string"?i:Wp(i)}return Ij(e,t,null,n)}function rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vC(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rj(){return Math.random().toString(36).substr(2,8)}function $b(n,e){return{usr:n.state,key:n.key,idx:e}}function Ky(n,e,t,s){return t===void 0&&(t=null),ud({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Wc(e):e,{state:t,key:e&&e.key||s||Rj()})}function Wp(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Wc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function Ij(n,e,t,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:r=!1}=s,a=i.history,o=Or.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(ud({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Or.Pop;let S=d(),g=S==null?null:S-c;c=S,l&&l({action:o,location:v.location,delta:g})}function p(S,g){o=Or.Push;let x=Ky(v.location,S,g);c=d()+1;let w=$b(x,c),E=v.createHref(x);try{a.pushState(w,"",E)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(E)}r&&l&&l({action:o,location:v.location,delta:1})}function m(S,g){o=Or.Replace;let x=Ky(v.location,S,g);c=d();let w=$b(x,c),E=v.createHref(x);a.replaceState(w,"",E),r&&l&&l({action:o,location:v.location,delta:0})}function y(S){let g=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof S=="string"?S:Wp(S);return x=x.replace(/ $/,"%20"),rt(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let v={get action(){return o},get location(){return n(i,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Wb,f),l=S,()=>{i.removeEventListener(Wb,f),l=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let g=y(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(S){return a.go(S)}};return v}var Gb;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Gb||(Gb={}));function Mj(n,e,t){return t===void 0&&(t="/"),Lj(n,e,t,!1)}function Lj(n,e,t,s){let i=typeof e=="string"?Wc(e):e,r=jx(i.pathname||"/",t);if(r==null)return null;let a=xC(n);Dj(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=qj(r);o=$j(a[l],c,s)}return o}function xC(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let i=(r,a,o)=>{let l={relativePath:o===void 0?r.path||"":o,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=qr([s,l.relativePath]),d=t.concat(l);r.children&&r.children.length>0&&(rt(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),xC(r.children,e,d,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:Hj(c,r.index),routesMeta:d})};return n.forEach((r,a)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))i(r,a);else for(let l of wC(r.path))i(r,a,l)}),e}function wC(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,i=t.endsWith("?"),r=t.replace(/\?$/,"");if(s.length===0)return i?[r,""]:[r];let a=wC(s.join("/")),o=[];return o.push(...a.map(l=>l===""?r:[r,l].join("/"))),i&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function Dj(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Wj(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const Oj=/^:[\w-]+$/,Fj=3,Bj=2,Vj=1,Uj=10,zj=-2,qb=n=>n==="*";function Hj(n,e){let t=n.split("/"),s=t.length;return t.some(qb)&&(s+=zj),e&&(s+=Bj),t.filter(i=>!qb(i)).reduce((i,r)=>i+(Oj.test(r)?Fj:r===""?Vj:Uj),s)}function Wj(n,e){return n.length===e.length&&n.slice(0,-1).every((s,i)=>s===e[i])?n[n.length-1]-e[e.length-1]:0}function $j(n,e,t){let{routesMeta:s}=n,i={},r="/",a=[];for(let o=0;o<s.length;++o){let l=s[o],c=o===s.length-1,d=r==="/"?e:e.slice(r.length)||"/",f=Kb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&t&&!s[s.length-1].route.index&&(f=Kb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:qr([r,f.pathname]),pathnameBase:Qj(qr([r,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(r=qr([r,f.pathnameBase]))}return a}function Kb(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=Gj(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let r=i[0],a=r.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:s.reduce((c,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let v=o[f]||"";a=r.slice(0,r.length-v.length).replace(/(.)\/+$/,"$1")}const y=o[f];return m&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:a,pattern:n}}function Gj(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),vC(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(s.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function qj(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vC(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function jx(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function Kj(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:i=""}=typeof n=="string"?Wc(n):n;return{pathname:t?t.startsWith("/")?t:Xj(t,e):e,search:Jj(s),hash:Zj(i)}}function Xj(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Rg(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yj(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bC(n,e){let t=Yj(n);return e?t.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function AC(n,e,t,s){s===void 0&&(s=!1);let i;typeof n=="string"?i=Wc(n):(i=ud({},n),rt(!i.pathname||!i.pathname.includes("?"),Rg("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),Rg("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),Rg("#","search","hash",i)));let r=n===""||i.pathname==="",a=r?"/":i.pathname,o;if(a==null)o=t;else{let f=e.length-1;if(!s&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=Kj(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(r||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const qr=n=>n.join("/").replace(/\/\/+/g,"/"),Qj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Jj=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Zj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function eR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const SC=["post","put","patch","delete"];new Set(SC);const tR=["get",...SC];new Set(tR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},dd.apply(this,arguments)}const Rx=_.createContext(null),nR=_.createContext(null),Bo=_.createContext(null),Fm=_.createContext(null),Vo=_.createContext({outlet:null,matches:[],isDataRoute:!1}),EC=_.createContext(null);function sR(n,e){let{relative:t}=e===void 0?{}:e;Bh()||rt(!1);let{basename:s,navigator:i}=_.useContext(Bo),{hash:r,pathname:a,search:o}=kC(n,{relative:t}),l=a;return s!=="/"&&(l=a==="/"?s:qr([s,a])),i.createHref({pathname:l,search:o,hash:r})}function Bh(){return _.useContext(Fm)!=null}function $c(){return Bh()||rt(!1),_.useContext(Fm).location}function CC(n){_.useContext(Bo).static||_.useLayoutEffect(n)}function Bm(){let{isDataRoute:n}=_.useContext(Vo);return n?gR():iR()}function iR(){Bh()||rt(!1);let n=_.useContext(Rx),{basename:e,future:t,navigator:s}=_.useContext(Bo),{matches:i}=_.useContext(Vo),{pathname:r}=$c(),a=JSON.stringify(bC(i,t.v7_relativeSplatPath)),o=_.useRef(!1);return CC(()=>{o.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){s.go(c);return}let f=AC(c,JSON.parse(a),r,d.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:qr([e,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[e,s,a,r,n])}function kC(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=_.useContext(Bo),{matches:i}=_.useContext(Vo),{pathname:r}=$c(),a=JSON.stringify(bC(i,s.v7_relativeSplatPath));return _.useMemo(()=>AC(n,JSON.parse(a),r,t==="path"),[n,a,r,t])}function rR(n,e){return aR(n,e)}function aR(n,e,t,s){Bh()||rt(!1);let{navigator:i}=_.useContext(Bo),{matches:r}=_.useContext(Vo),a=r[r.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=$c(),d;if(e){var f;let S=typeof e=="string"?Wc(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||rt(!1),d=S}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=Mj(n,{pathname:m}),v=dR(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:qr([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:qr([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),r,t,s);return e&&v?_.createElement(Fm.Provider,{value:{location:dd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Or.Pop}},v):v}function oR(){let n=mR(),e=eR(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),t?_.createElement("pre",{style:i},t):null,null)}const lR=_.createElement(oR,null);class cR extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement(Vo.Provider,{value:this.props.routeContext},_.createElement(EC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uR(n){let{routeContext:e,match:t,children:s}=n,i=_.useContext(Rx);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Vo.Provider,{value:e},s)}function dR(n,e,t,s){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var r;if(!t)return null;if(t.errors)n=t.matches;else if((r=s)!=null&&r.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(i=t)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||rt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(t&&s&&s.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=t,y=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,p)=>{let m,y=!1,v=null,S=null;t&&(m=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||lR,l&&(c<0&&p===0?(y=!0,S=null):c===p&&(y=!0,S=f.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,p+1)),x=()=>{let w;return m?w=v:y?w=S:f.route.Component?w=_.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,_.createElement(uR,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:t!=null},children:w})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?_.createElement(cR,{location:t.location,revalidation:t.revalidation,component:v,error:m,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var _C=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(_C||{}),$p=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}($p||{});function hR(n){let e=_.useContext(Rx);return e||rt(!1),e}function fR(n){let e=_.useContext(nR);return e||rt(!1),e}function pR(n){let e=_.useContext(Vo);return e||rt(!1),e}function NC(n){let e=pR(),t=e.matches[e.matches.length-1];return t.route.id||rt(!1),t.route.id}function mR(){var n;let e=_.useContext(EC),t=fR($p.UseRouteError),s=NC($p.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function gR(){let{router:n}=hR(_C.UseNavigateStable),e=NC($p.UseNavigateStable),t=_.useRef(!1);return CC(()=>{t.current=!0}),_.useCallback(function(i,r){r===void 0&&(r={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,dd({fromRouteId:e},r)))},[n,e])}function yR(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function vt(n){rt(!1)}function vR(n){let{basename:e="/",children:t=null,location:s,navigationType:i=Or.Pop,navigator:r,static:a=!1,future:o}=n;Bh()&&rt(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:r,static:a,future:dd({v7_relativeSplatPath:!1},o)}),[l,o,r,a]);typeof s=="string"&&(s=Wc(s));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:y="default"}=s,v=_.useMemo(()=>{let S=jx(d,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:m,key:y},navigationType:i}},[l,d,f,p,m,y,i]);return v==null?null:_.createElement(Bo.Provider,{value:c},_.createElement(Fm.Provider,{children:t,value:v}))}function xR(n){let{children:e,location:t}=n;return rR(Xy(e),t)}new Promise(()=>{});function Xy(n,e){e===void 0&&(e=[]);let t=[];return _.Children.forEach(n,(s,i)=>{if(!_.isValidElement(s))return;let r=[...e,i];if(s.type===_.Fragment){t.push.apply(t,Xy(s.props.children,r));return}s.type!==vt&&rt(!1),!s.props.index||!s.props.children||rt(!1);let a={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=Xy(s.props.children,r)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yy(){return Yy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Yy.apply(this,arguments)}function wR(n,e){if(n==null)return{};var t={},s=Object.keys(n),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function bR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AR(n,e){return n.button===0&&(!e||e==="_self")&&!bR(n)}const SR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ER="6";try{window.__reactRouterVersion=ER}catch{}const CR="startTransition",Xb=xT[CR];function kR(n){let{basename:e,children:t,future:s,window:i}=n,r=_.useRef();r.current==null&&(r.current=jj({window:i,v5Compat:!0}));let a=r.current,[o,l]=_.useState({action:a.action,location:a.location}),{v7_startTransition:c}=s||{},d=_.useCallback(f=>{c&&Xb?Xb(()=>l(f)):l(f)},[l,c]);return _.useLayoutEffect(()=>a.listen(d),[a,d]),_.useEffect(()=>yR(s),[s]),_.createElement(vR,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:s})}const _R=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TR=_.forwardRef(function(e,t){let{onClick:s,relative:i,reloadDocument:r,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,p=wR(e,SR),{basename:m}=_.useContext(Bo),y,v=!1;if(typeof c=="string"&&NR.test(c)&&(y=c,_R))try{let w=new URL(window.location.href),E=c.startsWith("//")?new URL(w.protocol+c):new URL(c),k=jx(E.pathname,m);E.origin===w.origin&&k!=null?c=k+E.search+E.hash:v=!0}catch{}let S=sR(c,{relative:i}),g=PR(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function x(w){s&&s(w),w.defaultPrevented||g(w)}return _.createElement("a",Yy({},p,{href:y||S,onClick:v||r?s:x,ref:t,target:l}))});var Yb;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Yb||(Yb={}));var Qb;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Qb||(Qb={}));function PR(n,e){let{target:t,replace:s,state:i,preventScrollReset:r,relative:a,viewTransition:o}=e===void 0?{}:e,l=Bm(),c=$c(),d=kC(n,{relative:a});return _.useCallback(f=>{if(AR(f,t)){f.preventDefault();let p=s!==void 0?s:Wp(c)===Wp(d);l(n,{replace:p,state:i,preventScrollReset:r,relative:a,viewTransition:o})}},[c,l,d,s,i,t,n,r,a,o])}const Ix=_.createContext({});function Mx(n){const e=_.useRef(null);return e.current===null&&(e.current=n()),e.current}const Vm=_.createContext(null),Lx=_.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class jR extends _.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function RR({children:n,isPresent:e}){const t=_.useId(),s=_.useRef(null),i=_.useRef({width:0,height:0,top:0,left:0}),{nonce:r}=_.useContext(Lx);return _.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(e||!s.current||!a||!o)return;s.current.dataset.motionPopId=t;const d=document.createElement("style");return r&&(d.nonce=r),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),h.jsx(jR,{isPresent:e,childRef:s,sizeRef:i,children:_.cloneElement(n,{ref:s})})}const IR=({children:n,initial:e,isPresent:t,onExitComplete:s,custom:i,presenceAffectsLayout:r,mode:a})=>{const o=Mx(MR),l=_.useId(),c=_.useCallback(f=>{o.set(f,!0);for(const p of o.values())if(!p)return;s&&s()},[o,s]),d=_.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:c,register:f=>(o.set(f,!1),()=>o.delete(f))}),r?[Math.random(),c]:[t,c]);return _.useMemo(()=>{o.forEach((f,p)=>o.set(p,!1))},[t]),_.useEffect(()=>{!t&&!o.size&&s&&s()},[t]),a==="popLayout"&&(n=h.jsx(RR,{isPresent:t,children:n})),h.jsx(Vm.Provider,{value:d,children:n})};function MR(){return new Map}function TC(n=!0){const e=_.useContext(Vm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:i}=e,r=_.useId();_.useEffect(()=>{n&&i(r)},[n]);const a=_.useCallback(()=>n&&s&&s(r),[r,s,n]);return!t&&s?[!1,a]:[!0]}const mf=n=>n.key||"";function Jb(n){const e=[];return _.Children.forEach(n,t=>{_.isValidElement(t)&&e.push(t)}),e}const Dx=typeof window<"u",PC=Dx?_.useLayoutEffect:_.useEffect,Dc=({children:n,custom:e,initial:t=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:r="sync",propagate:a=!1})=>{const[o,l]=TC(a),c=_.useMemo(()=>Jb(n),[n]),d=a&&!o?[]:c.map(mf),f=_.useRef(!0),p=_.useRef(c),m=Mx(()=>new Map),[y,v]=_.useState(c),[S,g]=_.useState(c);PC(()=>{f.current=!1,p.current=c;for(let E=0;E<S.length;E++){const k=mf(S[E]);d.includes(k)?m.delete(k):m.get(k)!==!0&&m.set(k,!1)}},[S,d.length,d.join("-")]);const x=[];if(c!==y){let E=[...c];for(let k=0;k<S.length;k++){const T=S[k],N=mf(T);d.includes(N)||(E.splice(k,0,T),x.push(T))}r==="wait"&&x.length&&(E=x),g(Jb(E)),v(c);return}const{forceRender:w}=_.useContext(Ix);return h.jsx(h.Fragment,{children:S.map(E=>{const k=mf(E),T=a&&!o?!1:c===S||d.includes(k),N=()=>{if(m.has(k))m.set(k,!0);else return;let P=!0;m.forEach(R=>{R||(P=!1)}),P&&(w==null||w(),g(p.current),a&&(l==null||l()),s&&s())};return h.jsx(IR,{isPresent:T,initial:!f.current||t?void 0:!1,custom:T?void 0:e,presenceAffectsLayout:i,mode:r,onExitComplete:T?void 0:N,children:E},k)})})},Dn=n=>n;let Qy=Dn;function Ox(n){let e;return()=>(e===void 0&&(e=n()),e)}const Oc=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s},Bi=n=>n*1e3,Vi=n=>n/1e3,LR={skipAnimations:!1,useManualTiming:!1};function DR(n){let e=new Set,t=new Set,s=!1,i=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){r.has(c)&&(l.schedule(c),n()),c(a)}const l={schedule:(c,d=!1,f=!1)=>{const m=f&&s?e:t;return d&&r.add(c),m.has(c)||m.add(c),c},cancel:c=>{t.delete(c),r.delete(c)},process:c=>{if(a=c,s){i=!0;return}s=!0,[e,t]=[t,e],e.forEach(o),e.clear(),s=!1,i&&(i=!1,l.process(c))}};return l}const gf=["read","resolveKeyframes","update","preRender","render","postRender"],OR=40;function jC(n,e){let t=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,a=gf.reduce((g,x)=>(g[x]=DR(r),g),{}),{read:o,resolveKeyframes:l,update:c,preRender:d,render:f,postRender:p}=a,m=()=>{const g=performance.now();t=!1,i.delta=s?1e3/60:Math.max(Math.min(g-i.timestamp,OR),1),i.timestamp=g,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),f.process(i),p.process(i),i.isProcessing=!1,t&&e&&(s=!1,n(m))},y=()=>{t=!0,s=!0,i.isProcessing||n(m)};return{schedule:gf.reduce((g,x)=>{const w=a[x];return g[x]=(E,k=!1,T=!1)=>(t||y(),w.schedule(E,k,T)),g},{}),cancel:g=>{for(let x=0;x<gf.length;x++)a[gf[x]].cancel(g)},state:i,steps:a}}const{schedule:Re,cancel:Qr,state:jt,steps:Ig}=jC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dn,!0),RC=_.createContext({strict:!1}),Zb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fc={};for(const n in Zb)Fc[n]={isEnabled:e=>Zb[n].some(t=>!!e[t])};function FR(n){for(const e in n)Fc[e]={...Fc[e],...n[e]}}const BR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gp(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||BR.has(n)}let IC=n=>!Gp(n);function VR(n){n&&(IC=e=>e.startsWith("on")?!Gp(e):n(e))}try{VR(require("@emotion/is-prop-valid").default)}catch{}function UR(n,e,t){const s={};for(const i in n)i==="values"&&typeof n.values=="object"||(IC(i)||t===!0&&Gp(i)||!e&&!Gp(i)||n.draggable&&i.startsWith("onDrag"))&&(s[i]=n[i]);return s}function zR(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...s)=>n(...s);return new Proxy(t,{get:(s,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const Um=_.createContext({});function hd(n){return typeof n=="string"||Array.isArray(n)}function zm(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Fx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bx=["initial",...Fx];function Hm(n){return zm(n.animate)||Bx.some(e=>hd(n[e]))}function MC(n){return!!(Hm(n)||n.variants)}function HR(n,e){if(Hm(n)){const{initial:t,animate:s}=n;return{initial:t===!1||hd(t)?t:void 0,animate:hd(s)?s:void 0}}return n.inherit!==!1?e:{}}function WR(n){const{initial:e,animate:t}=HR(n,_.useContext(Um));return _.useMemo(()=>({initial:e,animate:t}),[e1(e),e1(t)])}function e1(n){return Array.isArray(n)?n.join(" "):n}const $R=Symbol.for("motionComponentSymbol");function ml(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function GR(n,e,t){return _.useCallback(s=>{s&&n.onMount&&n.onMount(s),e&&(s?e.mount(s):e.unmount()),t&&(typeof t=="function"?t(s):ml(t)&&(t.current=s))},[e])}const Vx=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qR="framerAppearId",LC="data-"+Vx(qR),{schedule:Ux,cancel:S8}=jC(queueMicrotask,!1),DC=_.createContext({});function KR(n,e,t,s,i){var r,a;const{visualElement:o}=_.useContext(Um),l=_.useContext(RC),c=_.useContext(Vm),d=_.useContext(Lx).reducedMotion,f=_.useRef(null);s=s||l.renderer,!f.current&&s&&(f.current=s(n,{visualState:e,parent:o,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,m=_.useContext(DC);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&XR(f.current,t,i,m);const y=_.useRef(!1);_.useInsertionEffect(()=>{p&&y.current&&p.update(t,c)});const v=t[LC],S=_.useRef(!!v&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,v))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,v)));return PC(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Ux.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),_.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,v)}),S.current=!1))}),p}function XR(n,e,t,s){const{layoutId:i,layout:r,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:OC(n.parent)),n.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!a||o&&ml(o),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,layoutScroll:l,layoutRoot:c})}function OC(n){if(n)return n.options.allowProjection!==!1?n.projection:OC(n.parent)}function YR({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:s,Component:i}){var r,a;n&&FR(n);function o(c,d){let f;const p={..._.useContext(Lx),...c,layoutId:QR(c)},{isStatic:m}=p,y=WR(c),v=s(c,m);if(!m&&Dx){JR();const S=ZR(p);f=S.MeasureLayout,y.visualElement=KR(i,v,p,e,S.ProjectionNode)}return h.jsxs(Um.Provider,{value:y,children:[f&&y.visualElement?h.jsx(f,{visualElement:y.visualElement,...p}):null,t(i,c,GR(v,y.visualElement,d),v,m,y.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(a=(r=i.displayName)!==null&&r!==void 0?r:i.name)!==null&&a!==void 0?a:""})`}`;const l=_.forwardRef(o);return l[$R]=i,l}function QR({layoutId:n}){const e=_.useContext(Ix).id;return e&&n!==void 0?e+"-"+n:n}function JR(n,e){_.useContext(RC).strict}function ZR(n){const{drag:e,layout:t}=Fc;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const eI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zx(n){return typeof n!="string"||n.includes("-")?!1:!!(eI.indexOf(n)>-1||/[A-Z]/u.test(n))}function t1(n){const e=[{},{}];return n==null||n.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function Hx(n,e,t,s){if(typeof e=="function"){const[i,r]=t1(s);e=e(t!==void 0?t:n.custom,i,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,r]=t1(s);e=e(t!==void 0?t:n.custom,i,r)}return e}const Jy=n=>Array.isArray(n),tI=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),nI=n=>Jy(n)?n[n.length-1]||0:n,Gt=n=>!!(n&&n.getVelocity);function Bf(n){const e=Gt(n)?n.get():n;return tI(e)?e.toValue():e}function sI({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},s,i,r){const a={latestValues:iI(s,i,r,n),renderState:e()};return t&&(a.onMount=o=>t({props:s,current:o,...a}),a.onUpdate=o=>t(o)),a}const FC=n=>(e,t)=>{const s=_.useContext(Um),i=_.useContext(Vm),r=()=>sI(n,e,s,i);return t?r():Mx(r)};function iI(n,e,t,s){const i={},r=s(n,{});for(const p in r)i[p]=Bf(r[p]);let{initial:a,animate:o}=n;const l=Hm(n),c=MC(n);e&&c&&!l&&n.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=t?t.initial===!1:!1;d=d||a===!1;const f=d?o:a;if(f&&typeof f!="boolean"&&!zm(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const y=Hx(n,p[m]);if(y){const{transitionEnd:v,transition:S,...g}=y;for(const x in g){let w=g[x];if(Array.isArray(w)){const E=d?w.length-1:0;w=w[E]}w!==null&&(i[x]=w)}for(const x in v)i[x]=v[x]}}}return i}const Gc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uo=new Set(Gc),BC=n=>e=>typeof e=="string"&&e.startsWith(n),VC=BC("--"),rI=BC("var(--"),Wx=n=>rI(n)?aI.test(n.split("/*")[0].trim()):!1,aI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,UC=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Ki=(n,e,t)=>t>e?e:t<n?n:t,qc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},fd={...qc,transform:n=>Ki(0,1,n)},yf={...qc,default:1},Vh=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Zi=Vh("deg"),ti=Vh("%"),X=Vh("px"),oI=Vh("vh"),lI=Vh("vw"),n1={...ti,parse:n=>ti.parse(n)/100,transform:n=>ti.transform(n*100)},cI={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,backgroundPositionX:X,backgroundPositionY:X},uI={rotate:Zi,rotateX:Zi,rotateY:Zi,rotateZ:Zi,scale:yf,scaleX:yf,scaleY:yf,scaleZ:yf,skew:Zi,skewX:Zi,skewY:Zi,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:fd,originX:n1,originY:n1,originZ:X},s1={...qc,transform:Math.round},$x={...cI,...uI,zIndex:s1,size:X,fillOpacity:fd,strokeOpacity:fd,numOctaves:s1},dI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hI=Gc.length;function fI(n,e,t){let s="",i=!0;for(let r=0;r<hI;r++){const a=Gc[r],o=n[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const c=UC(o,$x[a]);if(!l){i=!1;const d=dI[a]||a;s+=`${d}(${c}) `}t&&(e[a]=c)}}return s=s.trim(),t?s=t(e,i?"":s):i&&(s="none"),s}function Gx(n,e,t){const{style:s,vars:i,transformOrigin:r}=n;let a=!1,o=!1;for(const l in e){const c=e[l];if(Uo.has(l)){a=!0;continue}else if(VC(l)){i[l]=c;continue}else{const d=UC(c,$x[l]);l.startsWith("origin")?(o=!0,r[l]=d):s[l]=d}}if(e.transform||(a||t?s.transform=fI(e,n.transform,t):s.transform&&(s.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=r;s.transformOrigin=`${l} ${c} ${d}`}}const pI={offset:"stroke-dashoffset",array:"stroke-dasharray"},mI={offset:"strokeDashoffset",array:"strokeDasharray"};function gI(n,e,t=1,s=0,i=!0){n.pathLength=1;const r=i?pI:mI;n[r.offset]=X.transform(-s);const a=X.transform(e),o=X.transform(t);n[r.array]=`${a} ${o}`}function i1(n,e,t){return typeof n=="string"?n:X.transform(e+t*n)}function yI(n,e,t){const s=i1(e,n.x,n.width),i=i1(t,n.y,n.height);return`${s} ${i}`}function qx(n,{attrX:e,attrY:t,attrScale:s,originX:i,originY:r,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},d,f){if(Gx(n,c,f),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:y}=n;p.transform&&(y&&(m.transform=p.transform),delete p.transform),y&&(i!==void 0||r!==void 0||m.transform)&&(m.transformOrigin=yI(y,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),s!==void 0&&(p.scale=s),a!==void 0&&gI(p,a,o,l,!1)}const Kx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zC=()=>({...Kx(),attrs:{}}),Xx=n=>typeof n=="string"&&n.toLowerCase()==="svg";function HC(n,{style:e,vars:t},s,i){Object.assign(n.style,e,i&&i.getProjectionStyles(s));for(const r in t)n.style.setProperty(r,t[r])}const WC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $C(n,e,t,s){HC(n,e,void 0,s);for(const i in e.attrs)n.setAttribute(WC.has(i)?i:Vx(i),e.attrs[i])}const qp={};function vI(n){Object.assign(qp,n)}function GC(n,{layout:e,layoutId:t}){return Uo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!qp[n]||n==="opacity")}function Yx(n,e,t){var s;const{style:i}=n,r={};for(const a in i)(Gt(i[a])||e.style&&Gt(e.style[a])||GC(a,n)||((s=t==null?void 0:t.getValue(a))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(r[a]=i[a]);return r}function qC(n,e,t){const s=Yx(n,e,t);for(const i in n)if(Gt(n[i])||Gt(e[i])){const r=Gc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=n[i]}return s}function xI(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const r1=["x","y","width","height","cx","cy","r"],wI={useVisualState:FC({scrapeMotionValuesFromProps:qC,createRenderState:zC,onUpdate:({props:n,prevProps:e,current:t,renderState:s,latestValues:i})=>{if(!t)return;let r=!!n.drag;if(!r){for(const o in i)if(Uo.has(o)){r=!0;break}}if(!r)return;let a=!e;if(e)for(let o=0;o<r1.length;o++){const l=r1[o];n[l]!==e[l]&&(a=!0)}a&&Re.read(()=>{xI(t,s),Re.render(()=>{qx(s,i,Xx(t.tagName),n.transformTemplate),$C(t,s)})})}})},bI={useVisualState:FC({scrapeMotionValuesFromProps:Yx,createRenderState:Kx})};function KC(n,e,t){for(const s in e)!Gt(e[s])&&!GC(s,t)&&(n[s]=e[s])}function AI({transformTemplate:n},e){return _.useMemo(()=>{const t=Kx();return Gx(t,e,n),Object.assign({},t.vars,t.style)},[e])}function SI(n,e){const t=n.style||{},s={};return KC(s,t,n),Object.assign(s,AI(n,e)),s}function EI(n,e){const t={},s=SI(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=s,t}function CI(n,e,t,s){const i=_.useMemo(()=>{const r=zC();return qx(r,e,Xx(s),n.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};KC(r,n.style,n),i.style={...r,...i.style}}return i}function kI(n=!1){return(t,s,i,{latestValues:r},a)=>{const l=(zx(t)?CI:EI)(s,r,a,t),c=UR(s,typeof t=="string",n),d=t!==_.Fragment?{...c,...l,ref:i}:{},{children:f}=s,p=_.useMemo(()=>Gt(f)?f.get():f,[f]);return _.createElement(t,{...d,children:p})}}function _I(n,e){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...zx(s)?wI:bI,preloadedFeatures:n,useRender:kI(i),createVisualElement:e,Component:s};return YR(a)}}function XC(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}function Wm(n,e,t){const s=n.getProps();return Hx(s,e,t!==void 0?t:s.custom,n)}const NI=Ox(()=>window.ScrollTimeline!==void 0);class TI{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=t}attachTimeline(e,t){const s=this.animations.map(i=>{if(NI()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{s.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class PI extends TI{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Qx(n,e){return n?n[e]||n.default||n:void 0}const Zy=2e4;function YC(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<Zy;)e+=t,s=n.next(e);return e>=Zy?1/0:e}function Jx(n){return typeof n=="function"}function a1(n,e){n.timeline=e,n.onfinish=null}const Zx=n=>Array.isArray(n)&&typeof n[0]=="number",jI={linearEasing:void 0};function RI(n,e){const t=Ox(n);return()=>{var s;return(s=jI[e])!==null&&s!==void 0?s:t()}}const Kp=RI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),QC=(n,e,t=10)=>{let s="";const i=Math.max(Math.round(e/t),2);for(let r=0;r<i;r++)s+=n(Oc(0,i-1,r))+", ";return`linear(${s.substring(0,s.length-2)})`};function JC(n){return!!(typeof n=="function"&&Kp()||!n||typeof n=="string"&&(n in ev||Kp())||Zx(n)||Array.isArray(n)&&n.every(JC))}const du=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,ev={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:du([0,.65,.55,1]),circOut:du([.55,0,1,.45]),backIn:du([.31,.01,.66,-.59]),backOut:du([.33,1.53,.69,.99])};function ZC(n,e){if(n)return typeof n=="function"&&Kp()?QC(n,e):Zx(n)?du(n):Array.isArray(n)?n.map(t=>ZC(t,e)||ev.easeOut):ev[n]}const os={x:!1,y:!1};function ek(){return os.x||os.y}function II(n,e,t){var s;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const r=(s=void 0)!==null&&s!==void 0?s:i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}function tk(n,e){const t=II(n),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[t,i,()=>s.abort()]}function o1(n){return e=>{e.pointerType==="touch"||ek()||n(e)}}function MI(n,e,t={}){const[s,i,r]=tk(n,t),a=o1(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const d=o1(f=>{c(f),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return s.forEach(o=>{o.addEventListener("pointerenter",a,i)}),r}const nk=(n,e)=>e?n===e?!0:nk(n,e.parentElement):!1,ew=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,LI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DI(n){return LI.has(n.tagName)||n.tabIndex!==-1}const hu=new WeakSet;function l1(n){return e=>{e.key==="Enter"&&n(e)}}function Mg(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const OI=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=l1(()=>{if(hu.has(t))return;Mg(t,"down");const i=l1(()=>{Mg(t,"up")}),r=()=>Mg(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function c1(n){return ew(n)&&!ek()}function FI(n,e,t={}){const[s,i,r]=tk(n,t),a=o=>{const l=o.currentTarget;if(!c1(o)||hu.has(l))return;hu.add(l);const c=e(o),d=(m,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!c1(m)||!hu.has(l))&&(hu.delete(l),typeof c=="function"&&c(m,{success:y}))},f=m=>{d(m,t.useGlobalTarget||nk(l,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return s.forEach(o=>{!DI(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(t.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",c=>OI(c,i),i)}),r}function BI(n){return n==="x"||n==="y"?os[n]?null:(os[n]=!0,()=>{os[n]=!1}):os.x||os.y?null:(os.x=os.y=!0,()=>{os.x=os.y=!1})}const sk=new Set(["width","height","top","left","right","bottom",...Gc]);let Vf;function VI(){Vf=void 0}const ni={now:()=>(Vf===void 0&&ni.set(jt.isProcessing||LR.useManualTiming?jt.timestamp:performance.now()),Vf),set:n=>{Vf=n,queueMicrotask(VI)}};function tw(n,e){n.indexOf(e)===-1&&n.push(e)}function nw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class sw{constructor(){this.subscriptions=[]}add(e){return tw(this.subscriptions,e),()=>nw(this.subscriptions,e)}notify(e,t,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,s);else for(let r=0;r<i;r++){const a=this.subscriptions[r];a&&a(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ik(n,e){return e?n*(1e3/e):0}const u1=30,UI=n=>!isNaN(parseFloat(n));class zI{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{const r=ni.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ni.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=UI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new sw);const s=this.events[e].add(t);return e==="change"?()=>{s(),Re.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ni.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>u1)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,u1);return ik(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pd(n,e){return new zI(n,e)}function HI(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,pd(t))}function WI(n,e){const t=Wm(n,e);let{transitionEnd:s={},transition:i={},...r}=t||{};r={...r,...s};for(const a in r){const o=nI(r[a]);HI(n,a,o)}}function $I(n){return!!(Gt(n)&&n.add)}function tv(n,e){const t=n.getValue("willChange");if($I(t))return t.add(e)}function rk(n){return n.props[LC]}const ak=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,GI=1e-7,qI=12;function KI(n,e,t,s,i){let r,a,o=0;do a=e+(t-e)/2,r=ak(a,s,i)-n,r>0?t=a:e=a;while(Math.abs(r)>GI&&++o<qI);return a}function Uh(n,e,t,s){if(n===e&&t===s)return Dn;const i=r=>KI(r,0,1,n,t);return r=>r===0||r===1?r:ak(i(r),e,s)}const ok=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,lk=n=>e=>1-n(1-e),ck=Uh(.33,1.53,.69,.99),iw=lk(ck),uk=ok(iw),dk=n=>(n*=2)<1?.5*iw(n):.5*(2-Math.pow(2,-10*(n-1))),rw=n=>1-Math.sin(Math.acos(n)),hk=lk(rw),fk=ok(rw),pk=n=>/^0[^.\s]+$/u.test(n);function XI(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||pk(n):!0}const Vu=n=>Math.round(n*1e5)/1e5,aw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YI(n){return n==null}const QI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ow=(n,e)=>t=>!!(typeof t=="string"&&QI.test(t)&&t.startsWith(n)||e&&!YI(t)&&Object.prototype.hasOwnProperty.call(t,e)),mk=(n,e,t)=>s=>{if(typeof s!="string")return s;const[i,r,a,o]=s.match(aw);return{[n]:parseFloat(i),[e]:parseFloat(r),[t]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},JI=n=>Ki(0,255,n),Lg={...qc,transform:n=>Math.round(JI(n))},Ea={test:ow("rgb","red"),parse:mk("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+Lg.transform(n)+", "+Lg.transform(e)+", "+Lg.transform(t)+", "+Vu(fd.transform(s))+")"};function ZI(n){let e="",t="",s="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const nv={test:ow("#"),parse:ZI,transform:Ea.transform},gl={test:ow("hsl","hue"),parse:mk("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+ti.transform(Vu(e))+", "+ti.transform(Vu(t))+", "+Vu(fd.transform(s))+")"},Ht={test:n=>Ea.test(n)||nv.test(n)||gl.test(n),parse:n=>Ea.test(n)?Ea.parse(n):gl.test(n)?gl.parse(n):nv.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ea.transform(n):gl.transform(n)},eM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tM(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(aw))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(eM))===null||t===void 0?void 0:t.length)||0)>0}const gk="number",yk="color",nM="var",sM="var(",d1="${}",iM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function md(n){const e=n.toString(),t=[],s={color:[],number:[],var:[]},i=[];let r=0;const o=e.replace(iM,l=>(Ht.test(l)?(s.color.push(r),i.push(yk),t.push(Ht.parse(l))):l.startsWith(sM)?(s.var.push(r),i.push(nM),t.push(l)):(s.number.push(r),i.push(gk),t.push(parseFloat(l))),++r,d1)).split(d1);return{values:t,split:o,indexes:s,types:i}}function vk(n){return md(n).values}function xk(n){const{split:e,types:t}=md(n),s=e.length;return i=>{let r="";for(let a=0;a<s;a++)if(r+=e[a],i[a]!==void 0){const o=t[a];o===gk?r+=Vu(i[a]):o===yk?r+=Ht.transform(i[a]):r+=i[a]}return r}}const rM=n=>typeof n=="number"?0:n;function aM(n){const e=vk(n);return xk(n)(e.map(rM))}const Jr={test:tM,parse:vk,createTransformer:xk,getAnimatableNone:aM},oM=new Set(["brightness","contrast","saturate","opacity"]);function lM(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(aw)||[];if(!s)return n;const i=t.replace(s,"");let r=oM.has(e)?1:0;return s!==t&&(r*=100),e+"("+r+i+")"}const cM=/\b([a-z-]*)\(.*?\)/gu,sv={...Jr,getAnimatableNone:n=>{const e=n.match(cM);return e?e.map(lM).join(" "):n}},uM={...$x,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:sv,WebkitFilter:sv},lw=n=>uM[n];function wk(n,e){let t=lw(n);return t!==sv&&(t=Jr),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const dM=new Set(["auto","none","0"]);function hM(n,e,t){let s=0,i;for(;s<n.length&&!i;){const r=n[s];typeof r=="string"&&!dM.has(r)&&md(r).values.length&&(i=n[s]),s++}if(i&&t)for(const r of e)n[r]=wk(t,i)}const h1=n=>n===qc||n===X,f1=(n,e)=>parseFloat(n.split(", ")[e]),p1=(n,e)=>(t,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/u);if(i)return f1(i[1],e);{const r=s.match(/^matrix\((.+)\)$/u);return r?f1(r[1],n):0}},fM=new Set(["x","y","z"]),pM=Gc.filter(n=>!fM.has(n));function mM(n){const e=[];return pM.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const Bc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:p1(4,13),y:p1(5,14)};Bc.translateX=Bc.x;Bc.translateY=Bc.y;const Co=new Set;let iv=!1,rv=!1;function bk(){if(rv){const n=Array.from(Co).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),t=new Map;e.forEach(s=>{const i=mM(s);i.length&&(t.set(s,i),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=t.get(s);i&&i.forEach(([r,a])=>{var o;(o=s.getValue(r))===null||o===void 0||o.set(a)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}rv=!1,iv=!1,Co.forEach(n=>n.complete()),Co.clear()}function Ak(){Co.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(rv=!0)})}function gM(){Ak(),bk()}class cw{constructor(e,t,s,i,r,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=i,this.element=r,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Co.add(this),iv||(iv=!0,Re.read(Ak),Re.resolveKeyframes(bk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:i}=this;for(let r=0;r<e.length;r++)if(e[r]===null)if(r===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&t){const l=s.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Co.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Co.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Sk=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),yM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vM(n){const e=yM.exec(n);if(!e)return[,];const[,t,s,i]=e;return[`--${t??s}`,i]}function Ek(n,e,t=1){const[s,i]=vM(n);if(!s)return;const r=window.getComputedStyle(e).getPropertyValue(s);if(r){const a=r.trim();return Sk(a)?parseFloat(a):a}return Wx(i)?Ek(i,e,t+1):i}const Ck=n=>e=>e.test(n),xM={test:n=>n==="auto",parse:n=>n},kk=[qc,X,ti,Zi,lI,oI,xM],m1=n=>kk.find(Ck(n));class _k extends cw{constructor(e,t,s,i,r){super(e,t,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Wx(c))){const d=Ek(c,t.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!sk.has(s)||e.length!==2)return;const[i,r]=e,a=m1(i),o=m1(r);if(a!==o)if(h1(a)&&h1(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let i=0;i<e.length;i++)XI(e[i])&&s.push(i);s.length&&hM(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bc[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:s,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(s);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=Bc[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const g1=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Jr.test(n)||n==="0")&&!n.startsWith("url("));function wM(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function bM(n,e,t,s){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],a=g1(i,e),o=g1(r,e);return!a||!o?!1:wM(n)||(t==="spring"||Jx(t))&&s}const AM=n=>n!==null;function $m(n,{repeat:e,repeatType:t="loop"},s){const i=n.filter(AM),r=e&&t!=="loop"&&e%2===1?0:i.length-1;return!r||s===void 0?i[r]:s}const SM=40;class Nk{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ni.now(),this.options={autoplay:e,delay:t,type:s,repeat:i,repeatDelay:r,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>SM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&gM(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ni.now(),this.hasAttemptedResolve=!0;const{name:s,type:i,velocity:r,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!bM(e,s,i,r))if(a)this.options.duration=0;else{l&&l($m(e,this.options,t)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,t);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...d},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ze=(n,e,t)=>n+(e-n)*t;function Dg(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function EM({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let i=0,r=0,a=0;if(!e)i=r=a=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=Dg(l,o,n+1/3),r=Dg(l,o,n),a=Dg(l,o,n-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:s}}function Xp(n,e){return t=>t>0?e:n}const Og=(n,e,t)=>{const s=n*n,i=t*(e*e-s)+s;return i<0?0:Math.sqrt(i)},CM=[nv,Ea,gl],kM=n=>CM.find(e=>e.test(n));function y1(n){const e=kM(n);if(!e)return!1;let t=e.parse(n);return e===gl&&(t=EM(t)),t}const v1=(n,e)=>{const t=y1(n),s=y1(e);if(!t||!s)return Xp(n,e);const i={...t};return r=>(i.red=Og(t.red,s.red,r),i.green=Og(t.green,s.green,r),i.blue=Og(t.blue,s.blue,r),i.alpha=ze(t.alpha,s.alpha,r),Ea.transform(i))},_M=(n,e)=>t=>e(n(t)),zh=(...n)=>n.reduce(_M),av=new Set(["none","hidden"]);function NM(n,e){return av.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function TM(n,e){return t=>ze(n,e,t)}function uw(n){return typeof n=="number"?TM:typeof n=="string"?Wx(n)?Xp:Ht.test(n)?v1:RM:Array.isArray(n)?Tk:typeof n=="object"?Ht.test(n)?v1:PM:Xp}function Tk(n,e){const t=[...n],s=t.length,i=n.map((r,a)=>uw(r)(r,e[a]));return r=>{for(let a=0;a<s;a++)t[a]=i[a](r);return t}}function PM(n,e){const t={...n,...e},s={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(s[i]=uw(n[i])(n[i],e[i]));return i=>{for(const r in s)t[r]=s[r](i);return t}}function jM(n,e){var t;const s=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],o=n.indexes[a][i[a]],l=(t=n.values[o])!==null&&t!==void 0?t:0;s[r]=l,i[a]++}return s}const RM=(n,e)=>{const t=Jr.createTransformer(e),s=md(n),i=md(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?av.has(n)&&!i.values.length||av.has(e)&&!s.values.length?NM(n,e):zh(Tk(jM(s,i),i.values),t):Xp(n,e)};function Pk(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ze(n,e,t):uw(n)(n,e)}const IM=5;function jk(n,e,t){const s=Math.max(e-IM,0);return ik(t-n(s),e-s)}const qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fg=.001;function MM({duration:n=qe.duration,bounce:e=qe.bounce,velocity:t=qe.velocity,mass:s=qe.mass}){let i,r,a=1-e;a=Ki(qe.minDamping,qe.maxDamping,a),n=Ki(qe.minDuration,qe.maxDuration,Vi(n)),a<1?(i=c=>{const d=c*a,f=d*n,p=d-t,m=ov(c,a),y=Math.exp(-f);return Fg-p/m*y},r=c=>{const f=c*a*n,p=f*t+t,m=Math.pow(a,2)*Math.pow(c,2)*n,y=Math.exp(-f),v=ov(Math.pow(c,2),a);return(-i(c)+Fg>0?-1:1)*((p-m)*y)/v}):(i=c=>{const d=Math.exp(-c*n),f=(c-t)*n+1;return-Fg+d*f},r=c=>{const d=Math.exp(-c*n),f=(t-c)*(n*n);return d*f});const o=5/n,l=DM(i,r,o);if(n=Bi(n),isNaN(l))return{stiffness:qe.stiffness,damping:qe.damping,duration:n};{const c=Math.pow(l,2)*s;return{stiffness:c,damping:a*2*Math.sqrt(s*c),duration:n}}}const LM=12;function DM(n,e,t){let s=t;for(let i=1;i<LM;i++)s=s-n(s)/e(s);return s}function ov(n,e){return n*Math.sqrt(1-e*e)}const OM=["duration","bounce"],FM=["stiffness","damping","mass"];function x1(n,e){return e.some(t=>n[t]!==void 0)}function BM(n){let e={velocity:qe.velocity,stiffness:qe.stiffness,damping:qe.damping,mass:qe.mass,isResolvedFromDuration:!1,...n};if(!x1(n,FM)&&x1(n,OM))if(n.visualDuration){const t=n.visualDuration,s=2*Math.PI/(t*1.2),i=s*s,r=2*Ki(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:qe.mass,stiffness:i,damping:r}}else{const t=MM(n);e={...e,...t,mass:qe.mass},e.isResolvedFromDuration=!0}return e}function Rk(n=qe.visualDuration,e=qe.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:i}=t;const r=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:m}=BM({...t,velocity:-Vi(t.velocity||0)}),y=p||0,v=c/(2*Math.sqrt(l*d)),S=a-r,g=Vi(Math.sqrt(l/d)),x=Math.abs(S)<5;s||(s=x?qe.restSpeed.granular:qe.restSpeed.default),i||(i=x?qe.restDelta.granular:qe.restDelta.default);let w;if(v<1){const k=ov(g,v);w=T=>{const N=Math.exp(-v*g*T);return a-N*((y+v*g*S)/k*Math.sin(k*T)+S*Math.cos(k*T))}}else if(v===1)w=k=>a-Math.exp(-g*k)*(S+(y+g*S)*k);else{const k=g*Math.sqrt(v*v-1);w=T=>{const N=Math.exp(-v*g*T),P=Math.min(k*T,300);return a-N*((y+v*g*S)*Math.sinh(P)+k*S*Math.cosh(P))/k}}const E={calculatedDuration:m&&f||null,next:k=>{const T=w(k);if(m)o.done=k>=f;else{let N=0;v<1&&(N=k===0?Bi(y):jk(w,k,T));const P=Math.abs(N)<=s,R=Math.abs(a-T)<=i;o.done=P&&R}return o.value=o.done?a:T,o},toString:()=>{const k=Math.min(YC(E),Zy),T=QC(N=>E.next(k*N).value,k,30);return k+"ms "+T}};return E}function w1({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=n[0],p={done:!1,value:f},m=P=>o!==void 0&&P<o||l!==void 0&&P>l,y=P=>o===void 0?l:l===void 0||Math.abs(o-P)<Math.abs(l-P)?o:l;let v=t*e;const S=f+v,g=a===void 0?S:a(S);g!==S&&(v=g-f);const x=P=>-v*Math.exp(-P/s),w=P=>g+x(P),E=P=>{const R=x(P),I=w(P);p.done=Math.abs(R)<=c,p.value=p.done?g:I};let k,T;const N=P=>{m(p.value)&&(k=P,T=Rk({keyframes:[p.value,y(p.value)],velocity:jk(w,P,p.value),damping:i,stiffness:r,restDelta:c,restSpeed:d}))};return N(0),{calculatedDuration:null,next:P=>{let R=!1;return!T&&k===void 0&&(R=!0,E(P),N(P)),k!==void 0&&P>=k?T.next(P-k):(!R&&E(P),p)}}}const VM=Uh(.42,0,1,1),UM=Uh(0,0,.58,1),Ik=Uh(.42,0,.58,1),zM=n=>Array.isArray(n)&&typeof n[0]!="number",b1={linear:Dn,easeIn:VM,easeInOut:Ik,easeOut:UM,circIn:rw,circInOut:fk,circOut:hk,backIn:iw,backInOut:uk,backOut:ck,anticipate:dk},A1=n=>{if(Zx(n)){Qy(n.length===4);const[e,t,s,i]=n;return Uh(e,t,s,i)}else if(typeof n=="string")return Qy(b1[n]!==void 0),b1[n];return n};function HM(n,e,t){const s=[],i=t||Pk,r=n.length-1;for(let a=0;a<r;a++){let o=i(n[a],n[a+1]);if(e){const l=Array.isArray(e)?e[a]||Dn:e;o=zh(l,o)}s.push(o)}return s}function WM(n,e,{clamp:t=!0,ease:s,mixer:i}={}){const r=n.length;if(Qy(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=HM(e,s,i),l=o.length,c=d=>{if(a&&d<n[0])return e[0];let f=0;if(l>1)for(;f<n.length-2&&!(d<n[f+1]);f++);const p=Oc(n[f],n[f+1],d);return o[f](p)};return t?d=>c(Ki(n[0],n[r-1],d)):c}function $M(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const i=Oc(0,e,s);n.push(ze(t,1,i))}}function GM(n){const e=[0];return $M(e,n.length-1),e}function qM(n,e){return n.map(t=>t*e)}function KM(n,e){return n.map(()=>e||Ik).splice(0,n.length-1)}function Yp({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const i=zM(s)?s.map(A1):A1(s),r={done:!1,value:e[0]},a=qM(t&&t.length===e.length?t:GM(e),n),o=WM(a,e,{ease:Array.isArray(i)?i:KM(e,i)});return{calculatedDuration:n,next:l=>(r.value=o(l),r.done=l>=n,r)}}const XM=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Re.update(e,!0),stop:()=>Qr(e),now:()=>jt.isProcessing?jt.timestamp:ni.now()}},YM={decay:w1,inertia:w1,tween:Yp,keyframes:Yp,spring:Rk},QM=n=>n/100;class dw extends Nk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:s,element:i,keyframes:r}=this.options,a=(i==null?void 0:i.KeyframeResolver)||cw,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(r,o,t,s,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:a=0}=this.options,o=Jx(t)?t:YM[t]||Yp;let l,c;o!==Yp&&typeof e[0]!="number"&&(l=zh(QM,Pk(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});r==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=YC(d));const{calculatedDuration:f}=d,p=f+i,m=p*(s+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:s}=this;if(!s){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:r,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:f}=s;if(this.startTime===null)return r.next(0);const{delay:p,repeat:m,repeatType:y,repeatDelay:v,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-p*(this.speed>=0?1:-1),x=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,E=r;if(m){const P=Math.min(this.currentTime,d)/f;let R=Math.floor(P),I=P%1;!I&&P>=1&&(I=1),I===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(y==="reverse"?(I=1-I,v&&(I-=v/f)):y==="mirror"&&(E=a)),w=Ki(0,1,I)*f}const k=x?{done:!1,value:l[0]}:E.next(w);o&&(k.value=o(k.value));let{done:T}=k;!x&&c!==null&&(T=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return N&&i!==void 0&&(k.value=$m(l,this.options,i)),S&&S(k.value),N&&this.finish(),k}get duration(){const{resolved:e}=this;return e?Vi(e.calculatedDuration):0}get time(){return Vi(this.currentTime)}set time(e){e=Bi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Vi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=XM,onPlay:t,startTime:s}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const JM=new Set(["opacity","clipPath","filter","transform"]);function ZM(n,e,t,{delay:s=0,duration:i=300,repeat:r=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:t};l&&(c.offset=l);const d=ZC(o,i);return Array.isArray(d)&&(c.easing=d),n.animate(c,{delay:s,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"})}const eL=Ox(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Qp=10,tL=2e4;function nL(n){return Jx(n.type)||n.type==="spring"||!JC(n.ease)}function sL(n,e){const t=new dw({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:n[0]};const i=[];let r=0;for(;!s.done&&r<tL;)s=t.sample(r),i.push(s.value),r+=Qp;return{times:void 0,keyframes:i,duration:r-Qp,ease:"linear"}}const Mk={anticipate:dk,backInOut:uk,circInOut:fk};function iL(n){return n in Mk}class S1 extends Nk{constructor(e){super(e);const{name:t,motionValue:s,element:i,keyframes:r}=this.options;this.resolver=new _k(r,(a,o)=>this.onKeyframesResolved(a,o),t,s,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:s=300,times:i,ease:r,type:a,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof r=="string"&&Kp()&&iL(r)&&(r=Mk[r]),nL(this.options)){const{onComplete:f,onUpdate:p,motionValue:m,element:y,...v}=this.options,S=sL(e,v);e=S.keyframes,e.length===1&&(e[1]=e[0]),s=S.duration,i=S.times,r=S.ease,a="keyframes"}const d=ZM(o.owner.current,l,e,{...this.options,duration:s,times:i,ease:r});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(a1(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;o.set($m(e,this.options,t)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:i,type:a,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Vi(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Vi(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.currentTime=Bi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Dn;const{animation:s}=t;a1(s,e)}return Dn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:s,duration:i,type:r,ease:a,times:o}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:f,element:p,...m}=this.options,y=new dw({...m,keyframes:s,duration:i,type:r,ease:a,times:o,isGenerator:!0}),v=Bi(this.time);c.setWithVelocity(y.sample(v-Qp).value,y.sample(v).value,Qp)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:s,repeatDelay:i,repeatType:r,damping:a,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return eL()&&s&&JM.has(s)&&!l&&!c&&!i&&r!=="mirror"&&a!==0&&o!=="inertia"}}const rL={type:"spring",stiffness:500,damping:25,restSpeed:10},aL=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),oL={type:"keyframes",duration:.8},lL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cL=(n,{keyframes:e})=>e.length>2?oL:Uo.has(n)?n.startsWith("scale")?aL(e[1]):rL:lL;function uL({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const hw=(n,e,t,s={},i,r)=>a=>{const o=Qx(s,n)||{},l=o.delay||s.delay||0;let{elapsed:c=0}=s;c=c-Bi(l);let d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:r?void 0:i};uL(o)||(d={...d,...cL(n,d)}),d.duration&&(d.duration=Bi(d.duration)),d.repeatDelay&&(d.repeatDelay=Bi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!r&&e.get()!==void 0){const p=$m(d.keyframes,o);if(p!==void 0)return Re.update(()=>{d.onUpdate(p),d.onComplete()}),new PI([])}return!r&&S1.supports(d)?new S1(d):new dw(d)};function dL({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function Lk(n,e,{delay:t=0,transitionOverride:s,type:i}={}){var r;let{transition:a=n.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(a=s);const c=[],d=i&&n.animationState&&n.animationState.getState()[i];for(const f in l){const p=n.getValue(f,(r=n.latestValues[f])!==null&&r!==void 0?r:null),m=l[f];if(m===void 0||d&&dL(d,f))continue;const y={delay:t,...Qx(a||{},f)};let v=!1;if(window.MotionHandoffAnimation){const g=rk(n);if(g){const x=window.MotionHandoffAnimation(g,f,Re);x!==null&&(y.startTime=x,v=!0)}}tv(n,f),p.start(hw(f,p,m,n.shouldReduceMotion&&sk.has(f)?{type:!1}:y,n,v));const S=p.animation;S&&c.push(S)}return o&&Promise.all(c).then(()=>{Re.update(()=>{o&&WI(n,o)})}),c}function lv(n,e,t={}){var s;const i=Wm(n,e,t.type==="exit"?(s=n.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(Lk(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=r;return hL(n,e,d+c,f,p,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(t.delay)])}function hL(n,e,t=0,s=0,i=1,r){const a=[],o=(n.variantChildren.size-1)*s,l=i===1?(c=0)=>c*s:(c=0)=>o-c*s;return Array.from(n.variantChildren).sort(fL).forEach((c,d)=>{c.notify("AnimationStart",e),a.push(lv(c,e,{...r,delay:t+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function fL(n,e){return n.sortNodePosition(e)}function pL(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(r=>lv(n,r,t));s=Promise.all(i)}else if(typeof e=="string")s=lv(n,e,t);else{const i=typeof e=="function"?Wm(n,e,t.custom):e;s=Promise.all(Lk(n,i,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}const mL=Bx.length;function Dk(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Dk(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<mL;t++){const s=Bx[t],i=n.props[s];(hd(i)||i===!1)&&(e[s]=i)}return e}const gL=[...Fx].reverse(),yL=Fx.length;function vL(n){return e=>Promise.all(e.map(({animation:t,options:s})=>pL(n,t,s)))}function xL(n){let e=vL(n),t=E1(),s=!0;const i=l=>(c,d)=>{var f;const p=Wm(n,d,l==="exit"?(f=n.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:m,transitionEnd:y,...v}=p;c={...c,...v,...y}}return c};function r(l){e=l(n)}function a(l){const{props:c}=n,d=Dk(n.parent)||{},f=[],p=new Set;let m={},y=1/0;for(let S=0;S<yL;S++){const g=gL[S],x=t[g],w=c[g]!==void 0?c[g]:d[g],E=hd(w),k=g===l?x.isActive:null;k===!1&&(y=S);let T=w===d[g]&&w!==c[g]&&E;if(T&&s&&n.manuallyAnimateOnMount&&(T=!1),x.protectedKeys={...m},!x.isActive&&k===null||!w&&!x.prevProp||zm(w)||typeof w=="boolean")continue;const N=wL(x.prevProp,w);let P=N||g===l&&x.isActive&&!T&&E||S>y&&E,R=!1;const I=Array.isArray(w)?w:[w];let M=I.reduce(i(g),{});k===!1&&(M={});const{prevResolvedValues:q={}}=x,U={...q,...M},$=O=>{P=!0,p.has(O)&&(R=!0,p.delete(O)),x.needsAnimating[O]=!0;const j=n.getValue(O);j&&(j.liveStyle=!1)};for(const O in U){const j=M[O],H=q[O];if(m.hasOwnProperty(O))continue;let W=!1;Jy(j)&&Jy(H)?W=!XC(j,H):W=j!==H,W?j!=null?$(O):p.add(O):j!==void 0&&p.has(O)?$(O):x.protectedKeys[O]=!0}x.prevProp=w,x.prevResolvedValues=M,x.isActive&&(m={...m,...M}),s&&n.blockInitialAnimation&&(P=!1),P&&(!(T&&N)||R)&&f.push(...I.map(O=>({animation:O,options:{type:g}})))}if(p.size){const S={};p.forEach(g=>{const x=n.getBaseTarget(g),w=n.getValue(g);w&&(w.liveStyle=!0),S[g]=x??null}),f.push({animation:S})}let v=!!f.length;return s&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(v=!1),s=!1,v?e(f):Promise.resolve()}function o(l,c){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),t[l].isActive=c;const f=a(l);for(const p in t)t[p].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>t,reset:()=>{t=E1(),s=!0}}}function wL(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!XC(e,n):!1}function ca(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function E1(){return{animate:ca(!0),whileInView:ca(),whileHover:ca(),whileTap:ca(),whileDrag:ca(),whileFocus:ca(),exit:ca()}}class aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bL extends aa{constructor(e){super(e),e.animationState||(e.animationState=xL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let AL=0;class SL extends aa{constructor(){super(...arguments),this.id=AL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const EL={animation:{Feature:bL},exit:{Feature:SL}};function gd(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}function Hh(n){return{point:{x:n.pageX,y:n.pageY}}}const CL=n=>e=>ew(e)&&n(e,Hh(e));function Uu(n,e,t,s){return gd(n,e,CL(t),s)}const C1=(n,e)=>Math.abs(n-e);function kL(n,e){const t=C1(n.x,e.x),s=C1(n.y,e.y);return Math.sqrt(t**2+s**2)}class Ok{constructor(e,t,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Vg(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=kL(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=f,{timestamp:v}=jt;this.history.push({...y,timestamp:v});const{onStart:S,onMove:g}=this.handlers;p||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Bg(p,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Vg(f.type==="pointercancel"?this.lastMoveEventInfo:Bg(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,S),y&&y(f,S)},!ew(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=s,this.contextWindow=i||window;const a=Hh(e),o=Bg(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=jt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=t;d&&d(e,Vg(o,this.history)),this.removeListeners=zh(Uu(this.contextWindow,"pointermove",this.handlePointerMove),Uu(this.contextWindow,"pointerup",this.handlePointerUp),Uu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qr(this.updatePoint)}}function Bg(n,e){return e?{point:e(n.point)}:n}function k1(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Vg({point:n},e){return{point:n,delta:k1(n,Fk(e)),offset:k1(n,_L(e)),velocity:NL(e,.1)}}function _L(n){return n[0]}function Fk(n){return n[n.length-1]}function NL(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const i=Fk(n);for(;t>=0&&(s=n[t],!(i.timestamp-s.timestamp>Bi(e)));)t--;if(!s)return{x:0,y:0};const r=Vi(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const a={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const Bk=1e-4,TL=1-Bk,PL=1+Bk,Vk=.01,jL=0-Vk,RL=0+Vk;function Bn(n){return n.max-n.min}function IL(n,e,t){return Math.abs(n-e)<=t}function _1(n,e,t,s=.5){n.origin=s,n.originPoint=ze(e.min,e.max,n.origin),n.scale=Bn(t)/Bn(e),n.translate=ze(t.min,t.max,n.origin)-n.originPoint,(n.scale>=TL&&n.scale<=PL||isNaN(n.scale))&&(n.scale=1),(n.translate>=jL&&n.translate<=RL||isNaN(n.translate))&&(n.translate=0)}function zu(n,e,t,s){_1(n.x,e.x,t.x,s?s.originX:void 0),_1(n.y,e.y,t.y,s?s.originY:void 0)}function N1(n,e,t){n.min=t.min+e.min,n.max=n.min+Bn(e)}function ML(n,e,t){N1(n.x,e.x,t.x),N1(n.y,e.y,t.y)}function T1(n,e,t){n.min=e.min-t.min,n.max=n.min+Bn(e)}function Hu(n,e,t){T1(n.x,e.x,t.x),T1(n.y,e.y,t.y)}function LL(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?ze(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?ze(t,n,s.max):Math.min(n,t)),n}function P1(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function DL(n,{top:e,left:t,bottom:s,right:i}){return{x:P1(n.x,t,i),y:P1(n.y,e,s)}}function j1(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function OL(n,e){return{x:j1(n.x,e.x),y:j1(n.y,e.y)}}function FL(n,e){let t=.5;const s=Bn(n),i=Bn(e);return i>s?t=Oc(e.min,e.max-s,n.min):s>i&&(t=Oc(n.min,n.max-i,e.min)),Ki(0,1,t)}function BL(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const cv=.35;function VL(n=cv){return n===!1?n=0:n===!0&&(n=cv),{x:R1(n,"left","right"),y:R1(n,"top","bottom")}}function R1(n,e,t){return{min:I1(n,e),max:I1(n,t)}}function I1(n,e){return typeof n=="number"?n:n[e]||0}const M1=()=>({translate:0,scale:1,origin:0,originPoint:0}),yl=()=>({x:M1(),y:M1()}),L1=()=>({min:0,max:0}),Qe=()=>({x:L1(),y:L1()});function Wn(n){return[n("x"),n("y")]}function Uk({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function UL({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function zL(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function Ug(n){return n===void 0||n===1}function uv({scale:n,scaleX:e,scaleY:t}){return!Ug(n)||!Ug(e)||!Ug(t)}function fa(n){return uv(n)||zk(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function zk(n){return D1(n.x)||D1(n.y)}function D1(n){return n&&n!=="0%"}function Jp(n,e,t){const s=n-t,i=e*s;return t+i}function O1(n,e,t,s,i){return i!==void 0&&(n=Jp(n,i,s)),Jp(n,t,s)+e}function dv(n,e=0,t=1,s,i){n.min=O1(n.min,e,t,s,i),n.max=O1(n.max,e,t,s,i)}function Hk(n,{x:e,y:t}){dv(n.x,e.translate,e.scale,e.originPoint),dv(n.y,t.translate,t.scale,t.originPoint)}const F1=.999999999999,B1=1.0000000000001;function HL(n,e,t,s=!1){const i=t.length;if(!i)return;e.x=e.y=1;let r,a;for(let o=0;o<i;o++){r=t[o],a=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&xl(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Hk(n,a)),s&&fa(r.latestValues)&&xl(n,r.latestValues))}e.x<B1&&e.x>F1&&(e.x=1),e.y<B1&&e.y>F1&&(e.y=1)}function vl(n,e){n.min=n.min+e,n.max=n.max+e}function V1(n,e,t,s,i=.5){const r=ze(n.min,n.max,i);dv(n,e,t,r,s)}function xl(n,e){V1(n.x,e.x,e.scaleX,e.scale,e.originX),V1(n.y,e.y,e.scaleY,e.scale,e.originY)}function Wk(n,e){return Uk(zL(n.getBoundingClientRect(),e))}function WL(n,e,t){const s=Wk(n,t),{scroll:i}=e;return i&&(vl(s.x,i.offset.x),vl(s.y,i.offset.y)),s}const $k=({current:n})=>n?n.ownerDocument.defaultView:null,$L=new WeakMap;class GL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Hh(d).point)},r=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BI(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(S=>{let g=this.getAxisMotionValue(S).get()||0;if(ti.test(g)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[S];w&&(g=Bn(w)*(parseFloat(g)/100))}}this.originPoint[S]=g}),y&&Re.postRender(()=>y(d,f)),tv(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=f;if(m&&this.currentDirection===null){this.currentDirection=qL(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),v&&v(d,f)},o=(d,f)=>this.stop(d,f),l=()=>Wn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Ok(e,{onSessionStart:i,onStart:r,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:$k(this.visualElement)})}stop(e,t){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&Re.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:i}=this.getProps();if(!s||!vf(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=LL(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,r=this.constraints;t&&ml(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=DL(i.layoutBox,t):this.constraints=!1,this.elastic=VL(s),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Wn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=BL(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ml(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=WL(s,i.root,this.visualElement.getTransformPagePoint());let a=OL(i.layout.layoutBox,r);if(t){const o=t(UL(a));this.hasMutatedConstraints=!!o,o&&(a=Uk(o))}return a}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Wn(d=>{if(!vf(d,t,this.currentDirection))return;let f=l&&l[d]||{};a&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:s?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return tv(this.visualElement,e),s.start(hw(e,s,0,t,this.visualElement,!1))}stopAnimation(){Wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[t];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Wn(t=>{const{drag:s}=this.getProps();if(!vf(t,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[t];r.set(e[t]-ze(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!ml(t)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Wn(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=FL({min:l,max:l},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Wn(a=>{if(!vf(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(ze(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;$L.set(this.visualElement,this);const e=this.visualElement.current,t=Uu(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();ml(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Re.read(s);const a=gd(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Wn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),t(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:a=cv,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function vf(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function qL(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class KL extends aa{constructor(e){super(e),this.removeGroupControls=Dn,this.removeListeners=Dn,this.controls=new GL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dn}unmount(){this.removeGroupControls(),this.removeListeners()}}const U1=n=>(e,t)=>{n&&Re.postRender(()=>n(e,t))};class XL extends aa{constructor(){super(...arguments),this.removePointerDownListener=Dn}onPointerDown(e){this.session=new Ok(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$k(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:U1(e),onStart:U1(t),onMove:s,onEnd:(r,a)=>{delete this.session,i&&Re.postRender(()=>i(r,a))}}}mount(){this.removePointerDownListener=Uu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function z1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const su={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(X.test(n))n=parseFloat(n);else return n;const t=z1(n,e.target.x),s=z1(n,e.target.y);return`${t}% ${s}%`}},YL={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,i=Jr.parse(n);if(i.length>5)return s;const r=Jr.createTransformer(n),a=typeof i[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=ze(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),r(i)}};class QL extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=e;vI(JL),r&&(t.group&&t.group.add(r),s&&s.register&&i&&s.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Uf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:i,isPresent:r}=this.props,a=s.projection;return a&&(a.isPresent=r,i||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||Re.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ux.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Gk(n){const[e,t]=TC(),s=_.useContext(Ix);return h.jsx(QL,{...n,layoutGroup:s,switchLayoutGroup:_.useContext(DC),isPresent:e,safeToRemove:t})}const JL={borderRadius:{...su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:su,borderTopRightRadius:su,borderBottomLeftRadius:su,borderBottomRightRadius:su,boxShadow:YL};function ZL(n,e,t){const s=Gt(n)?n:pd(n);return s.start(hw("",s,e,t)),s.animation}function eD(n){return n instanceof SVGElement&&n.tagName!=="svg"}const tD=(n,e)=>n.depth-e.depth;class nD{constructor(){this.children=[],this.isDirty=!1}add(e){tw(this.children,e),this.isDirty=!0}remove(e){nw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tD),this.isDirty=!1,this.children.forEach(e)}}function sD(n,e){const t=ni.now(),s=({timestamp:i})=>{const r=i-t;r>=e&&(Qr(s),n(r-e))};return Re.read(s,!0),()=>Qr(s)}const qk=["TopLeft","TopRight","BottomLeft","BottomRight"],iD=qk.length,H1=n=>typeof n=="string"?parseFloat(n):n,W1=n=>typeof n=="number"||X.test(n);function rD(n,e,t,s,i,r){i?(n.opacity=ze(0,t.opacity!==void 0?t.opacity:1,aD(s)),n.opacityExit=ze(e.opacity!==void 0?e.opacity:1,0,oD(s))):r&&(n.opacity=ze(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,s));for(let a=0;a<iD;a++){const o=`border${qk[a]}Radius`;let l=$1(e,o),c=$1(t,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||W1(l)===W1(c)?(n[o]=Math.max(ze(H1(l),H1(c),s),0),(ti.test(c)||ti.test(l))&&(n[o]+="%")):n[o]=c}(e.rotate||t.rotate)&&(n.rotate=ze(e.rotate||0,t.rotate||0,s))}function $1(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const aD=Kk(0,.5,hk),oD=Kk(.5,.95,Dn);function Kk(n,e,t){return s=>s<n?0:s>e?1:t(Oc(n,e,s))}function G1(n,e){n.min=e.min,n.max=e.max}function zn(n,e){G1(n.x,e.x),G1(n.y,e.y)}function q1(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function K1(n,e,t,s,i){return n-=e,n=Jp(n,1/t,s),i!==void 0&&(n=Jp(n,1/i,s)),n}function lD(n,e=0,t=1,s=.5,i,r=n,a=n){if(ti.test(e)&&(e=parseFloat(e),e=ze(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ze(r.min,r.max,s);n===r&&(o-=e),n.min=K1(n.min,e,t,o,i),n.max=K1(n.max,e,t,o,i)}function X1(n,e,[t,s,i],r,a){lD(n,e[t],e[s],e[i],e.scale,r,a)}const cD=["x","scaleX","originX"],uD=["y","scaleY","originY"];function Y1(n,e,t,s){X1(n.x,e,cD,t?t.x:void 0,s?s.x:void 0),X1(n.y,e,uD,t?t.y:void 0,s?s.y:void 0)}function Q1(n){return n.translate===0&&n.scale===1}function Xk(n){return Q1(n.x)&&Q1(n.y)}function J1(n,e){return n.min===e.min&&n.max===e.max}function dD(n,e){return J1(n.x,e.x)&&J1(n.y,e.y)}function Z1(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Yk(n,e){return Z1(n.x,e.x)&&Z1(n.y,e.y)}function eA(n){return Bn(n.x)/Bn(n.y)}function tA(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class hD{constructor(){this.members=[]}add(e){tw(this.members,e),e.scheduleRender()}remove(e){if(nw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let s;for(let i=t;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fD(n,e,t){let s="";const i=n.x.translate/e.x,r=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((i||r||a)&&(s=`translate3d(${i}px, ${r}px, ${a}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:m,skewY:y}=t;c&&(s=`perspective(${c}px) ${s}`),d&&(s+=`rotate(${d}deg) `),f&&(s+=`rotateX(${f}deg) `),p&&(s+=`rotateY(${p}deg) `),m&&(s+=`skewX(${m}deg) `),y&&(s+=`skewY(${y}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const pa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},fu=typeof window<"u"&&window.MotionDebug!==void 0,zg=["","X","Y","Z"],pD={visibility:"hidden"},nA=1e3;let mD=0;function Hg(n,e,t,s){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),s&&(s[n]=0))}function Qk(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=rk(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Re,!(i||r))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&Qk(s)}function Jk({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=mD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fu&&(pa.totalNodes=pa.resolvedTargetDeltas=pa.recalculatedProjection=0),this.nodes.forEach(vD),this.nodes.forEach(SD),this.nodes.forEach(ED),this.nodes.forEach(xD),fu&&window.MotionDebug.record(pa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new nD)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new sw),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=eD(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),n){let f;const p=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=sD(p,250),Uf.hasAnimatedSinceResize&&(Uf.hasAnimatedSinceResize=!1,this.nodes.forEach(iA))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||TD,{onLayoutAnimationStart:S,onLayoutAnimationComplete:g}=d.getProps(),x=!this.targetLayout||!Yk(this.targetLayout,y)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const E={...Qx(v,"layout"),onPlay:S,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else p||iA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CD),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Qk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sA);return}this.isUpdating||this.nodes.forEach(bD),this.isUpdating=!1,this.nodes.forEach(AD),this.nodes.forEach(gD),this.nodes.forEach(yD),this.clearAllSnapshots();const o=ni.now();jt.delta=Ki(0,1e3/60,o-jt.timestamp),jt.timestamp=o,jt.isProcessing=!0,Ig.update.process(jt),Ig.preRender.process(jt),Ig.render.process(jt),jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ux.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wD),this.sharedNodes.forEach(kD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Xk(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&(o||fa(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),PD(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Qe();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(jD))){const{scroll:d}=this.root;d&&(vl(l.x,d.offset.x),vl(l.y,d.offset.y))}return l}removeElementScroll(a){var o;const l=Qe();if(zn(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&zn(l,a),vl(l.x,f.offset.x),vl(l.y,f.offset.y))}return l}applyTransform(a,o=!1){const l=Qe();zn(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&xl(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),fa(d.latestValues)&&xl(l,d.latestValues)}return fa(this.latestValues)&&xl(l,this.latestValues),l}removeTransform(a){const o=Qe();zn(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!fa(c.latestValues))continue;uv(c.latestValues)&&c.updateSnapshot();const d=Qe(),f=c.measurePageBox();zn(d,f),Y1(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return fa(this.latestValues)&&Y1(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=jt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Hu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ML(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),Hk(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Hu(this.relativeTargetOrigin,this.target,m.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fu&&pa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||uv(this.parent.latestValues)||zk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===jt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;zn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;HL(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qe());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(q1(this.prevProjectionDelta.x,this.projectionDelta.x),q1(this.prevProjectionDelta.y,this.projectionDelta.y)),zu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!tA(this.projectionDelta.x,this.prevProjectionDelta.x)||!tA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),fu&&pa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yl(),this.projectionDelta=yl(),this.projectionDeltaWithTransform=yl()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=yl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=Qe(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,S=this.getStack(),g=!S||S.members.length<=1,x=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(ND));this.animationProgress=0;let w;this.mixTargetDelta=E=>{const k=E/1e3;rA(f.x,a.x,k),rA(f.y,a.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_D(this.relativeTarget,this.relativeTargetOrigin,p,k),w&&dD(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Qe()),zn(w,this.relativeTarget)),v&&(this.animationValues=d,rD(d,c,this.latestValues,k,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update(()=>{Uf.hasAnimatedSinceResize=!0,this.currentAnimation=ZL(0,nA,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&Zk(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Qe();const f=Bn(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const p=Bn(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+p}zn(o,l),xl(o,d),zu(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new hD),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Hg("z",a,c,this.animationValues);for(let d=0;d<zg.length;d++)Hg(`rotate${zg[d]}`,a,c,this.animationValues),Hg(`skew${zg[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pD;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Bf(a==null?void 0:a.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Bf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!fa(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=fD(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=p.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in qp){if(p[v]===void 0)continue;const{correct:S,applyTo:g}=qp[v],x=c.transform==="none"?p[v]:S(p[v],f);if(g){const w=g.length;for(let E=0;E<w;E++)c[g[E]]=x}else c[v]=x}return this.options.layoutId&&(c.pointerEvents=f===this?Bf(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(sA),this.root.sharedNodes.clear()}}}function gD(n){n.updateLayout()}function yD(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=n.layout,{animationType:r}=n.options,a=t.source!==n.layout.source;r==="size"?Wn(f=>{const p=a?t.measuredBox[f]:t.layoutBox[f],m=Bn(p);p.min=s[f].min,p.max=p.min+m}):Zk(r,t.layoutBox,s)&&Wn(f=>{const p=a?t.measuredBox[f]:t.layoutBox[f],m=Bn(s[f]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+m)});const o=yl();zu(o,s,t.layoutBox);const l=yl();a?zu(l,n.applyTransform(i,!0),t.measuredBox):zu(l,s,t.layoutBox);const c=!Xk(o);let d=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const y=Qe();Hu(y,t.layoutBox,p.layoutBox);const v=Qe();Hu(v,s,m.layoutBox),Yk(y,v)||(d=!0),f.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=y,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function vD(n){fu&&pa.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function xD(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function wD(n){n.clearSnapshot()}function sA(n){n.clearMeasurements()}function bD(n){n.isLayoutDirty=!1}function AD(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function iA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function SD(n){n.resolveTargetDelta()}function ED(n){n.calcProjection()}function CD(n){n.resetSkewAndRotation()}function kD(n){n.removeLeadSnapshot()}function rA(n,e,t){n.translate=ze(e.translate,0,t),n.scale=ze(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function aA(n,e,t,s){n.min=ze(e.min,t.min,s),n.max=ze(e.max,t.max,s)}function _D(n,e,t,s){aA(n.x,e.x,t.x,s),aA(n.y,e.y,t.y,s)}function ND(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const TD={duration:.45,ease:[.4,0,.1,1]},oA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),lA=oA("applewebkit/")&&!oA("chrome/")?Math.round:Dn;function cA(n){n.min=lA(n.min),n.max=lA(n.max)}function PD(n){cA(n.x),cA(n.y)}function Zk(n,e,t){return n==="position"||n==="preserve-aspect"&&!IL(eA(e),eA(t),.2)}function jD(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const RD=Jk({attachResizeListener:(n,e)=>gd(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wg={current:void 0},e_=Jk({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Wg.current){const n=new RD({});n.mount(window),n.setOptions({layoutScroll:!0}),Wg.current=n}return Wg.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),ID={pan:{Feature:XL},drag:{Feature:KL,ProjectionNode:e_,MeasureLayout:Gk}};function uA(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,r=s[i];r&&Re.postRender(()=>r(e,Hh(e)))}class MD extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=MI(e,t=>(uA(this.node,t,"Start"),s=>uA(this.node,s,"End"))))}unmount(){}}class LD extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zh(gd(this.node.current,"focus",()=>this.onFocus()),gd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dA(n,e,t){const{props:s}=n;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),r=s[i];r&&Re.postRender(()=>r(e,Hh(e)))}class DD extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=FI(e,t=>(dA(this.node,t,"Start"),(s,{success:i})=>dA(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hv=new WeakMap,$g=new WeakMap,OD=n=>{const e=hv.get(n.target);e&&e(n)},FD=n=>{n.forEach(OD)};function BD({root:n,...e}){const t=n||document;$g.has(t)||$g.set(t,{});const s=$g.get(t),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(FD,{root:n,...e})),s[i]}function VD(n,e,t){const s=BD(e);return hv.set(n,t),s.observe(n),()=>{hv.delete(n),s.unobserve(n)}}const UD={some:0,all:1};class zD extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:i="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:UD[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return VD(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(HD(e,t))&&this.startObserver()}unmount(){}}function HD({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const WD={inView:{Feature:zD},tap:{Feature:DD},focus:{Feature:LD},hover:{Feature:MD}},$D={layout:{ProjectionNode:e_,MeasureLayout:Gk}},fv={current:null},t_={current:!1};function GD(){if(t_.current=!0,!!Dx)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>fv.current=n.matches;n.addListener(e),e()}else fv.current=!1}const qD=[...kk,Ht,Jr],KD=n=>qD.find(Ck(n)),hA=new WeakMap;function XD(n,e,t){for(const s in e){const i=e[s],r=t[s];if(Gt(i))n.addValue(s,i);else if(Gt(r))n.addValue(s,pd(i,{owner:n}));else if(r!==i)if(n.hasValue(s)){const a=n.getValue(s);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=n.getStaticValue(s);n.addValue(s,pd(a!==void 0?a:i,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const fA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YD{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=ni.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Re.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=a;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=Hm(t),this.isVariantNode=MC(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const m in p){const y=p[m];l[m]!==void 0&&Gt(y)&&y.set(l[m],!1)}}mount(e){this.current=e,hA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),t_.current||GD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hA.delete(this.current),this.projection&&this.projection.unmount(),Qr(this.notifyUpdate),Qr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Uo.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Re.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fc){const t=Fc[e];if(!t)continue;const{isEnabled:s,Feature:i}=t;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<fA.length;s++){const i=fA[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,a=e[r];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=XD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=pd(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){var s;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Sk(i)||pk(i))?i=parseFloat(i):!KD(i)&&Jr.test(t)&&(i=wk(e,t)),this.setBaseTarget(e,Gt(i)?i.get():i)),Gt(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const a=Hx(this.props,s,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(i=a[e])}if(s&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Gt(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new sw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class n_ extends YD{constructor(){super(...arguments),this.KeyframeResolver=_k}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function QD(n){return window.getComputedStyle(n)}class JD extends n_{constructor(){super(...arguments),this.type="html",this.renderInstance=HC}readValueFromInstance(e,t){if(Uo.has(t)){const s=lw(t);return s&&s.default||0}else{const s=QD(e),i=(VC(t)?s.getPropertyValue(t):s[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Wk(e,t)}build(e,t,s){Gx(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return Yx(e,t,s)}}class ZD extends n_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Uo.has(t)){const s=lw(t);return s&&s.default||0}return t=WC.has(t)?t:Vx(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return qC(e,t,s)}build(e,t,s){qx(e,t,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,s,i){$C(e,t,s,i)}mount(e){this.isSVGTag=Xx(e.tagName),super.mount(e)}}const e3=(n,e)=>zx(n)?new ZD(e):new JD(e,{allowProjection:n!==_.Fragment}),t3=_I({...EL,...WD,...ID,...$D},e3),D=zR(t3);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ie=(n,e)=>{const t=_.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>_.createElement("svg",{ref:d,...n3,width:i,height:i,stroke:s,strokeWidth:a?Number(r)*24/Number(i):r,className:["lucide",`lucide-${s3(n)}`,o].join(" "),...c},[...e.map(([f,p])=>_.createElement(f,p)),...Array.isArray(l)?l:[l]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=Ie("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ie("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=Ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=Ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=Ie("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=Ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=Ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=Ie("Group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=Ie("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=Ie("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=Ie("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=Ie("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=Ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=Ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=Ie("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=Ie("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=Ie("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=Ie("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),r_="/canopy-website/assets/logo-C6brOt1P.svg",w3=()=>{const[n,e]=_.useState(!1),[t,s]=_.useState(!1),[i,r]=_.useState(null),a=Bm(),o=$c();_.useEffect(()=>{const f=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),_.useEffect(()=>{s(!1),r(null)},[o.pathname]);const l=[{name:"About Us",href:"#",submenu:[{name:"Our Mission",href:"/missions",isRoute:!0},{name:"Our Story",href:"/story",isRoute:!0},{name:"Meet the Team",href:"/meet-the-team",isRoute:!0},{name:"Board of Directors",href:"/board-of-directors",isRoute:!0}]},{name:"Our Work",href:"/ourwork",isRoute:!0,submenu:[{name:"CANSHIP",href:"/canship",isRoute:!0},{name:"Katha Bunaun",href:"/katha-bunaun",isRoute:!0}]},{name:"Our Impact",href:"/ourimpact",isRoute:!0},{name:"Publications",href:"/publications",isRoute:!0},{name:"Chapters",href:"#",submenu:[{name:"Canopy France",href:"/canopyfrance",isRoute:!0},{name:"Canopy USA",href:"/canopyusa",isRoute:!0}]},{name:"Get Involved",href:"/getinvolved",isRoute:!0}],c=(f,p)=>{if(p)a(f);else if(o.pathname==="/"){const m=document.querySelector(f);m&&m.scrollIntoView({behavior:"smooth"})}else a("/"),setTimeout(()=>{const m=document.querySelector(f);m&&m.scrollIntoView({behavior:"smooth"})},100);s(!1),r(null)},d=f=>{if(o.pathname==="/"){const p=document.querySelector(f);p&&p.scrollIntoView({behavior:"smooth"})}else a("/"),setTimeout(()=>{const p=document.querySelector(f);p&&p.scrollIntoView({behavior:"smooth"})},100);s(!1),r(null)};return h.jsx(D.nav,{className:`fixed inset-x-0 top-0 z-50 transition-all duration-300 ${n?"bg-white/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,initial:{y:-100},animate:{y:0},transition:{duration:.6},children:h.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 mt-3",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(D.div,{className:"flex-shrink-0",whileHover:{scale:1.05},transition:{duration:.2},children:h.jsx(TR,{to:"/",children:h.jsx("img",{src:r_,alt:"Canopy Nepal Logo",className:"h-24 w-auto"})})}),h.jsx("div",{className:"hidden md:flex flex-1 justify-center space-x-10",children:l.map((f,p)=>h.jsxs("div",{className:"relative",onMouseEnter:()=>f.submenu&&r(p),onMouseLeave:()=>r(null),children:[h.jsxs(D.button,{onClick:()=>{f.href==="#"?r(m=>m===p?null:p):f.isRoute?a(f.href):f.href&&f.href!=="#"&&d(f.href)},className:`
                    flex items-center space-x-1 font-medium
                    transition-colors duration-300 hover:text-primary-cyan
                    ${n?"text-primary-gray":"text-primary-gray drop-shadow-lg"}
                    ${o.pathname===f.href?"text-primary-cyan":""}
                  `,whileHover:{scale:1.05},transition:{duration:.2},children:[h.jsx("span",{children:f.name}),f.submenu&&h.jsx(D.div,{animate:{rotate:i===p?180:0},transition:{duration:.2},children:h.jsx(pv,{size:14})})]}),h.jsx(Dc,{children:f.submenu&&i===p&&h.jsx(D.div,{className:"absolute top-full left-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-100 overflow-hidden",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:f.submenu.map((m,y)=>h.jsx(D.button,{onClick:()=>c(m.href,m.isRoute),className:`
                            w-full text-left px-4 py-2 text-sm 
                            hover:bg-gray-50 hover:text-primary-cyan transition-colors duration-200
                            ${o.pathname===m.href?"text-primary-cyan bg-gray-50":"text-black"}
                          `,initial:{opacity:0},animate:{opacity:1},transition:{delay:y*.05},children:m.name},m.name))})})]},f.name))}),h.jsxs("div",{className:"flex items-center flex-shrink-0 space-x-4 ml-auto",children:[h.jsx(D.button,{onClick:()=>a("/donate"),className:"hidden md:inline-block bg-primary-cyan text-white px-6 py-2 rounded-lg font-medium hover:bg-primary-cyan/90 transition-colors duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Donate Now"}),h.jsx(D.button,{onClick:()=>s(f=>!f),className:`
                md:hidden p-2 rounded-md transition-colors duration-300
                text-primary-gray
              `,whileTap:{scale:.95},children:t?h.jsx(fw,{size:24}):h.jsx(m3,{size:24})})]})]}),h.jsx(D.div,{className:`md:hidden overflow-hidden ${t?"block":"hidden"}`,initial:{height:0,opacity:0},animate:{height:t?"auto":0,opacity:t?1:0},transition:{duration:.3},children:h.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-white/95 backdrop-blur-md rounded-lg mt-2",children:[l.map((f,p)=>h.jsxs("div",{children:[h.jsxs("button",{onClick:()=>{f.href==="#"?r(m=>m===p?null:p):f.isRoute?a(f.href):f.href&&f.href!=="#"&&d(f.href)},className:`
                    flex items-center justify-between w-full px-3 py-2 
                    font-medium hover:text-primary-cyan hover:bg-primary-cyan/10 rounded-md 
                    transition-colors duration-300
                    ${o.pathname===f.href?"text-primary-cyan bg-primary-cyan/10":"text-primary-gray"}
                  `,children:[h.jsx("span",{children:f.name}),f.submenu&&h.jsx(D.div,{animate:{rotate:i===p?180:0},transition:{duration:.2},children:h.jsx(pv,{size:14})})]}),h.jsx(Dc,{children:f.submenu&&i===p&&h.jsx(D.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden ml-4",children:f.submenu.map(m=>h.jsx("button",{onClick:()=>c(m.href,m.isRoute),className:`
                            block w-full px-3 py-2 text-sm 
                            hover:text-primary-cyan rounded-md transition-colors duration-300
                            ${o.pathname===m.href?"text-primary-cyan bg-gray-50":"text-gray-600"}
                          `,children:m.name},m.name))})})]},f.name)),h.jsx("button",{onClick:()=>a("/donate"),className:"block w-full px-3 py-2 bg-primary-cyan text-white font-medium rounded-md hover:bg-primary-cyan/90 transition-colors duration-300",children:"Donate Now"})]})})]})})},b3="/canopy-website/assets/hero-BA7B76Xp.png",A3="/canopy-website/assets/landingherophone-Bpe07Cj6.png",S3=()=>h.jsxs("section",{id:"home",className:"relative min-h-[80vh] flex items-center justify-center overflow-hidden px-4 sm:px-6 lg:px-8 pt-20 md:pt-28 mt-28 mb-12",children:[h.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[h.jsx("img",{src:A3,alt:"Hero Mobile",className:"w-full h-full object-cover md:hidden"}),h.jsx("img",{src:b3,alt:"Hero Desktop",className:"w-full h-full object-cover hidden md:block"})]}),h.jsx("div",{className:"relative z-10 w-full max-w-3xl mx-auto text-center flex flex-col items-center justify-center",children:h.jsx(D.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-8 md:mb-12",children:h.jsxs(D.h1,{className:"text-3xl sm:text-4xl md:text-6xl lg:text-7xl font-bold text-white leading-tight",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[h.jsx("span",{className:"text-primary-orange",children:"Reshaping"})," Education"]})})})]});var mv=new Map,xf=new WeakMap,mA=0,E3=void 0;function C3(n){return n?(xf.has(n)||(mA+=1,xf.set(n,mA.toString())),xf.get(n)):"0"}function k3(n){return Object.keys(n).sort().filter(e=>n[e]!==void 0).map(e=>`${e}_${e==="root"?C3(n.root):n[e]}`).toString()}function _3(n){const e=k3(n);let t=mv.get(e);if(!t){const s=new Map;let i;const r=new IntersectionObserver(a=>{a.forEach(o=>{var l;const c=o.isIntersecting&&i.some(d=>o.intersectionRatio>=d);n.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=c),(l=s.get(o.target))==null||l.forEach(d=>{d(c,o)})})},n);i=r.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:r,elements:s},mv.set(e,t)}return t}function N3(n,e,t={},s=E3){if(typeof window.IntersectionObserver>"u"&&s!==void 0){const l=n.getBoundingClientRect();return e(s,{isIntersecting:s,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:r,elements:a}=_3(t),o=a.get(n)||[];return a.has(n)||a.set(n,o),o.push(e),r.observe(n),function(){o.splice(o.indexOf(e),1),o.length===0&&(a.delete(n),r.unobserve(n)),a.size===0&&(r.disconnect(),mv.delete(i))}}function pw({threshold:n,delay:e,trackVisibility:t,rootMargin:s,root:i,triggerOnce:r,skip:a,initialInView:o,fallbackInView:l,onChange:c}={}){var d;const[f,p]=_.useState(null),m=_.useRef(c),[y,v]=_.useState({inView:!!o,entry:void 0});m.current=c,_.useEffect(()=>{if(a||!f)return;let w;return w=N3(f,(E,k)=>{v({inView:E,entry:k}),m.current&&m.current(E,k),k.isIntersecting&&r&&w&&(w(),w=void 0)},{root:i,rootMargin:s,threshold:n,trackVisibility:t,delay:e},l),()=>{w&&w()}},[Array.isArray(n)?n.toString():n,f,i,s,r,a,t,l,e]);const S=(d=y.entry)==null?void 0:d.target,g=_.useRef(void 0);!f&&S&&!r&&!a&&g.current!==S&&(g.current=S,v({inView:!!o,entry:void 0}));const x=[p,y.inView,y.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const T3=({end:n,duration:e=2e3,suffix:t="",prefix:s=""})=>{const[i,r]=_.useState(0),{ref:a,inView:o,entry:l}=pw({threshold:.3,triggerOnce:!0});return _.useEffect(()=>{if(o){let c,d;const f=p=>{c||(c=p);const m=Math.min((p-c)/e,1);r(Math.floor(m*n)),m<1&&(d=requestAnimationFrame(f))};return d=requestAnimationFrame(f),()=>{d&&cancelAnimationFrame(d)}}},[o,n,e]),h.jsxs("span",{ref:a,children:[s,i.toLocaleString(),t]})},a_=()=>{const[n,e]=pw({threshold:.3,triggerOnce:!0}),t=[{icon:Hf,title:"Scholarships Awarded",value:227,color:"text-primary-cyan",bgColor:"bg-secondary-cyan"},{icon:pu,value:21e3,suffix:"+",title:"Students Worked With",color:"text-primary-blue",bgColor:"bg-secondary-blue"},{icon:d3,title:"Schools Reached",value:245,color:"text-primary-orange",bgColor:"bg-secondary-orange"},{icon:zf,title:"Sessions Conducted",value:2500,suffix:"+",color:"text-primary-red",bgColor:"bg-secondary-red"},{icon:r3,title:"Funds Raised",value:13e5,color:"text-primary-orange",bgColor:"bg-secondary-orange"},{icon:c3,title:"Local Government Adaptation",value:7,color:"text-primary-cyan",bgColor:"bg-secondary-cyan"}];return h.jsx("section",{id:"impact",className:"bg-gray-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(D.div,{ref:n,initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},className:"text-center mb-8",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary-red mb-4",children:"Our Work in Numbers"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Through our scholarship and storytelling programs, we're creating lasting change in the education space in Nepal."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:t.map((s,i)=>h.jsxs(D.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.6,delay:i*.1},className:`${s.bgColor} rounded-xl p-8 shadow-lg hover:shadow-xl duration-300 text-center group hover:-translate-y-2 transform transition-transform`,children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-6 group-hover:scale-110 transition-transform duration-300",children:h.jsx(s.icon,{className:`w-8 h-8 ${s.color}`})}),h.jsx("div",{className:"text-5xl font-bold mb-2",children:h.jsx(T3,{end:s.value,suffix:s.suffix})}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:s.title})]},s.title))})]})})},P3="/canopy-website/assets/l2-EbUbcUbs.png",j3=()=>{pw({threshold:.3,triggerOnce:!0});const n=Bm();return h.jsx("section",{id:"about",className:"py-16 pt-0 bg-gray-50",children:h.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-stretch h-full",children:[h.jsx("div",{className:"w-full md:w-1/2 h-[400px] md:h-auto",children:h.jsx("img",{src:P3,alt:"what-we-do-image",className:"w-full h-full object-cover object-center"})}),h.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-gray-50",children:[h.jsx("h2",{className:"text-5xl font-bold text-primary-red mb-4",children:"What We Do"}),h.jsx("p",{className:"text-black leading-relaxed text-xl mb-4 mt-4",children:"Canopy Nepal is working to improve access to quality education for underserved students across Nepal. We provide long-term scholarships and deliver story-based learning in public schools to reduce drop out rates and break cycles of poverty."}),h.jsx("p",{className:"text-black leading-relaxed text-xl mb-8",children:"By combining academic support with creativity, mentorship, and collaboration with local governments, we help students stay in school, build critical life skills, and shape their own futures."}),h.jsx("div",{className:"mt-4 mb-4",children:h.jsxs("button",{className:"inline-flex items-center bg-primary-orange text-white px-4 py-2 text-lg rounded-lg font-bold hover:bg-primary-red transition-all duration-300 hover:shadow-lg",onClick:()=>n("/ourwork"),children:["Read More",h.jsx("svg",{className:"w-5 h-5 ml-2 align-middle relative top-[1px]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]})})})},R3=()=>{const n="https://canopynepal.us18.list-manage.com/subscribe/post-json",e="458803be3c6c443caf7b7d870",t="d09382c729",[s,i]=_.useState(""),[r,a]=_.useState(""),[o,l]=_.useState(!1),[c,d]=_.useState(""),[f,p]=_.useState("");_.useEffect(()=>{if(c){const y=setTimeout(()=>{d("")},5e3);return()=>clearTimeout(y)}},[c]);const m=y=>{if(y.preventDefault(),l(!0),d(""),p(""),!r.trim()){d("Please enter your name"),p("error"),l(!1);return}if(!s.trim()){d("Please enter your email address"),p("error"),l(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)){d("Please enter a valid email address"),p("error"),l(!1);return}const S=new URL(n);S.searchParams.append("u",e),S.searchParams.append("id",t),S.searchParams.append("EMAIL",s),r&&S.searchParams.append("FNAME",r),S.searchParams.append("f_id","00feaae6f0"),S.searchParams.append("c","callback");const g=document.createElement("script");g.src=S.toString(),g.id="mailchimp-jsonp",window.callback=x=>{delete window.callback,document.body.removeChild(g),l(!1),x.result==="success"?(d("Thank you for subscribing to our newsletter!"),p("success"),i(""),a("")):x.msg.includes("already subscribed")?(d("You're already subscribed to our newsletter."),p("info")):(d(x.msg||"An error occurred. Please try again."),p("error"))},document.body.appendChild(g)};return h.jsx("footer",{className:"bg-[#FFFBF2] text-[#333] py-8 px-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[h.jsxs("div",{className:"lg:col-span-1 flex flex-col items-center text-center",children:[h.jsx("img",{src:r_,alt:"Canopy Nepal Logo",className:"w-40 mb-2 mx-auto"}),h.jsx("p",{className:"text-base max-w-xs text-center mx-auto",children:"Canopy empowers marginalized students through scholarships and storytelling, ensuring access to quality education."})]}),h.jsxs("div",{className:"lg:col-span-1 flex flex-col items-center lg:items-start lg:pl-16",children:[h.jsxs("div",{className:"text-left text-center",children:[h.jsx("h3",{className:"font-bold text-base text-primary-orange mb-3 text-center",children:"Take Action"}),h.jsxs("ul",{className:"space-y-2 text-base text-center",children:[h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:underline",children:"Donate Now"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:underline",children:"Get Involved"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:underline",children:"Join the Team"})})]})]}),h.jsxs("div",{className:"mt-8 text-left w-full",children:[h.jsx("h3",{className:"font-bold text-base text-primary-orange mb-3",children:"Stay Updated"}),h.jsxs("form",{onSubmit:m,className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",value:r,onChange:y=>a(y.target.value),placeholder:"Your name",className:"bg-[#F7E6C6] rounded-md px-3 py-2 text-sm placeholder-[#7a6a3a] focus:ring-2 focus:ring-primary-orange focus:outline-none w-24","aria-label":"Name for newsletter",disabled:o,required:!0}),h.jsx("input",{type:"email",value:s,onChange:y=>i(y.target.value),placeholder:"Enter Email",className:"bg-[#F7E6C6] rounded-md px-3 py-2 text-sm placeholder-[#7a6a3a] focus:ring-2 focus:ring-primary-orange focus:outline-none flex-grow","aria-label":"Email for newsletter",required:!0,disabled:o}),h.jsx("button",{type:"submit",disabled:o,className:`bg-[#F7E6C6] text-[#333] rounded-md px-4 py-2 text-sm font-semibold transition-all duration-300 transform ${o?"opacity-50 cursor-not-allowed":"hover:bg-primary-orange hover:text-white hover:scale-105 hover:shadow-md cursor-pointer"}`,children:o?"Subscribing...":"Subscribe"})]}),c&&h.jsx("div",{className:`mt-2 p-2 rounded-md text-xs ${f==="success"?"bg-green-100 text-green-800":f==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:c})]})]}),h.jsx("div",{className:"lg:col-span-1 flex flex-col items-center lg:items-start lg:pl-6",children:h.jsxs("div",{className:"text-left",children:[h.jsx("h3",{className:"font-bold text-base text-primary-orange mb-3 text-center",children:"Resources"}),h.jsxs("ul",{className:"space-y-2 text-base text-center",children:[h.jsx("li",{children:h.jsx("a",{href:"/canopy-faq/",className:"hover:underline",children:"FAQs"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:underline",children:"Annual Report"})}),h.jsx("li",{children:h.jsx("a",{href:"/canopy-policy/",className:"hover:underline",children:"Policies and Guidelines"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:underline",children:"Features"})})]})]})}),h.jsxs("div",{className:"lg:col-span-1 flex flex-col items-center lg:items-start",children:[h.jsxs("div",{className:"text-left",children:[h.jsx("h3",{className:"font-bold text-base text-primary-orange mb-3 text-center",children:"Our Office"}),h.jsxs("div",{className:"text-base space-y-2 text-center",children:[h.jsxs("a",{href:"https://www.google.com/maps/place/Canopy+Nepal/@27.7213195,85.3276936,17z/data=!3m1!4b1!4m6!3m5!1s0x39eb18e14638255f:0x173205d784efa912!8m2!3d27.7213148!4d85.3302685!16s%2Fg%2F11f1nc4dhb?entry=ttu&g_ep=EgoyMDI1MDYyNi4wIKXMDSoASAFQAw%3D%3D",target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-primary-blue",children:["Canopy Nepal",h.jsx("br",{}),"Thirbam Sadak, Baluwatar-04",h.jsx("br",{}),"Kathmandu 44600, Nepal"]}),h.jsx("p",{children:"Contact Number: +977-01-4541478"}),h.jsx("p",{children:"Email: info@canopynepal.org"})]})]}),h.jsxs("div",{className:"mt-8 text-left w-full",children:[h.jsx("h3",{className:"font-bold text-base text-primary-orange mb-3",children:"Follow Us"}),h.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[h.jsx("a",{href:"#","aria-label":"Instagram",className:"bg-primary-orange p-2 rounded-md text-white hover:opacity-80 transition-opacity",children:h.jsx(h3,{size:20})}),h.jsx("a",{href:"#","aria-label":"Facebook",className:"bg-primary-orange p-2 rounded-md text-white hover:opacity-80 transition-opacity",children:h.jsx(o3,{size:20})}),h.jsx("a",{href:"#","aria-label":"LinkedIn",className:"bg-primary-orange p-2 rounded-md text-white hover:opacity-80 transition-opacity",children:h.jsx(f3,{size:20})}),h.jsx("a",{href:"#","aria-label":"Website",className:"bg-primary-orange p-2 rounded-md text-white hover:opacity-80 transition-opacity",children:h.jsx(y3,{size:20})})]})]})]})]}),h.jsx("div",{className:"text-center text-xl font-semibold text-primary-orange pt-6",children:h.jsx("p",{children:"  2025 Canopy Nepal. All rights reserved."})})]})})},I3=()=>h.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative mb-16",children:[h.jsx(D.div,{animate:{y:[-8,8,-8]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-10 right-20 w-3 h-3 bg-orange-400 rounded-full opacity-40"}),h.jsx(D.div,{animate:{y:[10,-10,10]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-20 left-16 w-2 h-2 bg-green-400 rounded-full opacity-50"}),h.jsx(D.div,{animate:{y:[-6,6,-6]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute top-32 left-10 w-2 h-2 bg-blue-400 rounded-full opacity-45"}),h.jsx(D.div,{animate:{y:[12,-12,12]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-20 left-1/3 w-2.5 h-2.5 bg-red-400 rounded-full opacity-35"}),h.jsx(D.div,{animate:{y:[-10,10,-10]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:1.5},className:"absolute bottom-32 right-32 w-3 h-3 bg-yellow-400 rounded-full opacity-40"}),h.jsx(D.div,{animate:{y:[8,-8,8]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:.8},className:"absolute top-40 right-1/4 w-2 h-2 bg-purple-400 rounded-full opacity-30"}),h.jsx(D.div,{animate:{y:[-14,14,-14]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:2.5},className:"absolute bottom-40 left-1/4 w-2.5 h-2.5 bg-pink-400 rounded-full opacity-45"}),h.jsx(D.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center space-y-6",children:h.jsx("div",{className:"space-y-1",children:h.jsx(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},className:"inline-block",children:h.jsxs("p",{className:"text-2xl text-gray-700",children:["In Nepal,",h.jsx("span",{className:"text-4xl md:text-4xl font-black text-primary-red",children:" 73% "}),h.jsx("span",{className:"font-bold text-primary-red",children:"of students drop out"})," before completing secondary school  due to cost and poor-quality education.",h.jsx("span",{className:"text-3xl md:text-3xl font-black text-primary-red",children:"  Canopy Nepal is changing that. "}),h.jsx("br",{}),h.jsx("br",{}),"Canopy Nepal empowers students to stay in school and thrive by combining scholarships with creative, story-based learning that builds confidence, critical thinking, and lifelong skills.",h.jsx("br",{}),h.jsx("br",{}),"With Canopy, students dont just stay in school.  ",h.jsx("span",{className:"text-4xl md:text-4xl font-black text-primary-red",children:"100% "})," ",h.jsx("span",{className:"font-bold text-primary-red",children:" remain motivated, supported, and on track to graduate"}),", and with local governments adapting our curriculum, our impact is sustainable and systemic."]})})})})]}),M3="/canopy-website/assets/tg-D0X4R9ht.png",L3="/canopy-website/assets/tg1-CNun8CuG.png",D3="/canopy-website/assets/tg2-0WAU895L.png",O3=()=>{const[n,e]=_.useState(0),[t,s]=_.useState(!1),i=[{id:1,text:"I never knew imagining my own story with new characters and plot of my choice would be possible before Canopy's session. I always had a difficult time expressing myself to my teachers and in exams. But, after Katha Bunaun, not only have I learned how to write my own story but also communicate with others well.",name:"Roshni",position:"Student of Katha Bunaun",image:M3},{id:2,text:"Over the years, I've witnessed how Canopy has brought real change to our school. Their programs have helped our students become more confident, expressive, and curious, especially those who once struggled to participate. Their Katha Bunaun program has made a visible difference in how our students think and engage. When Canopy's team is in our school, they listen, adapt, and truly care. Our school has become a more inclusive and dynamic space because of their presence.",name:"Ishwori Ma'am",position:"Principal of Bhanubhakta Memorial School",image:D3},{id:3,text:"What stands out most about Canopy is the organization's unwavering integrity. We have worked together for fifteen years and it has shown me that this is a team you can trust. Their transparency, professionalism, and accountability are evident in every program, every decision, and every student's success story. Their commitment to education comes from personal experience, professional skill, and genuine love for the sector.",name:"Sandeep",position:"Donor and Founder of NCEP",image:L3}];_.useEffect(()=>{if(t)return;const l=setInterval(()=>{e(c=>(c+1)%i.length)},5e3);return()=>clearInterval(l)},[i.length,t]);const r=l=>{e(l)},a=()=>{e(l=>(l+1)%i.length)},o=()=>{e(l=>(l-1+i.length)%i.length)};return h.jsxs("section",{className:"relative w-full overflow-hidden h-96 sm:h-[500px] lg:h-[600px] xl:h-[700px]",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[i.map((l,c)=>h.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ease-in-out ${c===n?"opacity-100":"opacity-0"}`,children:[h.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${l.image})`}}),h.jsx("div",{className:"absolute inset-0 bg-black/30"})]},l.id)),h.jsx("div",{className:"relative z-10 flex h-full items-center justify-start px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:`w-full flex ${n===2?"flex-row":"flex-row-reverse"}`,children:h.jsxs("div",{className:`w-full max-w-4xl ${n===2?"text-left mr-auto pl-0 lg:pl-20":"text-right ml-auto pr-0 lg:pr-20"}`,children:[h.jsxs("blockquote",{className:"text-lg text-white font-light sm:text-2xl lg:text-3xl mb-4",children:['"',i[n].text,'"']}),h.jsxs("div",{className:"text-white",children:[h.jsx("p",{className:"font-semibold text-lg sm:text-xl lg:text-2xl",children:i[n].name}),h.jsx("p",{className:"text-sm sm:text-base lg:text-lg opacity-90",children:i[n].position})]})]})})}),h.jsx("div",{className:"absolute left-6 top-1/2 z-20 -translate-y-1/2",children:h.jsx("button",{onClick:o,className:"group rounded-full bg-white/20 p-3 backdrop-blur-sm transition-all duration-300 hover:bg-white/30","aria-label":"Previous testimonial",children:h.jsx(s_,{className:"h-6 w-6 text-white transition-transform group-hover:scale-110"})})}),h.jsx("div",{className:"absolute right-6 top-1/2 z-20 -translate-y-1/2",children:h.jsx("button",{onClick:a,className:"group rounded-full bg-white/20 p-3 backdrop-blur-sm transition-all duration-300 hover:bg-white/30","aria-label":"Next testimonial",children:h.jsx(i_,{className:"h-6 w-6 text-white transition-transform group-hover:scale-110"})})}),h.jsx("div",{className:"absolute bottom-8 left-1/2 z-20 flex -translate-x-1/2 space-x-3",children:i.map((l,c)=>h.jsx("button",{onClick:()=>r(c),className:`h-3 w-3 rounded-full transition-all duration-300 ${c===n?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to testimonial ${c+1}`},c))}),h.jsx("div",{className:"absolute bottom-0 left-0 z-20 h-1 w-full bg-white/20",children:h.jsx("div",{className:"h-full bg-white transition-all duration-300 ease-linear",style:{width:`${(n+1)/i.length*100}%`}})})]})};/*!
 * react-paypal-js v8.8.3 (2025-04-11T19:50:46.506Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn;(function(n){n.INITIAL="initial",n.PENDING="pending",n.REJECTED="rejected",n.RESOLVED="resolved"})(pn||(pn={}));var Kr;(function(n){n.LOADING_STATUS="setLoadingStatus",n.RESET_OPTIONS="resetOptions",n.SET_BRAINTREE_INSTANCE="braintreeInstance"})(Kr||(Kr={}));var gA;(function(n){n.NUMBER="number",n.CVV="cvv",n.EXPIRATION_DATE="expirationDate",n.EXPIRATION_MONTH="expirationMonth",n.EXPIRATION_YEAR="expirationYear",n.POSTAL_CODE="postalCode"})(gA||(gA={}));var st=function(){return st=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++){t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},st.apply(this,arguments)};function o_(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t}function yA(n,e,t){if(t||arguments.length===2)for(var s=0,i=e.length,r;s<i;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return n.concat(r||Array.prototype.slice.call(e))}var yd="data-react-paypal-script-id",Ca={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},F3="Failed to load the PayPal JS SDK script.",l_="paypal",B3="usePayPalScriptReducer must be used within a PayPalScriptProvider";function V3(n){return n===void 0&&(n=l_),window[n]}function U3(n){for(var e="",t=0;t<n.length;t++){var s=n[t].charCodeAt(0)*t;n[t+1]&&(s+=n[t+1].charCodeAt(0)*(t-1)),e+=String.fromCharCode(97+Math.abs(s)%26)}return e}function z3(n){var e=n.reactComponentName,t=n.sdkComponentKey,s=n.sdkRequestedComponents,i=s===void 0?"":s,r=n.sdkDataNamespace,a=r===void 0?l_:r,o=t.charAt(0).toUpperCase().concat(t.substring(1)),l="Unable to render <".concat(e," /> because window.").concat(a,".").concat(o," is undefined."),c=typeof i=="string"?i:i.join(",");if(!c.includes(t)){var d=[c,t].filter(Boolean).join();l+=`
To fix the issue, add '`.concat(t,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(d,"'}}>`.")}return l}function c_(n){var e=n,t=yd;e[t];var s=o_(e,[t+""]);return"react-paypal-js-".concat(U3(JSON.stringify(s)))}function H3(n){var e=self.document.querySelector("script[".concat(yd,'="').concat(n,'"]'));e!=null&&e.parentNode&&e.parentNode.removeChild(e)}function W3(n,e){var t,s;switch(e.type){case Kr.LOADING_STATUS:return typeof e.value=="object"?st(st({},n),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):st(st({},n),{loadingStatus:e.value});case Kr.RESET_OPTIONS:return H3(n.options[yd]),st(st({},n),{loadingStatus:pn.PENDING,options:st(st((t={},t[Ca.DATA_SDK_INTEGRATION_SOURCE]=Ca.DATA_LIBRARY_VALUE,t),e.value),(s={},s[yd]="".concat(c_(e.value)),s))});case Kr.SET_BRAINTREE_INSTANCE:return st(st({},n),{braintreePayPalCheckoutInstance:e.value});default:return n}}var u_=_.createContext(null);function $3(n){if(typeof(n==null?void 0:n.dispatch)=="function"&&n.dispatch.length!==0)return n;throw new Error(B3)}function d_(){var n=$3(_.useContext(u_)),e=st(st({},n),{isInitial:n.loadingStatus===pn.INITIAL,isPending:n.loadingStatus===pn.PENDING,isResolved:n.loadingStatus===pn.RESOLVED,isRejected:n.loadingStatus===pn.REJECTED});return[e,n.dispatch]}_.createContext({});function G3(n){var e=_.useRef(new Proxy({},{get:function(t,s,i){return typeof t[s]=="function"?function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return t[s].apply(t,r)}:Reflect.get(t,s,i)}}));return e.current=Object.assign(e.current,n),e.current}var mw=function(n){var e,t=n.className,s=t===void 0?"":t,i=n.disabled,r=i===void 0?!1:i,a=n.children,o=n.forceReRender,l=o===void 0?[]:o,c=o_(n,["className","disabled","children","forceReRender"]),d=r?{opacity:.38}:{},f="".concat(s," ").concat(r?"paypal-buttons-disabled":"").trim(),p=_.useRef(null),m=_.useRef(null),y=G3(c),v=d_()[0],S=v.isResolved,g=v.options,x=_.useState(null),w=x[0],E=x[1],k=_.useState(!0),T=k[0],N=k[1],P=_.useState(null),R=P[1];function I(){m.current!==null&&m.current.close().catch(function(){})}return!((e=m.current)===null||e===void 0)&&e.updateProps&&m.current.updateProps({message:c.message}),_.useEffect(function(){if(S===!1)return I;var M=V3(g.dataNamespace);if(M===void 0||M.Buttons===void 0)return R(function(){throw new Error(z3({reactComponentName:mw.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:g.components,sdkDataNamespace:g[Ca.DATA_NAMESPACE]}))}),I;var q=function(U,$){E($),typeof c.onInit=="function"&&c.onInit(U,$)};try{m.current=M.Buttons(st(st({},y),{onInit:q}))}catch(U){return R(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(U))})}return m.current.isEligible()===!1?(N(!1),I):(p.current&&m.current.render(p.current).catch(function(U){p.current===null||p.current.children.length===0||R(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(U))})}),I)},yA(yA([S],l,!0),[c.fundingSource],!1)),_.useEffect(function(){w!==null&&(r===!0?w.disable().catch(function(){}):w.enable().catch(function(){}))},[r,w]),Fr.createElement(Fr.Fragment,null,T?Fr.createElement("div",{ref:p,style:d,className:f}):a)};mw.displayName="PayPalButtons";function q3(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t}function K3(n,e){var t=document.querySelector('script[src="'.concat(n,'"]'));if(t===null)return null;var s=h_(n,e),i=t.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(s.dataset).length)return null;var r=!0;return Object.keys(i.dataset).forEach(function(a){i.dataset[a]!==s.dataset[a]&&(r=!1)}),r?t:null}function X3(n){var e=n.url,t=n.attributes,s=n.onSuccess,i=n.onError,r=h_(e,t);r.onerror=i,r.onload=s,document.head.insertBefore(r,document.head.firstElementChild)}function Y3(n){var e=n.sdkBaseUrl,t=n.environment,s=q3(n,["sdkBaseUrl","environment"]),i=e||Z3(t),r=s,a=Object.keys(r).filter(function(c){return typeof r[c]<"u"&&r[c]!==null&&r[c]!==""}).reduce(function(c,d){var f=r[d].toString();return d=Q3(d),d.substring(0,4)==="data"||d==="crossorigin"?c.attributes[d]=f:c.queryParams[d]=f,c},{queryParams:{},attributes:{}}),o=a.queryParams,l=a.attributes;return o["merchant-id"]&&o["merchant-id"].indexOf(",")!==-1&&(l["data-merchant-id"]=o["merchant-id"],o["merchant-id"]="*"),{url:"".concat(i,"?").concat(J3(o)),attributes:l}}function Q3(n){var e=function(t,s){return(s?"-":"")+t.toLowerCase()};return n.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function J3(n){var e="";return Object.keys(n).forEach(function(t){e.length!==0&&(e+="&"),e+=t+"="+n[t]}),e}function Z3(n){return n==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function h_(n,e){e===void 0&&(e={});var t=document.createElement("script");return t.src=n,Object.keys(e).forEach(function(s){t.setAttribute(s,e[s]),s==="data-csp-nonce"&&t.setAttribute("nonce",e["data-csp-nonce"])}),t}function eO(n,e){if(e===void 0&&(e=Promise),f_(n,e),typeof document>"u")return e.resolve(null);var t=Y3(n),s=t.url,i=t.attributes,r=i["data-namespace"]||"paypal",a=vA(r);return i["data-js-sdk-library"]||(i["data-js-sdk-library"]="paypal-js"),K3(s,i)&&a?e.resolve(a):tO({url:s,attributes:i},e).then(function(){var o=vA(r);if(o)return o;throw new Error("The window.".concat(r," global variable is not available."))})}function tO(n,e){e===void 0&&(e=Promise),f_(n,e);var t=n.url,s=n.attributes;if(typeof t!="string"||t.length===0)throw new Error("Invalid url.");if(typeof s<"u"&&typeof s!="object")throw new Error("Expected attributes to be an object.");return new e(function(i,r){if(typeof document>"u")return i();X3({url:t,attributes:s,onSuccess:function(){return i()},onError:function(){var a=new Error('The script "'.concat(t,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return r(a)}})})}function vA(n){return window[n]}function f_(n,e){if(typeof n!="object"||n===null)throw new Error("Expected an options object.");var t=n.environment;if(t&&t!=="production"&&t!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var nO=function(n){var e,t=n.options,s=t===void 0?{clientId:"test"}:t,i=n.children,r=n.deferLoading,a=r===void 0?!1:r,o=_.useReducer(W3,{options:st(st({},s),(e={},e[Ca.DATA_JS_SDK_LIBRARY]=Ca.DATA_LIBRARY_VALUE,e[Ca.DATA_SDK_INTEGRATION_SOURCE]=Ca.DATA_LIBRARY_VALUE,e[yd]="".concat(c_(s)),e)),loadingStatus:a?pn.INITIAL:pn.PENDING}),l=o[0],c=o[1];return _.useEffect(function(){if(a===!1&&l.loadingStatus===pn.INITIAL)return c({type:Kr.LOADING_STATUS,value:pn.PENDING});if(l.loadingStatus===pn.PENDING){var d=!0;return eO(l.options).then(function(){d&&c({type:Kr.LOADING_STATUS,value:pn.RESOLVED})}).catch(function(f){console.error("".concat(F3," ").concat(f)),d&&c({type:Kr.LOADING_STATUS,value:{state:pn.REJECTED,message:String(f)}})}),function(){d=!1}}},[l.options,a,l.loadingStatus]),Fr.createElement(u_.Provider,{value:st(st({},l),{dispatch:c})},i)};function xA(){}_.createContext({cardFieldsForm:null,fields:{},registerField:xA,unregisterField:xA});const sO=({amount:n,isMonthly:e,onSuccess:t,onError:s})=>{const[{isPending:i}]=d_();if(i)return h.jsxs("div",{className:"flex items-center justify-center p-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-500"}),h.jsx("span",{className:"ml-2 text-gray-600",children:"Loading PayPal..."})]});const r=(d,f)=>(console.log("Creating one-time PayPal order for amount:",n),f.order.create({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"USD",value:n.toString()},description:`One-time donation to Canopy Nepal - $${n}`}],application_context:{shipping_preference:"NO_SHIPPING",user_action:"PAY_NOW",return_url:window.location.origin+"/donate?success=true",cancel_url:window.location.origin+"/donate?cancelled=true"}})),a=(d,f)=>(console.log("Creating PayPal subscription for amount:",n),f.subscription.create({plan_id:o(n),application_context:{shipping_preference:"NO_SHIPPING",user_action:"SUBSCRIBE_NOW",return_url:window.location.origin+"/donate?success=true",cancel_url:window.location.origin+"/donate?cancelled=true"}})),o=d=>{const f={25:"P-12345678901234567ABCDEFG",50:"P-98765432109876543HIJKLMN",100:"P-ABCDEFGHIJKLMNOPQ123456",250:"P-RSTUVWXYZ1234567890ABCD",500:"P-EFGHIJKLMNOPQRST1234567",1e3:"P-UVWXYZ1234567ABCDEFGHI"};return f[d]||f[25]},l=async(d,f)=>{console.log("One-time order approved:",d);try{const p=await f.order.capture();console.log("Payment captured successfully:",p),t&&t(p)}catch(p){console.error("Error capturing payment:",p),s&&s(p)}},c=async d=>{console.log("Subscription approved:",d);try{console.log("Subscription created successfully with ID:",d.subscriptionID),t&&t({id:d.subscriptionID,status:"SUBSCRIPTION_CREATED",type:"subscription",amount:n,frequency:"monthly"})}catch(f){console.error("Error processing subscription:",f),s&&s(f)}};return h.jsx(mw,{style:{layout:"vertical",color:"blue",shape:"rect",label:"pay"},createOrder:e?void 0:r,createSubscription:e?a:void 0,onApprove:e?c:l,onCancel:()=>{console.log("Payment was cancelled by user"),s&&s(new Error("Payment was cancelled."))},onError:d=>{console.error("PayPal error:",d),s&&s(d)}})},p_=({isOpen:n,onClose:e,prefillAmount:t,hideCustomAmount:s})=>{const[i,r]=_.useState(t??25),[a,o]=_.useState(""),[l,c]=_.useState(!1),[d,f]=_.useState(!1),[p,m]=_.useState(""),y=[25,50,100,250,500,1e3];Fr.useEffect(()=>{n&&t!==void 0&&(r(t),o(""))},[n,t]);const v=E=>{r(E),o(""),m("")},S=E=>{o(E),m(""),E&&!isNaN(Number(E))&&r(Number(E))},g=E=>{console.log("Donation success handler called!",E),f(!0),m("")},x=E=>{console.error("Donation error:",E);let k="An error occurred during payment. Please try again.";E.message&&(E.message.includes("cancelled")?k="Payment was cancelled. You can try again anytime.":E.message.includes("popup blocked")?k="Payment popup was blocked. Please allow popups for this site and try again.":E.message.includes("Window closed")||E.message.includes("window closed")||E.message.includes("Target window is closed")||E.message.includes("postrobot_method")?k="Payment window closed unexpectedly. Please try again.":E.message.includes("network")?k="Network error. Please check your connection and try again.":E.message.includes("timeout")?k="Payment timed out. Please try again.":E.message.includes("insufficient funds")?k="Insufficient funds. Please check your payment method and try again.":E.message.includes("card declined")&&(k="Card was declined. Please try a different payment method.")),m(k),console.log("Error details:",{message:E.message,stack:E.stack,timestamp:new Date().toISOString(),amount:i,isMonthly:l})},w=()=>{f(!1),r(25),o(""),c(!1),m(""),e()};return n?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:d?"Thank You!":"Make a Donation"}),h.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(fw,{size:24})})]}),d?h.jsxs("div",{className:"p-6 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(i3,{className:"w-8 h-8 text-green-600"})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Donation Successful!"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for your generous donation to Canopy Nepal. Your support helps students stay in school and dream without limits."}),h.jsx("button",{onClick:w,className:"bg-primary-blue text-white px-6 py-2 rounded-lg hover:bg-primary-blue transition-colors",children:"Close"})]}):h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 mb-6",children:[h.jsx("button",{onClick:()=>c(!1),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${l?"text-gray-600 hover:text-gray-800 text-lg":"bg-white text-primary-blue shadow-sm text-lg font-semibold"}`,children:"One-time"}),h.jsx("button",{onClick:()=>c(!0),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${l?"bg-white text-primary-blue shadow-sm font-semibold text-lg":"text-gray-600 hover:text-gray-800 text-lg"}`,children:"Monthly"})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Amount"}),h.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:y.map(E=>h.jsxs("button",{onClick:()=>v(E),className:`py-3 px-4 rounded-lg border-2 text-lg  transition-colors ${i===E&&!a?"border-primary-blue bg-primary-blue/10 text-primary-blue font-semibold":"border-gray-200 text-gray-700 hover:border-gray-300"}`,children:["$",E]},E))}),!s&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Or enter a custom amount"}),h.jsxs("div",{className:"relative",children:[h.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),h.jsx("input",{type:"number",value:a,onChange:E=>S(E.target.value),placeholder:"Enter amount",className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",min:"5",step:"1"})]})]})]}),h.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600 font-bold",children:l?"Monthly donation:":"One-time donation:"}),h.jsxs("span",{className:"text-2xl font-bold text-primary-blue",children:["$",i]})]})}),h.jsx(sO,{amount:i,isMonthly:l,onSuccess:g,onError:x}),p&&h.jsx("div",{className:"mt-4 p-3 bg-primary-red/30 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-primary-red text-sm",children:p})}),h.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Your donation is secure and tax-deductible. Canopy USA is a registered 501(c)(3) nonprofit."})]})]})}):null},iO=()=>{const[n,e]=_.useState(!1);return h.jsx("section",{className:"bg-#eeeeee py-8",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[h.jsx("div",{className:"mb-12",children:h.jsxs("h3",{className:"text-neutral-900 text-4xl md:text-5xl lg:text-6xl font-bold mb-8 leading-tight",children:[h.jsx("span",{className:"text-primary-red",children:"73%"})," of students are out of school and stuck in cycles of ",h.jsx("span",{className:"text-primary-orange",children:"generational poverty"})]})}),h.jsx("p",{className:"text-neutral-900 text-xl md:text-2xl font-medium mb-12 leading-relaxed",children:"Our work to reduce the drop out rate needs your support. You can help by providing support to child's education, school sessions, or operational cost."}),h.jsx("div",{className:"max-w-6xl mx-auto px-6 flex flex-col items-center text-center mt-8 mb-4",children:h.jsxs("button",{className:"inline-flex items-center bg-primary-orange text-white px-4 py-2 text-lg rounded-lg font-bold hover:bg-primary-red transition-all duration-300 hover:shadow-lg",onClick:()=>e(!0),children:["Donate Now",h.jsx("svg",{className:"w-5 h-5 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),h.jsx(p_,{isOpen:n,onClose:()=>e(!1)})]})})},rO="/canopy-website/assets/l3-BD_5Owu-.png",aO=()=>h.jsxs("section",{className:"bg-secondary-gray py-4 lg:py-8",children:[h.jsx("div",{className:"max-w-6xl mx-auto px-6",children:h.jsx("div",{className:"text-center",children:h.jsx("h2",{className:"text-4xl md:text-5xl text-primary-red font-bold",children:"We Are Thankful To"})})}),h.jsx("div",{className:"w-full overflow-hidden px-16 -mt-2 -mb-8",children:h.jsx("img",{src:rO,alt:"Canopy Nepal Partners - including Nepal Government, Harvard Kennedy School, hundredED, NCEP, Alaya, International Literacy Learning, Friends of Nepal Adelaide, Milken Penn GSE, International Literacy Association, US Embassy Youth Council, UN Women Asia Pacific, Global Citizen, World Literacy Foundation, Little Big Fund, and YO",className:"w-full h-auto"})})]}),oO="/canopy-website/assets/1-vF5LWwxJ.svg",lO="/canopy-website/assets/2-BVwUMaD_.svg",cO="/canopy-website/assets/3-Bq0J7pbJ.svg",uO="/canopy-website/assets/4-Ci336L0E.svg",dO="/canopy-website/assets/5-C4aSXz4V.svg",hO="/canopy-website/assets/6-DROElpsj.svg",fO="/canopy-website/assets/7-D-D6f-DL.svg",pO="/canopy-website/assets/8-Ba2BQAZF.svg",mO="/canopy-website/assets/9-B736i56x.svg",gO="/canopy-website/assets/10-B-yl_owT.svg",yO="/canopy-website/assets/11-BqIgghw2.svg",vO="/canopy-website/assets/12-CWknCB_M.svg",xO=()=>{const n=[{src:oO,alt:"Featured Organization 1"},{src:lO,alt:"Featured Organization 2"},{src:cO,alt:"Featured Organization 3"},{src:uO,alt:"Featured Organization 4"},{src:dO,alt:"Featured Organization 5"},{src:hO,alt:"Featured Organization 6"},{src:fO,alt:"Featured Organization 7"},{src:pO,alt:"Featured Organization 8"},{src:mO,alt:"Featured Organization 9"},{src:gO,alt:"Featured Organization 10"},{src:yO,alt:"Featured Organization 11"},{src:vO,alt:"Featured Organization 12"}];return h.jsxs("section",{className:"overflow-hidden mt-4 mb-4",children:[h.jsxs("div",{className:"w-full text-center relative overflow-hidden pt-3",children:[h.jsx("div",{className:"absolute inset-0 opacity-5",children:h.jsx("div",{className:"grid grid-cols-8 h-full",children:[...Array(32)].map((e,t)=>h.jsx("div",{className:"border border-white"},t))})}),h.jsx("div",{className:"relative z-10",children:h.jsx("h3",{className:"text-primary-orange text-3xl md:text-3xl lg:text-4xl font-bold tracking-wide",children:"Featured In"})})]}),h.jsx("div",{className:"w-full overflow-hidden ",children:h.jsxs("div",{className:"flex items-center animate-infinite-scroll",children:[n.map((e,t)=>h.jsx("div",{className:"flex-shrink-0 mx-4 md:mx-8",children:h.jsx("img",{src:e.src,alt:e.alt,className:"w-48 h-48 object-contain",loading:"lazy"})},`first-${t}`)),n.map((e,t)=>h.jsx("div",{className:"flex-shrink-0 mx-4 md:mx-8",children:h.jsx("img",{src:e.src,alt:e.alt,className:"w-48 h-48 object-contain",loading:"lazy"})},`second-${t}`)),n.map((e,t)=>h.jsx("div",{className:"flex-shrink-0 mx-4 md:mx-8",children:h.jsx("img",{src:e.src,alt:e.alt,className:"w-48 h-48 object-contain",loading:"lazy"})},`third-${t}`))]})}),h.jsx("div",{className:"max-w-6xl mx-auto px-6 flex flex-col items-center text-center mb-4",children:h.jsxs("button",{className:"inline-flex items-center bg-primary-orange text-white px-4 py-2 text-lg rounded-lg font-bold hover:bg-primary-red transition-all duration-300 hover:shadow-lg",onClick:()=>{},children:["Read More",h.jsx("svg",{className:"w-5 h-5 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),h.jsx("style",{children:`
        @keyframes infinite-scroll {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-33.33%);
          }
        }

        .animate-infinite-scroll {
          animation: infinite-scroll 25s linear infinite;
          width: max-content;
        }

        /* Ensure smooth performance */
        .animate-infinite-scroll {
          will-change: transform;
          backface-visibility: hidden;
          perspective: 1000px;
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
          .animate-infinite-scroll {
            animation-duration: 20s;
          }
        }

        /* Reduced motion preference */
        @media (prefers-reduced-motion: reduce) {
          .animate-infinite-scroll {
            animation: none;
          }
          .animate-infinite-scroll {
            overflow-x: auto;
            scroll-snap-type: x mandatory;
          }
          .animate-infinite-scroll > div {
            scroll-snap-align: center;
          }
        }
      `})]})},wO="/canopy-website/assets/oos-C0ySdRBH.png",bO="/canopy-website/assets/os2-C3HrzxCY.jpg",AO=()=>h.jsxs("div",{className:"bg-gray-50 text-gray-800 mt-28",children:[h.jsx("div",{className:"mb-0",children:h.jsx("img",{src:wO,alt:"Group of students with balloons",className:"w-full h-auto object-contain block"})}),h.jsxs("div",{className:"relative w-full mx-auto px-6 pt-8 pb-8 text-center bg-gray-50 lg:mt-0 overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[h.jsx("div",{className:"absolute top-20 right-10 w-32 h-32 bg-orange-500/10 rounded-full blur-2xl"}),h.jsx("div",{className:"absolute bottom-32 left-16 w-40 h-40 bg-orange-600/8 rounded-full blur-3xl"}),h.jsx("div",{className:"absolute top-40 left-10 w-20 h-20 bg-red-400/12 rounded-full blur-xl"}),h.jsx("div",{className:"absolute bottom-16 right-20 w-24 h-24 bg-red-500/10 rounded-full blur-2xl"}),h.jsx("div",{className:"absolute top-60 right-1/3 w-28 h-28 bg-cyan-400/8 rounded-full blur-2xl"}),h.jsx("div",{className:"absolute bottom-40 left-1/4 w-36 h-36 bg-cyan-300/6 rounded-full blur-3xl"}),h.jsx(D.div,{animate:{y:[-8,8,-8]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-32 right-20 w-3 h-3 bg-orange-400 rounded-full opacity-40"}),h.jsx(D.div,{animate:{y:[10,-10,10]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute top-96 left-16 w-2 h-2 bg-green-400 rounded-full opacity-50"}),h.jsx(D.div,{animate:{y:[-6,6,-6]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute top-48 left-10 w-2 h-2 bg-blue-400 rounded-full opacity-45"}),h.jsx(D.div,{animate:{y:[12,-12,12]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-24 left-1/3 w-2.5 h-2.5 bg-red-400 rounded-full opacity-35"}),h.jsx(D.div,{animate:{y:[-10,10,-10]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:1.5},className:"absolute top-80 right-32 w-3 h-3 bg-yellow-400 rounded-full opacity-40"}),h.jsx(D.div,{animate:{y:[8,-8,8]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:.8},className:"absolute top-64 right-1/4 w-2 h-2 bg-purple-400 rounded-full opacity-30"}),h.jsx(D.div,{animate:{y:[-14,14,-14]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:2.5},className:"absolute bottom-40 left-1/4 w-2.5 h-2.5 bg-pink-400 rounded-full opacity-45"}),h.jsx(D.div,{animate:{y:[-12,12,-12]},transition:{duration:5.2,repeat:1/0,ease:"easeInOut",delay:3},className:"absolute top-16 right-1/2 w-2 h-2 bg-orange-500 rounded-full opacity-35"}),h.jsx(D.div,{animate:{y:[15,-15,15]},transition:{duration:6.5,repeat:1/0,ease:"easeInOut",delay:1.8},className:"absolute bottom-28 right-16 w-2.5 h-2.5 bg-cyan-400 rounded-full opacity-40"}),h.jsx(D.div,{animate:{y:[-7,7,-7]},transition:{duration:4.2,repeat:1/0,ease:"easeInOut",delay:.3},className:"absolute top-72 right-12 w-2 h-2 bg-indigo-400 rounded-full opacity-35"}),h.jsx(D.div,{animate:{y:[9,-9,9]},transition:{duration:3.8,repeat:1/0,ease:"easeInOut",delay:2.2},className:"absolute bottom-16 left-8 w-2 h-2 bg-emerald-400 rounded-full opacity-45"}),h.jsx(D.div,{animate:{y:[-11,11,-11]},transition:{duration:5.8,repeat:1/0,ease:"easeInOut",delay:1.2},className:"absolute top-40 right-2/3 w-2.5 h-2.5 bg-amber-400 rounded-full opacity-38"}),h.jsx(D.div,{animate:{y:[13,-13,13]},transition:{duration:6.2,repeat:1/0,ease:"easeInOut",delay:.7},className:"absolute bottom-36 left-1/3 w-2 h-2 bg-rose-400 rounded-full opacity-42"}),h.jsx(D.div,{animate:{y:[-9,9,-9]},transition:{duration:4.8,repeat:1/0,ease:"easeInOut",delay:3.5},className:"absolute top-56 left-20 w-2 h-2 bg-teal-400 rounded-full opacity-40"}),h.jsx(D.div,{animate:{y:[-5,5,-5]},transition:{duration:4.3,repeat:1/0,ease:"easeInOut",delay:1.1},className:"absolute top-36 left-3/4 w-2 h-2 bg-lime-400 rounded-full opacity-35"}),h.jsx(D.div,{animate:{y:[11,-11,11]},transition:{duration:5.7,repeat:1/0,ease:"easeInOut",delay:2.8},className:"absolute bottom-52 right-1/3 w-2.5 h-2.5 bg-violet-400 rounded-full opacity-40"}),h.jsx(D.div,{animate:{y:[-8,8,-8]},transition:{duration:3.9,repeat:1/0,ease:"easeInOut",delay:.9},className:"absolute top-88 left-2/3 w-2 h-2 bg-sky-400 rounded-full opacity-45"}),h.jsx(D.div,{animate:{y:[6,-6,6]},transition:{duration:4.6,repeat:1/0,ease:"easeInOut",delay:1.4},className:"absolute top-44 left-4 w-2 h-2 bg-emerald-500 rounded-full opacity-35"}),h.jsx(D.div,{animate:{y:[-10,10,-10]},transition:{duration:5.3,repeat:1/0,ease:"easeInOut",delay:2.1},className:"absolute top-68 right-4 w-2 h-2 bg-fuchsia-400 rounded-full opacity-40"})]}),h.jsx("div",{className:"relative z-10",children:h.jsxs("div",{className:"space-y-4 text-xl leading-relaxed text-justify text-gray-700  max-w-4xl mx-auto",children:[h.jsx("p",{className:"font-bold text-2xl text-center text-primary-red",children:"Canopy Nepal didn't begin with a perfect plan. It began with frustration!"}),h.jsx("p",{children:"Our founder, Mohit Rauniyar, grew up in a school system that didn't allow him to question, create, or think critically. Classrooms were rigid and memorization was rewarded. Creativity was treated like a distraction. That frustration stayed with him, not as resentment, but as fuel."}),h.jsx("p",{children:"In 2010, while working with the Nepal Children's Education Project (NCEP), Mohit saw firsthand how deep the crisis went. Public schools were overcrowded, under-resourced, and often inaccessible to the very children who needed them most. He began to understand the scale of the challenge, how access was only half the battle."}),h.jsx("p",{children:"By 2012, he joined the Bloom Nepal School as a teacher, working to build a school where learning was joyful and curiosity led the way. Those five years taught him something critical: even the best schools couldn't fix the system alone. If Nepal's education system was to change, it had to be done from the ground up and from the top down."}),h.jsx("p",{children:"So in 2015, Canopy Nepal was born, built on the belief that true educational equity means giving every child not just a seat in the classroom, but a reason to stay. Canopy combined scholarships to increase access with a bold idea: story-based learning that brings education to life and puts students at the center of their narrative. Education platforms, NCEP and Bloom, where Mohit started his educator journey from, are now some of Canopy's biggest partners."}),h.jsx("p",{className:"font-medium text-gray-800",children:"For Mohit, it was never just about fixing the system; it was about building the kind of education he wished he had."})]})})]}),h.jsx("div",{children:h.jsx("img",{src:bO,alt:"Mohit Rauniyar speaking",className:"w-full h-[70vh] object-cover"})}),h.jsx("style",{children:`
        /* Clean, minimal styles only */
      `})]}),SO="/canopy-website/assets/mv1-DCNdrLYa.png",EO="/canopy-website/assets/mv2-Du533blH.png",CO=()=>h.jsxs("div",{className:"text-gray-800 mt-24",children:[h.jsxs("div",{className:"relative w-full overflow-hidden",children:[h.jsx("div",{className:"w-full mt-8",children:h.jsx("img",{src:SO,alt:"Student studying",className:"w-full h-96 object-cover"})}),h.jsxs("div",{className:"relative max-w-6xl mx-auto px-6 py-8 text-center",children:[h.jsxs("div",{className:"absolute mt-6 inset-0 pointer-events-none z-10",children:[h.jsx(D.div,{animate:{y:[-8,8,-8]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-20 right-20 w-4 h-4 bg-orange-400 rounded-full opacity-30"}),h.jsx(D.div,{animate:{y:[10,-10,10]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute top-40 left-16 w-3 h-3 bg-blue-400 rounded-full opacity-40"}),h.jsx(D.div,{animate:{y:[-6,6,-6]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute top-60 left-10 w-3 h-3 bg-green-400 rounded-full opacity-35"}),h.jsx(D.div,{animate:{y:[-10,10,-10]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-80 right-32 w-2.5 h-2.5 bg-purple-400 rounded-full opacity-25"}),h.jsx(D.div,{animate:{y:[12,-12,12]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:.8},className:"absolute top-100 right-8 w-2 h-2 bg-pink-400 rounded-full opacity-30"}),h.jsx(D.div,{animate:{y:[-5,5,-5]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:1.5},className:"absolute top-30 left-1/3 w-3.5 h-3.5 bg-yellow-400 rounded-full opacity-20"}),h.jsx(D.div,{animate:{y:[8,-8,8]},transition:{duration:4.2,repeat:1/0,ease:"easeInOut",delay:.3},className:"absolute top-70 left-1/4 w-2 h-2 bg-indigo-400 rounded-full opacity-35"}),h.jsx(D.div,{animate:{y:[-7,7,-7]},transition:{duration:3.9,repeat:1/0,ease:"easeInOut",delay:1.8},className:"absolute top-90 right-1/4 w-2.5 h-2.5 bg-teal-400 rounded-full opacity-25"}),h.jsx(D.div,{animate:{y:[9,-9,9]},transition:{duration:4.8,repeat:1/0,ease:"easeInOut",delay:.6},className:"absolute top-50 left-1/5 w-2 h-2 bg-violet-400 rounded-full opacity-30"}),h.jsx(D.div,{animate:{y:[-4,4,-4]},transition:{duration:3.2,repeat:1/0,ease:"easeInOut",delay:2.3},className:"absolute top-110 right-1/5 w-3 h-3 bg-lime-400 rounded-full opacity-20"}),h.jsx(D.div,{animate:{y:[6,-6,6]},transition:{duration:5.1,repeat:1/0,ease:"easeInOut",delay:1.1},className:"absolute top-85 right-1/3 w-2.5 h-2.5 bg-fuchsia-400 rounded-full opacity-25"}),h.jsx(D.div,{animate:{y:[-9,9,-9]},transition:{duration:4.4,repeat:1/0,ease:"easeInOut",delay:.9},className:"absolute top-65 left-1/6 w-2 h-2 bg-cyan-400 rounded-full opacity-35"})]}),h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-8 text-primary-red",children:"Why Education?"}),h.jsx("p",{className:"text-2xl leading-relaxed text-gray-700 max-w-4xl mx-auto",children:"In Nepal, only 27% of students complete the upper secondary level, and the rest 73% drop out before their final year because of affordability and poor-quality schooling (UNICEF, 2022). The students impacted are disproportionately low-income, perpetuating the cycle of poverty by hindering their opportunities to become financially and socially independent (Devkota & Bagale, 2015)."})]})]}),h.jsx("div",{className:"relative w-full py-8 overflow-hidden",children:h.jsxs("div",{className:"relative max-w-4xl mx-auto px-6 text-center",children:[h.jsxs("div",{className:"absolute inset-0 m pointer-events-none",children:[h.jsx(D.div,{animate:{y:[-12,12,-12]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-24 left-1/4 w-2.5 h-2.5 bg-red-400 rounded-full opacity-25"}),h.jsx(D.div,{animate:{y:[8,-8,8]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:1.5},className:"absolute bottom-32 right-1/3 w-3 h-3 bg-cyan-400 rounded-full opacity-30"}),h.jsx(D.div,{animate:{y:[-8,8,-8]},transition:{duration:3.8,repeat:1/0,ease:"easeInOut",delay:.7},className:"absolute top-16 right-16 w-2 h-2 bg-emerald-400 rounded-full opacity-25"}),h.jsx(D.div,{animate:{y:[10,-10,10]},transition:{duration:5.2,repeat:1/0,ease:"easeInOut",delay:1.2},className:"absolute bottom-20 left-1/2 w-3.5 h-3.5 bg-amber-400 rounded-full opacity-20"}),h.jsx(D.div,{animate:{y:[-6,6,-6]},transition:{duration:4.1,repeat:1/0,ease:"easeInOut",delay:.4},className:"absolute top-40 right-1/3 w-2.5 h-2.5 bg-rose-400 rounded-full opacity-30"}),h.jsx(D.div,{animate:{y:[7,-7,7]},transition:{duration:3.6,repeat:1/0,ease:"easeInOut",delay:2.1},className:"absolute bottom-48 left-1/3 w-2 h-2 bg-sky-400 rounded-full opacity-25"}),h.jsx(D.div,{animate:{y:[-5,5,-5]},transition:{duration:4.7,repeat:1/0,ease:"easeInOut",delay:1.6},className:"absolute bottom-10 left-1/4 w-2.5 h-2.5 bg-orange-400 rounded-full opacity-30"}),h.jsx(D.div,{animate:{y:[11,-11,11]},transition:{duration:3.4,repeat:1/0,ease:"easeInOut",delay:.8},className:"absolute bottom-25 right-1/5 w-2 h-2 bg-green-400 rounded-full opacity-25"}),h.jsx(D.div,{animate:{y:[-3,3,-3]},transition:{duration:5.3,repeat:1/0,ease:"easeInOut",delay:2.4},className:"absolute bottom-40 right-1/6 w-3 h-3 bg-purple-400 rounded-full opacity-20"}),h.jsx(D.div,{animate:{y:[8,-8,8]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1.3},className:"absolute bottom-15 left-1/3 w-2.5 h-2.5 bg-pink-400 rounded-full opacity-30"}),h.jsx(D.div,{animate:{y:[-7,7,-7]},transition:{duration:3.9,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute bottom-35 right-1/4 w-2 h-2 bg-indigo-400 rounded-full opacity-25"})]}),h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-8 text-primary-red",children:"Our Mission"}),h.jsx("p",{className:"text-2xl leading-relaxed text-gray-700 mb-8",children:"Canopy Nepal empowers underserved students to stay in school and thrive by combining scholarships with story-based learning that nurtures confidence, critical thinking, and lifelong skills. Through inclusive education and strategic government partnerships, we reduce dropout rates, break cycles of generational poverty, and build a future shaped by empowered thinkers and doers."})]})}),h.jsxs("div",{className:"relative w-full overflow-hidden",children:[h.jsxs("div",{className:"relative max-w-4xl mx-auto px-6 pb-8 text-center",children:[h.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[h.jsx(D.div,{animate:{y:[-8,8,-8]},transition:{duration:4.2,repeat:1/0,ease:"easeInOut"},className:"absolute top-16 right-24 w-3 h-3 bg-orange-400 rounded-full opacity-30"}),h.jsx(D.div,{animate:{y:[10,-10,10]},transition:{duration:5.1,repeat:1/0,ease:"easeInOut",delay:1.2},className:"absolute top-32 left-20 w-2.5 h-2.5 bg-blue-400 rounded-full opacity-35"}),h.jsx(D.div,{animate:{y:[-6,6,-6]},transition:{duration:3.8,repeat:1/0,ease:"easeInOut",delay:.7},className:"absolute top-48 right-16 w-2 h-2 bg-green-400 rounded-full opacity-25"}),h.jsx(D.div,{animate:{y:[-9,9,-9]},transition:{duration:4.6,repeat:1/0,ease:"easeInOut",delay:1.8},className:"absolute top-24 left-1/3 w-3.5 h-3.5 bg-purple-400 rounded-full opacity-20"}),h.jsx(D.div,{animate:{y:[7,-7,7]},transition:{duration:3.9,repeat:1/0,ease:"easeInOut",delay:.4},className:"absolute top-40 right-1/4 w-2 h-2 bg-pink-400 rounded-full opacity-30"}),h.jsx(D.div,{animate:{y:[-5,5,-5]},transition:{duration:5.3,repeat:1/0,ease:"easeInOut",delay:2.1},className:"absolute top-56 left-1/4 w-2.5 h-2.5 bg-cyan-400 rounded-full opacity-25"}),h.jsx(D.div,{animate:{y:[8,-8,8]},transition:{duration:4.1,repeat:1/0,ease:"easeInOut",delay:1.5},className:"absolute top-28 right-1/3 w-2 h-2 bg-yellow-400 rounded-full opacity-35"}),h.jsx(D.div,{animate:{y:[-7,7,-7]},transition:{duration:3.7,repeat:1/0,ease:"easeInOut",delay:.9},className:"absolute top-44 left-1/5 w-3 h-3 bg-emerald-400 rounded-full opacity-30"})]}),h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-8 text-primary-red",children:"Our Vision"}),h.jsx("p",{className:"text-2xl leading-relaxed text-gray-700",children:"We envision a Nepal where every child, regardless of background, has access to quality education, the freedom to express themselves, and the tools to shape their own future."})]}),h.jsxs("div",{className:"relative w-full",children:[h.jsx("img",{src:EO,alt:"Group of happy students",className:"w-full h-96 lg:h-[500px] object-cover "}),h.jsx("div",{className:"absolute inset-0 bg-black/30"}),h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full",children:h.jsx("div",{className:"max-w-5xl mx-auto px-6 text-center",children:h.jsx("p",{className:"text-2xl md:text-4xl font-semibold leading-relaxed text-white",children:"By 2030, we aim to reach over half a million students and integrate story-based learning into classrooms across Nepal, making storytelling a foundational part of how children learn, grow, and connect."})})})})]})]})]}),kO="/canopy-website/assets/Siddhartha-BGRB7XYH.png",_O="/canopy-website/assets/Anusuya-z2wi0HNk.png",NO="/canopy-website/assets/Pratima-dNg8ofqX.png",TO="/canopy-website/assets/Mohit-fkKpBvok.png",PO="/canopy-website/assets/Monal-Mfp8qpQw.png",jO="/canopy-website/assets/Angirash-COWkOsmJ.png",RO="/canopy-website/assets/Anjula-HQsBfb8I.png",IO="/canopy-website/assets/Monika-6cVZEgo0.png",MO="/canopy-website/assets/Wangmo-WjD8o559.png",LO="/canopy-website/assets/Yamuna-DaSUlFqe.png",DO="/canopy-website/assets/Raghav-DAhLjtAr.png",OO="/canopy-website/assets/Tanisha-DDLqQdqk.png",FO="/canopy-website/assets/Abhishek-5eVhXxnm.png",BO="/canopy-website/assets/Anala-CdBYaot0.png",VO="/canopy-website/assets/Avishka-CT_p6kgp.png",UO="/canopy-website/assets/Bimala-Cht_Qpgh.png",zO="/canopy-website/assets/Biraj-idCgRdQk.png",HO="/canopy-website/assets/Deepasha-Dbcki34G.png",WO="/canopy-website/assets/Himshikha-B4I7hPvQ.png",$O="/canopy-website/assets/Janvi-Cs1c2AkF.png",GO="/canopy-website/assets/Mamta-AyHWxbai.png",qO="/canopy-website/assets/Manila-ChrnxfjF.png",KO="/canopy-website/assets/Megha-DEqmWBuU.png",XO="/canopy-website/assets/Mohit-BCwyaw46.png",YO="/canopy-website/assets/Nandita-BKIKb1bp.png",QO="/canopy-website/assets/Ojaswee-C4sokrvM.png",JO="/canopy-website/assets/prathana-imUtgNad.png",ZO="/canopy-website/assets/Prastuti-8o5OYgZ5.png",eF="/canopy-website/assets/Pratikshya-KeiNnIWf.png",tF="/canopy-website/assets/PushpaKala-BIB2s6he.png",nF="/canopy-website/assets/Sobhika-BA3d0rsE.png",sF="/canopy-website/assets/Sristy%20Khadka-CNBSFd2S.png",iF="/canopy-website/assets/Sujal-4w6ITcGO.png",rF="/canopy-website/assets/Abhishek-CHbMGKYb.png",aF="/canopy-website/assets/Diki-BuN0lp63.png",oF="/canopy-website/assets/Eshan-B0KQQaoO.png",lF="/canopy-website/assets/Isabelle-JJ7D4r43.png",cF="/canopy-website/assets/Kathy-LWbHeBeb.png",uF="/canopy-website/assets/Margot-dQO53QCL.png",dF="/canopy-website/assets/Pouline-BwHSs1uE.png",hF=()=>{const[n,e]=_.useState("CORE TEAM"),t=["CORE TEAM","FACILATORS AND FIELD VOLUNTEERS","VOLUNTEERS"],s=[{id:1,name:"Mohit Rauniyar",title:"Founder",category:"CORE TEAM",image:TO,description:"Established Canopy Nepal and leads its global vision, actively overseeing international chapters in the USA and France while driving strategic fundraising to expand impact and ensure long-term sustainability.",linkedin:"https://www.linkedin.com/in/mohitrauniyar/"},{id:2,name:"Monal Bhattarai",title:"Managing Director",category:"CORE TEAM",image:PO,description:"Leads Canopy's vision, partnerships, and fundraising strategysteering growth, building global relationships, and amplifying the organization's voice through thought leadership, board support, and international representation.",linkedin:"http://www.linkedin.com/in/monal-bhattarai-bb3261194"},{id:3,name:"Angirash Karki",title:"Executive Director",category:"CORE TEAM",image:jO,description:"Ensures Canopy operates smoothly by overseeing compliance, HR, finance, and risk management while building strong government partnerships and driving internal systems for staff performance and operational excellence.",linkedin:"https://www.linkedin.com/in/angirash-karki/"},{id:4,name:"Pratima Wosti",title:"Finance & Legal Officer",category:"CORE TEAM",image:NO,description:"Manages budgets, payments, and reports, ensuring Canopy's financial integrity with timely reconciliations, audit readiness, and clear communication of budget performance across all departments and proposals.",linkedin:"https://www.linkedin.com/in/pratima-wosti-005b72239/"},{id:5,name:"Anjula Joshi",title:"Program Coordinator",category:"CORE TEAM",image:RO,description:"Oversees the execution of Katha Bunaun and CANSHIP programs, ensuring sessions run smoothly, logistics are managed, and participants' feedback and program data are regularly reviewed and reported.",linkedin:"https://www.linkedin.com/in/anjula-joshi-she-her-352974217/"},{id:6,name:"Tanisha Agarwal",title:"Development Assistant",category:"CORE TEAM",image:OO,description:"Drives fundraising efforts by writing grant proposals, managing donor communications, organizing campaigns, and aligning program and finance teams to secure funding and report impact.",linkedin:"https://www.linkedin.com/in/tanisha-agarwal-a65585240/"},{id:7,name:"Wangmo Lama",title:"Communication Officer",category:"CORE TEAM",image:MO,description:"Leads Canopy's digital storytelling and branding, managing content creation, press outreach, and engagement strategies to increase visibility, share success stories, and build a strong online presence.",linkedin:"https://www.linkedin.com/in/wangmo-lama-b08688273/"},{id:8,name:"Abhishek Pradhan",title:"Monitoring and Evaluation Trainee",category:"CORE TEAM",image:FO,description:"Tracks program impact through assessments, reporting, and data tools, ensuring that insights guide decision-making, drive improvement, and reflect the voices of students and communities.",linkedin:null},{id:9,name:"Anusuya Dahal",title:"Facilitator Officer",category:"CORE TEAM",image:_O,description:"Supports and trains facilitators, ensures quality program delivery, manages performance reviews, and maintains a strong support system to foster facilitator growth and retention.",linkedin:"https://www.linkedin.com/in/anusuya-dahal-3b5884223/"},{id:10,name:"Siddhartha Guvaju",title:"Facilitator Officer",category:"CORE TEAM",image:kO,description:"Supports and trains facilitators, ensures quality program delivery, manages performance reviews, and maintains a strong support system to foster facilitator growth and retention.",linkedin:null},{id:11,name:"Monika Limbu",title:"School Liaison Officer",category:"CORE TEAM",image:IO,description:"Builds strong relationships with schools, conduct regular visits, coordinate events, monitor student well-being, and ensure timely feedback and collaboration with parents and teachers to support scholars holistically.",linkedin:"https://www.linkedin.com/in/monika-limbu-43119723r/"},{id:12,name:"Raghav Devkota",title:"Finance Intern",category:"CORE TEAM",image:DO,description:"Supports day-to-day accounting tasks, helps maintain organized records, assists with budget tracking, and learns nonprofit finance systems.",linkedin:null},{id:13,name:"Yamuna Thapa",title:"Kitchen and Care Champion",category:"CORE TEAM",image:LO,description:"Ensures a welcoming, hygienic, and well-fed environment by preparing nutritious meals, maintaining cleanliness, and supporting daily office upkeep, helping the team stay energized and focused on their work.",linkedin:null},{id:14,name:"Anala Shrestha",title:"Field Volunteer",category:"FACILATORS AND FIELD VOLUNTEERS",image:BO,description:"",linkedin:"https://www.linkedin.com/in/analashrestha1830/"},{id:15,name:"Aviska Upadhyaya",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:VO,description:"",linkedin:"https://np.linkedin.com/in/aaviska-upadhayaya-741755370"},{id:16,name:"Bimala Dahal",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:UO,description:"",linkedin:null},{id:17,name:"Biraj Poudel",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:zO,description:"",linkedin:null},{id:18,name:"Deepasha Maharjan",title:"Field Volunteer",category:"FACILATORS AND FIELD VOLUNTEERS",image:HO,description:"",linkedin:"https://www.linkedin.com/in/deepasha-maharjan-b30229206/"},{id:19,name:"Himshikha Dahal",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:WO,description:"",linkedin:null},{id:20,name:"Janvi Subedi",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$O,description:"",linkedin:null},{id:21,name:"Mamata Shah",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:GO,description:"",linkedin:null},{id:22,name:"Manila Magar",title:"Field Volunteer & Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:qO,description:"",linkedin:null},{id:23,name:"Megha Bhattarai",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:KO,description:"",linkedin:"https://www.linkedin.com/in/megha-bhattarai-73350a261/"},{id:24,name:"Mohit Muni Bajracharya",title:"Field Volunteer & Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:XO,description:"",linkedin:null},{id:25,name:"Nandita Ghimire",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:YO,description:"",linkedin:"https://www.linkedin.com/in/nandita-ghimire/"},{id:26,name:"Ojashwi Pun",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:QO,description:"",linkedin:null},{id:27,name:"Prarthana Sharma",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:JO,description:"",linkedin:"https://www.linkedin.com/in/prarthana-sharma-268a81330/"},{id:28,name:"Prastuti Chaulagain",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:ZO,description:"",linkedin:null},{id:29,name:"Pratikshya Poudel",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:eF,description:"",linkedin:null},{id:30,name:"Puspa kala Rai",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:tF,description:"",linkedin:"https://www.linkedin.com/in/puspa-kala-rai-226090353/"},{id:31,name:"Sobika Shrestha",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:nF,description:"",linkedin:null},{id:32,name:"Sristy Khadka",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:sF,description:"",linkedin:null},{id:33,name:"Sujal Adhikari",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:iF,description:"",linkedin:null},{id:34,name:"Abhishek Pradhan",title:"Volunteer, Nepal",category:"VOLUNTEERS",image:rF,description:"Abhishek is a Computer Science and Economics student at Washington and Lee University and a Bonner Scholar. He is an M&E Trainee at Canopy.",linkedin:"https://www.linkedin.com/in/abhishekpradhannn?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app"},{id:39,name:"Diki Yangzom",title:"Volunteer, USA",category:"VOLUNTEERS",image:aF,description:"Diki is a biology graduate from UMass Amherst with research and dental assisting experience. At Canopy USA, she manages our instagram page.",linkedin:"https://www.linkedin.com/in/diki-yangzom-70656b189?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=ios_app"},{id:40,name:"Eshan Shrestha",title:"Volunteer, USA",category:"VOLUNTEERS",image:oF,description:"Eshan is a student at Texas Tech University and is working on adding AI compotents to our webiste.",linkedin:null},{id:38,name:"Isabelle Hiller",title:"Volunteer, Germany",category:"VOLUNTEERS",image:lF,description:"Isabelle is a student-athlete at Williams College pursuing Art History and Political Science. She's also involved with the Clark Art Institute. At Canopy, she worked as a Graphic Design Intern.",linkedin:null},{id:37,name:"Katherine Gutierrez",title:"Volunteer, USA",category:"VOLUNTEERS",image:cF,description:"Katherine is a Harvard MPA/ID economist and policymaker with public finance and project management experience. At Canopy, she interned as an M&E advisor, enhancing monitoring systems in Nepal.",linkedin:"https://www.linkedin.com/in/katherine-gutierrez-abanto/"},{id:36,name:"Margot Arnaud",title:"Volunteer, France",category:"VOLUNTEERS",image:uF,description:"Margot is a medical student from Lyon, France, and volunteered with Canopy during her gap year. Passionate about social activism, she brings prior teaching experience and a deep love for the arts.",linkedin:null},{id:35,name:"Pauline Dteil",title:"Volunteer, France",category:"VOLUNTEERS",image:dF,description:"Pauline Dteil is a French graduate student in social and cultural development. She intered at Canopy through L'Abeille Asso. She brought experience in climate activism, ethical advocacy, and grassroots organizing.",linkedin:null}],i=n==="ALL"?s:s.filter(a=>a.category===n),r="bg-gray-50";return h.jsxs("div",{className:"bg-primary-orange/5 text-gray-800 mt-28 min-h-screen",children:[h.jsxs("div",{className:"py-16 text-center",children:[h.jsx("h1",{className:`text-5xl md:text-6xl font-bold mb-12 ${n==="VOLUNTEERS"?"text-green-600":"text-primary-orange"}`,children:"Meet Our Team"}),h.jsx("div",{className:"flex flex-wrap justify-center items-center gap-4 md:gap-8 text-sm md:text-base font-medium text-gray-600",children:t.map((a,o)=>h.jsxs(Fr.Fragment,{children:[h.jsx("button",{onClick:()=>e(a),className:`hover:text-primary-orange transition-colors duration-200 ${n===a?"text-gray-900 font-semibold":""}`,children:a}),o<t.length-1&&h.jsx("span",{className:"text-gray-400",children:"|"})]},a))})]}),h.jsxs("div",{className:"max-w-7xl mx-auto px-6 pb-20",children:[n==="FACILATORS AND FIELD VOLUNTEERS"&&h.jsx("div",{className:"mb-12 text-center",children:h.jsx("p",{className:"text-gray-700 text-lg max-w-3xl mx-auto",children:"Facilitators and Field Volunteers run engaging storytelling sessions, mentor students, track progress, and provide on-the-ground supportensuring students thrive both inside and outside the classroom."})}),n==="VOLUNTEERS"&&h.jsx("div",{className:"mb-12 text-center",children:h.jsx("p",{className:"text-gray-700 text-lg max-w-3xl mx-auto",children:"We are proud to present our volunteers who have joined us from different parts of the world and help increase our impact in Nepal."})}),h.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:i.map(a=>h.jsxs("div",{className:`${r} shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden w-full max-w-sm md:w-[calc(50%-12px)] lg:w-[calc(33.333%-16px)]`,children:[h.jsx("div",{className:"relative aspect-square overflow-hidden",children:h.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:`${r} p-6`,children:[h.jsxs("div",{className:"flex items-center mb-1",children:[h.jsx("h3",{className:`text-2xl font-bold mr-2 ${a.category==="VOLUNTEERS"?"text-green-600":"text-primary-orange"}`,children:a.name}),a.linkedin&&h.jsx("a",{href:a.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-primary-blue hover:text-primary-gray",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]}),h.jsx("p",{className:"text-m uppercase text-gray-600 tracking-wide",children:a.title}),n!=="FACILATORS AND FIELD VOLUNTEERS"&&h.jsx("p",{className:"mt-4 text-gray-700 text-base leading-relaxed",children:a.description})]})]},a.id))})]})]})},fF="/canopy-website/assets/Angirash-C5DqmfA6.png",pF="/canopy-website/assets/Mohit-qzP_MaJ4.png",mF="/canopy-website/assets/Roshan-B4dNNMCc.png",gF="/canopy-website/assets/Shreya-DU40YmMn.png",yF="/canopy-website/assets/Srishti-D1UDJci9.png",vF="/canopy-website/assets/Aditya-Cn3U-g1p.png",xF="/canopy-website/assets/Bijeysh-DS4fqpTe.png",wF="/canopy-website/assets/Niranjan-D3UlCa1y.png",bF="/canopy-website/assets/Saugat-B5EiNHph.png",AF="/canopy-website/assets/Shristi-Ct9SChgX.png",SF="/canopy-website/assets/Ashra-C9LLC7Z6.png",EF="/canopy-website/assets/Bhushan-BtEsMaCF.png",CF="/canopy-website/assets/Bibek-CSHkrsAY.png",kF="/canopy-website/assets/Bimla-c6_BnzJI.png",_F="/canopy-website/assets/Binju-osveto37.png",NF="/canopy-website/assets/Clement-CMA6ixk3.png",TF="/canopy-website/assets/Heather-B0bAT2Ot.png",PF="/canopy-website/assets/Meg-6KOC5MYk.png",jF="/canopy-website/assets/Needhika-Brkt286Q.png",RF="/canopy-website/assets/Sanam-Ds7FUvSY.png",IF="/canopy-website/assets/Subha-zOZL8x27.png",MF="/canopy-website/assets/Swexya-Cv5WyzVa.png",LF=()=>{const[n,e]=_.useState("BOARD OF DIRECTORS"),t=["BOARD OF DIRECTORS","ADVISORY BOARD"],i=[{id:1,name:"Angirash Karki",title:"Board of Director",category:"BOARD OF DIRECTORS",image:fF,description:"Angirash is an educator and social impact leader with a decade of experience across education, inclusion, and youth empowerment. He has led country operations for ISLearning, advised U.S. Embassy Youth Council and Rotary initiatives, mentored changemakers globally, and developed inclusive education policies with governments and the National Human Rights Commission."},{id:2,name:"Mohit Rauniyar",title:"Board of Director",category:"BOARD OF DIRECTORS",image:pF,description:"Mohit is a seasoned education and development leader with experience across Nepal, the U.S., and Europe. Alongside founding Canopy Nepal, he has led grants strategy at Riverside Immigrant Services, supported the launch of the University of Nepal, mentored social entrepreneurs in Ghana, organized climate initiatives in France, and shaped education policy dialogue globally. He holds a Masters in Education from Harvard University."},{id:3,name:"Roshan Bhatta",title:"Board of Director",category:"BOARD OF DIRECTORS",image:mF,description:"Roshan is a biomedical engineer and researcher with global experience across the U.S., Turkey, and Romania. He previously served as Canopy Nepal's Managing Director and has since worked in medical device quality assurance and nanotechnology R&D. Roshan brings a unique lens at the intersection of innovation, science, and education."},{id:4,name:"Shreya Upadhyay",title:"Board of Director",category:"BOARD OF DIRECTORS",image:gF,description:"Shreya is a social impact strategist and entrepreneur with experience leading volunteer programs, nonprofit operations, and youth initiatives. She co-founded Sweet Fix Nepal and has led international exchanges, board engagement, and cross-cultural programs that bridge purpose, community, and creativity."},{id:5,name:"Srishti Vaidya",title:"Board of Director",category:"BOARD OF DIRECTORS",image:yF,description:"Srishti is an economist and sustainability advocate with experience at the International Finance Corporation and Cummins Inc. She has led operations at Vaidya Group, advised global climate initiatives, and served as Nepal's youth delegate at COP28. She is also a Global Shaper and founder of Kathmandu's longest-running book club."},{id:6,name:"Aditya Todi",title:"Nepal",category:"ADVISORY BOARD",image:vF,description:"Aditya leads the metal manufacturing vertical at MC Group, a century-old business in Nepal. With past roles in consulting and development, he brings a global lens to strategic leadership. He holds degrees from Stanford and dual master's from Harvard Kennedy School and Harvard Business School."},{id:7,name:"Bijeysh Ranjit",title:"Nepal",category:"ADVISORY BOARD",image:xF,description:"Bijeysh is a social entrepreneur and founder of Danfe Works, which creates opportunities for marginalized communities through business with purpose. He previously led the nonprofit SAATH and has worked across the U.S., Europe, and Nepal. Passionate about impact, he's also a nature lover and lifelong learner."},{id:8,name:"Niranjan Kunwar",title:"Nepal",category:"ADVISORY BOARD",image:wF,description:"Niranjan is an educator, writer, and translator based in Kathmandu. With an M.S.Ed from CUNY, he bridges education, arts, and culture. He's the author of Between Queens and the Cities, and continues to champion inclusive storytelling through his forthcoming translation of Seto Dharti and a children's book."},{id:9,name:"Saugat Gautam",title:"Nepal",category:"ADVISORY BOARD",image:bF,description:"Saugat is a political science scholar and development leader with a decade of experience. He manages programs at the International Commission of Jurists and teaches at Thames College. As co-founder of Nepal Center for Integrated Development, he blends research, advocacy, and action for lasting social change."},{id:10,name:"Shristi Mishra",title:"Nepal",category:"ADVISORY BOARD",image:AF,description:"Shristi is an education researcher, entrepreneur, and Fulbright alum with experience at the World Bank, USAID, and DC's education agency. A former teacher in Nepal, she now runs Yak9 Chews, a pet wellness company based in Austinproving you can love data and dogs equally."},{id:11,name:"Ashra Acharya",title:"USA",category:"ADVISORY BOARD",image:SF,description:"Ashra leads executive operations at Bessemer Venture Partners and previously served as Director of Community for the Great Nepali Diaspora. Born in Nepal and raised in Texas, she brings heart and expertise to her work, always rooting her leadership in connection, equity, and community building."},{id:12,name:"Bhushan Dahal",title:"USA",category:"ADVISORY BOARD",image:EF,description:"Bhushan is a Ph.D. candidate in Educational Leadership at Florida State University and former Executive Director of Kids of Kathmandu. His leadership spans rebuilding schools, implementing digital classrooms, and advancing education policyconnecting academic insight with grassroots action to drive educational change in Nepal and beyond."},{id:13,name:"Bibek Raj Kandel",title:"USA",category:"ADVISORY BOARD",image:CF,description:"Bibek is a global energy and climate expert advising governments and institutions across Asia and Africa. With a decade of experience in climate finance and policy, he brings systems-level thinking and a commitment to equitable growth. He holds an MPA from Harvard Kennedy School."},{id:14,name:"Bimla Siwakoti",title:"USA",category:"ADVISORY BOARD",image:kF,description:"Bimla is a Health Informaticist at Deloitte, blending her technical background with lived experience from a refugee camp in Nepal. With degrees from Johns Hopkins and Penn State, she is passionate about improving healthcare systems and championing education equity through technology and data."},{id:15,name:"Binju Gaire",title:"USA",category:"ADVISORY BOARD",image:_F,description:"Binju is an IT Audit Manager at Deloitte, currently based in Dublin. With expertise in tech risk and compliance, she is equally committed to mental health, education, and financial literacy. She brings thoughtful insight and global experience to supporting impactful social change."},{id:16,name:"Clement V. Gomes",title:"USA",category:"ADVISORY BOARD",image:NF,description:"Clement is a Biology Professor at CUNY Guttman and founder of ISLearning. With decades of experience teaching in both K12 and higher education, he is passionate about fostering global citizenship and building inclusive learning environments. He holds a Ph.D. from Columbia University."},{id:17,name:"Heather Schultz",title:"USA",category:"ADVISORY BOARD",image:TF,description:"Heather helped launch Canopy's Katha Bunaun program in 2017 and continues to champion its mission. With years of experience in youth development and literacy, she now lives in Seattle and works as a Senior Onboarding Specialistalways bringing her love for learning to every role."},{id:18,name:"Meg Zuttermeister",title:"USA",category:"ADVISORY BOARD",image:PF,description:"Meg is an educator passionate about designing engaging and inclusive learning environments. Her work spans early intervention, parent coaching, and preschool education. She holds an M.Ed from Harvard and brings a deep understanding of human development to Canopy's mission of empowering learners at every stage."},{id:19,name:"Needika Adhikari",title:"USA",category:"ADVISORY BOARD",image:jF,description:"Needika is a Senior Analyst at Excelsior Energy Capital, managing renewable energy assets and advising on sustainability initiatives in the U.S. and Nepal. With an LLM from The Fletcher School, she brings analytical precision and a deep commitment to equitable climate solutions."},{id:20,name:"Sanam Karki",title:"USA",category:"ADVISORY BOARD",image:RF,description:"Sanam is a project and data management professional with experience in banking and nonprofit operations. With an MBA from the University of Southern Mississippi, she helps organizations improve systems, drive results, and build stronger teams through thoughtful analysis and collaborative leadership."},{id:21,name:"Subha Niroula",title:"USA",category:"ADVISORY BOARD",image:IF,description:"Subha is a Software Engineer with a passion for teaching and mathematics. With degrees from St. John's College and Wake Forest, he brings global academic experience and a love for lifelong learningbalancing code, books, and his second Master's degree while navigating Texas tech."},{id:22,name:"Swexya Panta",title:"USA",category:"ADVISORY BOARD",image:MF,description:"Swexya is a Senior Investment Analyst at the Carnegie Corporation of New York. With a strong foundation in financial research and analysis, she previously worked at Stone Forest Capital. She brings analytical clarity, curiosity, and commitment to socially impactful investing and education access."}].filter(a=>a.category===n),r="bg-gray-50";return h.jsxs("div",{className:"bg-primary-orange/5 text-gray-800 mt-28 min-h-screen",children:[h.jsxs("div",{className:"py-16 text-center",children:[h.jsx("h1",{className:`text-5xl md:text-6xl font-bold ${n==="BOARD OF DIRECTORS"?"text-primary-red":"text-[#4984c4]"} mb-12`,children:"Meet Our Board"}),h.jsx("div",{className:"flex flex-wrap justify-center items-center gap-4 md:gap-8 text-base font-medium text-gray-600",children:t.map((a,o)=>h.jsxs(Fr.Fragment,{children:[h.jsx("button",{onClick:()=>e(a),className:`hover:text-primary-red transition-colors duration-200 ${n===a?"text-gray-900 font-semibold":""}`,children:a}),o<t.length-1&&h.jsx("span",{className:"text-gray-400",children:"|"})]},a))})]}),h.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-20",children:h.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:i.map(a=>h.jsxs("div",{className:`${r} shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden w-full max-w-sm md:w-[calc(50%-12px)] lg:w-[calc(33.333%-16px)]`,children:[h.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[h.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),h.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center p-6",children:h.jsx("p",{className:"text-white text-md leading-relaxed",children:a.description})})]}),h.jsxs("div",{className:`${r} p-6`,children:[h.jsx("h3",{className:`text-2xl font-bold ${a.category==="BOARD OF DIRECTORS"?"text-primary-red":"text-[#4984c4]"} mb-1`,children:a.name}),h.jsx("p",{className:"text-base uppercase text-gray-600 tracking-wide",children:a.title})]})]},a.id))})})]})},DF="/canopy-website/assets/anmolimpact-BtRkEwjL.png",OF="/canopy-website/assets/rekhaImpact-DmWsduFh.png",FF=[{name:"Anmol Pun Magar",imageSrc:DF,shortBio:"From the serene green hills of Lukum in Rukum, a remote village inhabited by the Magar community, comes a boy whose journey reflects resilience.....",fullStory:`Case Study: Anmol Pun Magar

From the serene green hills of Lukum in Rukum, a remote village inhabited by the Magar community, comes a boy whose journey reflects resilience and a relentless pursuit of education. Meet Anmol Pun Magar, a 15-year-old ninth grader at Bloom Nepal School.

Anmol's early life in Lukum was filled with laughter, freedom, and a deep connection to nature. He fondly remembers his childhood games like guccha, hide and seek and the camaraderie with his village friends. "Life was simple, and the hills were home," he says. The peace and greenery of Lukum are things he still misses while living in the fast-paced Kathmandu Valley.

But Anmol has always known that dreams demand effort and sometimes, sacrifice. He dreams of joining the British Army, like the Gurkhas before him, and understands that strength without education is not enough. "I have to be smart and strong," he says with unwavering clarity. His resolve is what brought him back to Bloom Nepal School after an unexpected detour.

During the COVID-19 pandemic, Anmol had to leave Kathmandu and return to his village. It was a happy return in many ways with reunions with old friends, the fresh air of the hills but it came with a cost. Online education was nearly impossible in Lukum due to weak electricity and poor network access. Still determined, Anmol enrolled in the local school to continue learning, even if the resources were limited. But deep down, he knew he belonged in Bloom.

Once the pandemic restrictions loosened, Anmol began convincing his parents to return to Kathmandu. His village friends were puzzled as to why he wanted to leave the fun and comfort of home for more homework and strict routines? But Anmol never wavered. His persistence paid off: his parents agreed to move back, and Bloom Nepal School welcomed him once again. Soon after, he became a proud CANSHIP scholar.

Since returning, Anmol has shown remarkable progress in his academics, growing by [Insert Academic Growth %] over the past months. His teachers speak highly of his discipline and focus, noting how he makes the most of every learning opportunity.

But his growth hasn't been limited to the classroom. Anmol has also become more active in extracurricular activities, showing [Insert Extracurricular Engagement Growth %] improvement. He plays football passionately, trains regularly, and was recently selected for his school's upcoming football tournament. His agility and commitment make him a natural athlete and a step closer to his British Army dream.

He also participates in other school programs like dance and drawing competitions and has earned a reputation for being cheerful, confident, and inclusive. Living in a hostel hasn't been easy. He misses his family and his village but his goal keeps him grounded. "I'll visit home one day as someone my village can be proud of," he says.

Anmol is also proud of his identity. He continues to speak his native Magar language, something many children are beginning to lose in urban schools. "It's who I am," he says. And who he is, a determined, humble, and future-focused young boy is exactly why Canopy believes in him.

Through the CANSHIP scholarship, Anmol's path is clearer, his steps are stronger, and his dream is one step closer. He reminds us that potential exists in every village, waiting to be nurtured not just with books, but with belief.`},{name:"Rekha Bhujel",imageSrc:OF,shortBio:"For Rekha Bhujel, the Nepali language is not just a school subject. It is a lifeline to her roots, a thread connecting her to her home in the highlands of.....",fullStory:`Case Study: Rekha Bhujel

For Rekha Bhujel, a tenth grader at Shree Janakalyan School in Kathmandu, the Nepali language is not just a school subject. It is a lifeline to her roots, a thread connecting her to her home in the highlands of Okhaldhunga. Rekha carries a mission that's bigger than her textbooks: to redefine what education looks like in her village and to become the teacher she wished she had.

Rekha's day begins long before most of her peers have even opened their eyes. She wakes up early, studies for an hour, and then prepares breakfast for her entire family. This quiet discipline speaks volumes about her values. While many teenagers are still hitting the snooze button, Rekha is already investing in her future and in the well-being of those around her.

Her family moved from Okhaldhunga to Kathmandu with one goal in mind: access to quality education. That decision, led by her parents, gave Rekha the opportunity to observe two very different worlds. In Kathmandu, she found more resources, better-trained teachers, and a broader perspective. In contrast, she still remembers how schools back home would close during planting season, how qualified teachers were scarce, and how some families saw education as optional.

That contrast sparked a fire in Rekha. She began to think critically about not just what she was learning, but why. She often talks about the importance of understanding the cultural and economic barriers that keep children from learning. For Rekha, true reform means more than new buildings or new books, it means making education relevant, accessible, and rooted in community understanding.

Her dream is to become a Nepali teacher. Not just any teacher, but the kind who uplifts communities, inspires students, and stands as a voice of reason in a world still influenced by superstitions and limiting traditions. Rekha sees teachers as quiet revolutionaries who work in the background but change everything. She wants to be that kind of leader.

Since becoming a CANSHIP scholar, Rekha has shown significant growth in both her academic performance [Insert Academic Growth %] and extracurricular involvement [Insert Extracurricular Engagement Growth %]. She participates actively in school programs, contributes thoughtfully in class discussions, and brings a level of maturity far beyond her age.

Rekha also has a unique ability to reflect on her own culture with both love and critical thought. She is respectful of traditions but not afraid to question practices that prevent progress. She dreams of starting programs in Okhaldhunga that will keep schools running year-round, bring in qualified teachers, and support children who face financial hardship. She wants every child in her hometown to see education not as a privilege, but as a right.

"I aspire to be one of those people known for their contribution to society and as the go-to person for educational assistance," she says. "Along with that, I also want to be a support system for those facing financial challenges."

Rekha Bhujel is a powerful example of what happens when determination meets opportunity. Her dream of becoming a teacher is not just a career choice but a commitment to her community. With the support of Canopy, Rekha is transforming from a student into a changemaker.`}],BF=({student:n,onClose:e})=>h.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4",onClick:e,children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6 sm:p-8",onClick:t=>t.stopPropagation(),children:[h.jsx("img",{src:n.imageSrc,alt:n.name,className:"w-32 h-32 object-cover rounded-full mx-auto mb-4 border-4 border-primary-orange"}),h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-primary-orange",children:n.name}),h.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 text-3xl",children:""})]}),h.jsx("div",{className:"text-gray-600 space-y-4 prose",children:n.fullStory.split(`

`).map((t,s)=>h.jsx("p",{children:t},s))})]})}),VF=({student:n,onClick:e})=>{const[t,s]=_.useState(!1),[i,r]=_.useState(!1),a=()=>{t||i||(s(!0),r(!0),setTimeout(()=>{e()},300),setTimeout(()=>{s(!1),r(!1)},1500))};return h.jsx("div",{className:"[perspective:1000px] w-full max-w-sm",children:h.jsxs("div",{className:`relative w-full transition-transform duration-500 [transform-style:preserve-3d] ${t?"[transform:rotateY(180deg)]":""}`,onClick:a,children:[h.jsx("div",{className:"[backface-visibility:hidden] w-full cursor-pointer",children:h.jsxs("div",{className:"bg-[#FFFBF2] rounded-xl p-5 text-center shadow-md hover:shadow-lg transition-shadow",children:[h.jsx("img",{src:n.imageSrc,alt:n.name,className:"w-full h-48 object-cover rounded-lg mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-primary-orange mb-2",children:n.name}),h.jsx("p",{className:"text-gray-600 text-sm mb-4",children:n.shortBio}),h.jsx("button",{onClick:o=>{o.stopPropagation(),a()},className:"mt-1 px-1 py-1 bg-primary-orange text-white text-sm rounded-lg shadow hover:bg-primary-blue transition-colors",children:"Read More"})]})}),h.jsx("div",{className:"absolute top-0 left-0 [backface-visibility:hidden] [transform:rotateY(180deg)] w-full",children:h.jsx("div",{className:"bg-[#FFFBF2] rounded-xl p-5 text-center shadow-md h-[364px]"})})]})})},UF=()=>{const[n,e]=_.useState(!1),[t,s]=_.useState(null),i=a=>{s(a),e(!0)},r=()=>{e(!1),s(null)};return h.jsxs("section",{className:"py-16",children:[h.jsx("h2",{className:"text-4xl font-bold text-center text-primary-blue mb-8",children:"Stories of Change"}),h.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center gap-12 px-4",children:FF.map(a=>h.jsx(VF,{student:a,onClick:()=>i(a)},a.name))}),n&&t&&h.jsx(BF,{student:t,onClose:r})]})},zF="/canopy-website/assets/impacthero-C6J0IsBI.png";function HF(n,e){if(n==null)return{};var t={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)!==-1)continue;t[s]=n[s]}return t}function Zp(){return Zp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Zp.apply(null,arguments)}function gv(n,e){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},gv(n,e)}function WF(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,gv(n,e)}function qg(n,e,t){if(t||arguments.length===2)for(var s=0,i=e.length,r;s<i;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return n.concat(r||Array.prototype.slice.call(e))}/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var wA=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,$F=/\\([\u000b\u0020-\u00ff])/g,GF=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,qF=KF;function KF(n){if(!n)throw new TypeError("argument string is required");var e=typeof n=="object"?XF(n):n;if(typeof e!="string")throw new TypeError("argument string is required to be a string");var t=e.indexOf(";"),s=t!==-1?e.slice(0,t).trim():e.trim();if(!GF.test(s))throw new TypeError("invalid media type");var i=new YF(s.toLowerCase());if(t!==-1){var r,a,o;for(wA.lastIndex=t;a=wA.exec(e);){if(a.index!==t)throw new TypeError("invalid parameter format");t+=a[0].length,r=a[1].toLowerCase(),o=a[2],o.charCodeAt(0)===34&&(o=o.slice(1,-1),o.indexOf("\\")!==-1&&(o=o.replace($F,"$1"))),i.parameters[r]=o}if(t!==e.length)throw new TypeError("invalid parameter format")}return i}function XF(n){var e;if(typeof n.getHeader=="function"?e=n.getHeader("content-type"):typeof n.headers=="object"&&(e=n.headers&&n.headers["content-type"]),typeof e!="string")throw new TypeError("content-type header is missing from object");return e}function YF(n){this.parameters=Object.create(null),this.type=n}var Ko=new Map,m_=function(e){return e.cloneNode(!0)},bA=function(){return window.location.protocol==="file:"},g_=function(e,t,s){var i=new XMLHttpRequest;i.onreadystatechange=function(){try{if(!/\.svg/i.test(e)&&i.readyState===2){var r=i.getResponseHeader("Content-Type");if(!r)throw new Error("Content type not found");var a=qF(r).type;if(!(a==="image/svg+xml"||a==="text/plain"))throw new Error("Invalid content type: ".concat(a))}if(i.readyState===4){if(i.status===404||i.responseXML===null)throw new Error(bA()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+e);if(i.status===200||bA()&&i.status===0)s(null,i);else throw new Error("There was a problem injecting the SVG: "+i.status+" "+i.statusText)}}catch(o){if(i.abort(),o instanceof Error)s(o,i);else throw o}},i.open("GET",e),i.withCredentials=t,i.overrideMimeType&&i.overrideMimeType("text/xml"),i.send()},ar={},AA=function(e,t){ar[e]=ar[e]||[],ar[e].push(t)},QF=function(e){for(var t=function(a,o){setTimeout(function(){if(Array.isArray(ar[e])){var l=Ko.get(e),c=ar[e][a];l instanceof SVGSVGElement&&c(null,m_(l)),l instanceof Error&&c(l),a===ar[e].length-1&&delete ar[e]}},0)},s=0,i=ar[e].length;s<i;s++)t(s)},JF=function(e,t,s){if(Ko.has(e)){var i=Ko.get(e);if(i===void 0){AA(e,s);return}if(i instanceof SVGSVGElement){s(null,m_(i));return}}Ko.set(e,void 0),AA(e,s),g_(e,t,function(r,a){var o;r?Ko.set(e,r):((o=a.responseXML)===null||o===void 0?void 0:o.documentElement)instanceof SVGSVGElement&&Ko.set(e,a.responseXML.documentElement),QF(e)})},ZF=function(e,t,s){g_(e,t,function(i,r){var a;i?s(i):((a=r.responseXML)===null||a===void 0?void 0:a.documentElement)instanceof SVGSVGElement&&s(null,r.responseXML.documentElement)})},e4=0,t4=function(){return++e4},js=[],SA={},n4="http://www.w3.org/2000/svg",Kg="http://www.w3.org/1999/xlink",EA=function(e,t,s,i,r,a,o){var l=e.getAttribute("data-src")||e.getAttribute("src");if(!l){o(new Error("Invalid data-src or src attribute"));return}if(js.indexOf(e)!==-1){js.splice(js.indexOf(e),1),e=null;return}js.push(e),e.setAttribute("src","");var c=i?JF:ZF;c(l,r,function(d,f){if(!f){js.splice(js.indexOf(e),1),e=null,o(d);return}var p=e.getAttribute("id");p&&f.setAttribute("id",p);var m=e.getAttribute("title");m&&f.setAttribute("title",m);var y=e.getAttribute("width");y&&f.setAttribute("width",y);var v=e.getAttribute("height");v&&f.setAttribute("height",v);var S=Array.from(new Set(qg(qg(qg([],(f.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(e.getAttribute("class")||"").split(" "),!0))).join(" ").trim();f.setAttribute("class",S);var g=e.getAttribute("style");g&&f.setAttribute("style",g),f.setAttribute("data-src",l);var x=[].filter.call(e.attributes,function(j){return/^data-\w[\w-]*$/.test(j.name)});if(Array.prototype.forEach.call(x,function(j){j.name&&j.value&&f.setAttribute(j.name,j.value)}),s){var w={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]},E,k,T,N,P;Object.keys(w).forEach(function(j){E=j,T=w[j],k=f.querySelectorAll(E+"[id]");for(var H=function(he,De){N=k[he].id,P=N+"-"+t4();var et;Array.prototype.forEach.call(T,function(ge){et=f.querySelectorAll("["+ge+'*="'+N+'"]');for(var Ne=0,gt=et.length;Ne<gt;Ne++){var Xe=et[Ne].getAttribute(ge);Xe&&!Xe.match(new RegExp('url\\("?#'+N+'"?\\)'))||et[Ne].setAttribute(ge,"url(#"+P+")")}});for(var fe=f.querySelectorAll("[*|href]"),ae=[],Xt=0,bn=fe.length;Xt<bn;Xt++){var Ee=fe[Xt].getAttributeNS(Kg,"href");Ee&&Ee.toString()==="#"+k[he].id&&ae.push(fe[Xt])}for(var si=0,la=ae.length;si<la;si++)ae[si].setAttributeNS(Kg,"href","#"+P);k[he].id=P},W=0,ie=k.length;W<ie;W++)H(W)})}f.removeAttribute("xmlns:a");for(var R=f.querySelectorAll("script"),I=[],M,q,U=0,$=R.length;U<$;U++)q=R[U].getAttribute("type"),(!q||q==="application/ecmascript"||q==="application/javascript"||q==="text/javascript")&&(M=R[U].innerText||R[U].textContent,M&&I.push(M),f.removeChild(R[U]));if(I.length>0&&(t==="always"||t==="once"&&!SA[l])){for(var Q=0,Y=I.length;Q<Y;Q++)new Function(I[Q])(window);SA[l]=!0}var O=f.querySelectorAll("style");if(Array.prototype.forEach.call(O,function(j){j.textContent+=""}),f.setAttribute("xmlns",n4),f.setAttribute("xmlns:xlink",Kg),a(f),!e.parentNode){js.splice(js.indexOf(e),1),e=null,o(new Error("Parent node is null"));return}e.parentNode.replaceChild(f,e),js.splice(js.indexOf(e),1),e=null,o(null,f)})},s4=function(e,t){var s=t===void 0?{}:t,i=s.afterAll,r=i===void 0?function(){}:i,a=s.afterEach,o=a===void 0?function(){}:a,l=s.beforeEach,c=l===void 0?function(){}:l,d=s.cacheRequests,f=d===void 0?!0:d,p=s.evalScripts,m=p===void 0?"never":p,y=s.httpRequestWithCredentials,v=y===void 0?!1:y,S=s.renumerateIRIElements,g=S===void 0?!0:S;if(e&&"length"in e)for(var x=0,w=0,E=e.length;w<E;w++)EA(e[w],m,g,f,v,c,function(k,T){o(k,T),e&&"length"in e&&e.length===++x&&r(x)});else e?EA(e,m,g,f,v,c,function(k,T){o(k,T),r(1),e=null}):r(0)},y_={exports:{}},i4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",r4=i4,a4=r4;function v_(){}function x_(){}x_.resetWarningCache=v_;var o4=function(){function n(s,i,r,a,o,l){if(l!==a4){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:x_,resetWarningCache:v_};return t.PropTypes=t,t};y_.exports=o4();var ot=y_.exports,l4=function(e){var t=(e==null?void 0:e.ownerDocument)||document;return t.defaultView||window},c4=function(e,t){for(var s in e)if(!(s in t))return!0;for(var i in t)if(e[i]!==t[i])return!0;return!1},u4=["afterInjection","beforeInjection","desc","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","title","useRequestCache","wrapper"],wf="http://www.w3.org/2000/svg",CA="http://www.w3.org/1999/xlink",gw=function(n){function e(){for(var s,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return s=n.call.apply(n,[this].concat(r))||this,s.initialState={hasError:!1,isLoading:!0},s.state=s.initialState,s._isMounted=!1,s.reactWrapper=void 0,s.nonReactWrapper=void 0,s.refCallback=function(o){s.reactWrapper=o},s}WF(e,n);var t=e.prototype;return t.renderSVG=function(){var i=this;if(this.reactWrapper instanceof l4(this.reactWrapper).Node){var r=this.props,a=r.desc,o=r.evalScripts,l=r.httpRequestWithCredentials,c=r.renumerateIRIElements,d=r.src,f=r.title,p=r.useRequestCache,m=this.props.onError,y=this.props.beforeInjection,v=this.props.afterInjection,S=this.props.wrapper,g,x;S==="svg"?(g=document.createElementNS(wf,S),g.setAttribute("xmlns",wf),g.setAttribute("xmlns:xlink",CA),x=document.createElementNS(wf,S)):(g=document.createElement(S),x=document.createElement(S)),g.appendChild(x),x.dataset.src=d,this.nonReactWrapper=this.reactWrapper.appendChild(g);var w=function(N){if(i.removeSVG(),!i._isMounted){m(N);return}i.setState(function(){return{hasError:!0,isLoading:!1}},function(){m(N)})},E=function(N,P){if(N){w(N);return}i._isMounted&&i.setState(function(){return{isLoading:!1}},function(){try{v(P)}catch(R){w(R)}})},k=function(N){if(N.setAttribute("role","img"),a){var P=N.querySelector(":scope > desc");P&&N.removeChild(P);var R=document.createElement("desc");R.innerHTML=a,N.prepend(R)}if(f){var I=N.querySelector(":scope > title");I&&N.removeChild(I);var M=document.createElement("title");M.innerHTML=f,N.prepend(M)}try{y(N)}catch(q){w(q)}};s4(x,{afterEach:E,beforeEach:k,cacheRequests:p,evalScripts:o,httpRequestWithCredentials:l,renumerateIRIElements:c})}},t.removeSVG=function(){var i;(i=this.nonReactWrapper)!=null&&i.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},t.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},t.componentDidUpdate=function(i){var r=this;c4(Zp({},i),this.props)&&this.setState(function(){return r.initialState},function(){r.removeSVG(),r.renderSVG()})},t.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},t.render=function(){var i=this.props;i.afterInjection,i.beforeInjection,i.desc,i.evalScripts;var r=i.fallback;i.httpRequestWithCredentials;var a=i.loading;i.renumerateIRIElements,i.src,i.title,i.useRequestCache;var o=i.wrapper,l=HF(i,u4),c=o;return _.createElement(c,Zp({},l,{ref:this.refCallback},o==="svg"?{xmlns:wf,xmlnsXlink:CA}:{}),this.state.isLoading&&a&&_.createElement(a,null),this.state.hasError&&r&&_.createElement(r,null))},e}(_.Component);gw.defaultProps={afterInjection:function(){},beforeInjection:function(){},desc:"",evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,onError:function(){},renumerateIRIElements:!0,title:"",useRequestCache:!0,wrapper:"div"};gw.propTypes={afterInjection:ot.func,beforeInjection:ot.func,desc:ot.string,evalScripts:ot.oneOf(["always","once","never"]),fallback:ot.oneOfType([ot.func,ot.object,ot.string]),httpRequestWithCredentials:ot.bool,loading:ot.oneOfType([ot.func,ot.object,ot.string]),onError:ot.func,renumerateIRIElements:ot.bool,src:ot.string.isRequired,title:ot.string,useRequestCache:ot.bool,wrapper:ot.oneOf(["div","span","svg"])};const d4="/canopy-website/assets/map-CZ5iEWf6.svg",h4="740.78,361.08 741.22,361.37 741.3,361.62 741.18,362.02 741.06,362.45 741.1,362.77 741.14,363.32 741.14,363.67 741.02,364.43 740.89,364.9 740.81,365.26 740.57,365.66 740.2,365.8 739.64,365.83 739.23,365.91 738.87,366.16 738.54,366.74 738.3,367.17 737.97,367.85 737.69,368.43 737.49,368.86 737.32,369.29 737.04,370.19 736.8,370.7 736.59,371.09 736.19,371.34 735.82,371.42 735.46,371.52 735.01,371.78 734.57,372.14 734.33,372.46 734.12,372.75 733.84,372.89 733.35,372.89 732.91,372.82 732.3,372.82 731.98,372.97 731.61,373.22 730.92,373.51 730.28,373.69 729.63,373.83 729.06,374.08 728.7,374.23 728.29,374.34 727.85,374.48 727.61,374.6 727.48,374.3 727.32,374.12 727.2,373.91 726.96,373.69 726.79,373.55 726.67,373.4 726.51,373.22 726.26,373.01 726.06,372.9 725.77,372.76 725.65,372.62 725.53,372.51 725.45,372.4 725.21,372.22 725.05,371.97 724.68,371.61 724.52,371.43 724.32,371.29 724.2,371.11 724.03,370.97 723.91,370.86 723.75,370.75 723.47,370.61 723.35,370.54 723.1,370.39 722.94,370.32 722.58,370.18 722.33,370.07 721.65,369.85 721.48,369.71 721.32,369.6 721.16,369.53 721,369.5 720.68,369.39 720.59,369.25 720.51,369.07 720.47,368.81 720.39,368.63 720.23,368.45 719.91,368.51 720.08,368.15 720.12,368.01 720.16,367.76 720.24,367.5 720.24,367.36 720.44,366.96 720.56,366.78 720.84,366.46 721.05,366.21 721.25,366.06 721.45,365.95 721.78,365.81 722.1,365.74 722.3,365.7 722.55,365.59 723.03,365.27 723.15,365.2 723.68,364.87 724.05,364.66 724.29,364.55 724.85,364.33 725.02,364.22 725.38,363.97 725.71,363.72 725.83,363.61 726.03,363.5 726.52,363.14 726.88,362.74 726.96,362.46 727.08,362.13 727.33,361.99 727.49,361.99 727.89,361.92 728.3,361.77 728.5,361.74 729.07,361.45 729.51,361.27 729.84,361.23 730.2,361.23 730.57,361.3 730.93,361.34 731.26,361.45 731.58,361.55 732.07,361.88 732.31,361.99 732.47,362.02 732.71,362.13 732.92,362.13 733.32,362.06 733.77,361.91 733.89,362.02 734.74,362.16 734.9,362.13 735.27,362.09 735.71,362.02 736.04,361.98 736.28,361.91 736.52,361.88 736.81,361.8 737.13,361.73 737.37,361.69 737.66,361.62 737.98,361.59 738.26,361.59 738.55,361.59 738.75,361.55 739.2,361.44 739.36,361.41 739.72,361.33 739.93,361.26",f4={Bhaktapur:{name:"Bhaktapur",province:"Bagmati Province",schools:2,students:60,description:"Supporting education in the ancient city"}};function p4(){const[n,e]=_.useState(null),[t,s]=_.useState({x:0,y:0}),i=_.useRef(null),r=a=>{a.querySelectorAll("polygon, path").forEach(d=>{const f=d;f.style.fill="#f8dfad",f.style.stroke="#000000",f.style.strokeWidth="0.5px"}),a.querySelectorAll("text").forEach(d=>{["Sudurpashchim","Karnali","Gandaki","Bagmati","Province No. 1","Province No. 2","Province No. 5"].some(p=>{var m;return(m=d.textContent)==null?void 0:m.includes(p)})&&d.remove()});const c=document.createElementNS("http://www.w3.org/2000/svg","polygon");c.setAttribute("points",h4),c.style.fill="transparent",c.style.stroke="none",c.style.strokeWidth="2px",c.style.cursor="pointer",c.style.transition="fill 0.2s ease, stroke 0.2s ease",c.style.pointerEvents="auto",c.addEventListener("pointerenter",d=>{var p;c.style.fill="#00CED1",c.style.stroke="#00B6B8";const f=(p=i.current)==null?void 0:p.getBoundingClientRect();f&&(s({x:d.clientX-f.left,y:d.clientY-f.top}),e(f4.Bhaktapur))}),c.addEventListener("pointerleave",d=>{console.log("mouseleave"),c.style.fill="transparent",c.style.stroke="none",e(null)}),a.appendChild(c)};return h.jsxs("div",{className:"w-full bg-gray-50 py-12 md:py-20 px-4",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-blue-800 mb-2",children:"Where We Work"}),h.jsx("p",{className:"text-center text-gray-600 max-w-3xl mx-auto mb-8 md:mb-12",children:"Hover over districts to see our impact."}),h.jsxs("div",{className:"relative max-w-5xl mx-auto",ref:i,children:[h.jsx(gw,{src:d4,beforeInjection:r,className:"w-full h-auto",wrapper:"div"}),n&&h.jsxs("div",{className:"absolute z-50 p-4 bg-white rounded-lg shadow-xl border border-gray-200 max-w-xs pointer-events-none",style:{left:t.x,top:t.y,transform:"translate(-50%, -110%)"},children:[h.jsx("h3",{className:"font-bold text-lg text-blue-800 mb-1",children:n.name}),h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:n.province}),h.jsxs("div",{className:"space-y-1 text-sm",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Schools:"})," ",n.schools]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Students:"})," ",n.students.toLocaleString()]})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:n.description})]})]})]})}const m4="/canopy-website/assets/1-BHinvWEy.png",g4="/canopy-website/assets/2-C_NtJgxh.png",y4="/canopy-website/assets/3-BBOsCbBP.png",v4="/canopy-website/assets/4-DgMhUwv3.png",x4="/canopy-website/assets/5-CSsddVsu.png",w4="/canopy-website/assets/8-BxZQHxpQ.png",b4="/canopy-website/assets/10-C9o8uWDS.png",A4="/canopy-website/assets/17-fotQGLL8.png",S4=[{img:m4},{img:g4},{img:y4},{img:v4},{img:x4},{img:w4},{img:b4},{img:A4}],E4=()=>h.jsxs("div",{className:"w-full overflow-hidden px-4 md:px-16 pt-18 bg-white",children:[h.jsx("h2",{className:"text-3xl md:text-3xl font-bold text-center text-primary-blue mb-8",children:"Contributing to the SDGs"}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-5xl mx-auto",children:S4.map(n=>h.jsx("div",{className:"flex flex-col items-center justify-center  shadow-md min-h-[200px]",children:h.jsx("div",{className:"flex items-center space-x-2 ",children:h.jsx("img",{src:n.img,alt:"sdgicons",className:"w-full h-full object-fill"})})}))})]}),Xg=({title:n,preValue:e,postValue:t,growth:s,maxValue:i,width:r=140,height:a=280})=>{const o=a,l=o/i,c=e*l,d=t*l,f=Array.from({length:Math.ceil(i)+1},(y,v)=>v).reverse(),p=Math.max(48,Math.floor(r/5)),m=Math.max(16,Math.floor(r/18));return h.jsxs("div",{className:"flex flex-col items-center text-center w-full",style:{maxWidth:r+60},children:[h.jsx("div",{className:"flex w-full items-end justify-center",children:h.jsxs("div",{className:"flex items-end border-b-2 border-l-2 border-gray-300 relative pl-4 pr-2",style:{height:o+10,width:r},children:[f.map(y=>h.jsx("div",{className:"absolute text-right w-6 -left-8 text-xs text-gray-500",style:{bottom:`${y*l-4}px`},children:y},y)),h.jsxs("div",{className:"h-full flex justify-center items-end relative",style:{width:r-40,gap:m},children:[h.jsxs("div",{className:"relative group flex justify-center",children:[h.jsx("div",{className:"bg-primary-orange/20 rounded-t-sm",style:{width:p,height:`${c}px`}}),h.jsxs("div",{className:"absolute bottom-full z-10 mb-2 w-max px-2 py-1 bg-gray-800 text-white text-xs rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:["Before Canopy: ",e.toFixed(1)]})]}),h.jsxs("div",{className:"relative group flex justify-center",children:[h.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 text-center text-xs font-bold text-primary-orange",children:[s,h.jsx("br",{}),"growth"]}),h.jsx("div",{className:"bg-primary-orange rounded-t-sm transition-all duration-300 ease-in-out hover:opacity-80",style:{width:p,height:`${d}px`}}),h.jsxs("div",{className:"absolute bottom-full z-10 mb-2 w-max px-2 py-1 bg-gray-800 text-white text-xs rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:["After Canopy: ",t.toFixed(1)]})]})]})]})}),h.jsx("p",{className:"text-base font-semibold text-gray-700 mt-1 px-1 h-12 flex items-center justify-center text-center",children:n})]})},kA=()=>{const n=[{title:"Creativity",preValue:1.3,postValue:3,growth:"57%"},{title:"Self Expression",preValue:1.1,postValue:2.6,growth:"60%"},{title:"Critical Thinking",preValue:1,postValue:2.1,growth:"51%"},{title:"Attendance",preValue:3,postValue:3.9,growth:"77%"},{title:"Academic Results",preValue:1.8,postValue:4.7,growth:"62.3%"},{title:"Extracurricular Activities Participation",preValue:2,postValue:4,growth:"50%"},{title:"Academic Support by Family",preValue:3,postValue:5,growth:"66.7%"}],e=n.slice(0,4),t=n.slice(4,7),s=Math.max(...n.map(o=>o.postValue),5),i=[{headline:`10 IN 10
SCHOLARS`,subtext:"are employed after graduation"},{headline:`54%
INCREASE`,subtext:"in students' reading, writing, and critical thinking skills"},{headline:`77%
INCREASE`,subtext:"in school attendance after Canopy's support"},{headline:`9 IN 10
SCHOLARS`,subtext:"feel mentally stronger and less overwhelmed at school after Canopy's support"}],[r,a]=_.useState(0);return _.useEffect(()=>{const o=setInterval(()=>{a(l=>(l+1)%n.length)},3e3);return()=>clearInterval(o)},[n.length]),h.jsxs("section",{className:"bg-white mt-28",children:[h.jsxs("div",{className:"relative h-[400px] w-full flex items-center justify-center text-white",children:[h.jsx("img",{src:zF,alt:"Students supported by Canopy Nepal",className:"absolute inset-0 w-full h-[400px] object-cover"}),h.jsx("div",{className:"absolute inset-0 "}),h.jsx("h1",{className:"relative text-5xl sm:text-7xl font-bold z-10 ",children:"Our Impact"})]}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("p",{className:"text-center text-primary-blue max-w-5xl mx-auto text-2xl leading-relaxed",children:"At Canopy Nepal, we measure impact not just in numbers, but in transformed lives, classrooms, and communities. From long-term scholarships to storytelling-powered learning, our programs help students stay in school, build essential life skills, and unlock opportunity."}),h.jsxs("div",{className:"mt-16",children:[h.jsx("div",{className:"block lg:hidden",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(Xg,{...n[r],maxValue:s,width:360,height:270}),h.jsx("div",{className:"flex justify-center mt-6 gap-2",children:n.map((o,l)=>h.jsx("button",{onClick:()=>a(l),className:`h-3 w-3 rounded-full transition-all duration-300 ${l===r?"bg-primary-orange scale-125":"bg-primary-orange/30 hover:bg-primary-orange/60"}`,"aria-label":`Go to chart ${l+1}`},l))})]})}),h.jsx("div",{className:"hidden lg:block",children:h.jsxs("div",{className:"space-y-12",children:[h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-x-3 gap-y-12",children:e.map(o=>h.jsx(Xg,{...o,maxValue:s,width:260,height:270},o.title))}),h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-8 gap-y-12",children:t.map(o=>h.jsx(Xg,{...o,maxValue:s,width:260,height:270},o.title))})})]})}),h.jsx("div",{className:"mt-12 flex justify-end pr-4",children:h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-4 h-4 rounded-sm bg-primary-orange/20"}),h.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Before Canopy"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-4 h-4 rounded-sm bg-primary-orange"}),h.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"After Canopy"})]})]})}),h.jsx("div",{className:"flex justify-center mt-4",children:h.jsx("span",{className:"italic text-gray-500 text-base",children:"*based on survey of 15,000+ students"})})]}),h.jsx("div",{className:"max-w-5xl mx-auto mt-20",children:h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:i.map((o,l)=>h.jsxs("div",{className:"bg-[#C6DCE8] rounded-2xl p-8 flex flex-col items-center text-center h-full",children:[h.jsx("div",{className:"text-primary-blue text-3xl sm:text-4xl font-extrabold mb-2 whitespace-pre-line",children:o.headline}),h.jsx("div",{className:" text-lg sm:text-xl font-normal mt-2",children:o.subtext})]},l))})}),h.jsx("div",{className:"flex justify-center mt-4",children:h.jsx("span",{className:"italic text-gray-500 text-base",children:"*based on survey of 15,000+ students"})}),h.jsx(UF,{}),h.jsx(p4,{}),h.jsx(a_,{}),h.jsx(E4,{})]})]})},C4="/canopy-website/assets/canfranhead-Dv5ZdoYK.png",k4="/canopy-website/assets/canfran-BaCx03b0.png",_4="/canopy-website/assets/canopyfrance-g2Ql284e.jpeg",N4="/canopy-website/assets/Mohit_USA-CymHCpz2.png",T4="/canopy-website/assets/Olivia_France-DZ2wrCKY.png",P4="/canopy-website/assets/Ainhoa_France-DXOHoYIF.png",j4=[{id:1,name:"Mohit Rauniyar",category:"CORE TEAM",image:N4,description:"Established Canopy Nepal and leads its global vision, actively overseeing international chapters in the USA and France while driving strategic fundraising to expand impact and ensure long-term sustainability.",linkedin:"https://www.linkedin.com/in/mohitrauniyar/"},{id:3,name:"Ainhoa Beneitez",category:"CORE TEAM",image:P4,description:"Committed team member working to strengthen connections between the Nepali diaspora and allies in France while supporting Canopy's educational initiatives.",linkedin:"https://www.linkedin.com/in/ainhoa-beneitez-343b87170/"},{id:2,name:"Olivia Palermo",category:"CORE TEAM",image:T4,description:"Passionate team member dedicated to Canopy France's mission of supporting education equity in Nepal through fundraising, cultural events, and community engagement across France.",linkedin:""}],R4=()=>h.jsxs("div",{className:"bg-white font-sans mt-28",children:[h.jsxs("div",{className:"relative h-[400px] overflow-hidden mb-2",children:[h.jsx("img",{src:C4,alt:"Children in Nepal",className:"w-full h-[400px] object-cover"}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:h.jsx("h1",{className:"text-white text-6xl font-bold",children:"Canopy France"})})]}),h.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx("div",{className:"py-8 text-center",children:h.jsxs("p",{className:"text-2xl text-gray-700 leading-relaxed",children:["Established in 2022, ",h.jsx("span",{className:"text-primary-red font-bold",children:"Canopy France is our first international chapter"}),", founded by a passionate group of young changemakers from France and Nepal. Registered as a legal nonprofit under French law, the chapter supports Canopy Nepal by raising awareness, building partnerships, and mobilizing resources across Europe."]})}),h.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-stretch h-full",children:[h.jsx("div",{className:"w-full md:w-1/2 h-[400px] md:h-auto",children:h.jsx("img",{src:k4,alt:"Students in a classroom",className:"w-full h-full object-cover object-center"})}),h.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[h.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"What We Do?"}),h.jsxs("ul",{className:"list-disc text-gray-700 space-y-6 text-2xl",children:[h.jsx("li",{className:"text-xl",children:"Organize creative fundraising campaigns, cultural events, and storytelling nights across France"}),h.jsx("li",{className:"text-xl",children:"Strengthen connections between the Nepali diaspora and allies in France"}),h.jsx("li",{className:"text-xl",children:"Raise awareness around education equity through exhibitions, university partnerships, and youth networks"}),h.jsx("li",{className:"text-xl",children:"Directly support core programs like CANSHIP and Katha Bunaun with financial and advocacy support"})]})]})]})}),h.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen pb-8",children:h.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-stretch h-full",children:[h.jsx("div",{className:"w-full md:w-1/2 h-[400px] md:h-auto",children:h.jsx("img",{src:_4,alt:"Volunteer for Canopy France",className:"w-full h-[500px] object-cover object-bottom"})}),h.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-16 py-16 bg-white",children:[h.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"Want to Get Involved?"}),h.jsx("p",{className:"text-gray-700 text-xl mb-4",children:"If you're based in France and want to help us:"}),h.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-6 text-2xl",children:[h.jsx("li",{className:"text-xl",children:"Host a fundraiser or awareness event"}),h.jsx("li",{className:"text-xl",children:"Partner with us for an academic or youth engagement initiative"}),h.jsx("li",{className:"text-xl",children:"Volunteer your time or skills"})]}),h.jsxs("div",{className:"mt-8",children:[h.jsx("span",{className:"font-bold text-2xl text-gray-800",children:"Reach out to us at:"}),h.jsx("br",{}),h.jsx("a",{href:"mailto:contact@canopyfrance.fr",className:"text-primary-red hover:underline break-all text-xl",children:"contact@canopyfrance.fr"})]})]})]})}),h.jsx("div",{className:"w-full flex justify-center pb-4",children:h.jsxs("div",{className:"text-center text-xl",children:[h.jsx("span",{className:"text-gray-700",children:"And don't forget to "}),h.jsx("a",{href:"#",className:"text-primary-red hover:underline font-semibold",children:"[Subscribe to the Canopy France Newsletter]"}),h.jsx("span",{className:"text-gray-700",children:" to stay updated on our events, stories, and impact from the ground."})]})})]}),h.jsx("hr",{}),h.jsxs("div",{className:"py-8",children:[h.jsxs("p",{className:"text-center text-black text-xl mb-8",children:["The chapter is led by a lean team, and together, they bring cross-cultural ",h.jsx("br",{}),"energy and grassroots commitment to the mission."]}),h.jsx("h2",{className:"text-center text-3xl font-bold text-primary-red mb-8",children:"Meet the Canopy France Team"}),h.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-4",children:h.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:j4.map(n=>h.jsxs("div",{className:"bg-gray-50 shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden w-full max-w-sm md:w-[calc(50%-12px)] lg:w-[calc(33.333%-16px)]",children:[h.jsx("div",{className:"relative aspect-square overflow-hidden",children:h.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"bg-gray-50 p-6",children:[h.jsxs("div",{className:"flex items-center mb-1",children:[h.jsx("h3",{className:"text-2xl font-bold text-primary-orange mr-2",children:n.name}),n.linkedin&&h.jsx("a",{href:n.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-primary-blue hover:text-primary-gray",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]}),h.jsx("p",{className:"mt-4 text-gray-700 text-base leading-relaxed",children:n.description})]})]},n.id))})})]})]}),I4="/canopy-website/assets/canusaheader-DDQ8XC7i.png",M4="/canopy-website/assets/canusabody-y_ePVr2r.jpg",L4="/canopy-website/assets/canusa2-qK4acOSC.jpg",D4="/canopy-website/assets/Mohit_USA-CymHCpz2.png",O4="/canopy-website/assets/Siddhartha_USA-CrBdBET7.png",F4="/canopy-website/assets/Diki_USA-bEpNWlP4.png",B4="/canopy-website/assets/Eshan_USA-CxH5t1Ui.png",V4=[{id:1,name:"Mohit Rauniyar",category:"CORE TEAM",image:D4,description:"Established Canopy Nepal and leads its global vision, actively overseeing international chapters in the USA and France while driving strategic fundraising to expand impact and ensure long-term sustainability.",linkedin:"https://www.linkedin.com/in/mohitrauniyar/"},{id:2,name:"Siddhartha Mishra",category:"CORE TEAM",image:O4,description:"Dedicated team member contributing to Canopy USA's mission of supporting education equity in Nepal through fundraising, awareness campaigns, and community engagement.",linkedin:"https://www.linkedin.com/in/siddhartha-mishra2020/"},{id:3,name:"Diki Yangzom",category:"CORE TEAM",image:F4,description:"Passionate team member working to strengthen Canopy USA's impact through strategic partnerships, community outreach, and educational initiatives.",linkedin:""},{id:4,name:"Eshan Shrestha",category:"CORE TEAM",image:B4,description:"Committed team member focused on expanding Canopy USA's reach through innovative fundraising strategies and building strong community connections.",linkedin:""}],U4=()=>h.jsxs("div",{className:"bg-white font-sans mt-28",children:[h.jsxs("div",{className:"relative h-[400px] overflow-hidden mb-2",children:[h.jsx("img",{src:I4,alt:"Children in Nepal",className:"w-full h-[400px] object-cover"}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:h.jsx("h1",{className:"text-white text-6xl font-bold",children:"Canopy USA"})})]}),h.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx("div",{className:"py-8 text-center",children:h.jsx("p",{className:"text-2xl text-gray-700 leading-relaxed",children:"Established in 2024, Canopy USA is a registered 501(c)(3) nonprofit committed to supporting the mission of Canopy Nepal from across the world. Based in the United States, the chapter focuses on building partnerships, fundraising, and spreading awareness about education equity in Nepal."})}),h.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen py-4",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-stretch h-full",children:[h.jsx("div",{className:"w-full md:w-1/2 h-[400px] md:h-auto",children:h.jsx("img",{src:M4,alt:"Students in a classroom",className:"w-full h-full object-cover object-center"})}),h.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[h.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"What We Do?"}),h.jsxs("ul",{className:"list-disc text-gray-700 space-y-6 text-2xl",children:[h.jsx("li",{className:"text-xl",children:"Lead fundraising campaigns to support Canopy's flagship programs like CANSHIP and Katha Bunaun"}),h.jsx("li",{className:"text-xl",children:"Build connections with schools, universities, and donors across the U.S."}),h.jsx("li",{className:"text-xl",children:"Represent Canopy Nepal at global forums, education events, and diaspora gatherings"}),h.jsx("li",{className:"text-xl",children:"Share stories and impact through digital campaigns and in-person events"})]})]})]})}),h.jsx("div",{className:"text-center text-xl my-8 ",children:h.jsx("span",{className:"text-black font-semibold",children:"Canopy USA is a legally registered 501(c)(3) nonprofit. All donations are tax-deductible to the extent allowed by law."})}),h.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen pb-8",children:h.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-stretch h-full",children:[h.jsx("div",{className:"w-full md:w-1/2 h-[400px] md:h-auto",children:h.jsx("img",{src:L4,alt:"Volunteer for Canopy USA",className:"w-full h-[500px] object-cover object-bottom"})}),h.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-16 py-16 bg-white",children:[h.jsx("p",{className:" text-2xl mb-4 font-semibold",children:"If you're based in USA and want to:"}),h.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-6 text-2xl",children:[h.jsx("li",{className:"text-xl",children:"Host a fundraiser or awareness event"}),h.jsx("li",{className:"text-xl",children:"Collaborate with us on educational outreach or events"}),h.jsx("li",{className:"text-xl",children:"Support through donations or in-kind resources"})]}),h.jsxs("div",{className:"mt-8",children:[h.jsx("span",{className:"font-bold text-2xl text-gray-800",children:"Reach out to us at:"}),h.jsx("br",{}),h.jsx("a",{href:"mailto:info@canopyfrance.org",className:"text-primary-red hover:underline break-all text-xl",children:"canopyusa@canopynepal.org"})]}),h.jsx("p",{className:"mt-8 text-gray-700 text-xl",children:"Lets make quality education possibleacross borders, together."})]})]})})]}),h.jsx("hr",{}),h.jsxs("div",{className:"py-8 ",children:[h.jsx("p",{className:"text-center text-black text-xl mb-8 w-3/4 mx-auto",children:"Canopy USA is run by a lean team of dedicated volunteers and advisors, under the direct leadership of our founder, Mohit, working closely with Canopy Nepal's leadership to ensure transparency, sustainability, and aligned impact."}),h.jsx("h2",{className:"text-center text-3xl font-bold text-primary-red mb-8",children:"Meet the Canopy USA Team"}),h.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-4",children:h.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:V4.map(n=>h.jsxs("div",{className:"bg-gray-50 shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden w-full max-w-xs md:w-[calc(25%-12px)] lg:w-[calc(25%-12px)]",children:[h.jsx("div",{className:"relative aspect-square overflow-hidden",children:h.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"bg-gray-50 p-6",children:[h.jsxs("div",{className:"flex items-center mb-1",children:[h.jsx("h3",{className:"text-2xl font-bold text-primary-orange mr-2",children:n.name}),n.linkedin&&h.jsx("a",{href:n.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-primary-blue hover:text-primary-gray",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]}),h.jsx("p",{className:"mt-4 text-gray-700 text-base leading-relaxed",children:n.description})]})]},n.id))})})]})]}),z4="modulepreload",H4=function(n){return"/canopy-website/"+n},_A={},bf=function(e,t,s){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=H4(l),l in _A)return;_A[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":z4,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&r(o.reason);return e().catch(r)})};var Wu={};Wu.d=(n,e)=>{for(var t in e)Wu.o(e,t)&&!Wu.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Wu.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ee=globalThis.pdfjsLib={};Wu.d(ee,{AbortException:()=>Ho,AnnotationEditorLayer:()=>N0,AnnotationEditorParamsType:()=>Z,AnnotationEditorType:()=>se,AnnotationEditorUIManager:()=>Ro,AnnotationLayer:()=>U6,AnnotationMode:()=>or,ColorPicker:()=>sm,DOMSVGFactory:()=>Nw,DrawLayer:()=>R0,FeatureTest:()=>nn,GlobalWorkerOptions:()=>Li,ImageKind:()=>Wf,InvalidPDFException:()=>b_,MissingPDFException:()=>zo,OPS:()=>us,OutputScale:()=>bv,PDFDataRangeTransport:()=>y2,PDFDateString:()=>bw,PDFWorker:()=>Nl,PasswordResponses:()=>q4,PermissionFlag:()=>G4,PixelsPerInch:()=>Zr,RenderingCancelledException:()=>xw,TextLayer:()=>Xv,UnexpectedResponseException:()=>Xm,Util:()=>G,VerbosityLevel:()=>Gm,XfaLayer:()=>x2,build:()=>b6,createValidAbsoluteUrl:()=>Q4,fetchData:()=>Qm,getDocument:()=>h6,getFilenameFromUrl:()=>a5,getPdfFilenameFromUrl:()=>o5,getXfaPageViewport:()=>l5,isDataScheme:()=>Jm,isPdfFile:()=>ww,noContextMenu:()=>rs,normalizeUnicode:()=>s5,setLayerDimensions:()=>jo,shadow:()=>de,version:()=>w6});const qt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),w_=[1,0,0,1,0,0],yv=[.001,0,0,.001,0,0],W4=1e7,Yg=1.35,jn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},or={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},$4="pdfjs_internal_editor_",se={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Z={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},G4={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ot={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Wf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},lt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},iu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Gm={ERRORS:0,WARNINGS:1,INFOS:5},us={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},q4={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let qm=Gm.WARNINGS;function K4(n){Number.isInteger(n)&&(qm=n)}function X4(){return qm}function Km(n){qm>=Gm.INFOS&&console.log(`Info: ${n}`)}function oe(n){qm>=Gm.WARNINGS&&console.log(`Warning: ${n}`)}function Pe(n){throw new Error(n)}function ft(n,e){n||Pe(e)}function Y4(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Q4(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=n5(n)}catch{}}const s=e?new URL(n,e):new URL(n);if(Y4(s))return s}catch{}return null}function de(n,e,t,s=!1){return Object.defineProperty(n,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const oa=function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class vv extends oa{constructor(e,t){super(e,"PasswordException"),this.code=t}}class xv extends oa{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class b_ extends oa{constructor(e){super(e,"InvalidPDFException")}}class zo extends oa{constructor(e){super(e,"MissingPDFException")}}class Xm extends oa{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class J4 extends oa{constructor(e){super(e,"FormatError")}}class Ho extends oa{constructor(e){super(e,"AbortException")}}function A_(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Pe("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const s=[];for(let i=0;i<e;i+=t){const r=Math.min(i+t,e),a=n.subarray(i,r);s.push(String.fromCharCode.apply(null,a))}return s.join("")}function Ym(n){typeof n!="string"&&Pe("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=n.charCodeAt(s)&255;return t}function Z4(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function yw(n){const e=Object.create(null);for(const[t,s]of n)e[t]=s;return e}function e5(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function t5(){try{return new Function(""),!0}catch{return!1}}class nn{static get isLittleEndian(){return de(this,"isLittleEndian",e5())}static get isEvalSupported(){return de(this,"isEvalSupported",t5())}static get isOffscreenCanvasSupported(){return de(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?de(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):de(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return de(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Qg=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var zi,$f,wv;class G{static makeHexColor(e,t,s){return`#${Qg[e]}${Qg[t]}${Qg[s]}`}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const s=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[s,i]}static applyInverseTransform(e,t){const s=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/s,r=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/s;return[i,r]}static getAxialAlignedBoundingBox(e,t){const s=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),r=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(s[0],i[0],r[0],a[0]),Math.min(s[1],i[1],r[1],a[1]),Math.max(s[0],i[0],r[0],a[0]),Math.max(s[1],i[1],r[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],s=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(s+a)/2,l=Math.sqrt((s+a)**2-4*(s*a-r*i))/2,c=o+l||1,d=o-l||1;return[Math.sqrt(c),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>a?null:[s,r,i,a]}static bezierBoundingBox(e,t,s,i,r,a,o,l,c){return c?(c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,o),Math.min(t,l),Math.max(e,o),Math.max(t,l)],A(this,zi,wv).call(this,e,s,r,o,t,i,a,l,3*(-e+3*(s-r)+o),6*(e-2*s+r),3*(s-e),c),A(this,zi,wv).call(this,e,s,r,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),c),c}}zi=new WeakSet,$f=function(e,t,s,i,r,a,o,l,c,d){if(c<=0||c>=1)return;const f=1-c,p=c*c,m=p*c,y=f*(f*(f*e+3*c*t)+3*p*s)+m*i,v=f*(f*(f*r+3*c*a)+3*p*o)+m*l;d[0]=Math.min(d[0],y),d[1]=Math.min(d[1],v),d[2]=Math.max(d[2],y),d[3]=Math.max(d[3],v)},wv=function(e,t,s,i,r,a,o,l,c,d,f,p){if(Math.abs(c)<1e-12){Math.abs(d)>=1e-12&&A(this,zi,$f).call(this,e,t,s,i,r,a,o,l,-f/d,p);return}const m=d**2-4*f*c;if(m<0)return;const y=Math.sqrt(m),v=2*c;A(this,zi,$f).call(this,e,t,s,i,r,a,o,l,(-d+y)/v,p),A(this,zi,$f).call(this,e,t,s,i,r,a,o,l,(-d-y)/v,p)},C(G,zi);function n5(n){return decodeURIComponent(escape(n))}let Jg=null,NA=null;function s5(n){return Jg||(Jg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NA=new Map([["","t"]])),n.replaceAll(Jg,(e,t,s)=>t?t.normalize("NFKC"):NA.get(s))}function i5(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return A_(n)}const vw="pdfjs_internal_id_",ii={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function r5(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(A_(n))}const ai="http://www.w3.org/2000/svg",xa=class xa{};J(xa,"CSS",96),J(xa,"PDF",72),J(xa,"PDF_TO_CSS_UNITS",xa.CSS/xa.PDF);let Zr=xa;async function Qm(n,e="text"){if(mu(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}s(new Error(i.statusText))}},i.send(null)})}class Wh{constructor({viewBox:e,scale:t,rotation:s,offsetX:i=0,offsetY:r=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=s,this.offsetX=i,this.offsetY=r;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,d,f,p;switch(s%=360,s<0&&(s+=360),s){case 180:c=-1,d=0,f=0,p=1;break;case 90:c=0,d=1,f=1,p=0;break;case 270:c=0,d=-1,f=-1,p=0;break;case 0:c=1,d=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,p=-p);let m,y,v,S;c===0?(m=Math.abs(l-e[1])*t+i,y=Math.abs(o-e[0])*t+r,v=(e[3]-e[1])*t,S=(e[2]-e[0])*t):(m=Math.abs(o-e[0])*t+i,y=Math.abs(l-e[1])*t+r,v=(e[2]-e[0])*t,S=(e[3]-e[1])*t),this.transform=[c*t,d*t,f*t,p*t,m-c*t*o-f*t*l,y-d*t*o-p*t*l],this.width=v,this.height=S}get rawDims(){const{viewBox:e}=this;return de(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new Wh({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:s,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){return G.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=G.applyTransform([e[0],e[1]],this.transform),s=G.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){return G.applyInverseTransform([e,t],this.transform)}}class xw extends oa{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Jm(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function ww(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function a5(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function o5(n,e="document.pdf"){if(typeof n!="string")return e;if(Jm(n))return oe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let r=s.exec(i[1])||s.exec(i[2])||s.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=s.exec(decodeURIComponent(r))[0]}catch{}return r||e}class TA{constructor(){J(this,"started",Object.create(null));J(this,"times",[])}time(e){e in this.started&&oe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||oe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:i,end:r}of this.times)e.push(`${s.padEnd(t)} ${r-i}ms
`);return e.join("")}}function mu(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function rs(n){n.preventDefault()}function PA(n){console.log("Deprecated API usage: "+n)}var xd;class bw{static toDateObject(e){if(!e||typeof e!="string")return null;u(this,xd)||b(this,xd,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=u(this,xd).exec(e);if(!t)return null;const s=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,c==="-"?(a+=d,o+=f):c==="+"&&(a-=d,o-=f),new Date(Date.UTC(s,i,r,a,o,l))}}xd=new WeakMap,C(bw,xd);function l5(n,{scale:e=1,rotation:t=0}){const{width:s,height:i}=n.attributes.style,r=[0,0,parseInt(s),parseInt(i)];return new Wh({viewBox:r,scale:e,rotation:t})}function Aw(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(oe(`Not a valid color format: "${n}"`),[0,0,0])}function c5(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;n.set(t,Aw(s))}e.remove()}function Ve(n){const{a:e,b:t,c:s,d:i,e:r,f:a}=n.getTransform();return[e,t,s,i,r,a]}function ri(n){const{a:e,b:t,c:s,d:i,e:r,f:a}=n.getTransform().invertSelf();return[e,t,s,i,r,a]}function jo(n,e,t=!1,s=!0){if(e instanceof Wh){const{pageWidth:i,pageHeight:r}=e.rawDims,{style:a}=n,o=nn.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${r}px`,d=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,f=o?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!t||e.rotation%180===0?(a.width=d,a.height=f):(a.width=f,a.height=d)}s&&n.setAttribute("data-main-rotation",e.rotation)}class bv{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var lr,ka,ds,_a,wd,bd,rm,S_,sn,E_,C_,Gf,k_,Sv;const li=class li{constructor(e){C(this,sn);C(this,lr,null);C(this,ka,null);C(this,ds);C(this,_a,null);C(this,wd,null);b(this,ds,e),u(li,bd)||b(li,bd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=b(this,lr,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=u(this,ds)._uiManager._signal;e.addEventListener("contextmenu",rs,{signal:t}),e.addEventListener("pointerdown",A(li,rm,S_),{signal:t});const s=b(this,_a,document.createElement("div"));s.className="buttons",e.append(s);const i=u(this,ds).toolbarPosition;if(i){const{style:r}=e,a=u(this,ds)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return A(this,sn,k_).call(this),e}get div(){return u(this,lr)}hide(){var e;u(this,lr).classList.add("hidden"),(e=u(this,ka))==null||e.hideDropdown()}show(){var e;u(this,lr).classList.remove("hidden"),(e=u(this,wd))==null||e.shown()}async addAltText(e){const t=await e.render();A(this,sn,Gf).call(this,t),u(this,_a).prepend(t,u(this,sn,Sv)),b(this,wd,e)}addColorPicker(e){b(this,ka,e);const t=e.renderButton();A(this,sn,Gf).call(this,t),u(this,_a).prepend(t,u(this,sn,Sv))}remove(){var e;u(this,lr).remove(),(e=u(this,ka))==null||e.destroy(),b(this,ka,null)}};lr=new WeakMap,ka=new WeakMap,ds=new WeakMap,_a=new WeakMap,wd=new WeakMap,bd=new WeakMap,rm=new WeakSet,S_=function(e){e.stopPropagation()},sn=new WeakSet,E_=function(e){u(this,ds)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},C_=function(e){u(this,ds)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Gf=function(e){const t=u(this,ds)._uiManager._signal;e.addEventListener("focusin",A(this,sn,E_).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",A(this,sn,C_).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",rs,{signal:t})},k_=function(){const{editorType:e,_uiManager:t}=u(this,ds),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",u(li,bd)[e]),A(this,sn,Gf).call(this,s),s.addEventListener("click",i=>{t.delete()},{signal:t._signal}),u(this,_a).append(s)},Sv=function(){const e=document.createElement("div");return e.className="divider",e},C(li,rm),C(li,bd,null);let Av=li;var Ad,Na,Ta,ta,__,N_,T_;class u5{constructor(e){C(this,ta);C(this,Ad,null);C(this,Na,null);C(this,Ta);b(this,Ta,e)}show(e,t,s){const[i,r]=A(this,ta,N_).call(this,t,s),{style:a}=u(this,Na)||b(this,Na,A(this,ta,__).call(this));e.append(u(this,Na)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,Na).remove()}}Ad=new WeakMap,Na=new WeakMap,Ta=new WeakMap,ta=new WeakSet,__=function(){const e=b(this,Na,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",rs,{signal:u(this,Ta)._signal});const t=b(this,Ad,document.createElement("div"));return t.className="buttons",e.append(t),A(this,ta,T_).call(this),e},N_=function(e,t){let s=0,i=0;for(const r of e){const a=r.y+r.height;if(a<s)continue;const o=r.x+(t?r.width:0);if(a>s){i=o,s=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,s]},T_=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=u(this,Ta)._signal;e.addEventListener("contextmenu",rs,{signal:s}),e.addEventListener("click",()=>{u(this,Ta).highlightSelection("floating_button")},{signal:s}),u(this,Ad).append(e)};function em(n,e,t){for(const s of t)e.addEventListener(s,n[s].bind(n))}function d5(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var am;class h5{constructor(){C(this,am,0)}get id(){return`${$4}${Yt(this,am)._++}`}}am=new WeakMap;var jl,Sd,Bt,Rl,qf;const jw=class jw{constructor(){C(this,Rl);C(this,jl,i5());C(this,Sd,0);C(this,Bt,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const r=i.decode().then(()=>(s.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return de(this,"_isSVGFittingCanvas",r)}async getFromFile(e){const{lastModified:t,name:s,size:i,type:r}=e;return A(this,Rl,qf).call(this,`${t}_${s}_${i}_${r}`,e)}async getFromUrl(e){return A(this,Rl,qf).call(this,e,e)}async getFromBlob(e,t){const s=await t;return A(this,Rl,qf).call(this,e,s)}async getFromId(e){u(this,Bt)||b(this,Bt,new Map);const t=u(this,Bt).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){u(this,Bt)||b(this,Bt,new Map);let s=u(this,Bt).get(e);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),s={bitmap:i.transferToImageBitmap(),id:`image_${u(this,jl)}_${Yt(this,Sd)._++}`,refCounter:1,isSvg:!1},u(this,Bt).set(e,s),u(this,Bt).set(s.id,s),s}getSvgUrl(e){const t=u(this,Bt).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;u(this,Bt)||b(this,Bt,new Map);const t=u(this,Bt).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(s.width,s.height);r.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=r.convertToBlob()}(i=s.close)==null||i.call(s),t.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,jl)}_`)}};jl=new WeakMap,Sd=new WeakMap,Bt=new WeakMap,Rl=new WeakSet,qf=async function(e,t){u(this,Bt)||b(this,Bt,new Map);let s=u(this,Bt).get(e);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${u(this,jl)}_${Yt(this,Sd)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(s.url=t,i=await Qm(t,"blob")):t instanceof File?i=s.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const r=jw._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,d)=>{o.onload=()=>{s.bitmap=o,s.isSvg=!0,c()},a.onload=async()=>{const f=s.svgUrl=a.result;o.src=await r?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else s.bitmap=await createImageBitmap(i);s.refCounter=1}catch(i){console.error(i),s=null}return u(this,Bt).set(e,s),s&&u(this,Bt).set(s.id,s),s};let Ev=jw;var xt,cr,Ed,wt;class f5{constructor(e=128){C(this,xt,[]);C(this,cr,!1);C(this,Ed);C(this,wt,-1);b(this,Ed,e)}add({cmd:e,undo:t,post:s,mustExec:i,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),u(this,cr))return;const l={cmd:e,undo:t,post:s,type:r};if(u(this,wt)===-1){u(this,xt).length>0&&(u(this,xt).length=0),b(this,wt,0),u(this,xt).push(l);return}if(a&&u(this,xt)[u(this,wt)].type===r){o&&(l.undo=u(this,xt)[u(this,wt)].undo),u(this,xt)[u(this,wt)]=l;return}const c=u(this,wt)+1;c===u(this,Ed)?u(this,xt).splice(0,1):(b(this,wt,c),c<u(this,xt).length&&u(this,xt).splice(c)),u(this,xt).push(l)}undo(){if(u(this,wt)===-1)return;b(this,cr,!0);const{undo:e,post:t}=u(this,xt)[u(this,wt)];e(),t==null||t(),b(this,cr,!1),b(this,wt,u(this,wt)-1)}redo(){if(u(this,wt)<u(this,xt).length-1){b(this,wt,u(this,wt)+1),b(this,cr,!0);const{cmd:e,post:t}=u(this,xt)[u(this,wt)];e(),t==null||t(),b(this,cr,!1)}}hasSomethingToUndo(){return u(this,wt)!==-1}hasSomethingToRedo(){return u(this,wt)<u(this,xt).length-1}destroy(){b(this,xt,null)}}xt=new WeakMap,cr=new WeakMap,Ed=new WeakMap,wt=new WeakMap;var om,P_;class $h{constructor(e){C(this,om);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=nn.platform;for(const[s,i,r={}]of e)for(const a of s){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:r}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(A(this,om,P_).call(this,t));if(!s)return;const{callback:i,options:{bubbles:r=!1,args:a=[],checker:o=null}}=s;o&&!o(e,t)||(i.bind(e,...a,t)(),r||(t.stopPropagation(),t.preventDefault()))}}om=new WeakSet,P_=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const lm=class lm{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return c5(e),de(this,"_colors",e)}convert(e){const t=Aw(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,i]of this._colors)if(i.every((r,a)=>r===t[a]))return lm._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?G.makeHexColor(...t):e}};J(lm,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Cv=lm;var Il,Sn,ct,_t,Ml,di,Ll,hs,ur,Dl,Pa,Ms,fs,ja,Cd,kd,Ol,_d,Ls,dr,Fl,hr,Ds,cm,fr,Nd,pr,Ra,Td,Pd,bt,ve,hi,Ia,jd,Rd,mr,Os,fi,Id,$n,B,Kf,kv,j_,R_,Xf,I_,M_,L_,_v,D_,Nv,Tv,O_,Qt,er,F_,B_,Pv,V_,gu,jv;const wl=class wl{constructor(e,t,s,i,r,a,o,l,c,d,f){C(this,B);C(this,Il,new AbortController);C(this,Sn,null);C(this,ct,new Map);C(this,_t,new Map);C(this,Ml,null);C(this,di,null);C(this,Ll,null);C(this,hs,new f5);C(this,ur,null);C(this,Dl,0);C(this,Pa,new Set);C(this,Ms,null);C(this,fs,null);C(this,ja,new Set);C(this,Cd,!1);C(this,kd,!1);C(this,Ol,!1);C(this,_d,null);C(this,Ls,null);C(this,dr,null);C(this,Fl,null);C(this,hr,!1);C(this,Ds,null);C(this,cm,new h5);C(this,fr,!1);C(this,Nd,!1);C(this,pr,null);C(this,Ra,null);C(this,Td,null);C(this,Pd,null);C(this,bt,se.NONE);C(this,ve,new Set);C(this,hi,null);C(this,Ia,null);C(this,jd,null);C(this,Rd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});C(this,mr,[0,0]);C(this,Os,null);C(this,fi,null);C(this,Id,null);C(this,$n,null);const p=this._signal=u(this,Il).signal;b(this,fi,e),b(this,Id,t),b(this,Ml,s),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:p}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),i._on("setpreference",this.onSetPreference.bind(this),{signal:p}),i._on("switchannotationeditorparams",m=>this.updateParams(m.type,m.value),{signal:p}),A(this,B,I_).call(this),A(this,B,O_).call(this),A(this,B,_v).call(this),b(this,di,r.annotationStorage),b(this,_d,r.filterFactory),b(this,Ia,a),b(this,Fl,o||null),b(this,Cd,l),b(this,kd,c),b(this,Ol,d),b(this,Pd,f||null),this.viewParameters={realScale:Zr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=wl.prototype,t=a=>u(a,fi).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),s=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return de(this,"_keyboardManager",new $h([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&u(a,fi).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&u(a,fi).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}destroy(){var e,t,s,i;(e=u(this,$n))==null||e.resolve(),b(this,$n,null),(t=u(this,Il))==null||t.abort(),b(this,Il,null),this._signal=null;for(const r of u(this,_t).values())r.destroy();u(this,_t).clear(),u(this,ct).clear(),u(this,ja).clear(),b(this,Sn,null),u(this,ve).clear(),u(this,hs).destroy(),(s=u(this,Ml))==null||s.destroy(),(i=u(this,Ds))==null||i.hide(),b(this,Ds,null),u(this,Ls)&&(clearTimeout(u(this,Ls)),b(this,Ls,null)),u(this,Os)&&(clearTimeout(u(this,Os)),b(this,Os,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,Pd)}get useNewAltTextFlow(){return u(this,kd)}get useNewAltTextWhenAddingImage(){return u(this,Ol)}get hcmFilter(){return de(this,"hcmFilter",u(this,Ia)?u(this,_d).addHCMFilter(u(this,Ia).foreground,u(this,Ia).background):"none")}get direction(){return de(this,"direction",getComputedStyle(u(this,fi)).direction)}get highlightColors(){return de(this,"highlightColors",u(this,Fl)?new Map(u(this,Fl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return de(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){b(this,Td,e)}editAltText(e,t=!1){var s;(s=u(this,Ml))==null||s.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":b(this,Ol,t);break}}onPageChanging({pageNumber:e}){b(this,Dl,e-1)}focusMainContainer(){u(this,fi).focus()}findParent(e,t){for(const s of u(this,_t).values()){const{x:i,y:r,width:a,height:o}=s.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=r&&t<=r+o)return s}return null}disableUserSelect(e=!1){u(this,Id).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,ja).add(e)}removeShouldRescale(e){u(this,ja).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Zr.PDF_TO_CSS_UNITS;for(const t of u(this,ja))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:s,anchorOffset:i,focusNode:r,focusOffset:a}=t,o=t.toString(),c=A(this,B,Kf).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(c);if(!d)return;t.empty();const f=A(this,B,kv).call(this,c),p=u(this,bt)===se.NONE,m=()=>{f==null||f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:s,anchorOffset:i,focusNode:r,focusOffset:a,text:o}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(se.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&u(this,di)&&!u(this,di).has(e.id)&&u(this,di).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,u(this,hr)&&(b(this,hr,!1),A(this,B,Xf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,ve))if(t.div.contains(e)){b(this,Ra,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,Ra))return;const[e,t]=u(this,Ra);b(this,Ra,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){A(this,B,_v).call(this),A(this,B,Nv).call(this)}removeEditListeners(){A(this,B,D_).call(this),A(this,B,Tv).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of u(this,fs))if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of u(this,fs))if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var s;if(e.preventDefault(),(s=u(this,Sn))==null||s.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of u(this,ve)){const r=i.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const a of u(this,fs))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(r){oe(`paste: "${r.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const l of s){const c=await i.deserialize(l);if(!c)return;r.push(c)}const a=()=>{for(const l of r)A(this,B,Pv).call(this,l);A(this,B,jv).call(this,r)},o=()=>{for(const l of r)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(r){oe(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,bt)!==se.NONE&&!this.isEditorHandlingKeyboard&&wl._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,hr)&&(b(this,hr,!1),A(this,B,Xf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(A(this,B,M_).call(this),A(this,B,Nv).call(this),A(this,B,Qt).call(this,{isEditing:u(this,bt)!==se.NONE,isEmpty:A(this,B,gu).call(this),hasSomethingToUndo:u(this,hs).hasSomethingToUndo(),hasSomethingToRedo:u(this,hs).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,B,L_).call(this),A(this,B,Tv).call(this),A(this,B,Qt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,fs)){b(this,fs,e);for(const t of u(this,fs))A(this,B,er).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,cm).id}get currentLayer(){return u(this,_t).get(u(this,Dl))}getLayer(e){return u(this,_t).get(e)}get currentPageIndex(){return u(this,Dl)}addLayer(e){u(this,_t).set(e.pageIndex,e),u(this,fr)?e.enable():e.disable()}removeLayer(e){u(this,_t).delete(e.pageIndex)}async updateMode(e,t=null,s=!1){if(u(this,bt)!==e&&!(u(this,$n)&&(await u(this,$n).promise,!u(this,$n)))){if(b(this,$n,Promise.withResolvers()),b(this,bt,e),e===se.NONE){this.setEditingState(!1),A(this,B,B_).call(this),u(this,$n).resolve();return}this.setEditingState(!0),await A(this,B,F_).call(this),this.unselectAll();for(const i of u(this,_t).values())i.updateMode(e);if(!t){s&&this.addNewEditorFromKeyboard(),u(this,$n).resolve();return}for(const i of u(this,ct).values())i.annotationElementId===t?(this.setSelected(i),i.enterInEditMode()):i.unselect();u(this,$n).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==u(this,bt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var s;if(u(this,fs)){switch(e){case Z.CREATE:this.currentLayer.addNewEditor();return;case Z.HIGHLIGHT_DEFAULT_COLOR:(s=u(this,Td))==null||s.updateColor(t);break;case Z.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,jd)||b(this,jd,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of u(this,ve))i.updateParams(e,t);for(const i of u(this,fs))i.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){var r;for(const a of u(this,ct).values())a.editorType===e&&a.show(t);(((r=u(this,jd))==null?void 0:r.get(Z.HIGHLIGHT_SHOW_ALL))??!0)!==t&&A(this,B,er).call(this,[[Z.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,Nd)!==e){b(this,Nd,e);for(const t of u(this,_t).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const s of u(this,ct).values())s.pageIndex===e&&t.push(s);return t}getEditor(e){return u(this,ct).get(e)}addEditor(e){u(this,ct).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(u(this,Ls)&&clearTimeout(u(this,Ls)),b(this,Ls,setTimeout(()=>{this.focusMainContainer(),b(this,Ls,null)},0))),u(this,ct).delete(e.id),this.unselect(e),(!e.annotationElementId||!u(this,Pa).has(e.annotationElementId))&&((t=u(this,di))==null||t.remove(e.id))}addDeletedAnnotationElement(e){u(this,Pa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,Pa).has(e)}removeDeletedAnnotationElement(e){u(this,Pa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,Sn)!==e&&(b(this,Sn,e),e&&A(this,B,er).call(this,e.propertiesToUpdate))}updateUI(e){u(this,B,V_)===e&&A(this,B,er).call(this,e.propertiesToUpdate)}toggleSelected(e){if(u(this,ve).has(e)){u(this,ve).delete(e),e.unselect(),A(this,B,Qt).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,ve).add(e),e.select(),A(this,B,er).call(this,e.propertiesToUpdate),A(this,B,Qt).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of u(this,ve))t!==e&&t.unselect();u(this,ve).clear(),u(this,ve).add(e),e.select(),A(this,B,er).call(this,e.propertiesToUpdate),A(this,B,Qt).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,ve).has(e)}get firstSelectedEditor(){return u(this,ve).values().next().value}unselect(e){e.unselect(),u(this,ve).delete(e),A(this,B,Qt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,ve).size!==0}get isEnterHandled(){return u(this,ve).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){u(this,hs).undo(),A(this,B,Qt).call(this,{hasSomethingToUndo:u(this,hs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,B,gu).call(this)})}redo(){u(this,hs).redo(),A(this,B,Qt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,hs).hasSomethingToRedo(),isEmpty:A(this,B,gu).call(this)})}addCommands(e){u(this,hs).add(e),A(this,B,Qt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,B,gu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...u(this,ve)],t=()=>{for(const i of e)i.remove()},s=()=>{for(const i of e)A(this,B,Pv).call(this,i)};this.addCommands({cmd:t,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=u(this,Sn))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,Sn)||this.hasSelection}selectAll(){for(const e of u(this,ve))e.commit();A(this,B,jv).call(this,u(this,ct).values())}unselectAll(){if(!(u(this,Sn)&&(u(this,Sn).commitOrRemove(),u(this,bt)!==se.NONE))&&this.hasSelection){for(const e of u(this,ve))e.unselect();u(this,ve).clear(),A(this,B,Qt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;u(this,mr)[0]+=e,u(this,mr)[1]+=t;const[i,r]=u(this,mr),a=[...u(this,ve)],o=1e3;u(this,Os)&&clearTimeout(u(this,Os)),b(this,Os,setTimeout(()=>{b(this,Os,null),u(this,mr)[0]=u(this,mr)[1]=0,this.addCommands({cmd:()=>{for(const l of a)u(this,ct).has(l.id)&&l.translateInPage(i,r)},undo:()=>{for(const l of a)u(this,ct).has(l.id)&&l.translateInPage(-i,-r)},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,Ms,new Map);for(const e of u(this,ve))u(this,Ms).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,Ms))return!1;this.disableUserSelect(!1);const e=u(this,Ms);b(this,Ms,null);let t=!1;for(const[{x:i,y:r,pageIndex:a},o]of e)o.newX=i,o.newY=r,o.newPageIndex=a,t||(t=i!==o.savedX||r!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const s=(i,r,a,o)=>{if(u(this,ct).has(i.id)){const l=u(this,_t).get(o);l?i._setParentAndPosition(l,r,a):(i.pageIndex=o,i.x=r,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:a,newPageIndex:o}]of e)s(i,r,a,o)},undo:()=>{for(const[i,{savedX:r,savedY:a,savedPageIndex:o}]of e)s(i,r,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,Ms))for(const s of u(this,Ms).keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,ve).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,Sn)===e}getActive(){return u(this,Sn)}getMode(){return u(this,bt)}get imageManager(){return de(this,"imageManager",new Ev)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,d=t.rangeCount;c<d;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:s,y:i,width:r,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,d,f,p)=>({x:(d-i)/a,y:1-(c+f-s)/r,width:p/a,height:f/r});break;case"180":o=(c,d,f,p)=>({x:1-(c+f-s)/r,y:1-(d+p-i)/a,width:f/r,height:p/a});break;case"270":o=(c,d,f,p)=>({x:1-(d+p-i)/a,y:(c-s)/r,width:p/a,height:f/r});break;default:o=(c,d,f,p)=>({x:(c-s)/r,y:(d-i)/a,width:f/r,height:p/a});break}const l=[];for(let c=0,d=t.rangeCount;c<d;c++){const f=t.getRangeAt(c);if(!f.collapsed)for(const{x:p,y:m,width:y,height:v}of f.getClientRects())y===0||v===0||l.push(o(p,m,y,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,Ll)||b(this,Ll,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,Ll))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=u(this,Ll))==null?void 0:i.get(e.data.id);if(!t)return;const s=u(this,di).getRawValue(t);s&&(u(this,bt)===se.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}};Il=new WeakMap,Sn=new WeakMap,ct=new WeakMap,_t=new WeakMap,Ml=new WeakMap,di=new WeakMap,Ll=new WeakMap,hs=new WeakMap,ur=new WeakMap,Dl=new WeakMap,Pa=new WeakMap,Ms=new WeakMap,fs=new WeakMap,ja=new WeakMap,Cd=new WeakMap,kd=new WeakMap,Ol=new WeakMap,_d=new WeakMap,Ls=new WeakMap,dr=new WeakMap,Fl=new WeakMap,hr=new WeakMap,Ds=new WeakMap,cm=new WeakMap,fr=new WeakMap,Nd=new WeakMap,pr=new WeakMap,Ra=new WeakMap,Td=new WeakMap,Pd=new WeakMap,bt=new WeakMap,ve=new WeakMap,hi=new WeakMap,Ia=new WeakMap,jd=new WeakMap,Rd=new WeakMap,mr=new WeakMap,Os=new WeakMap,fi=new WeakMap,Id=new WeakMap,$n=new WeakMap,B=new WeakSet,Kf=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},kv=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of u(this,_t).values())if(s.hasTextLayer(e))return s;return null},j_=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=A(this,B,Kf).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(s);i&&(u(this,Ds)||b(this,Ds,new u5(this)),u(this,Ds).show(s,i,this.direction==="ltr"))},R_=function(){var r,a,o;const e=document.getSelection();if(!e||e.isCollapsed){u(this,hi)&&((r=u(this,Ds))==null||r.hide(),b(this,hi,null),A(this,B,Qt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,hi))return;const i=A(this,B,Kf).call(this,e).closest(".textLayer");if(!i){u(this,hi)&&((a=u(this,Ds))==null||a.hide(),b(this,hi,null),A(this,B,Qt).call(this,{hasSelectedText:!1}));return}if((o=u(this,Ds))==null||o.hide(),b(this,hi,t),A(this,B,Qt).call(this,{hasSelectedText:!0}),!(u(this,bt)!==se.HIGHLIGHT&&u(this,bt)!==se.NONE)&&(u(this,bt)===se.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,hr,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u(this,bt)===se.HIGHLIGHT?A(this,B,kv).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,d=this.combinedSignal(c),f=p=>{p.type==="pointerup"&&p.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),p.type==="pointerup"&&A(this,B,Xf).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:d}),window.addEventListener("blur",f,{signal:d})}},Xf=function(e=""){u(this,bt)===se.HIGHLIGHT?this.highlightSelection(e):u(this,Cd)&&A(this,B,j_).call(this)},I_=function(){document.addEventListener("selectionchange",A(this,B,R_).bind(this),{signal:this._signal})},M_=function(){if(u(this,dr))return;b(this,dr,new AbortController);const e=this.combinedSignal(u(this,dr));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},L_=function(){var e;(e=u(this,dr))==null||e.abort(),b(this,dr,null)},_v=function(){if(u(this,pr))return;b(this,pr,new AbortController);const e=this.combinedSignal(u(this,pr));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},D_=function(){var e;(e=u(this,pr))==null||e.abort(),b(this,pr,null)},Nv=function(){if(u(this,ur))return;b(this,ur,new AbortController);const e=this.combinedSignal(u(this,ur));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Tv=function(){var e;(e=u(this,ur))==null||e.abort(),b(this,ur,null)},O_=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Qt=function(e){Object.entries(e).some(([s,i])=>u(this,Rd)[s]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Rd),e)}),u(this,bt)===se.HIGHLIGHT&&e.hasSelectedEditor===!1&&A(this,B,er).call(this,[[Z.HIGHLIGHT_FREE,!0]]))},er=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},F_=async function(){if(!u(this,fr)){b(this,fr,!0);const e=[];for(const t of u(this,_t).values())e.push(t.enable());await Promise.all(e);for(const t of u(this,ct).values())t.enable()}},B_=function(){if(this.unselectAll(),u(this,fr)){b(this,fr,!1);for(const e of u(this,_t).values())e.disable();for(const e of u(this,ct).values())e.disable()}},Pv=function(e){const t=u(this,_t).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},V_=function(){let e=null;for(e of u(this,ve));return e},gu=function(){if(u(this,ct).size===0)return!0;if(u(this,ct).size===1)for(const e of u(this,ct).values())return e.isEmpty();return!1},jv=function(e){for(const t of u(this,ve))t.unselect();u(this,ve).clear();for(const t of e)t.isEmpty()||(u(this,ve).add(t),t.select());A(this,B,Qt).call(this,{hasSelectedEditor:this.hasSelection})},J(wl,"TRANSLATE_SMALL",1),J(wl,"TRANSLATE_BIG",10);let Ro=wl;var At,Fs,ps,Bl,Bs,En,Vl,Vs,un,pi,Ma,Us,gr,ks,yu,Yf;const Jt=class Jt{constructor(e){C(this,ks);C(this,At,null);C(this,Fs,!1);C(this,ps,null);C(this,Bl,null);C(this,Bs,null);C(this,En,null);C(this,Vl,!1);C(this,Vs,null);C(this,un,null);C(this,pi,null);C(this,Ma,null);C(this,Us,!1);b(this,un,e),b(this,Us,e._uiManager.useNewAltTextFlow),u(Jt,gr)||b(Jt,gr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Jt._l10n??(Jt._l10n=e)}async render(){const e=b(this,ps,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=b(this,Bl,document.createElement("span"));e.append(t),u(this,Us)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(Jt,gr).missing),t.setAttribute("data-l10n-id",u(Jt,gr)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=u(this,un)._uiManager._signal;e.addEventListener("contextmenu",rs,{signal:s}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:s});const i=r=>{r.preventDefault(),u(this,un)._uiManager.editAltText(u(this,un)),u(this,Us)&&u(this,un)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,ks,yu)}})};return e.addEventListener("click",i,{capture:!0,signal:s}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(b(this,Vl,!0),i(r))},{signal:s}),await A(this,ks,Yf).call(this),e}finish(){u(this,ps)&&(u(this,ps).focus({focusVisible:u(this,Vl)}),b(this,Vl,!1))}isEmpty(){return u(this,Us)?u(this,At)===null:!u(this,At)&&!u(this,Fs)}hasData(){return u(this,Us)?u(this,At)!==null||!!u(this,pi):this.isEmpty()}get guessedText(){return u(this,pi)}async setGuessedText(e){u(this,At)===null&&(b(this,pi,e),b(this,Ma,await Jt._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),A(this,ks,Yf).call(this))}toggleAltTextBadge(e=!1){var t;if(!u(this,Us)||u(this,At)){(t=u(this,Vs))==null||t.remove(),b(this,Vs,null);return}if(!u(this,Vs)){const s=b(this,Vs,document.createElement("div"));s.className="noAltTextBadge",u(this,un).div.append(s)}u(this,Vs).classList.toggle("hidden",!e)}serialize(e){let t=u(this,At);return!e&&u(this,pi)===t&&(t=u(this,Ma)),{altText:t,decorative:u(this,Fs),guessedText:u(this,pi),textWithDisclaimer:u(this,Ma)}}get data(){return{altText:u(this,At),decorative:u(this,Fs)}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:i,cancel:r=!1}){s&&(b(this,pi,s),b(this,Ma,i)),!(u(this,At)===e&&u(this,Fs)===t)&&(r||(b(this,At,e),b(this,Fs,t)),A(this,ks,Yf).call(this))}toggle(e=!1){u(this,ps)&&(!e&&u(this,En)&&(clearTimeout(u(this,En)),b(this,En,null)),u(this,ps).disabled=!e)}shown(){u(this,un)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,ks,yu)}})}destroy(){var e,t;(e=u(this,ps))==null||e.remove(),b(this,ps,null),b(this,Bl,null),b(this,Bs,null),(t=u(this,Vs))==null||t.remove(),b(this,Vs,null)}};At=new WeakMap,Fs=new WeakMap,ps=new WeakMap,Bl=new WeakMap,Bs=new WeakMap,En=new WeakMap,Vl=new WeakMap,Vs=new WeakMap,un=new WeakMap,pi=new WeakMap,Ma=new WeakMap,Us=new WeakMap,gr=new WeakMap,ks=new WeakSet,yu=function(){return u(this,At)&&"added"||u(this,At)===null&&this.guessedText&&"review"||"missing"},Yf=async function(){var i,r,a;const e=u(this,ps);if(!e)return;if(u(this,Us)){if(e.classList.toggle("done",!!u(this,At)),e.setAttribute("data-l10n-id",u(Jt,gr)[u(this,ks,yu)]),(i=u(this,Bl))==null||i.setAttribute("data-l10n-id",u(Jt,gr)[`${u(this,ks,yu)}-label`]),!u(this,At)){(r=u(this,Bs))==null||r.remove();return}}else{if(!u(this,At)&&!u(this,Fs)){e.classList.remove("done"),(a=u(this,Bs))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=u(this,Bs);if(!t){b(this,Bs,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${u(this,un).id}`;const o=100,l=u(this,un)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(u(this,En)),b(this,En,null)},{once:!0}),e.addEventListener("mouseenter",()=>{b(this,En,setTimeout(()=>{b(this,En,null),u(this,Bs).classList.add("show"),u(this,un)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;u(this,En)&&(clearTimeout(u(this,En)),b(this,En,null)),(c=u(this,Bs))==null||c.classList.remove("show")},{signal:l})}u(this,Fs)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=u(this,At)),t.parentNode||e.append(t);const s=u(this,un).getImageForAltText();s==null||s.setAttribute("aria-describedby",t.id)},C(Jt,gr,null),J(Jt,"_l10n",null);let tm=Jt;var La,ms,Fe,Ul,Da,Nt,Oa,yr,Md,Fa,vr,Ld,Ba,mi,zs,zl,Hl,Gn,Dd,um,re,Rv,Od,Iv,Mv,U_,z_,Lv,Dv,Ov,H_,Fv,W_,$_,G_,Bv,vu;const ye=class ye{constructor(e){C(this,re);C(this,La,null);C(this,ms,null);C(this,Fe,null);C(this,Ul,!1);C(this,Da,!1);C(this,Nt,null);C(this,Oa,null);C(this,yr,null);C(this,Md,"");C(this,Fa,!1);C(this,vr,null);C(this,Ld,!1);C(this,Ba,!1);C(this,mi,!1);C(this,zs,null);C(this,zl,0);C(this,Hl,0);C(this,Gn,null);J(this,"_editToolbar",null);J(this,"_initialOptions",Object.create(null));J(this,"_initialData",null);J(this,"_isVisible",!0);J(this,"_uiManager",null);J(this,"_focusEventsAllowed",!0);C(this,Dd,!1);C(this,um,ye._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:i,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,i],this.pageTranslation=[r,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ye.prototype._resizeWithKeyboard,t=Ro.TRANSLATE_SMALL,s=Ro.TRANSLATE_BIG;return de(this,"_resizerKeyboardManager",new $h([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],ye.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return de(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new p5({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ye._l10n??(ye._l10n=e),ye._l10nResizer||(ye._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ye._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);ye._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Pe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,Dd)}set _isDraggable(e){var t;b(this,Dd,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,um)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):A(this,re,vu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,Fa)?b(this,Fa,!1):this.parent.setSelected(this))}focusout(e){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,i){const[r,a]=this.parentDimensions;[s,i]=this.screenToPageTranslation(s,i),this.x=(e+s)/r,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){A(this,re,Rv).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,vr)||b(this,vr,[this.x,this.y]),A(this,re,Rv).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){u(this,vr)||b(this,vr,[this.x,this.y]);const[s,i]=this.parentDimensions;if(this.x+=e/s,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[o,l]=this.getBaseTranslation();r+=o,a+=l,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!u(this,vr)&&(u(this,vr)[0]!==this.x||u(this,vr)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=ye,i=s/e,r=s/t;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,s]=this.pageDimensions;let{x:i,y:r,width:a,height:o}=this;if(a*=t,o*=s,i*=t,r*=s,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-a,i)),r=Math.max(0,Math.min(s-o,r));break;case 90:i=Math.max(0,Math.min(t-o,i)),r=Math.min(s,Math.max(a,r));break;case 180:i=Math.min(t,Math.max(a,i)),r=Math.min(s,Math.max(o,r));break;case 270:i=Math.min(t,Math.max(o,i)),r=Math.max(0,Math.min(s-a,r));break}this.x=i/=t,this.y=r/=s;const[l,c]=this.getBaseTranslation();i+=l,r+=c;const{style:d}=this.div;d.left=`${(100*i).toFixed(2)}%`,d.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var s;return A(s=ye,Od,Iv).call(s,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var s;return A(s=ye,Od,Iv).call(s,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(e,t){const[s,i]=this.parentDimensions;this.div.style.width=`${(100*e/s).toFixed(2)}%`,u(this,Da)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:s}=e,i=s.endsWith("%"),r=!u(this,Da)&&t.endsWith("%");if(i&&r)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(s)/a).toFixed(2)}%`),!u(this,Da)&&!r&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=u(this,Fe))==null||e.finish()}async addEditToolbar(){return this._editToolbar||u(this,Ba)?this._editToolbar:(this._editToolbar=new Av(this),this.div.append(this._editToolbar.render()),u(this,Fe)&&await this._editToolbar.addAltText(u(this,Fe)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=u(this,Fe))==null||e.destroy())}addContainer(e){var s;const t=(s=this._editToolbar)==null?void 0:s.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,Fe)||(tm.initialize(ye._l10n),b(this,Fe,new tm(this)),u(this,La)&&(u(this,Fe).data=u(this,La),b(this,La,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=u(this,Fe))==null?void 0:e.data}set altTextData(e){u(this,Fe)&&(u(this,Fe).data=e)}get guessedAltText(){var e;return(e=u(this,Fe))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=u(this,Fe))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=u(this,Fe))==null?void 0:t.serialize(e)}hasAltText(){return!!u(this,Fe)&&!u(this,Fe).isEmpty()}hasAltTextData(){var e;return((e=u(this,Fe))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,Ul)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),A(this,re,Fv).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[s,i]=this.getInitialTranslation();return this.translate(s,i),em(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=nn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(b(this,Fa,!0),this._isDraggable){A(this,re,H_).call(this,e);return}A(this,re,Ov).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){u(this,zs)&&clearTimeout(u(this,zs)),b(this,zs,setTimeout(()=>{var e;b(this,zs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition()}getRect(e,t,s=this.rotation){const i=this.parentScale,[r,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,d=t/i,f=this.x*r,p=this.y*a,m=this.width*r,y=this.height*a;switch(s){case 0:return[f+c+o,a-p-d-y+l,f+c+m+o,a-p-d+l];case 90:return[f+d+o,a-p+c+l,f+d+y+o,a-p+c+m+l];case 180:return[f-c-m+o,a-p+d+l,f-c+o,a-p+d+y+l];case 270:return[f-d-y+o,a-p-c-m+l,f-d+o,a-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,i,r,a]=e,o=r-s,l=a-i;switch(this.rotation){case 0:return[s,t-a,o,l];case 90:return[s,t-i,l,o];case 180:return[r,t-i,o,l];case 270:return[r,t-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){b(this,Ba,!0)}disableEditMode(){b(this,Ba,!1)}isInEditMode(){return u(this,Ba)}shouldGetKeyboardEvents(){return u(this,mi)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){A(this,re,Fv).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Pe("An editor must be serializable")}static async deserialize(e,t,s){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s});i.rotation=e.rotation,b(i,La,e.accessibilityData);const[r,a]=i.pageDimensions,[o,l,c,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/r,i.y=l/a,i.width=c/r,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=u(this,yr))==null||e.abort(),b(this,yr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,zs)&&(clearTimeout(u(this,zs)),b(this,zs,null)),A(this,re,vu).call(this),this.removeEditToolbar(),u(this,Gn)){for(const t of u(this,Gn).values())clearTimeout(t);b(this,Gn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,re,U_).call(this),u(this,Nt).classList.remove("hidden"),em(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),b(this,Oa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,Nt).children;if(!u(this,ms)){b(this,ms,Array.from(t));const a=A(this,re,W_).bind(this),o=A(this,re,$_).bind(this),l=this._uiManager._signal;for(const c of u(this,ms)){const d=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",A(this,re,G_).bind(this,d),{signal:l}),c.setAttribute("data-l10n-id",ye._l10nResizer[d])}}const s=u(this,ms)[0];let i=0;for(const a of t){if(a===s)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(u(this,ms).length/4);if(r!==i){if(r<i)for(let o=0;o<i-r;o++)u(this,Nt).append(u(this,Nt).firstChild);else if(r>i)for(let o=0;o<r-i;o++)u(this,Nt).firstChild.before(u(this,Nt).lastChild);let a=0;for(const o of t){const c=u(this,ms)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",ye._l10nResizer[c])}}A(this,re,Bv).call(this,0),b(this,mi,!0),u(this,Nt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,mi)&&A(this,re,Dv).call(this,u(this,Md),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){A(this,re,vu).call(this),this.div.focus()}select(){var e,t,s;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(t=this._editToolbar)==null||t.show(),(s=u(this,Fe))==null||s.toggleAltTextBadge(!1)}unselect(){var e,t,s,i,r;(e=u(this,Nt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(r=u(this,Fe))==null||r.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,Ld)}set isEditing(e){b(this,Ld,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){b(this,Da,!0);const s=e/t,{style:i}=this.div;i.aspectRatio=s,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,Gn)||b(this,Gn,new Map);const{action:s}=e;let i=u(this,Gn).get(s);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),u(this,Gn).delete(s),u(this,Gn).size===0&&b(this,Gn,null)},ye._telemetryTimeout),u(this,Gn).set(s,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),b(this,Ul,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,Ul,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};La=new WeakMap,ms=new WeakMap,Fe=new WeakMap,Ul=new WeakMap,Da=new WeakMap,Nt=new WeakMap,Oa=new WeakMap,yr=new WeakMap,Md=new WeakMap,Fa=new WeakMap,vr=new WeakMap,Ld=new WeakMap,Ba=new WeakMap,mi=new WeakMap,zs=new WeakMap,zl=new WeakMap,Hl=new WeakMap,Gn=new WeakMap,Dd=new WeakMap,um=new WeakMap,re=new WeakSet,Rv=function([e,t],s,i){[s,i]=this.screenToPageTranslation(s,i),this.x+=s/e,this.y+=i/t,this.fixAndSetPosition()},Od=new WeakSet,Iv=function(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Mv=function(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}},U_=function(){if(u(this,Nt))return;b(this,Nt,document.createElement("div")),u(this,Nt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const i=document.createElement("div");u(this,Nt).append(i),i.classList.add("resizer",s),i.setAttribute("data-resizer-name",s),i.addEventListener("pointerdown",A(this,re,z_).bind(this,s),{signal:t}),i.addEventListener("contextmenu",rs,{signal:t}),i.tabIndex=-1}this.div.prepend(u(this,Nt))},z_=function(e,t){var y;t.preventDefault();const{isMac:s}=nn.platform;if(t.button!==0||t.ctrlKey&&s)return;(y=u(this,Fe))==null||y.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",A(this,re,Dv).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",rs,{signal:a});const o=this.x,l=this.y,c=this.width,d=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const m=()=>{var v;r.abort(),this.parent.togglePointerEvents(!0),(v=u(this,Fe))==null||v.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=f,this.div.style.cursor=p,A(this,re,Lv).call(this,o,l,c,d)};window.addEventListener("pointerup",m,{signal:a}),window.addEventListener("blur",m,{signal:a})},Lv=function(e,t,s,i){const r=this.x,a=this.y,o=this.width,l=this.height;r===e&&a===t&&o===s&&l===i||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=r,this.y=a;const[c,d]=this.parentDimensions;this.setDims(c*o,d*l),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=i,this.x=e,this.y=t;const[c,d]=this.parentDimensions;this.setDims(c*s,d*i),this.fixAndSetPosition()},mustExec:!0})},Dv=function(e,t){const[s,i]=this.parentDimensions,r=this.x,a=this.y,o=this.width,l=this.height,c=ye.MIN_SIZE/s,d=ye.MIN_SIZE/i,f=O=>Math.round(O*1e4)/1e4,p=A(this,re,Mv).call(this,this.rotation),m=(O,j)=>[p[0]*O+p[2]*j,p[1]*O+p[3]*j],y=A(this,re,Mv).call(this,360-this.rotation),v=(O,j)=>[y[0]*O+y[2]*j,y[1]*O+y[3]*j];let S,g,x=!1,w=!1;switch(e){case"topLeft":x=!0,S=(O,j)=>[0,0],g=(O,j)=>[O,j];break;case"topMiddle":S=(O,j)=>[O/2,0],g=(O,j)=>[O/2,j];break;case"topRight":x=!0,S=(O,j)=>[O,0],g=(O,j)=>[0,j];break;case"middleRight":w=!0,S=(O,j)=>[O,j/2],g=(O,j)=>[0,j/2];break;case"bottomRight":x=!0,S=(O,j)=>[O,j],g=(O,j)=>[0,0];break;case"bottomMiddle":S=(O,j)=>[O/2,j],g=(O,j)=>[O/2,0];break;case"bottomLeft":x=!0,S=(O,j)=>[0,j],g=(O,j)=>[O,0];break;case"middleLeft":w=!0,S=(O,j)=>[0,j/2],g=(O,j)=>[O,j/2];break}const E=S(o,l),k=g(o,l);let T=m(...k);const N=f(r+T[0]),P=f(a+T[1]);let R=1,I=1,[M,q]=this.screenToPageTranslation(t.movementX,t.movementY);if([M,q]=v(M/s,q/i),x){const O=Math.hypot(o,l);R=I=Math.max(Math.min(Math.hypot(k[0]-E[0]-M,k[1]-E[1]-q)/O,1/o,1/l),c/o,d/l)}else w?R=Math.max(c,Math.min(1,Math.abs(k[0]-E[0]-M)))/o:I=Math.max(d,Math.min(1,Math.abs(k[1]-E[1]-q)))/l;const U=f(o*R),$=f(l*I);T=m(...g(U,$));const Q=N-T[0],Y=P-T[1];this.width=U,this.height=$,this.x=Q,this.y=Y,this.setDims(s*U,i*$),this.fixAndSetPosition()},Ov=function(e){const{isMac:t}=nn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},H_=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const s=new AbortController,i=this._uiManager.combinedSignal(s);if(t){this.div.classList.add("moving"),b(this,zl,e.clientX),b(this,Hl,e.clientY);const a=o=>{const{clientX:l,clientY:c}=o,[d,f]=this.screenToPageTranslation(l-u(this,zl),c-u(this,Hl));b(this,zl,l),b(this,Hl,c),this._uiManager.dragSelectedEditors(d,f)};window.addEventListener("pointermove",a,{passive:!0,capture:!0,signal:i})}const r=()=>{s.abort(),t&&this.div.classList.remove("moving"),b(this,Fa,!1),this._uiManager.endDragSession()||A(this,re,Ov).call(this,e)};window.addEventListener("pointerup",r,{signal:i}),window.addEventListener("blur",r,{signal:i})},Fv=function(){if(u(this,yr)||!this.div)return;b(this,yr,new AbortController);const e=this._uiManager.combinedSignal(u(this,yr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},W_=function(e){ye._resizerKeyboardManager.exec(this,e)},$_=function(e){var t;u(this,mi)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,Nt)&&A(this,re,vu).call(this)},G_=function(e){b(this,Md,u(this,mi)?e:"")},Bv=function(e){if(u(this,ms))for(const t of u(this,ms))t.tabIndex=e},vu=function(){if(b(this,mi,!1),A(this,re,Bv).call(this,-1),u(this,Oa)){const{savedX:e,savedY:t,savedWidth:s,savedHeight:i}=u(this,Oa);A(this,re,Lv).call(this,e,t,s,i),b(this,Oa,null)}},C(ye,Od),J(ye,"_l10n",null),J(ye,"_l10nResizer",null),J(ye,"_borderLineWidth",-1),J(ye,"_colorManager",new Cv),J(ye,"_zIndex",1),J(ye,"_telemetryTimeout",1e3);let we=ye;class p5 extends we{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const jA=3285377520,Hn=4294901760,Rs=65535;class q_{constructor(e){this.h1=e?e&4294967295:jA,this.h2=e?e&4294967295:jA}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let v=0,S=e.length;v<S;v++){const g=e.charCodeAt(v);g<=255?t[s++]=g:(t[s++]=g>>>8,t[s++]=g&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=s>>2,r=s-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,c=this.h1,d=this.h2;const f=3432918353,p=461845907,m=f&Rs,y=p&Rs;for(let v=0;v<i;v++)v&1?(o=a[v],o=o*f&Hn|o*m&Rs,o=o<<15|o>>>17,o=o*p&Hn|o*y&Rs,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[v],l=l*f&Hn|l*m&Rs,l=l<<15|l>>>17,l=l*p&Hn|l*y&Rs,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,r){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*f&Hn|o*m&Rs,o=o<<15|o>>>17,o=o*p&Hn|o*y&Rs,i&1?c^=o:d^=o}this.h1=c,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Hn|e*36045&Rs,t=t*4283543511&Hn|((t<<16|e>>>16)*2950163797&Hn)>>>16,e^=t>>>1,e=e*444984403&Hn|e*60499&Rs,t=t*3301882366&Hn|((t<<16|e>>>16)*3120437893&Hn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Vv=Object.freeze({map:null,hash:"",transfer:void 0});var Va,Ua,St,dm,K_;class Sw{constructor(){C(this,dm);C(this,Va,!1);C(this,Ua,null);C(this,St,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=u(this,St).get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return u(this,St).get(e)}remove(e){if(u(this,St).delete(e),u(this,St).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,St).values())if(t instanceof we)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=u(this,St).get(e);let i=!1;if(s!==void 0)for(const[r,a]of Object.entries(t))s[r]!==a&&(i=!0,s[r]=a);else i=!0,u(this,St).set(e,t);i&&A(this,dm,K_).call(this),t instanceof we&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,St).has(e)}getAll(){return u(this,St).size>0?yw(u(this,St)):null}setAll(e){for(const[t,s]of Object.entries(e))this.setValue(t,s)}get size(){return u(this,St).size}resetModified(){u(this,Va)&&(b(this,Va,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new X_(this)}get serializable(){if(u(this,St).size===0)return Vv;const e=new Map,t=new q_,s=[],i=Object.create(null);let r=!1;for(const[a,o]of u(this,St)){const l=o instanceof we?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),r||(r=!!l.bitmap))}if(r)for(const a of e.values())a.bitmap&&s.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:Vv}get editorStats(){let e=null;const t=new Map;for(const s of u(this,St).values()){if(!(s instanceof we))continue;const i=s.telemetryFinalData;if(!i)continue;const{type:r}=i;t.has(r)||t.set(r,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const a=e[r]||(e[r]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let c=a.get(o);c||(c=new Map,a.set(o,c));const d=c.get(l)??0;c.set(l,d+1)}}for(const[s,i]of t)e[s]=i.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){b(this,Ua,null)}get modifiedIds(){if(u(this,Ua))return u(this,Ua);const e=[];for(const t of u(this,St).values())!(t instanceof we)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return b(this,Ua,{ids:new Set(e),hash:e.join(",")})}}Va=new WeakMap,Ua=new WeakMap,St=new WeakMap,dm=new WeakSet,K_=function(){u(this,Va)||(b(this,Va,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Fd;class X_ extends Sw{constructor(t){super();C(this,Fd);const{map:s,hash:i,transfer:r}=t.serializable,a=structuredClone(s,r?{transfer:r}:null);b(this,Fd,{map:a,hash:i,transfer:r})}get print(){Pe("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,Fd)}get modifiedIds(){return de(this,"modifiedIds",{ids:new Set,hash:""})}}Fd=new WeakMap;var Wl;class m5{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){C(this,Wl,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,Wl).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||u(this,Wl).has(e.loadedName))){if(ft(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:i,style:r}=e,a=new FontFace(s,i,r);this.addNativeFontFace(a);try{await a.load(),u(this,Wl).add(s),t==null||t(e)}catch{oe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Pe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(i){throw oe(`Failed to load font '${s.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const i=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return de(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(qt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),de(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(ft(!i.done,"completeRequest() cannot be called twice."),i.done=!0;s.length>0&&s[0].done;){const r=s.shift();setTimeout(r.callback,0)}}const{loadingRequests:s}=this,i={done:!1,complete:t,callback:e};return s.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return de(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(E,k){return E.charCodeAt(k)<<24|E.charCodeAt(k+1)<<16|E.charCodeAt(k+2)<<8|E.charCodeAt(k+3)&255}function i(E,k,T,N){const P=E.substring(0,k),R=E.substring(k+T);return P+N+R}let r,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function d(E,k){if(++c>30){oe("Load test font never loaded."),k();return}if(l.font="30px "+E,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(d.bind(null,E,k))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=i(p,976,f.length,f);const y=16,v=1482184792;let S=s(p,y);for(r=0,a=f.length-3;r<a;r+=4)S=S-v+s(f,r)|0;r<f.length&&(S=S-v+s(f+"XXX",r)|0),p=i(p,y,4,Z4(S));const g=`url(data:font/opentype;base64,${btoa(p)});`,x=`@font-face {font-family:"${f}";src:${g}}`;this.insertRule(x);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const E of[e.loadedName,f]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=E,w.append(k)}this._document.body.append(w),d(f,()=>{w.remove(),t.complete()})}}Wl=new WeakMap;class g5{constructor(e,{disableFontFace:t=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=s}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${r5(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let s;try{s=e.get(this.loadedName+"_path_"+t)}catch(r){oe(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[t]=function(r,a){};const i=[];for(let r=0,a=s.length;r<a;)switch(s[r++]){case ii.BEZIER_CURVE_TO:{const[o,l,c,d,f,p]=s.slice(r,r+6);i.push(m=>m.bezierCurveTo(o,l,c,d,f,p)),r+=6}break;case ii.MOVE_TO:{const[o,l]=s.slice(r,r+2);i.push(c=>c.moveTo(o,l)),r+=2}break;case ii.LINE_TO:{const[o,l]=s.slice(r,r+2);i.push(c=>c.lineTo(o,l)),r+=2}break;case ii.QUADRATIC_CURVE_TO:{const[o,l,c,d]=s.slice(r,r+4);i.push(f=>f.quadraticCurveTo(o,l,c,d)),r+=4}break;case ii.RESTORE:i.push(o=>o.restore());break;case ii.SAVE:i.push(o=>o.save());break;case ii.SCALE:ft(i.length===2,"Scale command is only valid at the third position.");break;case ii.TRANSFORM:{const[o,l,c,d,f,p]=s.slice(r,r+6);i.push(m=>m.transform(o,l,c,d,f,p)),r+=6}break;case ii.TRANSLATE:{const[o,l]=s.slice(r,r+2);i.push(c=>c.translate(o,l)),r+=2}break}return this.compiledGlyphs[t]=function(a,o){i[0](a),i[1](a),a.scale(o,-o);for(let l=2,c=i.length;l<c;l++)i[l](a)}}}var Bd;class Y_{constructor({enableHWA:e=!1}){C(this,Bd,!1);b(this,Bd,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!u(this,Bd)})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Pe("Abstract method `_createCanvas` called.")}}Bd=new WeakMap;class y5 extends Y_{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class Q_{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Pe("Abstract method `_fetch` called.")}}class J_ extends Q_{async _fetch(e){const t=await Qm(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Ym(t)}}class Z_{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,i,r){return"none"}destroy(e=!1){}}var za,Ha,Hs,gi,Vt,hm,Wa,V,Ft,Xo,Yo,Qf,Qo,e2,Uv,Jo,xu,wu,zv,bu;class v5 extends Z_{constructor({docId:t,ownerDocument:s=globalThis.document}){super();C(this,V);C(this,za);C(this,Ha);C(this,Hs);C(this,gi);C(this,Vt);C(this,hm);C(this,Wa,0);b(this,gi,t),b(this,Vt,s)}addFilter(t){if(!t)return"none";let s=u(this,V,Ft).get(t);if(s)return s;const[i,r,a]=A(this,V,Qf).call(this,t),o=t.length===1?i:`${i}${r}${a}`;if(s=u(this,V,Ft).get(o),s)return u(this,V,Ft).set(t,s),s;const l=`g_${u(this,gi)}_transfer_map_${Yt(this,Wa)._++}`,c=A(this,V,Qo).call(this,l);u(this,V,Ft).set(t,c),u(this,V,Ft).set(o,c);const d=A(this,V,Jo).call(this,l);return A(this,V,wu).call(this,i,r,a,d),c}addHCMFilter(t,s){var y;const i=`${t}-${s}`,r="base";let a=u(this,V,Xo).get(r);if((a==null?void 0:a.key)===i||(a?((y=a.filter)==null||y.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},u(this,V,Xo).set(r,a)),!t||!s))return a.url;const o=A(this,V,bu).call(this,t);t=G.makeHexColor(...o);const l=A(this,V,bu).call(this,s);if(s=G.makeHexColor(...l),u(this,V,Yo).style.color="",t==="#000000"&&s==="#ffffff"||t===s)return a.url;const c=new Array(256);for(let v=0;v<=255;v++){const S=v/255;c[v]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const d=c.join(","),f=`g_${u(this,gi)}_hcm_filter`,p=a.filter=A(this,V,Jo).call(this,f);A(this,V,wu).call(this,d,d,d,p),A(this,V,Uv).call(this,p);const m=(v,S)=>{const g=o[v]/255,x=l[v]/255,w=new Array(S+1);for(let E=0;E<=S;E++)w[E]=g+E/S*(x-g);return w.join(",")};return A(this,V,wu).call(this,m(0,5),m(1,5),m(2,5),p),a.url=A(this,V,Qo).call(this,f),a.url}addAlphaFilter(t){let s=u(this,V,Ft).get(t);if(s)return s;const[i]=A(this,V,Qf).call(this,[t]),r=`alpha_${i}`;if(s=u(this,V,Ft).get(r),s)return u(this,V,Ft).set(t,s),s;const a=`g_${u(this,gi)}_alpha_map_${Yt(this,Wa)._++}`,o=A(this,V,Qo).call(this,a);u(this,V,Ft).set(t,o),u(this,V,Ft).set(r,o);const l=A(this,V,Jo).call(this,a);return A(this,V,zv).call(this,i,l),o}addLuminosityFilter(t){let s=u(this,V,Ft).get(t||"luminosity");if(s)return s;let i,r;if(t?([i]=A(this,V,Qf).call(this,[t]),r=`luminosity_${i}`):r="luminosity",s=u(this,V,Ft).get(r),s)return u(this,V,Ft).set(t,s),s;const a=`g_${u(this,gi)}_luminosity_map_${Yt(this,Wa)._++}`,o=A(this,V,Qo).call(this,a);u(this,V,Ft).set(t,o),u(this,V,Ft).set(r,o);const l=A(this,V,Jo).call(this,a);return A(this,V,e2).call(this,l),t&&A(this,V,zv).call(this,i,l),o}addHighlightHCMFilter(t,s,i,r,a){var x;const o=`${s}-${i}-${r}-${a}`;let l=u(this,V,Xo).get(t);if((l==null?void 0:l.key)===o||(l?((x=l.filter)==null||x.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},u(this,V,Xo).set(t,l)),!s||!i))return l.url;const[c,d]=[s,i].map(A(this,V,bu).bind(this));let f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,y]=[r,a].map(A(this,V,bu).bind(this));p<f&&([f,p,m,y]=[p,f,y,m]),u(this,V,Yo).style.color="";const v=(w,E,k)=>{const T=new Array(256),N=(p-f)/k,P=w/255,R=(E-w)/(255*k);let I=0;for(let M=0;M<=k;M++){const q=Math.round(f+M*N),U=P+M*R;for(let $=I;$<=q;$++)T[$]=U;I=q+1}for(let M=I;M<256;M++)T[M]=T[I-1];return T.join(",")},S=`g_${u(this,gi)}_hcm_${t}_filter`,g=l.filter=A(this,V,Jo).call(this,S);return A(this,V,Uv).call(this,g),A(this,V,wu).call(this,v(m[0],y[0],5),v(m[1],y[1],5),v(m[2],y[2],5),g),l.url=A(this,V,Qo).call(this,S),l.url}destroy(t=!1){t&&u(this,V,Xo).size!==0||(u(this,Hs)&&(u(this,Hs).parentNode.parentNode.remove(),b(this,Hs,null)),u(this,Ha)&&(u(this,Ha).clear(),b(this,Ha,null)),b(this,Wa,0))}}za=new WeakMap,Ha=new WeakMap,Hs=new WeakMap,gi=new WeakMap,Vt=new WeakMap,hm=new WeakMap,Wa=new WeakMap,V=new WeakSet,Ft=function(){return u(this,Ha)||b(this,Ha,new Map)},Xo=function(){return u(this,hm)||b(this,hm,new Map)},Yo=function(){if(!u(this,Hs)){const t=u(this,Vt).createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const i=u(this,Vt).createElementNS(ai,"svg");i.setAttribute("width",0),i.setAttribute("height",0),b(this,Hs,u(this,Vt).createElementNS(ai,"defs")),t.append(i),i.append(u(this,Hs)),u(this,Vt).body.append(t)}return u(this,Hs)},Qf=function(t){if(t.length===1){const c=t[0],d=new Array(256);for(let p=0;p<256;p++)d[p]=c[p]/255;const f=d.join(",");return[f,f,f]}const[s,i,r]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=s[c]/255,o[c]=i[c]/255,l[c]=r[c]/255;return[a.join(","),o.join(","),l.join(",")]},Qo=function(t){if(u(this,za)===void 0){b(this,za,"");const s=u(this,Vt).URL;s!==u(this,Vt).baseURI&&(Jm(s)?oe('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,za,s.split("#",1)[0]))}return`url(${u(this,za)}#${t})`},e2=function(t){const s=u(this,Vt).createElementNS(ai,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(s)},Uv=function(t){const s=u(this,Vt).createElementNS(ai,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(s)},Jo=function(t){const s=u(this,Vt).createElementNS(ai,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",t),u(this,V,Yo).append(s),s},xu=function(t,s,i){const r=u(this,Vt).createElementNS(ai,s);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)},wu=function(t,s,i,r){const a=u(this,Vt).createElementNS(ai,"feComponentTransfer");r.append(a),A(this,V,xu).call(this,a,"feFuncR",t),A(this,V,xu).call(this,a,"feFuncG",s),A(this,V,xu).call(this,a,"feFuncB",i)},zv=function(t,s){const i=u(this,Vt).createElementNS(ai,"feComponentTransfer");s.append(i),A(this,V,xu).call(this,i,"feFuncA",t)},bu=function(t){return u(this,V,Yo).style.color=t,Aw(getComputedStyle(u(this,V,Yo)).getPropertyValue("color"))};class t2{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Pe("Abstract method `_fetch` called.")}}class n2 extends t2{async _fetch(e){const t=await Qm(e,"arraybuffer");return new Uint8Array(t)}}if(qt){var Hv=Promise.withResolvers(),$u=null;(async()=>{const e=await bf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await bf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await bf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await bf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let r,a;return new Map(Object.entries({fs:e,http:t,https:s,url:i,canvas:r,path2d:a}))})().then(e=>{$u=e,Hv.resolve()},e=>{oe(`loadPackages: ${e}`),$u=new Map,Hv.resolve()})}class ea{static get promise(){return Hv.promise}static get(e){return $u==null?void 0:$u.get(e)}}async function s2(n){const t=await ea.get("fs").promises.readFile(n);return new Uint8Array(t)}class x5 extends Z_{}class w5 extends Y_{_createCanvas(e,t){return ea.get("canvas").createCanvas(e,t)}}class b5 extends Q_{async _fetch(e){return s2(e)}}class A5 extends t2{async _fetch(e){return s2(e)}}const en={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Wv(n,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,s),n.clip(i)}class Ew{getPattern(){Pe("Abstract method `getPattern` called.")}}class S5 extends Ew{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,i){let r;if(i===en.STROKE||i===en.FILL){const a=t.current.getClippedPathBoundingBox(i,Ve(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=t.cachedCanvases.getCanvas("pattern",o,l),d=c.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),s=G.transform(s,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),Wv(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),r=e.createPattern(c.canvas,"no-repeat");const f=new DOMMatrix(s);r.setTransform(f)}else Wv(e,this._bbox),r=this._createGradient(e);return r}}function Zg(n,e,t,s,i,r,a,o){const l=e.coords,c=e.colors,d=n.data,f=n.width*4;let p;l[t+1]>l[s+1]&&(p=t,t=s,s=p,p=r,r=a,a=p),l[s+1]>l[i+1]&&(p=s,s=i,i=p,p=a,a=o,o=p),l[t+1]>l[s+1]&&(p=t,t=s,s=p,p=r,r=a,a=p);const m=(l[t]+e.offsetX)*e.scaleX,y=(l[t+1]+e.offsetY)*e.scaleY,v=(l[s]+e.offsetX)*e.scaleX,S=(l[s+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,x=(l[i+1]+e.offsetY)*e.scaleY;if(y>=x)return;const w=c[r],E=c[r+1],k=c[r+2],T=c[a],N=c[a+1],P=c[a+2],R=c[o],I=c[o+1],M=c[o+2],q=Math.round(y),U=Math.round(x);let $,Q,Y,O,j,H,W,ie;for(let te=q;te<=U;te++){if(te<S){const ae=te<y?0:(y-te)/(y-S);$=m-(m-v)*ae,Q=w-(w-T)*ae,Y=E-(E-N)*ae,O=k-(k-P)*ae}else{let ae;te>x?ae=1:S===x?ae=0:ae=(S-te)/(S-x),$=v-(v-g)*ae,Q=T-(T-R)*ae,Y=N-(N-I)*ae,O=P-(P-M)*ae}let he;te<y?he=0:te>x?he=1:he=(y-te)/(y-x),j=m-(m-g)*he,H=w-(w-R)*he,W=E-(E-I)*he,ie=k-(k-M)*he;const De=Math.round(Math.min($,j)),et=Math.round(Math.max($,j));let fe=f*te+De*4;for(let ae=De;ae<=et;ae++)he=($-ae)/($-j),he<0?he=0:he>1&&(he=1),d[fe++]=Q-(Q-H)*he|0,d[fe++]=Y-(Y-W)*he|0,d[fe++]=O-(O-ie)*he|0,d[fe++]=255}}function E5(n,e,t){const s=e.coords,i=e.colors;let r,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(s.length/o)-1,c=o-1;for(r=0;r<l;r++){let d=r*o;for(let f=0;f<c;f++,d++)Zg(n,t,s[d],s[d+1],s[d+o],i[d],i[d+1],i[d+o]),Zg(n,t,s[d+o+1],s[d+1],s[d+o],i[d+o+1],i[d+1],i[d+o])}break;case"triangles":for(r=0,a=s.length;r<a;r+=3)Zg(n,t,s[r],s[r+1],s[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class C5 extends Ew{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,s){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),m=c/f,y=d/p,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/m,scaleY:1/y},S=f+2*2,g=p+2*2,x=s.getCanvas("mesh",S,g),w=x.context,E=w.createImageData(f,p);if(t){const T=E.data;for(let N=0,P=T.length;N<P;N+=4)T[N]=t[0],T[N+1]=t[1],T[N+2]=t[2],T[N+3]=255}for(const T of this._figures)E5(E,T,v);return w.putImageData(E,2,2),{canvas:x.canvas,offsetX:o-2*m,offsetY:l-2*y,scaleX:m,scaleY:y}}getPattern(e,t,s,i){Wv(e,this._bbox);let r;if(i===en.SHADING)r=G.singularValueDecompose2dScale(Ve(e));else if(r=G.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=G.singularValueDecompose2dScale(this.matrix);r=[r[0]*o[0],r[1]*o[1]]}const a=this._createMeshCanvas(r,i===en.SHADING?null:this._background,t.cachedCanvases);return i!==en.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class k5 extends Ew{getPattern(){return"hotpink"}}function _5(n){switch(n[0]){case"RadialAxial":return new S5(n);case"Mesh":return new C5(n);case"Dummy":return new k5}throw new Error(`Unknown IR type: ${n[0]}`)}const RA={COLORED:1,UNCOLORED:2},fm=class fm{constructor(e,t,s,i,r){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=s,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:s,paintType:i,tilingType:r,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),Km("TilingType: "+r);const d=t[0],f=t[1],p=t[2],m=t[3],y=p-d,v=m-f,S=G.singularValueDecompose2dScale(this.matrix),g=G.singularValueDecompose2dScale(this.baseTransform),x=S[0]*g[0],w=S[1]*g[1];let E=y,k=v,T=!1,N=!1;const P=Math.ceil(l*x),R=Math.ceil(c*w),I=Math.ceil(y*x),M=Math.ceil(v*w);P>=I?E=l:T=!0,R>=M?k=c:N=!0;const q=this.getSizeAndScale(E,this.ctx.canvas.width,x),U=this.getSizeAndScale(k,this.ctx.canvas.height,w),$=e.cachedCanvases.getCanvas("pattern",q.size,U.size),Q=$.context,Y=o.createCanvasGraphics(Q);if(Y.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Y,i,a),Q.translate(-q.scale*d,-U.scale*f),Y.transform(q.scale,0,0,U.scale,0,0),Q.save(),this.clipBbox(Y,d,f,p,m),Y.baseTransform=Ve(Y.ctx),Y.executeOperatorList(s),Y.endDrawing(),Q.restore(),T||N){const O=$.canvas;T&&(E=l),N&&(k=c);const j=this.getSizeAndScale(E,this.ctx.canvas.width,x),H=this.getSizeAndScale(k,this.ctx.canvas.height,w),W=j.size,ie=H.size,te=e.cachedCanvases.getCanvas("pattern-workaround",W,ie),he=te.context,De=T?Math.floor(y/l):0,et=N?Math.floor(v/c):0;for(let fe=0;fe<=De;fe++)for(let ae=0;ae<=et;ae++)he.drawImage(O,W*fe,ie*ae,W,ie,0,0,W,ie);return{canvas:te.canvas,scaleX:j.scale,scaleY:H.scale,offsetX:d,offsetY:f}}return{canvas:$.canvas,scaleX:q.scale,scaleY:U.scale,offsetX:d,offsetY:f}}getSizeAndScale(e,t,s){const i=Math.max(fm.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*s);return r>=i?r=i:s=r/e,{scale:s,size:r}}clipBbox(e,t,s,i,r){const a=i-t,o=r-s;e.ctx.rect(t,s,a,o),e.current.updateRectMinMax(Ve(e.ctx),[t,s,i,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const i=e.ctx,r=e.current;switch(t){case RA.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case RA.UNCOLORED:const o=G.makeHexColor(s[0],s[1],s[2]);i.fillStyle=o,i.strokeStyle=o,r.fillColor=o,r.strokeColor=o;break;default:throw new J4(`Unsupported paint type: ${t}`)}}getPattern(e,t,s,i){let r=s;i!==en.SHADING&&(r=G.transform(r,t.baseTransform),this.matrix&&(r=G.transform(r,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};J(fm,"MAX_PATTERN_SIZE",3e3);let $v=fm;function N5({src:n,srcPos:e=0,dest:t,width:s,height:i,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const o=nn.isLittleEndian?4278190080:255,[l,c]=a?[r,o]:[o,r],d=s>>3,f=s&7,p=n.length;t=new Uint32Array(t.buffer);let m=0;for(let y=0;y<i;y++){for(const S=e+d;e<S;e++){const g=e<p?n[e]:255;t[m++]=g&128?c:l,t[m++]=g&64?c:l,t[m++]=g&32?c:l,t[m++]=g&16?c:l,t[m++]=g&8?c:l,t[m++]=g&4?c:l,t[m++]=g&2?c:l,t[m++]=g&1?c:l}if(f===0)continue;const v=e<p?n[e++]:255;for(let S=0;S<f;S++)t[m++]=v&1<<7-S?c:l}return{srcPos:e,destPos:m}}const IA=16,MA=100,T5=15,LA=10,DA=1e3,fn=16;function P5(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(s,i){e.translate(s,i),this.__originalTranslate(s,i)},n.scale=function(s,i){e.scale(s,i),this.__originalScale(s,i)},n.transform=function(s,i,r,a,o,l){e.transform(s,i,r,a,o,l),this.__originalTransform(s,i,r,a,o,l)},n.setTransform=function(s,i,r,a,o,l){e.setTransform(s,i,r,a,o,l),this.__originalSetTransform(s,i,r,a,o,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(s){e.rotate(s),this.__originalRotate(s)},n.clip=function(s){e.clip(s),this.__originalClip(s)},n.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},n.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},n.bezierCurveTo=function(t,s,i,r,a,o){e.bezierCurveTo(t,s,i,r,a,o),this.__originalBezierCurveTo(t,s,i,r,a,o)},n.rect=function(t,s,i,r){e.rect(t,s,i,r),this.__originalRect(t,s,i,r)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class j5{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,s)):(i=this.canvasFactory.create(t,s),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Af(n,e,t,s,i,r,a,o,l,c){const[d,f,p,m,y,v]=Ve(n);if(f===0&&p===0){const x=a*d+y,w=Math.round(x),E=o*m+v,k=Math.round(E),T=(a+l)*d+y,N=Math.abs(Math.round(T)-w)||1,P=(o+c)*m+v,R=Math.abs(Math.round(P)-k)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(m),w,k),n.drawImage(e,t,s,i,r,0,0,N,R),n.setTransform(d,f,p,m,y,v),[N,R]}if(d===0&&m===0){const x=o*p+y,w=Math.round(x),E=a*f+v,k=Math.round(E),T=(o+c)*p+y,N=Math.abs(Math.round(T)-w)||1,P=(a+l)*f+v,R=Math.abs(Math.round(P)-k)||1;return n.setTransform(0,Math.sign(f),Math.sign(p),0,w,k),n.drawImage(e,t,s,i,r,0,0,R,N),n.setTransform(d,f,p,m,y,v),[R,N]}n.drawImage(e,t,s,i,r,a,o,l,c);const S=Math.hypot(d,f),g=Math.hypot(p,m);return[S*l,g*c]}function R5(n){const{width:e,height:t}=n;if(e>DA||t>DA)return null;const s=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=e+1;let a=new Uint8Array(r*(t+1)),o,l,c;const d=e+7&-8;let f=new Uint8Array(d*t),p=0;for(const g of n.data){let x=128;for(;x>0;)f[p++]=g&x?0:255,x>>=1}let m=0;for(p=0,f[p]!==0&&(a[0]=1,++m),l=1;l<e;l++)f[p]!==f[p+1]&&(a[l]=f[p]?2:1,++m),p++;for(f[p]!==0&&(a[l]=2,++m),o=1;o<t;o++){p=o*d,c=o*r,f[p-d]!==f[p]&&(a[c]=f[p]?1:8,++m);let g=(f[p]?4:0)+(f[p-d]?8:0);for(l=1;l<e;l++)g=(g>>2)+(f[p+1]?4:0)+(f[p-d+1]?8:0),i[g]&&(a[c+l]=i[g],++m),p++;if(f[p-d]!==f[p]&&(a[c+l]=f[p]?2:4,++m),m>s)return null}for(p=d*(t-1),c=o*r,f[p]!==0&&(a[c]=8,++m),l=1;l<e;l++)f[p]!==f[p+1]&&(a[c+l]=f[p]?4:8,++m),p++;if(f[p]!==0&&(a[c+l]=4,++m),m>s)return null;const y=new Int32Array([0,r,-1,0,-r,0,0,0,1]),v=new Path2D;for(o=0;m&&o<=t;o++){let g=o*r;const x=g+e;for(;g<x&&!a[g];)g++;if(g===x)continue;v.moveTo(g%r,o);const w=g;let E=a[g];do{const k=y[E];do g+=k;while(!a[g]);const T=a[g];T!==5&&T!==10?(E=T,a[g]=0):(E=T&51*E>>4,a[g]&=E>>2|E<<2),v.lineTo(g%r,g/r|0),a[g]||--m}while(w!==g);--o}return f=null,a=null,function(g){g.save(),g.scale(1/e,-1/t),g.translate(0,-t),g.fill(v),g.beginPath(),g.restore()}}class OA{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=w_,this.textMatrixScale=1,this.fontMatrix=yv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ot.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,s){[t,s]=G.applyTransform([t,s],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(e,t){const s=G.applyTransform(t,e),i=G.applyTransform(t.slice(2),e),r=G.applyTransform([t[0],t[3]],e),a=G.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,s[0],i[0],r[0],a[0]),this.minY=Math.min(this.minY,s[1],i[1],r[1],a[1]),this.maxX=Math.max(this.maxX,s[0],i[0],r[0],a[0]),this.maxY=Math.max(this.maxY,s[1],i[1],r[1],a[1])}updateScalingPathMinMax(e,t){G.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,s,i,r,a,o,l,c,d){const f=G.bezierBoundingBox(t,s,i,r,a,o,l,c,d);d||this.updateRectMinMax(e,f)}getPathBoundingBox(e=en.FILL,t=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(e===en.STROKE){t||Pe("Stroke bounding box must include transform.");const i=G.singularValueDecompose2dScale(t),r=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;s[0]-=r,s[1]-=a,s[2]+=r,s[3]+=a}return s}updateClipFromPath(){const e=G.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=en.FILL,t=null){return G.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function FA(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,s=e.width,i=t%fn,r=(t-i)/fn,a=i===0?r:r+1,o=n.createImageData(s,fn);let l=0,c;const d=e.data,f=o.data;let p,m,y,v;if(e.kind===Wf.GRAYSCALE_1BPP){const S=d.byteLength,g=new Uint32Array(f.buffer,0,f.byteLength>>2),x=g.length,w=s+7>>3,E=4294967295,k=nn.isLittleEndian?4278190080:255;for(p=0;p<a;p++){for(y=p<r?fn:i,c=0,m=0;m<y;m++){const T=S-l;let N=0;const P=T>w?s:T*8-7,R=P&-8;let I=0,M=0;for(;N<R;N+=8)M=d[l++],g[c++]=M&128?E:k,g[c++]=M&64?E:k,g[c++]=M&32?E:k,g[c++]=M&16?E:k,g[c++]=M&8?E:k,g[c++]=M&4?E:k,g[c++]=M&2?E:k,g[c++]=M&1?E:k;for(;N<P;N++)I===0&&(M=d[l++],I=128),g[c++]=M&I?E:k,I>>=1}for(;c<x;)g[c++]=0;n.putImageData(o,0,p*fn)}}else if(e.kind===Wf.RGBA_32BPP){for(m=0,v=s*fn*4,p=0;p<r;p++)f.set(d.subarray(l,l+v)),l+=v,n.putImageData(o,0,m),m+=fn;p<a&&(v=s*i*4,f.set(d.subarray(l,l+v)),n.putImageData(o,0,m))}else if(e.kind===Wf.RGB_24BPP)for(y=fn,v=s*y,p=0;p<a;p++){for(p>=r&&(y=i,v=s*y),c=0,m=v;m--;)f[c++]=d[l++],f[c++]=d[l++],f[c++]=d[l++],f[c++]=255;n.putImageData(o,0,p*fn)}else throw new Error(`bad image kind: ${e.kind}`)}function BA(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,i=t%fn,r=(t-i)/fn,a=i===0?r:r+1,o=n.createImageData(s,fn);let l=0;const c=e.data,d=o.data;for(let f=0;f<a;f++){const p=f<r?fn:i;({srcPos:l}=N5({src:c,srcPos:l,dest:d,width:s,height:p,nonBlackColor:0})),n.putImageData(o,0,f*fn)}}function ru(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)n[s]!==void 0&&(e[s]=n[s]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Sf(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!qt){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function VA(n,e){if(e)return!0;const t=G.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*Zr.PDF_TO_CSS_UNITS);return t[0]<=s&&t[1]<=s}const I5=["butt","round","square"],M5=["miter","round","bevel"],L5={},UA={};var na,Gv,qv;const Rw=class Rw{constructor(e,t,s,i,r,{optionalContentConfig:a,markedContentStack:o=null},l,c){C(this,na);this.ctx=e,this.current=new OA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new j5(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:i=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,s){const l=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ve(this.compositeCtx))}this.ctx.save(),Sf(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ve(this.ctx)}executeOperatorList(e,t,s,i){const r=e.argsArray,a=e.fnArray;let o=t||0;const l=r.length;if(l===o)return o;const c=l-o>LA&&typeof s=="function",d=c?Date.now()+T5:0;let f=0;const p=this.commonObjs,m=this.objs;let y;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,s),o;if(y=a[o],y!==us.dependency)this[y].apply(this,r[o]);else for(const v of r[o]){const S=v.startsWith("g_")?p:m;if(!S.has(v))return S.get(v,s),o}if(o++,o===l)return o;if(c&&++f>LA){if(Date.now()>d)return s(),o;f=0}}}endDrawing(){A(this,na,Gv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),A(this,na,qv).call(this)}_scaleImage(e,t){const s=e.width??e.displayWidth,i=e.height??e.displayHeight;let r=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=s,l=i,c="prescale1",d,f;for(;r>2&&o>1||a>2&&l>1;){let p=o,m=l;r>2&&o>1&&(p=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),r/=o/p),a>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/m),d=this.cachedCanvases.getCanvas(c,p,m),f=d.context,f.clearRect(0,0,p,m),f.drawImage(e,0,0,o,l,0,0,p,m),e=d.canvas,o=p,l=m,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:s,height:i}=e,r=this.current.fillColor,a=this.current.patternFill,o=Ve(t);let l,c,d,f;if((e.bitmap||e.data)&&e.count>1){const P=e.bitmap||e.data.buffer;c=JSON.stringify(a?o:[o.slice(0,4),r]),l=this._cachedBitmapsMap.get(P),l||(l=new Map,this._cachedBitmapsMap.set(P,l));const R=l.get(c);if(R&&!a){const I=Math.round(Math.min(o[0],o[2])+o[4]),M=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:R,offsetX:I,offsetY:M}}d=R}d||(f=this.cachedCanvases.getCanvas("maskCanvas",s,i),BA(f.context,e));let p=G.transform(o,[1/s,0,0,-1/i,0,0]);p=G.transform(p,[1,0,0,1,0,-i]);const[m,y,v,S]=G.getAxialAlignedBoundingBox([0,0,s,i],p),g=Math.round(v-m)||1,x=Math.round(S-y)||1,w=this.cachedCanvases.getCanvas("fillCanvas",g,x),E=w.context,k=m,T=y;E.translate(-k,-T),E.transform(...p),d||(d=this._scaleImage(f.canvas,ri(E)),d=d.img,l&&a&&l.set(c,d)),E.imageSmoothingEnabled=VA(Ve(E),e.interpolate),Af(E,d,0,0,d.width,d.height,0,0,s,i),E.globalCompositeOperation="source-in";const N=G.transform(ri(E),[1,0,0,1,-k,-T]);return E.fillStyle=a?r.getPattern(t,this,N,en.FILL):r,E.fillRect(0,0,s,i),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,w.canvas)),{canvas:w.canvas,offsetX:Math.round(k),offsetY:Math.round(T)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=I5[e]}setLineJoin(e){this.ctx.lineJoin=M5[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,s]of e)switch(t){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(s,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const r=this.ctx;r.setTransform(...Ve(this.suspendedCtx)),ru(this.suspendedCtx,r),P5(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ru(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,i){const r=i[0],a=i[1],o=i[2]-r,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,s,o,l,t.subtype,t.backdrop,t.transferMap,r,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,i,r,a,o,l,c,d,f){let p=e.canvas,m=l-d,y=c-f;if(a){const S=G.makeHexColor(...a);if(m<0||y<0||m+s>p.width||y+i>p.height){const g=this.cachedCanvases.getCanvas("maskExtension",s,i),x=g.context;x.drawImage(p,-m,-y),x.globalCompositeOperation="destination-atop",x.fillStyle=S,x.fillRect(0,0,s,i),x.globalCompositeOperation="source-over",p=g.canvas,m=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const g=new Path2D;g.rect(m,y,s,i),e.clip(g),e.globalCompositeOperation="destination-atop",e.fillStyle=S,e.fillRect(m,y,s,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(l,c,s,i),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(p,m,y,s,i,l,c,s,i),t.restore()}save(){this.inSMaskMode?(ru(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ru(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,s,i,r,a){this.ctx.transform(e,t,s,i,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s){const i=this.ctx,r=this.current;let a=r.x,o=r.y,l,c;const d=Ve(i),f=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,p=f?s.slice(0):null;for(let m=0,y=0,v=e.length;m<v;m++)switch(e[m]|0){case us.rectangle:a=t[y++],o=t[y++];const S=t[y++],g=t[y++],x=a+S,w=o+g;i.moveTo(a,o),S===0||g===0?i.lineTo(x,w):(i.lineTo(x,o),i.lineTo(x,w),i.lineTo(a,w)),f||r.updateRectMinMax(d,[a,o,x,w]),i.closePath();break;case us.moveTo:a=t[y++],o=t[y++],i.moveTo(a,o),f||r.updatePathMinMax(d,a,o);break;case us.lineTo:a=t[y++],o=t[y++],i.lineTo(a,o),f||r.updatePathMinMax(d,a,o);break;case us.curveTo:l=a,c=o,a=t[y+4],o=t[y+5],i.bezierCurveTo(t[y],t[y+1],t[y+2],t[y+3],a,o),r.updateCurvePathMinMax(d,l,c,t[y],t[y+1],t[y+2],t[y+3],a,o,p),y+=6;break;case us.curveTo2:l=a,c=o,i.bezierCurveTo(a,o,t[y],t[y+1],t[y+2],t[y+3]),r.updateCurvePathMinMax(d,l,c,a,o,t[y],t[y+1],t[y+2],t[y+3],p),a=t[y+2],o=t[y+3],y+=4;break;case us.curveTo3:l=a,c=o,a=t[y+2],o=t[y+3],i.bezierCurveTo(t[y],t[y+1],a,o,a,o),r.updateCurvePathMinMax(d,l,c,t[y],t[y+1],a,o,a,o,p),y+=4;break;case us.closePath:i.closePath();break}f&&r.updateScalingPathMinMax(d,p),r.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,s=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(t.save(),t.strokeStyle=s.getPattern(t,this,ri(t),en.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,s=this.current.fillColor,i=this.current.patternFill;let r=!1;i&&(t.save(),t.fillStyle=s.getPattern(t,this,ri(t),en.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=L5}eoClip(){this.pendingClip=UA}beginText(){this.current.textMatrix=w_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const s of e)t.setTransform(...s.transform),t.translate(s.x,s.y),s.addToPath(t,s.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const s=this.commonObjs.get(e),i=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=s.fontMatrix||yv,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&oe("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=s,this.current.fontSize=t,s.isType3Font)return;const r=s.loadedName||"sans-serif",a=((d=s.systemFontInfo)==null?void 0:d.css)||`"${r}", ${s.fallbackName}`;let o="normal";s.black?o="900":s.bold&&(o="bold");const l=s.italic?"italic":"normal";let c=t;t<IA?c=IA:t>MA&&(c=MA),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${o} ${c}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,s,i,r,a){this.current.textMatrix=[e,t,s,i,r,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,s,i){const r=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,d=l&Ot.FILL_STROKE_MASK,f=!!(l&Ot.ADD_TO_PATH_FLAG),p=a.patternFill&&!o.missingFile;let m;(o.disableFontFace||f||p)&&(m=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||p?(r.save(),r.translate(t,s),r.beginPath(),m(r,c),i&&r.setTransform(...i),(d===Ot.FILL||d===Ot.FILL_STROKE)&&r.fill(),(d===Ot.STROKE||d===Ot.FILL_STROKE)&&r.stroke(),r.restore()):((d===Ot.FILL||d===Ot.FILL_STROKE)&&r.fillText(e,t,s),(d===Ot.STROKE||d===Ot.FILL_STROKE)&&r.strokeText(e,t,s)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ve(r),x:t,y:s,fontSize:c,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){s=!0;break}return de(this,"isFontSubpixelAAEnabled",s)}showText(e){const t=this.current,s=t.font;if(s.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const r=this.ctx,a=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,d=t.textHScale*c,f=e.length,p=s.vertical,m=p?1:-1,y=s.defaultVMetrics,v=i*t.fontMatrix[0],S=t.textRenderingMode===Ot.FILL&&!s.disableFontFace&&!t.patternFill;r.save(),r.transform(...t.textMatrix),r.translate(t.x,t.y+t.textRise),c>0?r.scale(d,-1):r.scale(d,1);let g;if(t.patternFill){r.save();const T=t.fillColor.getPattern(r,this,ri(r),en.FILL);g=Ve(r),r.restore(),r.fillStyle=T}let x=t.lineWidth;const w=t.textMatrixScale;if(w===0||x===0){const T=t.textRenderingMode&Ot.FILL_STROKE_MASK;(T===Ot.STROKE||T===Ot.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=w;if(a!==1&&(r.scale(a,a),x/=a),r.lineWidth=x,s.isInvalidPDFjsFont){const T=[];let N=0;for(const P of e)T.push(P.unicode),N+=P.width;r.fillText(T.join(""),0,0),t.x+=N*v*d,r.restore(),this.compose();return}let E=0,k;for(k=0;k<f;++k){const T=e[k];if(typeof T=="number"){E+=m*T*i/1e3;continue}let N=!1;const P=(T.isSpace?l:0)+o,R=T.fontChar,I=T.accent;let M,q,U=T.width;if(p){const Q=T.vmetric||y,Y=-(T.vmetric?Q[1]:U*.5)*v,O=Q[2]*v;U=Q?-Q[0]:U,M=Y/a,q=(E+O)/a}else M=E/a,q=0;if(s.remeasure&&U>0){const Q=r.measureText(R).width*1e3/i*a;if(U<Q&&this.isFontSubpixelAAEnabled){const Y=U/Q;N=!0,r.save(),r.scale(Y,1),M/=Y}else U!==Q&&(M+=(U-Q)/2e3*i/a)}if(this.contentVisible&&(T.isInFont||s.missingFile)){if(S&&!I)r.fillText(R,M,q);else if(this.paintChar(R,M,q,g),I){const Q=M+i*I.offset.x/a,Y=q-i*I.offset.y/a;this.paintChar(I.fontChar,Q,Y,g)}}const $=p?U*v-P*c:U*v+P*c;E+=$,N&&r.restore()}p?t.y-=E:t.x+=E*d,r.restore(),this.compose()}showType3Text(e){const t=this.ctx,s=this.current,i=s.font,r=s.fontSize,a=s.fontDirection,o=i.vertical?1:-1,l=s.charSpacing,c=s.wordSpacing,d=s.textHScale*a,f=s.fontMatrix||yv,p=e.length,m=s.textRenderingMode===Ot.INVISIBLE;let y,v,S,g;if(!(m||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...s.textMatrix),t.translate(s.x,s.y),t.scale(d,a),y=0;y<p;++y){if(v=e[y],typeof v=="number"){g=o*v*r/1e3,this.ctx.translate(g,0),s.x+=g*d;continue}const x=(v.isSpace?c:0)+l,w=i.charProcOperatorList[v.operatorListId];if(!w){oe(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(r,r),t.transform(...f),this.executeOperatorList(w),this.restore()),S=G.applyTransform([v.width,0],f)[0]*r+x,t.translate(S,0),s.x+=S*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,s,i,r,a){this.ctx.rect(s,i,r-s,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const s=e[1],i=this.baseTransform||Ve(this.ctx),r={createCanvasGraphics:a=>new Rw(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new $v(e,s,this.ctx,r,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,s){this.ctx.strokeStyle=this.current.strokeColor=G.makeHexColor(e,t,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,s){this.ctx.fillStyle=this.current.fillColor=G.makeHexColor(e,t,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=_5(this.getObject(e)),this.cachedPatterns.set(e,s)),t&&(s.matrix=t),s}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const s=this._getPattern(e);t.fillStyle=s.getPattern(t,this,ri(t),en.SHADING);const i=ri(t);if(i){const{width:r,height:a}=t.canvas,[o,l,c,d]=G.getAxialAlignedBoundingBox([0,0,r,a],i);this.ctx.fillRect(o,l,c-o,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Pe("Should not call beginInlineImage")}beginImageData(){Pe("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ve(this.ctx),t)){const s=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],s,i),this.current.updateRectMinMax(Ve(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Km("TODO: Support non-isolated groups."),e.knockout&&oe("Knockout groups not supported.");const s=Ve(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=G.getAxialAlignedBoundingBox(e.bbox,Ve(t));const r=[0,0,t.canvas.width,t.canvas.height];i=G.intersect(i,r)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-a,1),c=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(d,l,c),p=f.context;p.translate(-a,-o),p.transform(...s),e.smask?this.smaskStack.push({canvas:f.canvas,context:p,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),ru(t,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Ve(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const r=G.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(e,t,s,i,r){if(A(this,na,Gv).call(this),Sf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(r&&this.annotationCanvasMap){s=s.slice(),s[4]-=t[0],s[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[l,c]=G.singularValueDecompose2dScale(Ve(this.ctx)),{viewportScale:d}=this,f=Math.ceil(a*this.outputScaleX*d),p=Math.ceil(o*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,o*c),Sf(this.ctx)}else Sf(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new OA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),A(this,na,qv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const s=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=R5(e)),i.compiled)){i.compiled(s);return}const r=this._createMaskCanvas(e),a=r.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(a,r.offsetX,r.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s=0,i=0,r,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Ve(o);o.transform(t,s,i,r,0,0);const c=this._createMaskCanvas(e);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let d=0,f=a.length;d<f;d+=2){const p=G.transform(l,[t,s,i,r,a[d],a[d+1]]),[m,y]=G.applyTransform([0,0],p);o.drawImage(c.canvas,m,y)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,s=this.current.fillColor,i=this.current.patternFill;for(const r of e){const{data:a,width:o,height:l,transform:c}=r,d=this.cachedCanvases.getCanvas("maskCanvas",o,l),f=d.context;f.save();const p=this.getObject(a,r);BA(f,p),f.globalCompositeOperation="source-in",f.fillStyle=i?s.getPattern(f,this,ri(t),en.FILL):s,f.fillRect(0,0,o,l),f.restore(),t.save(),t.transform(...c),t.scale(1,-1),Af(t,d.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){oe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,s,i){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){oe("Dependent image isn't ready yet");return}const a=r.width,o=r.height,l=[];for(let c=0,d=i.length;c<d;c+=2)l.push({transform:[t,0,0,s,i[c],i[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",s,i),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,s=e.height,i=this.ctx;if(this.save(),!qt){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/t,-1/s);let r;if(e.bitmap)r=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)r=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,s).context;FA(l,e),r=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(r,ri(i));i.imageSmoothingEnabled=VA(Ve(i),e.interpolate),Af(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-s,t,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const r=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",r,a).context;FA(l,e),i=this.applyTransferMapsToCanvas(l)}for(const r of t)s.save(),s.transform(...r.transform),s.scale(1,-1),Af(s,i,r.x,r.y,r.w,r.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(t||(this.pendingClip===UA?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ve(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:i,d:r}=this.ctx.getTransform();let a,o;if(s===0&&i===0){const l=Math.abs(t),c=Math.abs(r);if(l===c)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/c;else{const d=l*e,f=c*e;a=d<1?1/d:1,o=f<1?1/f:1}}else{const l=Math.abs(t*r-s*i),c=Math.hypot(t,s),d=Math.hypot(i,r);if(e===0)a=d/l,o=c/l;else{const f=e*l;a=d>f?d/f:1,o=c>f?c/f:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:s}=this.current,[i,r]=this.getScaleForStroking();if(t.lineWidth=s||1,i===1&&r===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,r),a.length>0){const o=Math.max(i,r);t.setLineDash(a.map(l=>l/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};na=new WeakSet,Gv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},qv=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let _l=Rw;for(const n in us)_l.prototype[n]!==void 0&&(_l.prototype[us[n]]=_l.prototype[n]);var Vd,Ud;class Li{static get workerPort(){return u(this,Vd)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");b(this,Vd,e)}static get workerSrc(){return u(this,Ud)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");b(this,Ud,e)}}Vd=new WeakMap,Ud=new WeakMap,C(Li,Vd,null),C(Li,Ud,"");const Ef={UNKNOWN:0,DATA:1,ERROR:2},tt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function An(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Pe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ho(n.message);case"MissingPDFException":return new zo(n.message);case"PasswordException":return new vv(n.message,n.code);case"UnexpectedResponseException":return new Xm(n.message,n.status);case"UnknownErrorException":return new xv(n.message,n.details);default:return new xv(n.message,n.toString())}}var $l,ns,i2,r2,a2,Jf;class Au{constructor(e,t,s){C(this,ns);C(this,$l,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",A(this,ns,i2).bind(this),{signal:u(this,$l).signal})}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},s)}catch(a){r.reject(a)}return r.promise}sendWithStream(e,t,s,i){const r=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const d=Promise.withResolvers();return this.streamControllers[r]={controller:c,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:r,data:t,desiredSize:c.desiredSize},i),d.promise},pull:c=>{const d=Promise.withResolvers();return this.streamControllers[r].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:tt.PULL,streamId:r,desiredSize:c.desiredSize}),d.promise},cancel:c=>{ft(c instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[r].cancelCall=d,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:tt.CANCEL,streamId:r,reason:An(c)}),d.promise}},s)}destroy(){var e;(e=u(this,$l))==null||e.abort(),b(this,$l,null)}}$l=new WeakMap,ns=new WeakSet,i2=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){A(this,ns,a2).call(this,e);return}if(e.callback){const s=e.callbackId,i=this.callbackCapabilities[s];if(!i)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===Ef.DATA)i.resolve(e.data);else if(e.callback===Ef.ERROR)i.reject(An(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,i=e.sourceName,r=this.comObj;new Promise(function(a){a(t(e.data))}).then(function(a){r.postMessage({sourceName:s,targetName:i,callback:Ef.DATA,callbackId:e.callbackId,data:a})},function(a){r.postMessage({sourceName:s,targetName:i,callback:Ef.ERROR,callbackId:e.callbackId,reason:An(a)})});return}if(e.streamId){A(this,ns,r2).call(this,e);return}t(e.data)},r2=function(e){const t=e.streamId,s=this.sourceName,i=e.sourceName,r=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,d=1,f){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=d,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:s,targetName:i,stream:tt.ENQUEUE,streamId:t,chunk:c},f)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:i,stream:tt.CLOSE,streamId:t}),delete a.streamSinks[t])},error(c){ft(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:i,stream:tt.ERROR,streamId:t,reason:An(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(o(e.data,l))}).then(function(){r.postMessage({sourceName:s,targetName:i,stream:tt.START_COMPLETE,streamId:t,success:!0})},function(c){r.postMessage({sourceName:s,targetName:i,stream:tt.START_COMPLETE,streamId:t,reason:An(c)})})},a2=function(e){const t=e.streamId,s=this.sourceName,i=e.sourceName,r=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case tt.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(An(e.reason));break;case tt.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(An(e.reason));break;case tt.PULL:if(!o){r.postMessage({sourceName:s,targetName:i,stream:tt.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=o.onPull)==null?void 0:c.call(o))}).then(function(){r.postMessage({sourceName:s,targetName:i,stream:tt.PULL_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:s,targetName:i,stream:tt.PULL_COMPLETE,streamId:t,reason:An(l)})});break;case tt.ENQUEUE:if(ft(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case tt.CLOSE:if(ft(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),A(this,ns,Jf).call(this,a,t);break;case tt.ERROR:ft(a,"error should have stream controller"),a.controller.error(An(e.reason)),A(this,ns,Jf).call(this,a,t);break;case tt.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(An(e.reason)),A(this,ns,Jf).call(this,a,t);break;case tt.CANCEL:if(!o)break;new Promise(function(l){var c;l((c=o.onCancel)==null?void 0:c.call(o,An(e.reason)))}).then(function(){r.postMessage({sourceName:s,targetName:i,stream:tt.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:s,targetName:i,stream:tt.CANCEL_COMPLETE,streamId:t,reason:An(l)})}),o.sinkCapability.reject(An(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Jf=async function(e,t){var s,i,r;await Promise.allSettled([(s=e.startCall)==null?void 0:s.promise,(i=e.pullCall)==null?void 0:i.promise,(r=e.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[t]};var $a,zd;class D5{constructor({parsedData:e,rawData:t}){C(this,$a);C(this,zd);b(this,$a,e),b(this,zd,t)}getRaw(){return u(this,zd)}get(e){return u(this,$a).get(e)??null}getAll(){return yw(u(this,$a))}has(e){return u(this,$a).has(e)}}$a=new WeakMap,zd=new WeakMap;const Zo=Symbol("INTERNAL");var Hd,Wd,$d,Gl;class O5{constructor(e,{name:t,intent:s,usage:i,rbGroups:r}){C(this,Hd,!1);C(this,Wd,!1);C(this,$d,!1);C(this,Gl,!0);b(this,Hd,!!(e&jn.DISPLAY)),b(this,Wd,!!(e&jn.PRINT)),this.name=t,this.intent=s,this.usage=i,this.rbGroups=r}get visible(){if(u(this,$d))return u(this,Gl);if(!u(this,Gl))return!1;const{print:e,view:t}=this.usage;return u(this,Hd)?(t==null?void 0:t.viewState)!=="OFF":u(this,Wd)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,s=!1){e!==Zo&&Pe("Internal method `_setVisible` called."),b(this,$d,s),b(this,Gl,t)}}Hd=new WeakMap,Wd=new WeakMap,$d=new WeakMap,Gl=new WeakMap;var xr,xe,ql,Kl,Gd,Kv;class F5{constructor(e,t=jn.DISPLAY){C(this,Gd);C(this,xr,null);C(this,xe,new Map);C(this,ql,null);C(this,Kl,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,b(this,Kl,e.order);for(const s of e.groups)u(this,xe).set(s.id,new O5(t,s));if(e.baseState==="OFF")for(const s of u(this,xe).values())s._setVisible(Zo,!1);for(const s of e.on)u(this,xe).get(s)._setVisible(Zo,!0);for(const s of e.off)u(this,xe).get(s)._setVisible(Zo,!1);b(this,ql,this.getHash())}}isVisible(e){if(u(this,xe).size===0)return!0;if(!e)return Km("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,xe).has(e.id)?u(this,xe).get(e.id).visible:(oe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return A(this,Gd,Kv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,xe).has(t))return oe(`Optional content group not found: ${t}`),!0;if(u(this,xe).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,xe).has(t))return oe(`Optional content group not found: ${t}`),!0;if(!u(this,xe).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,xe).has(t))return oe(`Optional content group not found: ${t}`),!0;if(!u(this,xe).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,xe).has(t))return oe(`Optional content group not found: ${t}`),!0;if(u(this,xe).get(t).visible)return!1}return!0}return oe(`Unknown optional content policy ${e.policy}.`),!0}return oe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){var r;const i=u(this,xe).get(e);if(!i){oe(`Optional content group not found: ${e}`);return}if(s&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((r=u(this,xe).get(o))==null||r._setVisible(Zo,!1,!0));i._setVisible(Zo,!!t,!0),b(this,xr,null)}setOCGState({state:e,preserveRB:t}){let s;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":s=i;continue}const r=u(this,xe).get(i);if(r)switch(s){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!r.visible,t);break}}b(this,xr,null)}get hasInitialVisibility(){return u(this,ql)===null||this.getHash()===u(this,ql)}getOrder(){return u(this,xe).size?u(this,Kl)?u(this,Kl).slice():[...u(this,xe).keys()]:null}getGroups(){return u(this,xe).size>0?yw(u(this,xe)):null}getGroup(e){return u(this,xe).get(e)||null}getHash(){if(u(this,xr)!==null)return u(this,xr);const e=new q_;for(const[t,s]of u(this,xe))e.update(`${t}:${s.visible}`);return b(this,xr,e.hexdigest())}}xr=new WeakMap,xe=new WeakMap,ql=new WeakMap,Kl=new WeakMap,Gd=new WeakSet,Kv=function(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let i=1;i<t;i++){const r=e[i];let a;if(Array.isArray(r))a=A(this,Gd,Kv).call(this,r);else if(u(this,xe).has(r))a=u(this,xe).get(r).visible;else return oe(`Optional content group not found: ${r}`),!0;switch(s){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return s==="And"};class B5{constructor(e,{disableRange:t=!1,disableStream:s=!1}){ft(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(r==null?void 0:r.length)>0){const l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const i=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(s),!0)});ft(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,s,i,r;e.total===void 0?(s=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||s.call(t,{loaded:e.loaded}):(r=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||r.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ft(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new V5(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new U5(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class V5{constructor(e,t,s=!1,i=null){this._stream=e,this._done=s||!1,this._filename=ww(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class U5{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function z5(n){let e=!0,t=s("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=c(d),r(d)}if(t=a(n),t){const d=c(t);return r(d)}if(t=s("filename","i").exec(n),t){t=t[1];let d=o(t);return d=c(d),r(d)}function s(d,f){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(d,f){if(d){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const p=new TextDecoder(d,{fatal:!0}),m=Ym(f);f=p.decode(m),e=!1}catch{}}return f}function r(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const f=[];let p;const m=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=m.exec(d))!==null;){let[,v,S,g]=p;if(v=parseInt(v,10),v in f){if(v===0)break;continue}f[v]=[S,g]}const y=[];for(let v=0;v<f.length&&v in f;++v){let[S,g]=f[v];g=o(g),S&&(g=unescape(g),v===0&&(g=l(g))),y.push(g)}return y.join("")}function o(d){if(d.startsWith('"')){const f=d.slice(1).split('\\"');for(let p=0;p<f.length;++p){const m=f[p].indexOf('"');m!==-1&&(f[p]=f[p].slice(0,m),f.length=p+1),f[p]=f[p].replaceAll(/\\(.)/g,"$1")}d=f.join('"')}return d}function l(d){const f=d.indexOf("'");if(f===-1)return d;const p=d.slice(0,f),y=d.slice(f+1).replace(/^[^']*'/,"");return i(p,y)}function c(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,p,m,y){if(m==="q"||m==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,S){return String.fromCharCode(parseInt(S,16))}),i(p,y);try{y=atob(y)}catch{}return i(p,y)})}return""}function Cw(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const s in e){const i=e[s];i!==void 0&&t.append(s,i)}return t}function kw({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:s}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n.get("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*t)||s||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function _w(n){const e=n.get("Content-Disposition");if(e){let t=z5(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(ww(t))return t}return null}function Zm(n,e){return n===404||n===0&&e.startsWith("file:")?new zo('Missing PDF "'+e+'".'):new Xm(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function o2(n){return n===200||n===206}function l2(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function c2(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(oe(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class zA{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Cw(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ft(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new H5(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new W5(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class H5{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),i=t.url;fetch(i,l2(s,this._withCredentials,this._abortController)).then(r=>{if(!o2(r.status))throw Zm(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const a=r.headers,{allowRangeRequests:o,suggestedLength:l}=kw({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=_w(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ho("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:c2(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class W5{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${s-1}`);const a=i.url;fetch(a,l2(r,this._withCredentials,this._abortController)).then(o=>{if(!o2(o.status))throw Zm(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:c2(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const ey=200,ty=206;function $5(n){const e=n.response;return typeof e!="string"?e:Ym(e).buffer}class G5{constructor({url:e,httpHeaders:t,withCredentials:s}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Cw(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,s){const i={begin:e,end:t};for(const r in s)i[r]=s[r];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,i=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,a]of this.headers)t.setRequestHeader(r,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=ty):i.expectedStatus=ey,t.responseType="arraybuffer",e.onError&&(t.onerror=function(r){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){var i;const s=this.pendingRequests[e];s&&((i=s.onProgress)==null||i.call(s,t))}onStateChange(e,t){var l,c,d;const s=this.pendingRequests[e];if(!s)return;const i=s.xhr;if(i.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=s.onError)==null||l.call(s,i.status);return}const r=i.status||ey;if(!(r===ey&&s.expectedStatus===ty)&&r!==s.expectedStatus){(c=s.onError)==null||c.call(s,i.status);return}const o=$5(i);if(r===ty){const f=i.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);s.onDone({begin:parseInt(p[1],10),chunk:o})}else o?s.onDone({begin:0,chunk:o}):(d=s.onError)==null||d.call(s,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class q5{constructor(e){this._source=e,this._manager=new G5(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ft(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new K5(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new X5(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class K5{constructor(e,t){this._manager=e;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),s=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(a=>{const[o,...l]=a.split(": ");return[o,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:r}=kw({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=_w(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Zm(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class X5{constructor(e,t,s){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,s,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Zm(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Y5=/^[a-z][a-z0-9\-+.]+:/i;function Q5(n){if(Y5.test(n))return new URL(n);const e=ea.get("url");return new URL(e.pathToFileURL(n))}function u2(n,e,t){return n.protocol==="http:"?ea.get("http").request(n,{headers:e},t):ea.get("https").request(n,{headers:e},t)}class J5{constructor(e){this.source=e,this.url=Q5(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=Cw(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ft(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new t6(this):new Z5(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=this.isFsUrl?new n6(this,e,t):new e6(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class d2{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ho("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class h2{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class Z5 extends d2{constructor(e){super(e);const t=Object.fromEntries(e.headers),s=i=>{if(i.statusCode===404){const l=new zo(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);const r=new Headers(this._readableStream.headers),{allowRangeRequests:a,suggestedLength:o}=kw({responseHeaders:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=_w(r)};this._request=u2(this._url,t,s),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class e6 extends h2{constructor(e,t,s){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${t}-${s-1}`;const r=a=>{if(a.statusCode===404){const o=new zo(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(a)};this._request=u2(this._url,i,r),this._request.on("error",a=>{this._storedError=a}),this._request.end()}}class t6 extends d2{constructor(e){super(e);const t=ea.get("fs");t.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new zo(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class n6 extends h2{constructor(e,t,s){super(e);const i=ea.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:s-1}))}}const s6=1e5,ln=30,i6=.8;var nS,wr,dn,qd,Kd,Ga,yi,Xd,Yd,qa,Xl,Yl,br,Ql,Qd,Jl,Ka,Jd,Zd,Ge,Xa,Ya,eh,Ar,Zl,Xi,f2,p2,Yv,On,Zf,Qv,m2,g2;let Xv=(Ge=class{constructor({textContentSource:e,container:t,viewport:s}){C(this,Xi);C(this,wr,Promise.withResolvers());C(this,dn,null);C(this,qd,!1);C(this,Kd,!!((nS=globalThis.FontInspector)!=null&&nS.enabled));C(this,Ga,null);C(this,yi,null);C(this,Xd,0);C(this,Yd,0);C(this,qa,null);C(this,Xl,null);C(this,Yl,0);C(this,br,0);C(this,Ql,Object.create(null));C(this,Qd,[]);C(this,Jl,null);C(this,Ka,[]);C(this,Jd,new WeakMap);C(this,Zd,null);var l;if(e instanceof ReadableStream)b(this,Jl,e);else if(typeof e=="object")b(this,Jl,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,dn,b(this,Xl,t)),b(this,br,s.scale*(globalThis.devicePixelRatio||1)),b(this,Yl,s.rotation),b(this,yi,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:r,pageX:a,pageY:o}=s.rawDims;b(this,Zd,[1,0,0,-1,-a,o+r]),b(this,Yd,i),b(this,Xd,r),A(l=Ge,On,m2).call(l),jo(t,s),u(this,wr).promise.finally(()=>{u(Ge,Zl).delete(this),b(this,yi,null),b(this,Ql,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=nn.platform;return de(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,qa).read().then(({value:t,done:s})=>{if(s){u(this,wr).resolve();return}u(this,Ga)??b(this,Ga,t.lang),Object.assign(u(this,Ql),t.styles),A(this,Xi,f2).call(this,t.items),e()},u(this,wr).reject)};return b(this,qa,u(this,Jl).getReader()),u(Ge,Zl).add(this),e(),u(this,wr).promise}update({viewport:e,onBefore:t=null}){var r;const s=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==u(this,Yl)&&(t==null||t(),b(this,Yl,i),jo(u(this,Xl),{rotation:i})),s!==u(this,br)){t==null||t(),b(this,br,s);const a={div:null,properties:null,ctx:A(r=Ge,On,Zf).call(r,u(this,Ga))};for(const o of u(this,Ka))a.properties=u(this,Jd).get(o),a.div=o,A(this,Xi,Yv).call(this,a)}}cancel(){var t;const e=new Ho("TextLayer task cancelled.");(t=u(this,qa))==null||t.cancel(e).catch(()=>{}),b(this,qa,null),u(this,wr).reject(e)}get textDivs(){return u(this,Ka)}get textContentItemsStr(){return u(this,Qd)}static cleanup(){if(!(u(this,Zl).size>0)){u(this,Xa).clear();for(const{canvas:e}of u(this,Ya).values())e.remove();u(this,Ya).clear()}}},wr=new WeakMap,dn=new WeakMap,qd=new WeakMap,Kd=new WeakMap,Ga=new WeakMap,yi=new WeakMap,Xd=new WeakMap,Yd=new WeakMap,qa=new WeakMap,Xl=new WeakMap,Yl=new WeakMap,br=new WeakMap,Ql=new WeakMap,Qd=new WeakMap,Jl=new WeakMap,Ka=new WeakMap,Jd=new WeakMap,Zd=new WeakMap,Xa=new WeakMap,Ya=new WeakMap,eh=new WeakMap,Ar=new WeakMap,Zl=new WeakMap,Xi=new WeakSet,f2=function(e){var i,r;if(u(this,qd))return;(r=u(this,yi)).ctx??(r.ctx=A(i=Ge,On,Zf).call(i,u(this,Ga)));const t=u(this,Ka),s=u(this,Qd);for(const a of e){if(t.length>s6){oe("Ignoring additional textDivs for performance reasons."),b(this,qd,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=u(this,dn);b(this,dn,document.createElement("span")),u(this,dn).classList.add("markedContent"),a.id!==null&&u(this,dn).setAttribute("id",`${a.id}`),o.append(u(this,dn))}else a.type==="endMarkedContent"&&b(this,dn,u(this,dn).parentNode);continue}s.push(a.str),A(this,Xi,p2).call(this,a)}},p2=function(e){var v;const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,Ka).push(t);const i=G.transform(u(this,Zd),e.transform);let r=Math.atan2(i[1],i[0]);const a=u(this,Ql)[e.fontName];a.vertical&&(r+=Math.PI/2);let o=u(this,Kd)&&a.fontSubstitution||a.fontFamily;o=Ge.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*A(v=Ge,On,g2).call(v,o,u(this,Ga));let d,f;r===0?(d=i[4],f=i[5]-c):(d=i[4]+c*Math.sin(r),f=i[5]-c*Math.cos(r));const p="calc(var(--scale-factor)*",m=t.style;u(this,dn)===u(this,Xl)?(m.left=`${(100*d/u(this,Yd)).toFixed(2)}%`,m.top=`${(100*f/u(this,Xd)).toFixed(2)}%`):(m.left=`${p}${d.toFixed(2)}px)`,m.top=`${p}${f.toFixed(2)}px)`),m.fontSize=`${p}${(u(Ge,Ar)*l).toFixed(2)}px)`,m.fontFamily=o,s.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,Kd)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),r!==0&&(s.angle=r*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);S!==g&&Math.max(S,g)/Math.min(S,g)>1.5&&(y=!0)}if(y&&(s.canvasWidth=a.vertical?e.height:e.width),u(this,Jd).set(t,s),u(this,yi).div=t,u(this,yi).properties=s,A(this,Xi,Yv).call(this,u(this,yi)),s.hasText&&u(this,dn).append(t),s.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),u(this,dn).append(S)}},Yv=function(e){var o;const{div:t,properties:s,ctx:i}=e,{style:r}=t;let a="";if(u(Ge,Ar)>1&&(a=`scale(${1/u(Ge,Ar)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:l}=r,{canvasWidth:c,fontSize:d}=s;A(o=Ge,On,Qv).call(o,i,d*u(this,br),l);const{width:f}=i.measureText(t.textContent);f>0&&(a=`scaleX(${c*u(this,br)/f}) ${a}`)}s.angle!==0&&(a=`rotate(${s.angle}deg) ${a}`),a.length>0&&(r.transform=a)},On=new WeakSet,Zf=function(e=null){let t=u(this,Ya).get(e||(e=""));if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,Ya).set(e,t),u(this,eh).set(t,{size:0,family:""})}return t},Qv=function(e,t,s){const i=u(this,eh).get(e);t===i.size&&s===i.family||(e.font=`${t}px ${s}`,i.size=t,i.family=s)},m2=function(){if(u(this,Ar)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),b(this,Ar,e.getBoundingClientRect().height),e.remove()},g2=function(e,t){const s=u(this,Xa).get(e);if(s)return s;const i=A(this,On,Zf).call(this,t);i.canvas.width=i.canvas.height=ln,A(this,On,Qv).call(this,i,ln,e);const r=i.measureText("");let a=r.fontBoundingBoxAscent,o=Math.abs(r.fontBoundingBoxDescent);if(a){const d=a/(a+o);return u(this,Xa).set(e,d),i.canvas.width=i.canvas.height=0,d}i.strokeStyle="red",i.clearRect(0,0,ln,ln),i.strokeText("g",0,0);let l=i.getImageData(0,0,ln,ln).data;o=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){o=Math.ceil(d/4/ln);break}i.clearRect(0,0,ln,ln),i.strokeText("A",0,ln),l=i.getImageData(0,0,ln,ln).data,a=0;for(let d=0,f=l.length;d<f;d+=4)if(l[d]>0){a=ln-Math.floor(d/4/ln);break}i.canvas.width=i.canvas.height=0;const c=a?a/(a+o):i6;return u(this,Xa).set(e,c),c},C(Ge,On),C(Ge,Xa,new Map),C(Ge,Ya,new Map),C(Ge,eh,new WeakMap),C(Ge,Ar,null),C(Ge,Zl,new Set),Ge);class vd{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function i(r){var l;if(!r)return;let a=null;const o=r.name;if(o==="#text")a=r.value;else if(vd.shouldBuildText(o))(l=r==null?void 0:r.attributes)!=null&&l.textContent?a=r.attributes.textContent:r.value&&(a=r.value);else return;if(a!==null&&t.push({str:a}),!!r.children)for(const c of r.children)i(c)}return i(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const r6=65536,a6=100,o6=5e3,l6=qt?w5:y5,c6=qt?b5:J_,u6=qt?x5:v5,d6=qt?A5:n2;function h6(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Jv,{docId:t}=e,s=n.url?f6(n.url):null,i=n.data?p6(n.data):null,r=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof y2?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:r6;let d=n.worker instanceof Nl?n.worker:null;const f=n.verbosity,p=typeof n.docBaseUrl=="string"&&!Jm(n.docBaseUrl)?n.docBaseUrl:null,m=typeof n.cMapUrl=="string"?n.cMapUrl:null,y=n.cMapPacked!==!1,v=n.CMapReaderFactory||c6,S=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,g=n.StandardFontDataFactory||d6,x=n.stopAtErrors!==!0,w=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,E=n.isEvalSupported!==!1,k=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!qt,T=typeof n.isChrome=="boolean"?n.isChrome:!nn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),N=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,P=typeof n.disableFontFace=="boolean"?n.disableFontFace:qt,R=n.fontExtraProperties===!0,I=n.enableXfa===!0,M=n.ownerDocument||globalThis.document,q=n.disableRange===!0,U=n.disableStream===!0,$=n.disableAutoFetch===!0,Q=n.pdfBug===!0,Y=n.CanvasFactory||l6,O=n.FilterFactory||u6,j=n.enableHWA===!0,H=l?l.length:n.length??NaN,W=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!qt&&!P,ie=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:v===J_&&g===n2&&m&&S&&mu(m,document.baseURI)&&mu(S,document.baseURI);n.canvasFactory&&PA("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&PA("`filterFactory`-instance option, please use `FilterFactory` instead.");const te=null;K4(f);const he={canvasFactory:new Y({ownerDocument:M,enableHWA:j}),filterFactory:new O({docId:t,ownerDocument:M}),cMapReaderFactory:ie?null:new v({baseUrl:m,isCompressed:y}),standardFontDataFactory:ie?null:new g({baseUrl:S})};if(!d){const fe={verbosity:f,port:Li.workerPort};d=fe.port?Nl.fromPort(fe):new Nl(fe),e._worker=d}const De={docId:t,apiVersion:"4.8.69",data:i,password:o,disableAutoFetch:$,rangeChunkSize:c,length:H,docBaseUrl:p,enableXfa:I,evaluatorOptions:{maxImageSize:w,disableFontFace:P,ignoreErrors:x,isEvalSupported:E,isOffscreenCanvasSupported:k,isChrome:T,canvasMaxAreaInBytes:N,fontExtraProperties:R,useSystemFonts:W,cMapUrl:ie?m:null,standardFontDataUrl:ie?S:null}},et={disableFontFace:P,fontExtraProperties:R,ownerDocument:M,pdfBug:Q,styleElement:te,loadingParams:{disableAutoFetch:$,enableXfa:I}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const fe=d.messageHandler.sendWithPromise("GetDocRequest",De,i?[i.buffer]:null);let ae;if(l)ae=new B5(l,{disableRange:q,disableStream:U});else if(!i){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Xt;qt?Xt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&mu(s)?zA:J5:Xt=mu(s)?zA:q5,ae=new Xt({url:s,length:H,httpHeaders:r,withCredentials:a,rangeChunkSize:c,disableRange:q,disableStream:U})}return fe.then(Xt=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const bn=new Au(t,Xt,d.port),Ee=new v6(bn,e,ae,et,he);e._transport=Ee,bn.send("Ready",null)})}).catch(e._capability.reject),e}function f6(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(qt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function p6(n){if(qt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Ym(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function HA(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var pm;const mm=class mm{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Yt(mm,pm)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};pm=new WeakMap,C(mm,pm,0);let Jv=mm,y2=class{constructor(e,t,s=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const s of this._rangeListeners)s(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Pe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class m6{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return de(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Sr,vi,Jn,el,ep;class g6{constructor(e,t,s,i=!1){C(this,Jn);C(this,Sr,null);C(this,vi,!1);this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=i?new TA:null,this._pdfBug=i,this.commonObjs=s.commonObjs,this.objs=new v2,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:i=0,dontFlip:r=!1}={}){return new Wh({viewBox:this.view,scale:e,rotation:t,offsetX:s,offsetY:i,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return de(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:s="display",annotationMode:i=or.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:d=null,isEditing:f=!1}){var E,k;(E=this._stats)==null||E.time("Overall");const p=this._transport.getRenderingIntent(s,i,d,f),{renderingIntent:m,cacheKey:y}=p;b(this,vi,!1),A(this,Jn,ep).call(this),o||(o=this._transport.getOptionalContentConfig(m));let v=this._intentStates.get(y);v||(v=Object.create(null),this._intentStates.set(y,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const S=!!(m&jn.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(k=this._stats)==null||k.time("Page Request"),this._pumpOperatorList(p));const g=T=>{var N;v.renderTasks.delete(x),(this._maybeCleanupAfterRender||S)&&b(this,vi,!0),A(this,Jn,el).call(this,!S),T?(x.capability.reject(T),this._abortOperatorList({intentState:v,reason:T instanceof Error?T:new Error(T)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(N=globalThis.Stats)!=null&&N.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new e0({callback:g,params:{canvasContext:e,viewport:t,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:c});(v.renderTasks||(v.renderTasks=new Set)).add(x);const w=x.task;return Promise.all([v.displayReadyCapability.promise,o]).then(([T,N])=>{var P;if(this.destroyed){g();return}if((P=this._stats)==null||P.time("Rendering"),!(N.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:T,optionalContentConfig:N}),x.operatorListChanged()}).catch(g),w}getOperatorList({intent:e="display",annotationMode:t=or.ENABLE,printAnnotationStorage:s=null,isEditing:i=!1}={}){var c;function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,s,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>vd.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,i){function r(){a.read().then(function({value:l,done:c}){if(c){s(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),r()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),b(this,vi,!1),A(this,Jn,ep).call(this),Promise.all(e)}cleanup(e=!1){b(this,vi,!0);const t=A(this,Jn,el).call(this,!1);return e&&t&&this._stats&&(this._stats=new TA),t}_startRenderPage(e,t){var i,r;const s=this._intentStates.get(t);s&&((i=this._stats)==null||i.timeEnd("Page Request"),(r=s.displayReadyCapability)==null||r.resolve(e))}_renderPageChunk(e,t){for(let s=0,i=e.length;s<i;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&A(this,Jn,el).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:i}){const{map:r,transfer:a}=s,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:i},a).getReader(),c=this._intentStates.get(t);c.streamReader=l;const d=()=>{l.read().then(({value:f,done:p})=>{if(p){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,c),d())},f=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const p of c.renderTasks)p.operatorListChanged();A(this,Jn,el).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(f);else if(c.opListReadCapability)c.opListReadCapability.reject(f);else throw f}})};d()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof xw){let i=a6;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Ho(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Sr=new WeakMap,vi=new WeakMap,Jn=new WeakSet,el=function(e=!1){if(A(this,Jn,ep).call(this),!u(this,vi)||this.destroyed)return!1;if(e)return b(this,Sr,setTimeout(()=>{b(this,Sr,null),A(this,Jn,el).call(this,!1)},o6)),!1;for(const{renderTasks:t,operatorList:s}of this._intentStates.values())if(t.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,vi,!1),!0},ep=function(){u(this,Sr)&&(clearTimeout(u(this,Sr)),b(this,Sr,null))};var xi,gm;class y6{constructor(){C(this,xi,new Map);C(this,gm,Promise.resolve())}postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};u(this,gm).then(()=>{for(const[i]of u(this,xi))i.call(this,s)})}addEventListener(e,t,s=null){let i=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:r}=s;if(r.aborted){oe("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}u(this,xi).set(t,i)}removeEventListener(e,t){const s=u(this,xi).get(t);s==null||s(),u(this,xi).delete(t)}terminate(){for(const[,e]of u(this,xi))e==null||e();u(this,xi).clear()}}xi=new WeakMap,gm=new WeakMap;var ym,Qa,Ja,ec,tp,tc,np;const Me=class Me{constructor({name:e=null,port:t=null,verbosity:s=X4()}={}){C(this,ec);var i;if(this.name=e,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=u(Me,Ja))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(u(Me,Ja)||b(Me,Ja,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return qt?Promise.all([ea.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Au("main","worker",e),this._messageHandler.on("ready",function(){}),A(this,ec,tp).call(this)}_initialize(){if(u(Me,Qa)||u(Me,tc,np)){this._setupFakeWorker();return}let{workerSrc:e}=Me;try{Me._isSameOrigin(window.location.href,e)||(e=Me._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new Au("main","worker",t),i=()=>{r.abort(),s.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:r.signal}),s.on("test",o=>{if(r.abort(),this.destroyed||!o){i();return}this._messageHandler=s,this._port=t,this._webWorker=t,A(this,ec,tp).call(this)}),s.on("ready",o=>{if(r.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;s.send("test",o,[o.buffer])};a();return}catch{Km("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){u(Me,Qa)||(oe("Setting up fake worker."),b(Me,Qa,!0)),Me._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new y6;this._port=t;const s=`fake${Yt(Me,ym)._++}`,i=new Au(s+"_worker",s,t);e.setup(i,t),this._messageHandler=new Au(s,s+"_worker",t),A(this,ec,tp).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=u(Me,Ja))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var s;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(s=u(this,Ja))==null?void 0:s.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Me(e)}static get workerSrc(){if(Li.workerSrc)return Li.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return de(this,"_setupFakeWorkerGlobal",(async()=>u(this,tc,np)?u(this,tc,np):(await import(this.workerSrc)).WorkerMessageHandler)())}};ym=new WeakMap,Qa=new WeakMap,Ja=new WeakMap,ec=new WeakSet,tp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},tc=new WeakSet,np=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},C(Me,tc),C(Me,ym,0),C(Me,Qa,!1),C(Me,Ja),qt&&(b(Me,Qa,!0),Li.workerSrc||(Li.workerSrc="./pdf.worker.mjs")),Me._isSameOrigin=(e,t)=>{let s;try{if(s=new URL(e),!s.origin||s.origin==="null")return!1}catch{return!1}const i=new URL(t,s);return s.origin===i.origin},Me._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Nl=Me;var wi,Ws,nc,sc,$s,Za,Su;class v6{constructor(e,t,s,i,r){C(this,Za);C(this,wi,new Map);C(this,Ws,new Map);C(this,nc,new Map);C(this,sc,new Map);C(this,$s,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new v2,this.fontLoader=new m5({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return de(this,"annotationStorage",new Sw)}getRenderingIntent(e,t=or.ENABLE,s=null,i=!1,r=!1){let a=jn.DISPLAY,o=Vv;switch(e){case"any":a=jn.ANY;break;case"display":break;case"print":a=jn.PRINT;break;default:oe(`getRenderingIntent - invalid intent: ${e}`)}const l=a&jn.PRINT&&s instanceof X_?s:this.annotationStorage;switch(t){case or.DISABLE:a+=jn.ANNOTATIONS_DISABLE;break;case or.ENABLE:break;case or.ENABLE_FORMS:a+=jn.ANNOTATIONS_FORMS;break;case or.ENABLE_STORAGE:a+=jn.ANNOTATIONS_STORAGE,o=l.serializable;break;default:oe(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=jn.IS_EDITING),r&&(a+=jn.OPLIST);const{ids:c,hash:d}=l.modifiedIds,f=[a,o.hash,d];return{renderingIntent:a,cacheKey:f.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=u(this,$s))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of u(this,Ws).values())e.push(i._destroy());u(this,Ws).clear(),u(this,nc).clear(),u(this,sc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),u(this,wi).clear(),this.filterFactory.destroy(),Xv.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Ho("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,i)=>{ft(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){i.close();return}ft(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async s=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:r,contentLength:a}=this._fullReader;return(!i||!r)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:r,contentLength:a}}),e.on("GetRangeReader",(s,i)=>{ft(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(s.begin,s.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:a,done:o}){if(o){i.close();return}ft(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{r.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new m6(s,this))}),e.on("DocException",function(s){let i;switch(s.name){case"PasswordException":i=new vv(s.message,s.code);break;case"InvalidPDFException":i=new b_(s.message);break;case"MissingPDFException":i=new zo(s.message);break;case"UnexpectedResponseException":i=new Xm(s.message,s.status);break;case"UnknownErrorException":i=new xv(s.message,s.details);break;default:Pe("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",s=>{if(b(this,$s,Promise.withResolvers()),t.onPassword){const i=r=>{r instanceof Error?u(this,$s).reject(r):u(this,$s).resolve({password:r})};try{t.onPassword(i,s.code)}catch(r){u(this,$s).reject(r)}}else u(this,$s).reject(new vv(s.message,s.code));return u(this,$s).promise}),e.on("DataLoaded",s=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;u(this,Ws).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,i,r])=>{var a;if(this.destroyed||this.commonObjs.has(s))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in r){const m=r.error;oe(`Error during font loading: ${m}`),this.commonObjs.resolve(s,m);break}const d=c&&((a=globalThis.FontInspector)!=null&&a.enabled)?(m,y)=>globalThis.FontInspector.fontAdded(m,y):null,f=new g5(r,{disableFontFace:o,inspectFont:d});this.fontLoader.bind(f).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!l&&f.data&&(f.data=null),this.commonObjs.resolve(s,f)});break;case"CopyLocalImage":const{imageRef:p}=r;ft(p,"The imageRef must be defined.");for(const m of u(this,Ws).values())for(const[,y]of m.objs)if((y==null?void 0:y.ref)===p)return y.dataLen?(this.commonObjs.resolve(s,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([s,i,r,a])=>{var l;if(this.destroyed)return;const o=u(this,Ws).get(i);if(!o.objs.has(s)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(r){case"Image":o.objs.resolve(s,a),(a==null?void 0:a.dataLen)>W4&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(s,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",s=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:s.loaded,total:s.total})}),e.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),e.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&oe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((s=this._fullReader)==null?void 0:s.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=u(this,nc).get(t);if(s)return s;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&u(this,sc).set(r.refStr,e);const a=new g6(t,r,this,this._params.pdfBug);return u(this,Ws).set(t,a),a});return u(this,nc).set(t,i),i}getPageIndex(e){return HA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return A(this,Za,Su).call(this,"GetFieldObjects")}hasJSActions(){return A(this,Za,Su).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return A(this,Za,Su).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return A(this,Za,Su).call(this,"GetOptionalContentConfig").then(t=>new F5(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,wi).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(i=>{var r,a;return{info:i[0],metadata:i[1]?new D5(i[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return u(this,wi).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,Ws).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,wi).clear(),this.filterFactory.destroy(!0),Xv.cleanup()}}cachedPageNumber(e){if(!HA(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,sc).get(t)??null}}wi=new WeakMap,Ws=new WeakMap,nc=new WeakMap,sc=new WeakMap,$s=new WeakMap,Za=new WeakSet,Su=function(e,t=null){const s=u(this,wi).get(e);if(s)return s;const i=this.messageHandler.sendWithPromise(e,t);return u(this,wi).set(e,i),i};const Cf=Symbol("INITIAL_DATA");var gs,th,Zv;class v2{constructor(){C(this,th);C(this,gs,Object.create(null))}get(e,t=null){if(t){const i=A(this,th,Zv).call(this,e);return i.promise.then(()=>t(i.data)),null}const s=u(this,gs)[e];if(!s||s.data===Cf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=u(this,gs)[e];return!!t&&t.data!==Cf}resolve(e,t=null){const s=A(this,th,Zv).call(this,e);s.data=t,s.resolve()}clear(){var e;for(const t in u(this,gs)){const{data:s}=u(this,gs)[t];(e=s==null?void 0:s.bitmap)==null||e.close()}b(this,gs,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,gs)){const{data:t}=u(this,gs)[e];t!==Cf&&(yield[e,t])}}}gs=new WeakMap,th=new WeakSet,Zv=function(e){var t;return(t=u(this,gs))[e]||(t[e]={...Promise.withResolvers(),data:Cf})};var Er;class x6{constructor(e){C(this,Er,null);b(this,Er,e),this.onContinue=null}get promise(){return u(this,Er).capability.promise}cancel(e=0){u(this,Er).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,Er).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,Er);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Er=new WeakMap;var Cr,eo;const wa=class wa{constructor({callback:e,params:t,objs:s,commonObjs:i,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:f=!1,pageColors:p=null}){C(this,Cr,null);this.callback=e,this.params=t,this.objs=s,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=f,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new x6(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,l;if(this.cancelled)return;if(this._canvas){if(u(wa,eo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(wa,eo).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:i,transform:r,background:a}=this.params;this.gfx=new _l(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),u(this,Cr)&&(window.cancelAnimationFrame(u(this,Cr)),b(this,Cr,null)),u(wa,eo).delete(this._canvas),this.callback(e||new xw(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,Cr,window.requestAnimationFrame(()=>{b(this,Cr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(wa,eo).delete(this._canvas),this.callback())))}};Cr=new WeakMap,eo=new WeakMap,C(wa,eo,new WeakSet);let e0=wa;const w6="4.8.69",b6="3634dab10";function WA(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function au(n){return Math.max(0,Math.min(255,255*n))}class $A{static CMYK_G([e,t,s,i]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=au(e),[e,e,e]}static G_HTML([e]){const t=WA(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(au)}static RGB_HTML(e){return`#${e.map(WA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,s+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,s,i]){return[au(1-Math.min(1,e+i)),au(1-Math.min(1,s+i)),au(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const i=1-e,r=1-t,a=1-s,o=Math.min(i,r,a);return["CMYK",i,r,a,o]}}class A6{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),s||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Pe("Abstract method `_createSVG` called.")}}class Nw extends A6{_createSVG(e){return document.createElementNS(ai,e)}}class x2{static setupStorage(e,t,s,i,r){const a=i.getValue(t,{value:null});switch(s.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),r==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(a.value===s.attributes.xfaOn?e.setAttribute("checked",!0):a.value===s.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),r==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of s.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:i,linkService:r}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&r.addLinkAttributes(e,a.href,a.newWindow),s&&a.dataId&&this.setupStorage(e,a.dataId,t,s)}static render(e){var f,p;const t=e.annotationStorage,s=e.linkService,i=e.xfaHtml,r=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:r,linkService:s});const o=r!=="richText",l=e.div;if(l.append(a),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=m}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);a.append(m),o&&vd.shouldBuildText(i.name)&&c.push(m)}return{textDivs:c}}const d=[[i,-1,a]];for(;d.length>0;){const[m,y,v]=d.at(-1);if(y+1===m.children.length){d.pop();continue}const S=m.children[++d.at(-1)[1]];if(S===null)continue;const{name:g}=S;if(g==="#text"){const w=document.createTextNode(S.value);c.push(w),v.append(w);continue}const x=(f=S==null?void 0:S.attributes)!=null&&f.xmlns?document.createElementNS(S.attributes.xmlns,g):document.createElement(g);if(v.append(x),S.attributes&&this.setAttributes({html:x,element:S,storage:t,intent:r,linkService:s}),((p=S.children)==null?void 0:p.length)>0)d.push([S,-1,x]);else if(S.value){const w=document.createTextNode(S.value);o&&vd.shouldBuildText(g)&&c.push(w),x.append(w)}}for(const m of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Gh=1e3,S6=9,Io=new WeakSet;function Ui(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class E6{static create(e){switch(e.data.annotationType){case lt.LINK:return new w2(e);case lt.TEXT:return new C6(e);case lt.WIDGET:switch(e.data.fieldType){case"Tx":return new k6(e);case"Btn":return e.data.radioButton?new S2(e):e.data.checkBox?new N6(e):new T6(e);case"Ch":return new P6(e);case"Sig":return new _6(e)}return new Wo(e);case lt.POPUP:return new n0(e);case lt.FREETEXT:return new N2(e);case lt.LINE:return new R6(e);case lt.SQUARE:return new I6(e);case lt.CIRCLE:return new M6(e);case lt.POLYLINE:return new T2(e);case lt.CARET:return new D6(e);case lt.INK:return new Tw(e);case lt.POLYGON:return new L6(e);case lt.HIGHLIGHT:return new P2(e);case lt.UNDERLINE:return new O6(e);case lt.SQUIGGLY:return new F6(e);case lt.STRIKEOUT:return new B6(e);case lt.STAMP:return new j2(e);case lt.FILEATTACHMENT:return new V6(e);default:return new Ze(e)}}}var to,ic,rc,nh,t0;const Iw=class Iw{constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:i=!1}={}){C(this,nh);C(this,to,null);C(this,ic,!1);C(this,rc,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:s}){return!!(e!=null&&e.str||t!=null&&t.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Iw._hasPopupData(this.data)}updateEdited(e){var s;if(!this.container)return;u(this,to)||b(this,to,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&A(this,nh,t0).call(this,t),(s=u(this,rc))==null||s.popup.updateEdited(e)}resetEdited(){var e;u(this,to)&&(A(this,nh,t0).call(this,u(this,to).rect),(e=u(this,rc))==null||e.popup.resetEdited(),b(this,to,null))}_createContainer(e){const{data:t,parent:{page:s,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof Wo||(r.tabIndex=Gh);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof n0){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,r),r}const{width:o,height:l}=Ui(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(v>0||S>0){const x=`calc(${v}px * var(--scale-factor)) / calc(${S}px * var(--scale-factor))`;a.borderRadius=x}else if(this instanceof S2){const x=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=x}switch(t.borderStyle.style){case iu.SOLID:a.borderStyle="solid";break;case iu.DASHED:a.borderStyle="dashed";break;case iu.BEVELED:oe("Unimplemented border style: beveled");break;case iu.INSET:oe("Unimplemented border style: inset");break;case iu.UNDERLINE:a.borderBottomStyle="solid";break}const g=t.borderColor||null;g?(b(this,ic,!0),a.borderColor=G.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):a.borderWidth=0}const c=G.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:d,pageHeight:f,pageX:p,pageY:m}=i.rawDims;a.left=`${100*(c[0]-p)/d}%`,a.top=`${100*(c[1]-m)/f}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(a.width=`${100*o/d}%`,a.height=`${100*l/f}%`):this.setRotation(y,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:i}=this.parent.viewport.rawDims,{width:r,height:a}=Ui(this.data.rect);let o,l;e%180===0?(o=100*r/s,l=100*a/i):(o=100*a/s,l=100*r/i),t.style.width=`${o}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,i)=>{const r=i.detail[t],a=r[0],o=r.slice(1);i.target.style[s]=$A[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[s]:$A[`${a}_rgb`](o)})};return de(this,"_commonActions",{display:t=>{const{display:s}=t.detail,i=s%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const i of Object.keys(t.detail)){const r=e[i]||s[i];r==null||r(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[i,r]of Object.entries(t)){const a=s[i];if(a){const o={detail:{[i]:r},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,i,r]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,S,g,x]=e.subarray(2,6);if(i===v&&r===S&&t===g&&s===x)return}const{style:a}=this.container;let o;if(u(this,ic)){const{borderColor:v,borderWidth:S}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const l=i-t,c=r-s,{svgFactory:d}=this,f=d.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);const p=d.createElement("defs");f.append(p);const m=d.createElement("clipPath"),y=`clippath_${this.data.id}`;m.setAttribute("id",y),m.setAttribute("clipPathUnits","objectBoundingBox"),p.append(m);for(let v=2,S=e.length;v<S;v+=8){const g=e[v],x=e[v+1],w=e[v+2],E=e[v+3],k=d.createElement("rect"),T=(w-t)/l,N=(r-x)/c,P=(g-w)/l,R=(x-E)/c;k.setAttribute("x",T),k.setAttribute("y",N),k.setAttribute("width",P),k.setAttribute("height",R),m.append(k),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${N}" width="${P}" height="${R}"/>`)}u(this,ic)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{data:e}=this,t=b(this,rc,new n0({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Pe("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:r,id:a,exportValues:o}of i){if(r===-1||a===t)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!Io.has(c)){oe(`_getElementsByName - element not allowed: ${a}`);continue}s.push({id:a,exportValue:l,domElement:c})}return s}for(const i of document.getElementsByName(e)){const{exportValue:r}=i,a=i.getAttribute("data-element-id");a!==t&&Io.has(i)&&s.push({id:a,exportValue:r,domElement:i})}return s}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};to=new WeakMap,ic=new WeakMap,rc=new WeakMap,nh=new WeakSet,t0=function(e){const{container:{style:t},data:{rect:s,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:o,pageY:l}}}}=this;s==null||s.splice(0,4,...e);const{width:c,height:d}=Ui(e);t.left=`${100*(e[0]-o)/r}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*c/r}%`,t.height=`${100*d/a}%`):this.setRotation(i)};let Ze=Iw;var In,ma,b2,A2;class w2 extends Ze{constructor(t,s=null){super(t,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});C(this,In);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:s}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(s.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action),r=!0):t.attachment?(A(this,In,b2).call(this,i,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(A(this,In,A2).call(this,i,t.setOCGState),r=!0):t.dest?(this._bindLink(i,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}_bindLink(t,s){t.href=this.linkService.getDestinationHash(s),t.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&A(this,In,ma).call(this)}_bindNamedAction(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(s),!1),A(this,In,ma).call(this)}_bindJSAction(t,s){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(s.actions)){const a=i.get(r);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:r}}),!1})}t.onclick||(t.onclick=()=>!1),A(this,In,ma).call(this)}_bindResetFormAction(t,s){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),A(this,In,ma).call(this),!this._fieldObjects){oe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var f;i==null||i();const{fields:r,refs:a,include:o}=s,l=[];if(r.length!==0||a.length!==0){const p=new Set(a);for(const m of r){const y=this._fieldObjects[m]||[];for(const{id:v}of y)p.add(v)}for(const m of Object.values(this._fieldObjects))for(const y of m)p.has(y.id)===o&&l.push(y)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const c=this.annotationStorage,d=[];for(const p of l){const{id:m}=p;switch(d.push(m),p.type){case"text":{const v=p.defaultValue||"";c.setValue(m,{value:v});break}case"checkbox":case"radiobutton":{const v=p.defaultValue===p.exportValues;c.setValue(m,{value:v});break}case"combobox":case"listbox":{const v=p.defaultValue||"";c.setValue(m,{value:v});break}default:continue}const y=document.querySelector(`[data-element-id="${m}"]`);if(y){if(!Io.has(y)){oe(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}In=new WeakSet,ma=function(){this.container.setAttribute("data-internal-link","")},b2=function(t,s,i=null){t.href=this.linkService.getAnchorUrl(""),s.description&&(t.title=s.description),t.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(s.content,s.filename,i),!1},A(this,In,ma).call(this)},A2=function(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(s),!1),A(this,In,ma).call(this)};class C6 extends Ze{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Wo extends Ze{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return nn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,i,r){s.includes("mouse")?e.addEventListener(s,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(s,a=>{var o;if(s==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}r&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(a)}}))})}_setEventListeners(e,t,s,i){var r,a,o;for(const[l,c]of s)(c==="Action"||(r=this.data.actions)!=null&&r[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":G.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||S6,r=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(c/(Yg*i))||1,f=c/d;a=Math.min(i,l(f/Yg))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/Yg))}r.fontSize=`calc(${a}px * var(--scale-factor))`,r.color=G.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class k6 extends Wo{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,i){const r=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=s),r.setValue(a.id,{[i]:s})}render(){var i,r;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=c??o,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",c??o),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Io.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=Gh,this._setRequired(s,this.data.required),l&&(s.maxLength=l),s.addEventListener("input",p=>{e.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(s,"value",p.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue??"";s.value=d.userValue=m,d.formattedValue=null});let f=p=>{const{formattedValue:m}=d;m!=null&&(p.target.value=m),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",m=>{var v;if(d.focused)return;const{target:y}=m;d.userValue&&(y.value=d.userValue),d.lastCommittedValue=y.value,d.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const y={value(v){d.userValue=v.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),v.target.value=d.userValue},formattedValue(v){const{formattedValue:S}=v.detail;d.formattedValue=S,S!=null&&v.target!==document.activeElement&&(v.target.value=S),e.setValue(t,{formattedValue:S})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var w;const{charLimit:S}=v.detail,{target:g}=v;if(S===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",S);let x=d.userValue;!x||x.length<=S||(x=x.slice(0,S),g.value=d.userValue=x,e.setValue(t,{value:x}),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(y,m)}),s.addEventListener("keydown",m=>{var S;d.commitKey=1;let y=-1;if(m.key==="Escape"?y=0:m.key==="Enter"&&!this.data.multiLine?y=2:m.key==="Tab"&&(d.commitKey=3),y===-1)return;const{value:v}=m.target;d.lastCommittedValue!==v&&(d.lastCommittedValue=v,d.userValue=v,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:y,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const p=f;f=null,s.addEventListener("blur",m=>{var v,S;if(!d.focused||!m.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(d.focused=!1);const{value:y}=m.target;d.userValue=y,d.lastCommittedValue!==y&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:d.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),p(m)}),(r=this.data.actions)!=null&&r.Keystroke&&s.addEventListener("beforeinput",m=>{var k;d.lastCommittedValue=null;const{data:y,target:v}=m,{value:S,selectionStart:g,selectionEnd:x}=v;let w=g,E=x;switch(m.inputType){case"deleteWordBackward":{const T=S.substring(0,g).match(/\w*[^\w]*$/);T&&(w-=T[0].length);break}case"deleteWordForward":{const T=S.substring(g).match(/^[^\w]*\w*/);T&&(E+=T[0].length);break}case"deleteContentBackward":g===x&&(w-=1);break;case"deleteContentForward":g===x&&(E+=1);break}m.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:y||"",willCommit:!1,selStart:w,selEnd:E}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(f&&s.addEventListener("blur",f),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/l;s.classList.add("comb"),s.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class _6 extends Wo{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class N6 extends Wo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let i=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(s,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Io.add(r),r.setAttribute("data-element-id",s),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=Gh,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,s)){const d=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=d),e.setValue(c.id,{value:d})}e.setValue(s,{value:l})}),r.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(s,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class S2 extends Wo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let i=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(s,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,s))e.setValue(a.id,{value:!1});const r=document.createElement("input");if(Io.add(r),r.setAttribute("data-element-id",s),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=Gh,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,s))e.setValue(c.id,{value:!1});e.setValue(s,{value:l})}),r.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;r.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const d=a===c.detail.value;for(const f of this._getElementsByName(c.target.name)){const p=d&&f.id===s;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class T6 extends w2{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class P6 extends Wo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Io.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Gh;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const f=this.data.defaultFieldValue;for(const p of i.options)p.selected=p.value===f});for(const d of this.data.options){const f=document.createElement("option");f.textContent=d.displayValue,f.value=d.exportValue,s.value.includes(d.exportValue)&&(f.setAttribute("selected",!0),r=!1),i.append(f)}let a=null;if(r){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const f=d?"value":"textContent",{options:p,multiple:m}=i;return m?Array.prototype.filter.call(p,y=>y.selected).map(y=>y[f]):p.selectedIndex===-1?null:p[p.selectedIndex][f]};let l=o(!1);const c=d=>{const f=d.target.options;return Array.prototype.map.call(f,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const f={value(p){a==null||a();const m=p.detail.value,y=new Set(Array.isArray(m)?m:[m]);for(const v of i.options)v.selected=y.has(v.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(p){i.multiple=!0},remove(p){const m=i.options,y=p.detail.remove;m[y].selected=!1,i.remove(y),m.length>0&&Array.prototype.findIndex.call(m,S=>S.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:o(!0),items:c(p)}),l=o(!1)},clear(p){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(p){const{index:m,displayValue:y,exportValue:v}=p.detail.insert,S=i.children[m],g=document.createElement("option");g.textContent=y,g.value=v,S?S.before(g):i.append(g),e.setValue(t,{value:o(!0),items:c(p)}),l=o(!1)},items(p){const{items:m}=p.detail;for(;i.length!==0;)i.remove(0);for(const y of m){const{displayValue:v,exportValue:S}=y,g=document.createElement("option");g.textContent=v,g.value=S,i.append(g)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:c(p)}),l=o(!1)},indices(p){const m=new Set(p.detail.indices);for(const y of p.target.options)y.selected=m.has(y.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(f,d)}),i.addEventListener("input",d=>{var m;const f=o(!0),p=o(!1);e.setValue(t,{value:f}),d.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:p,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class n0 extends Ze{constructor(e){const{data:t,elements:s}=e;super(e,{isRenderable:Ze._hasPopupData(t)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new j6({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",t.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(s=>`${vw}${s}`).join(",")),this.container}}var ac,vm,xm,oc,no,$e,bi,lc,sh,ih,cc,Ai,ys,Si,rh,Ei,ah,so,io,Se,sp,s0,E2,C2,k2,_2,ip,rp,i0;class j6{constructor({container:e,color:t,elements:s,titleObj:i,modificationDate:r,contentsObj:a,richText:o,parent:l,rect:c,parentRect:d,open:f}){C(this,Se);C(this,ac,A(this,Se,k2).bind(this));C(this,vm,A(this,Se,i0).bind(this));C(this,xm,A(this,Se,rp).bind(this));C(this,oc,A(this,Se,ip).bind(this));C(this,no,null);C(this,$e,null);C(this,bi,null);C(this,lc,null);C(this,sh,null);C(this,ih,null);C(this,cc,null);C(this,Ai,!1);C(this,ys,null);C(this,Si,null);C(this,rh,null);C(this,Ei,null);C(this,ah,null);C(this,so,null);C(this,io,!1);var p;b(this,$e,e),b(this,ah,i),b(this,bi,a),b(this,Ei,o),b(this,ih,l),b(this,no,t),b(this,rh,c),b(this,cc,d),b(this,sh,s),b(this,lc,bw.toDateObject(r)),this.trigger=s.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",u(this,oc)),m.addEventListener("mouseenter",u(this,xm)),m.addEventListener("mouseleave",u(this,vm)),m.classList.add("popupTriggerArea");for(const m of s)(p=m.container)==null||p.addEventListener("keydown",u(this,ac));u(this,$e).hidden=!0,f&&A(this,Se,ip).call(this)}render(){if(u(this,ys))return;const e=b(this,ys,document.createElement("div"));if(e.className="popup",u(this,no)){const r=e.style.outlineColor=G.makeHexColor(...u(this,no));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:e.style.backgroundColor=G.makeHexColor(...u(this,no).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const s=document.createElement("h1");if(t.append(s),{dir:s.dir,str:s.textContent}=u(this,ah),e.append(t),u(this,lc)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,lc).valueOf()})),t.append(r)}const i=u(this,Se,sp);if(i)x2.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(u(this,bi));e.append(r)}u(this,$e).append(e)}_formatContents({str:e,dir:t}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let r=0,a=i.length;r<a;++r){const o=i[r];s.append(document.createTextNode(o)),r<a-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:e,popupContent:t}){var s;u(this,so)||b(this,so,{contentsObj:u(this,bi),richText:u(this,Ei)}),e&&b(this,Si,null),t&&(b(this,Ei,A(this,Se,C2).call(this,t)),b(this,bi,null)),(s=u(this,ys))==null||s.remove(),b(this,ys,null)}resetEdited(){var e;u(this,so)&&({contentsObj:Yt(this,bi)._,richText:Yt(this,Ei)._}=u(this,so),b(this,so,null),(e=u(this,ys))==null||e.remove(),b(this,ys,null),b(this,Si,null))}forceHide(){b(this,io,this.isVisible),u(this,io)&&(u(this,$e).hidden=!0)}maybeShow(){u(this,io)&&(u(this,ys)||A(this,Se,rp).call(this),b(this,io,!1),u(this,$e).hidden=!1)}get isVisible(){return u(this,$e).hidden===!1}}ac=new WeakMap,vm=new WeakMap,xm=new WeakMap,oc=new WeakMap,no=new WeakMap,$e=new WeakMap,bi=new WeakMap,lc=new WeakMap,sh=new WeakMap,ih=new WeakMap,cc=new WeakMap,Ai=new WeakMap,ys=new WeakMap,Si=new WeakMap,rh=new WeakMap,Ei=new WeakMap,ah=new WeakMap,so=new WeakMap,io=new WeakMap,Se=new WeakSet,sp=function(){const e=u(this,Ei),t=u(this,bi);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,Ei).html||null},s0=function(){var e,t,s;return((s=(t=(e=u(this,Se,sp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.fontSize)||0},E2=function(){var e,t,s;return((s=(t=(e=u(this,Se,sp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.color)||null},C2=function(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:u(this,Se,E2),fontSize:u(this,Se,s0)?`calc(${u(this,Se,s0)}px * var(--scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:i});return s},k2=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,Ai))&&A(this,Se,ip).call(this)},_2=function(){if(u(this,Si)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:i,pageY:r}}}=u(this,ih);let a=!!u(this,cc),o=a?u(this,cc):u(this,rh);for(const y of u(this,sh))if(!o||G.intersect(y.data.rect,o)!==null){o=y.data.rect,a=!0;break}const l=G.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,f=l[0]+d,p=l[1];b(this,Si,[100*(f-i)/t,100*(p-r)/s]);const{style:m}=u(this,$e);m.left=`${u(this,Si)[0]}%`,m.top=`${u(this,Si)[1]}%`},ip=function(){b(this,Ai,!u(this,Ai)),u(this,Ai)?(A(this,Se,rp).call(this),u(this,$e).addEventListener("click",u(this,oc)),u(this,$e).addEventListener("keydown",u(this,ac))):(A(this,Se,i0).call(this),u(this,$e).removeEventListener("click",u(this,oc)),u(this,$e).removeEventListener("keydown",u(this,ac)))},rp=function(){u(this,ys)||this.render(),this.isVisible?u(this,Ai)&&u(this,$e).classList.add("focused"):(A(this,Se,_2).call(this),u(this,$e).hidden=!1,u(this,$e).style.zIndex=parseInt(u(this,$e).style.zIndex)+1e3)},i0=function(){u(this,$e).classList.remove("focused"),!(u(this,Ai)||!this.isVisible)&&(u(this,$e).hidden=!0,u(this,$e).style.zIndex=parseInt(u(this,$e).style.zIndex)-1e3)};class N2 extends Ze{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=se.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var oh;class R6 extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,oh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:s,height:i}=Ui(t.rect),r=this.svgFactory.create(s,i,!0),a=b(this,oh,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,oh)}addHighlightArea(){this.container.classList.add("highlightArea")}}oh=new WeakMap;var lh;class I6 extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,lh,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:s,height:i}=Ui(t.rect),r=this.svgFactory.create(s,i,!0),a=t.borderStyle.width,o=b(this,lh,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",s-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,lh)}addHighlightArea(){this.container.classList.add("highlightArea")}}lh=new WeakMap;var ch;class M6 extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,ch,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:s,height:i}=Ui(t.rect),r=this.svgFactory.create(s,i,!0),a=t.borderStyle.width,o=b(this,ch,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",s/2),o.setAttribute("cy",i/2),o.setAttribute("rx",s/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,ch)}addHighlightArea(){this.container.classList.add("highlightArea")}}ch=new WeakMap;var uh;class T2 extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,uh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:s,borderStyle:i,popupRef:r}}=this;if(!s)return this.container;const{width:a,height:o}=Ui(t),l=this.svgFactory.create(a,o,!0);let c=[];for(let f=0,p=s.length;f<p;f+=2){const m=s[f]-t[0],y=t[3]-s[f+1];c.push(`${m},${y}`)}c=c.join(" ");const d=b(this,uh,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,uh)}addHighlightArea(){this.container.classList.add("highlightArea")}}uh=new WeakMap;class L6 extends T2{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class D6 extends Ze{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var dh;class Tw extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,dh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?se.HIGHLIGHT:se.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:s,borderStyle:i,popupRef:r}}=this,{width:a,height:o}=Ui(t),l=this.svgFactory.create(a,o,!0);for(const c of s){let d=[];for(let p=0,m=c.length;p<m;p+=2){const y=c[p]-t[0],v=t[3]-c[p+1];d.push(`${y},${v}`)}d=d.join(" ");const f=this.svgFactory.createElement(this.svgElementName);u(this,dh).push(f),f.setAttribute("points",d),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),l.append(f)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return u(this,dh)}addHighlightArea(){this.container.classList.add("highlightArea")}}dh=new WeakMap;class P2 extends Ze{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=se.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class O6 extends Ze{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class F6 extends Ze{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class B6 extends Ze{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class j2 extends Ze{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=se.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var hh,fh,r0;class V6 extends Ze{constructor(t){var i;super(t,{isRenderable:!0});C(this,fh);C(this,hh,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:s}=this;let i;s.hasAppearance||s.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),i.addEventListener("dblclick",A(this,fh,r0).bind(this)),b(this,hh,i);const{isMac:r}=nn.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&A(this,fh,r0).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return u(this,hh)}addHighlightArea(){this.container.classList.add("highlightArea")}}hh=new WeakMap,fh=new WeakSet,r0=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var ph,ro,ao,mh,Lo,R2,a0,sS;let U6=(sS=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:i,page:r,viewport:a,structTreeLayer:o}){C(this,Lo);C(this,ph,null);C(this,ro,null);C(this,ao,new Map);C(this,mh,null);this.div=e,b(this,ph,t),b(this,ro,s),b(this,mh,o||null),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return u(this,ao).size>0}async render(e){var a;const{annotations:t}=e,s=this.div;jo(s,this.viewport);const i=new Map,r={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Nw,annotationStorage:e.annotationStorage||new Sw,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===lt.POPUP;if(l){const f=i.get(o.id);if(!f)continue;r.elements=f}else{const{width:f,height:p}=Ui(o.rect);if(f<=0||p<=0)continue}r.data=o;const c=E6.create(r);if(!c.isRenderable)continue;if(!l&&o.popupRef){const f=i.get(o.popupRef);f?f.push(c):i.set(o.popupRef,[c])}const d=c.render();o.hidden&&(d.style.visibility="hidden"),await A(this,Lo,R2).call(this,d,o.id),c._isEditable&&(u(this,ao).set(c.data.id,c),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(c))}A(this,Lo,a0).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,jo(t,{rotation:e.rotation}),A(this,Lo,a0).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,ao).values())}getEditableAnnotation(e){return u(this,ao).get(e)}},ph=new WeakMap,ro=new WeakMap,ao=new WeakMap,mh=new WeakMap,Lo=new WeakSet,R2=async function(e,t){var a,o;const s=e.firstChild||e,i=s.id=`${vw}${t}`,r=await((a=u(this,mh))==null?void 0:a.getAriaAttributes(i));if(r)for(const[l,c]of r)s.setAttribute(l,c);this.div.append(e),(o=u(this,ph))==null||o.moveElementInDOM(this.div,e,s,!1)},a0=function(){if(!u(this,ro))return;const e=this.div;for(const[t,s]of u(this,ro)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;s.className="annotationContent";const{firstChild:r}=i;r?r.nodeName==="CANVAS"?r.replaceWith(s):r.classList.contains("annotationContent")?r.after(s):r.before(s):i.append(s)}u(this,ro).clear()},sS);const kf=/\r\n?|\n/g;var vs,Cn,gh,oo,kn,at,I2,M2,L2,ap,Hi,op,lp,D2,l0,O2;const ke=class ke extends we{constructor(t){super({...t,name:"freeTextEditor"});C(this,at);C(this,vs);C(this,Cn,"");C(this,gh,`${this.id}-editor`);C(this,oo,null);C(this,kn);b(this,vs,t.color||ke._defaultColor||we._defaultLineColor),b(this,kn,t.fontSize||ke._defaultFontSize)}static get _keyboardManager(){const t=ke.prototype,s=a=>a.isEmpty(),i=Ro.TRANSLATE_SMALL,r=Ro.TRANSLATE_BIG;return de(this,"_keyboardManager",new $h([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:s}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:s}]]))}static initialize(t,s){we.initialize(t,s);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,s){switch(t){case Z.FREETEXT_SIZE:ke._defaultFontSize=s;break;case Z.FREETEXT_COLOR:ke._defaultColor=s;break}}updateParams(t,s){switch(t){case Z.FREETEXT_SIZE:A(this,at,I2).call(this,s);break;case Z.FREETEXT_COLOR:A(this,at,M2).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Z.FREETEXT_SIZE,ke._defaultFontSize],[Z.FREETEXT_COLOR,ke._defaultColor||we._defaultLineColor]]}get propertiesToUpdate(){return[[Z.FREETEXT_SIZE,u(this,kn)],[Z.FREETEXT_COLOR,u(this,vs)]]}_translateEmpty(t,s){this._uiManager.translateSelectedEditors(t,s,!0)}getInitialTranslation(){const t=this.parentScale;return[-ke._internalPadding*t,-(ke._internalPadding+u(this,kn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(se.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,oo,new AbortController);const t=this._uiManager.combinedSignal(u(this,oo));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,gh)),this._isDraggable=!0,(t=u(this,oo))==null||t.abort(),b(this,oo,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,Cn),s=b(this,Cn,A(this,at,L2).call(this).trimEnd());if(t===s)return;const i=r=>{if(b(this,Cn,r),!r){this.remove();return}A(this,at,lp).call(this),this._uiManager.rebuild(this),A(this,at,ap).call(this)};this.addCommands({cmd:()=>{i(s)},undo:()=>{i(t)},mustExec:!1}),A(this,at,ap).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ke._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,s;this.width&&(t=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,gh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${u(this,kn)}px * var(--scale-factor))`,i.color=u(this,vs),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),em(this,this.div,["dblclick","keydown"]),this.width){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[d,f]=this.pageDimensions,[p,m]=this.pageTranslation;let y,v;switch(this.rotation){case 0:y=t+(o[0]-p)/d,v=s+this.height-(o[1]-m)/f;break;case 90:y=t+(o[0]-p)/d,v=s-(o[1]-m)/f,[l,c]=[c,-l];break;case 180:y=t-this.width+(o[0]-p)/d,v=s-(o[1]-m)/f,[l,c]=[-l,-c];break;case 270:y=t+(o[0]-p-this.height*f)/d,v=s+(o[1]-m-this.width*d)/f,[l,c]=[-c,l];break}this.setAt(y*r,v*a,l,c)}else this.setAt(t*r,s*a,this.width*r,this.height*a);A(this,at,lp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,v,S;const s=t.clipboardData||window.clipboardData,{types:i}=s;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=A(y=ke,Hi,l0).call(y,s.getData("text")||"").replaceAll(kf,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,d=[],f=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(f.push(l.nodeValue.slice(c).replaceAll(kf,"")),g!==this.editorDiv){let x=d;for(const w of this.editorDiv.childNodes){if(w===g){x=f;continue}x.push(A(v=ke,Hi,op).call(v,w))}}d.push(l.nodeValue.slice(0,c).replaceAll(kf,""))}else if(l===this.editorDiv){let g=d,x=0;for(const w of this.editorDiv.childNodes)x++===c&&(g=f),g.push(A(S=ke,Hi,op).call(S,w))}b(this,Cn,`${d.join(`
`)}${r}${f.join(`
`)}`),A(this,at,lp).call(this);const p=new Range;let m=d.reduce((g,x)=>g+x.length,0);for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const x=g.nodeValue.length;if(m<=x){p.setStart(g,m),p.setEnd(g,m);break}m-=x}a.removeAllRanges(),a.addRange(p)}get contentDiv(){return this.editorDiv}static async deserialize(t,s,i){var o;let r=null;if(t instanceof N2){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:f,id:p,popupRef:m},textContent:y,textPosition:v,parent:{page:{pageNumber:S}}}=t;if(!y||y.length===0)return null;r=t={annotationType:se.FREETEXT,color:Array.from(c),fontSize:l,value:y.join(`
`),position:v,pageIndex:S-1,rect:d.slice(0),rotation:f,id:p,deleted:!1,popupRef:m}}const a=await super.deserialize(t,s,i);return b(a,kn,t.fontSize),b(a,vs,G.makeHexColor(...t.color)),b(a,Cn,A(o=ke,Hi,l0).call(o,t.value)),a.annotationElementId=t.id||null,a._initialData=r,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=ke._internalPadding*this.parentScale,i=this.getRect(s,s),r=we._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,vs)),a={annotationType:se.FREETEXT,color:r,fontSize:u(this,kn),value:A(this,at,D2).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!A(this,at,O2).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const s=super.renderAnnotationElement(t);if(this.deleted)return s;const{style:i}=s;i.fontSize=`calc(${u(this,kn)}px * var(--scale-factor))`,i.color=u(this,vs),s.replaceChildren();for(const a of u(this,Cn).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),s.append(o)}const r=ke._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:u(this,Cn)}),s}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};vs=new WeakMap,Cn=new WeakMap,gh=new WeakMap,oo=new WeakMap,kn=new WeakMap,at=new WeakSet,I2=function(t){const s=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-u(this,kn))*this.parentScale),b(this,kn,r),A(this,at,ap).call(this)},i=u(this,kn);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},M2=function(t){const s=r=>{b(this,vs,this.editorDiv.style.color=r)},i=u(this,vs);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},L2=function(){var i;const t=[];this.editorDiv.normalize();let s=null;for(const r of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(t.push(A(i=ke,Hi,op).call(i,r)),s=r);return t.join(`
`)},ap=function(){const[t,s]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/s):(this.width=i.height/t,this.height=i.width/s),this.fixAndSetPosition()},Hi=new WeakSet,op=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(kf,"")},lp=function(){if(this.editorDiv.replaceChildren(),!!u(this,Cn))for(const t of u(this,Cn).split(`
`)){const s=document.createElement("div");s.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(s)}},D2=function(){return u(this,Cn).replaceAll(""," ")},l0=function(t){return t.replaceAll(" ","")},O2=function(t){const{value:s,fontSize:i,color:r,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==s||t.fontSize!==i||t.color.some((o,l)=>o!==r[l])||t.pageIndex!==a},C(ke,Hi),J(ke,"_freeTextDefaultContent",""),J(ke,"_internalPadding",0),J(ke,"_defaultColor",null),J(ke,"_defaultFontSize",10),J(ke,"_type","freetext"),J(ke,"_editorType",se.FREETEXT);let o0=ke;class F2{toSVGPath(){Pe("Abstract method `toSVGPath` must be implemented.")}get box(){Pe("Abstract getter `box` must be implemented.")}serialize(e,t){Pe("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Pe("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Pe("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var _n,xs,uc,dc,Gs,le,lo,co,yh,vh,hc,fc,kr,xh,wm,bm,mt,Eu,B2,V2,U2,z2,H2,W2;const ci=class ci{constructor({x:e,y:t},s,i,r,a,o=0){C(this,mt);C(this,_n);C(this,xs,[]);C(this,uc);C(this,dc);C(this,Gs,[]);C(this,le,new Float64Array(18));C(this,lo);C(this,co);C(this,yh);C(this,vh);C(this,hc);C(this,fc);C(this,kr,[]);b(this,_n,s),b(this,fc,r*i),b(this,dc,a),u(this,le).set([NaN,NaN,NaN,NaN,e,t],6),b(this,uc,o),b(this,vh,u(ci,xh)*i),b(this,yh,u(ci,bm)*i),b(this,hc,i),u(this,kr).push(e,t)}isEmpty(){return isNaN(u(this,le)[8])}add({x:e,y:t}){var R;b(this,lo,e),b(this,co,t);const[s,i,r,a]=u(this,_n);let[o,l,c,d]=u(this,le).subarray(8,12);const f=e-c,p=t-d,m=Math.hypot(f,p);if(m<u(this,yh))return!1;const y=m-u(this,vh),v=y/m,S=v*f,g=v*p;let x=o,w=l;o=c,l=d,c+=S,d+=g,(R=u(this,kr))==null||R.push(e,t);const E=-g/y,k=S/y,T=E*u(this,fc),N=k*u(this,fc);return u(this,le).set(u(this,le).subarray(2,8),0),u(this,le).set([c+T,d+N],4),u(this,le).set(u(this,le).subarray(14,18),12),u(this,le).set([c-T,d-N],16),isNaN(u(this,le)[6])?(u(this,Gs).length===0&&(u(this,le).set([o+T,l+N],2),u(this,Gs).push(NaN,NaN,NaN,NaN,(o+T-s)/r,(l+N-i)/a),u(this,le).set([o-T,l-N],14),u(this,xs).push(NaN,NaN,NaN,NaN,(o-T-s)/r,(l-N-i)/a)),u(this,le).set([x,w,o,l,c,d],6),!this.isEmpty()):(u(this,le).set([x,w,o,l,c,d],6),Math.abs(Math.atan2(w-l,x-o)-Math.atan2(g,S))<Math.PI/2?([o,l,c,d]=u(this,le).subarray(2,6),u(this,Gs).push(NaN,NaN,NaN,NaN,((o+c)/2-s)/r,((l+d)/2-i)/a),[o,l,x,w]=u(this,le).subarray(14,18),u(this,xs).push(NaN,NaN,NaN,NaN,((x+o)/2-s)/r,((w+l)/2-i)/a),!0):([x,w,o,l,c,d]=u(this,le).subarray(0,6),u(this,Gs).push(((x+5*o)/6-s)/r,((w+5*l)/6-i)/a,((5*o+c)/6-s)/r,((5*l+d)/6-i)/a,((o+c)/2-s)/r,((l+d)/2-i)/a),[c,d,o,l,x,w]=u(this,le).subarray(12,18),u(this,xs).push(((x+5*o)/6-s)/r,((w+5*l)/6-i)/a,((5*o+c)/6-s)/r,((5*l+d)/6-i)/a,((o+c)/2-s)/r,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,Gs),t=u(this,xs);if(isNaN(u(this,le)[6])&&!this.isEmpty())return A(this,mt,B2).call(this);const s=[];s.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?s.push(`L${e[i+4]} ${e[i+5]}`):s.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);A(this,mt,U2).call(this,s);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?s.push(`L${t[i+4]} ${t[i+5]}`):s.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return A(this,mt,V2).call(this,s),s.join(" ")}newFreeDrawOutline(e,t,s,i,r,a){return new $2(e,t,s,i,r,a)}getOutlines(){var f;const e=u(this,Gs),t=u(this,xs),s=u(this,le),[i,r,a,o]=u(this,_n),l=new Float64Array((((f=u(this,kr))==null?void 0:f.length)??0)+2);for(let p=0,m=l.length-2;p<m;p+=2)l[p]=(u(this,kr)[p]-i)/a,l[p+1]=(u(this,kr)[p+1]-r)/o;if(l[l.length-2]=(u(this,lo)-i)/a,l[l.length-1]=(u(this,co)-r)/o,isNaN(s[6])&&!this.isEmpty())return A(this,mt,z2).call(this,l);const c=new Float64Array(u(this,Gs).length+24+u(this,xs).length);let d=e.length;for(let p=0;p<d;p+=2){if(isNaN(e[p])){c[p]=c[p+1]=NaN;continue}c[p]=e[p],c[p+1]=e[p+1]}d=A(this,mt,W2).call(this,c,d);for(let p=t.length-6;p>=6;p-=6)for(let m=0;m<6;m+=2){if(isNaN(t[p+m])){c[d]=c[d+1]=NaN,d+=2;continue}c[d]=t[p+m],c[d+1]=t[p+m+1],d+=2}return A(this,mt,H2).call(this,c,d),this.newFreeDrawOutline(c,l,u(this,_n),u(this,hc),u(this,uc),u(this,dc))}};_n=new WeakMap,xs=new WeakMap,uc=new WeakMap,dc=new WeakMap,Gs=new WeakMap,le=new WeakMap,lo=new WeakMap,co=new WeakMap,yh=new WeakMap,vh=new WeakMap,hc=new WeakMap,fc=new WeakMap,kr=new WeakMap,xh=new WeakMap,wm=new WeakMap,bm=new WeakMap,mt=new WeakSet,Eu=function(){const e=u(this,le).subarray(4,6),t=u(this,le).subarray(16,18),[s,i,r,a]=u(this,_n);return[(u(this,lo)+(e[0]-t[0])/2-s)/r,(u(this,co)+(e[1]-t[1])/2-i)/a,(u(this,lo)+(t[0]-e[0])/2-s)/r,(u(this,co)+(t[1]-e[1])/2-i)/a]},B2=function(){const[e,t,s,i]=u(this,_n),[r,a,o,l]=A(this,mt,Eu).call(this);return`M${(u(this,le)[2]-e)/s} ${(u(this,le)[3]-t)/i} L${(u(this,le)[4]-e)/s} ${(u(this,le)[5]-t)/i} L${r} ${a} L${o} ${l} L${(u(this,le)[16]-e)/s} ${(u(this,le)[17]-t)/i} L${(u(this,le)[14]-e)/s} ${(u(this,le)[15]-t)/i} Z`},V2=function(e){const t=u(this,xs);e.push(`L${t[4]} ${t[5]} Z`)},U2=function(e){const[t,s,i,r]=u(this,_n),a=u(this,le).subarray(4,6),o=u(this,le).subarray(16,18),[l,c,d,f]=A(this,mt,Eu).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-s)/r} L${l} ${c} L${d} ${f} L${(o[0]-t)/i} ${(o[1]-s)/r}`)},z2=function(e){const t=u(this,le),[s,i,r,a]=u(this,_n),[o,l,c,d]=A(this,mt,Eu).call(this),f=new Float64Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-s)/r,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-s)/r,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,(t[16]-s)/r,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-s)/r,(t[15]-i)/a],0),this.newFreeDrawOutline(f,e,u(this,_n),u(this,hc),u(this,uc),u(this,dc))},H2=function(e,t){const s=u(this,xs);return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6},W2=function(e,t){const s=u(this,le).subarray(4,6),i=u(this,le).subarray(16,18),[r,a,o,l]=u(this,_n),[c,d,f,p]=A(this,mt,Eu).call(this);return e.set([NaN,NaN,NaN,NaN,(s[0]-r)/o,(s[1]-a)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(i[0]-r)/o,(i[1]-a)/l],t),t+=24},C(ci,xh,8),C(ci,wm,2),C(ci,bm,u(ci,xh)+u(ci,wm));let nm=ci;var pc,uo,Ci,wh,Nn,bh,Ye,yn,Cu,ku,G2;class $2 extends F2{constructor(t,s,i,r,a,o){super();C(this,yn);C(this,pc);C(this,uo,null);C(this,Ci);C(this,wh);C(this,Nn);C(this,bh);C(this,Ye);b(this,Ye,t),b(this,Nn,s),b(this,pc,i),b(this,bh,r),b(this,Ci,a),b(this,wh,o),A(this,yn,G2).call(this,o);const{x:l,y:c,width:d,height:f}=u(this,uo);for(let p=0,m=t.length;p<m;p+=2)t[p]=(t[p]-l)/d,t[p+1]=(t[p+1]-c)/f;for(let p=0,m=s.length;p<m;p+=2)s[p]=(s[p]-l)/d,s[p+1]=(s[p+1]-c)/f}toSVGPath(){const t=[`M${u(this,Ye)[4]} ${u(this,Ye)[5]}`];for(let s=6,i=u(this,Ye).length;s<i;s+=6){if(isNaN(u(this,Ye)[s])){t.push(`L${u(this,Ye)[s+4]} ${u(this,Ye)[s+5]}`);continue}t.push(`C${u(this,Ye)[s]} ${u(this,Ye)[s+1]} ${u(this,Ye)[s+2]} ${u(this,Ye)[s+3]} ${u(this,Ye)[s+4]} ${u(this,Ye)[s+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,s,i,r],a){const o=i-t,l=r-s;let c,d;switch(a){case 0:c=A(this,yn,Cu).call(this,u(this,Ye),t,r,o,-l),d=A(this,yn,Cu).call(this,u(this,Nn),t,r,o,-l);break;case 90:c=A(this,yn,ku).call(this,u(this,Ye),t,s,o,l),d=A(this,yn,ku).call(this,u(this,Nn),t,s,o,l);break;case 180:c=A(this,yn,Cu).call(this,u(this,Ye),i,s,-o,l),d=A(this,yn,Cu).call(this,u(this,Nn),i,s,-o,l);break;case 270:c=A(this,yn,ku).call(this,u(this,Ye),i,r,-o,-l),d=A(this,yn,ku).call(this,u(this,Nn),i,r,-o,-l);break}return{outline:Array.from(c),points:[Array.from(d)]}}get box(){return u(this,uo)}newOutliner(t,s,i,r,a,o=0){return new nm(t,s,i,r,a,o)}getNewOutline(t,s){const{x:i,y:r,width:a,height:o}=u(this,uo),[l,c,d,f]=u(this,pc),p=a*d,m=o*f,y=i*d+l,v=r*f+c,S=this.newOutliner({x:u(this,Nn)[0]*p+y,y:u(this,Nn)[1]*m+v},u(this,pc),u(this,bh),t,u(this,wh),s??u(this,Ci));for(let g=2;g<u(this,Nn).length;g+=2)S.add({x:u(this,Nn)[g]*p+y,y:u(this,Nn)[g+1]*m+v});return S.getOutlines()}get mustRemoveSelfIntersections(){return!0}}pc=new WeakMap,uo=new WeakMap,Ci=new WeakMap,wh=new WeakMap,Nn=new WeakMap,bh=new WeakMap,Ye=new WeakMap,yn=new WeakSet,Cu=function(t,s,i,r,a){const o=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)o[l]=s+t[l]*r,o[l+1]=i+t[l+1]*a;return o},ku=function(t,s,i,r,a){const o=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)o[l]=s+t[l+1]*r,o[l+1]=i+t[l]*a;return o},G2=function(t){const s=u(this,Ye);let i=s[4],r=s[5],a=i,o=r,l=i,c=r,d=i,f=r;const p=t?Math.max:Math.min;for(let g=6,x=s.length;g<x;g+=6){if(isNaN(s[g]))a=Math.min(a,s[g+4]),o=Math.min(o,s[g+5]),l=Math.max(l,s[g+4]),c=Math.max(c,s[g+5]),f<s[g+5]?(d=s[g+4],f=s[g+5]):f===s[g+5]&&(d=p(d,s[g+4]));else{const w=G.bezierBoundingBox(i,r,...s.slice(g,g+6));a=Math.min(a,w[0]),o=Math.min(o,w[1]),l=Math.max(l,w[2]),c=Math.max(c,w[3]),f<w[3]?(d=w[2],f=w[3]):f===w[3]&&(d=p(d,w[2]))}i=s[g+4],r=s[g+5]}const m=a-u(this,Ci),y=o-u(this,Ci),v=l-a+2*u(this,Ci),S=c-o+2*u(this,Ci);b(this,uo,{x:m,y,width:v,height:S,lastPoint:[d,f]})};var Ah,_r,ws,rn,q2,cp,K2,X2,c0;class GA{constructor(e,t=0,s=0,i=!0){C(this,rn);C(this,Ah);C(this,_r,[]);C(this,ws,[]);let r=1/0,a=-1/0,o=1/0,l=-1/0;const d=10**-4;for(const{x:g,y:x,width:w,height:E}of e){const k=Math.floor((g-t)/d)*d,T=Math.ceil((g+w+t)/d)*d,N=Math.floor((x-t)/d)*d,P=Math.ceil((x+E+t)/d)*d,R=[k,N,P,!0],I=[T,N,P,!1];u(this,_r).push(R,I),r=Math.min(r,k),a=Math.max(a,T),o=Math.min(o,N),l=Math.max(l,P)}const f=a-r+2*s,p=l-o+2*s,m=r-s,y=o-s,v=u(this,_r).at(i?-1:-2),S=[v[0],v[2]];for(const g of u(this,_r)){const[x,w,E]=g;g[0]=(x-m)/f,g[1]=(w-y)/p,g[2]=(E-y)/p}b(this,Ah,{x:m,y,width:f,height:p,lastPoint:S})}getOutlines(){u(this,_r).sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of u(this,_r))t[3]?(e.push(...A(this,rn,c0).call(this,t)),A(this,rn,K2).call(this,t)):(A(this,rn,X2).call(this,t),e.push(...A(this,rn,c0).call(this,t)));return A(this,rn,q2).call(this,e)}}Ah=new WeakMap,_r=new WeakMap,ws=new WeakMap,rn=new WeakSet,q2=function(e){const t=[],s=new Set;for(const a of e){const[o,l,c]=a;t.push([o,l,a],[o,c,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],c=t[a+1][2];l.push(c),c.push(l),s.add(l),s.add(c)}const i=[];let r;for(;s.size>0;){const a=s.values().next().value;let[o,l,c,d,f]=a;s.delete(a);let p=o,m=l;for(r=[o,c],i.push(r);;){let y;if(s.has(d))y=d;else if(s.has(f))y=f;else break;s.delete(y),[o,l,c,d,f]=y,p!==o&&(r.push(p,m,o,m===l?l:c),p=o),m=m===l?c:l}r.push(p,m)}return new z6(i,u(this,Ah))},cp=function(e){const t=u(this,ws);let s=0,i=t.length-1;for(;s<=i;){const r=s+i>>1,a=t[r][0];if(a===e)return r;a<e?s=r+1:i=r-1}return i+1},K2=function([,e,t]){const s=A(this,rn,cp).call(this,e);u(this,ws).splice(s,0,[e,t])},X2=function([,e,t]){const s=A(this,rn,cp).call(this,e);for(let i=s;i<u(this,ws).length;i++){const[r,a]=u(this,ws)[i];if(r!==e)break;if(r===e&&a===t){u(this,ws).splice(i,1);return}}for(let i=s-1;i>=0;i--){const[r,a]=u(this,ws)[i];if(r!==e)break;if(r===e&&a===t){u(this,ws).splice(i,1);return}}},c0=function(e){const[t,s,i]=e,r=[[t,s,i]],a=A(this,rn,cp).call(this,i);for(let o=0;o<a;o++){const[l,c]=u(this,ws)[o];for(let d=0,f=r.length;d<f;d++){const[,p,m]=r[d];if(!(c<=p||m<=l)){if(p>=l){if(m>c)r[d][1]=c;else{if(f===1)return[];r.splice(d,1),d--,f--}continue}r[d][2]=l,m>c&&r.push([t,c,m])}}}return r};var Sh,mc;class z6 extends F2{constructor(t,s){super();C(this,Sh);C(this,mc);b(this,mc,t),b(this,Sh,s)}toSVGPath(){const t=[];for(const s of u(this,mc)){let[i,r]=s;t.push(`M${i} ${r}`);for(let a=2;a<s.length;a+=2){const o=s[a],l=s[a+1];o===i?(t.push(`V${l}`),r=l):l===r&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,s,i,r],a){const o=[],l=i-t,c=r-s;for(const d of u(this,mc)){const f=new Array(d.length);for(let p=0;p<d.length;p+=2)f[p]=t+d[p]*l,f[p+1]=r-d[p+1]*c;o.push(f)}return o}get box(){return u(this,Sh)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Sh=new WeakMap,mc=new WeakMap;class u0 extends nm{newFreeDrawOutline(e,t,s,i,r,a){return new H6(e,t,s,i,r,a)}get classNamesForDrawing(){return["highlight","free"]}}class H6 extends $2{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,s,i,r,a=0){return new u0(e,t,s,i,r,a)}}var bs,ho,gc,ut,Eh,yc,Ch,kh,Nr,As,vc,_h,Ae,d0,h0,f0,ga,Y2,tr;const cn=class cn{constructor({editor:e=null,uiManager:t=null}){C(this,Ae);C(this,bs,null);C(this,ho,null);C(this,gc);C(this,ut,null);C(this,Eh,!1);C(this,yc,!1);C(this,Ch,null);C(this,kh);C(this,Nr,null);C(this,As,null);C(this,vc);var s;e?(b(this,yc,!1),b(this,vc,Z.HIGHLIGHT_COLOR),b(this,Ch,e)):(b(this,yc,!0),b(this,vc,Z.HIGHLIGHT_DEFAULT_COLOR)),b(this,As,(e==null?void 0:e._uiManager)||t),b(this,kh,u(this,As)._eventBus),b(this,gc,(e==null?void 0:e.color)||((s=u(this,As))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),u(cn,_h)||b(cn,_h,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return de(this,"_keyboardManager",new $h([[["Escape","mac+Escape"],cn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],cn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],cn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],cn.prototype._moveToPrevious],[["Home","mac+Home"],cn.prototype._moveToBeginning],[["End","mac+End"],cn.prototype._moveToEnd]]))}renderButton(){const e=b(this,bs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=u(this,As)._signal;e.addEventListener("click",A(this,Ae,ga).bind(this),{signal:t}),e.addEventListener("keydown",A(this,Ae,f0).bind(this),{signal:t});const s=b(this,ho,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=u(this,gc),e.append(s),e}renderMainDropdown(){const e=b(this,ut,A(this,Ae,d0).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===u(this,bs)){A(this,Ae,ga).call(this,e);return}const t=e.target.getAttribute("data-color");t&&A(this,Ae,h0).call(this,t,e)}_moveToNext(e){var t,s;if(!u(this,Ae,tr)){A(this,Ae,ga).call(this,e);return}if(e.target===u(this,bs)){(t=u(this,ut).firstChild)==null||t.focus();return}(s=e.target.nextSibling)==null||s.focus()}_moveToPrevious(e){var t,s;if(e.target===((t=u(this,ut))==null?void 0:t.firstChild)||e.target===u(this,bs)){u(this,Ae,tr)&&this._hideDropdownFromKeyboard();return}u(this,Ae,tr)||A(this,Ae,ga).call(this,e),(s=e.target.previousSibling)==null||s.focus()}_moveToBeginning(e){var t;if(!u(this,Ae,tr)){A(this,Ae,ga).call(this,e);return}(t=u(this,ut).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,Ae,tr)){A(this,Ae,ga).call(this,e);return}(t=u(this,ut).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=u(this,ut))==null||e.classList.add("hidden"),(t=u(this,Nr))==null||t.abort(),b(this,Nr,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,yc)){if(!u(this,Ae,tr)){(e=u(this,Ch))==null||e.unselect();return}this.hideDropdown(),u(this,bs).focus({preventScroll:!0,focusVisible:u(this,Eh)})}}updateColor(e){if(u(this,ho)&&(u(this,ho).style.backgroundColor=e),!u(this,ut))return;const t=u(this,As).highlightColors.values();for(const s of u(this,ut).children)s.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=u(this,bs))==null||e.remove(),b(this,bs,null),b(this,ho,null),(t=u(this,ut))==null||t.remove(),b(this,ut,null)}};bs=new WeakMap,ho=new WeakMap,gc=new WeakMap,ut=new WeakMap,Eh=new WeakMap,yc=new WeakMap,Ch=new WeakMap,kh=new WeakMap,Nr=new WeakMap,As=new WeakMap,vc=new WeakMap,_h=new WeakMap,Ae=new WeakSet,d0=function(){const e=document.createElement("div"),t=u(this,As)._signal;e.addEventListener("contextmenu",rs,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,i]of u(this,As).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=s,r.setAttribute("data-l10n-id",u(cn,_h)[s]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=i,r.setAttribute("aria-selected",i===u(this,gc)),r.addEventListener("click",A(this,Ae,h0).bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",A(this,Ae,f0).bind(this),{signal:t}),e},h0=function(e,t){t.stopPropagation(),u(this,kh).dispatch("switchannotationeditorparams",{source:this,type:u(this,vc),value:e})},f0=function(e){cn._keyboardManager.exec(this,e)},ga=function(e){if(u(this,Ae,tr)){this.hideDropdown();return}if(b(this,Eh,e.detail===0),u(this,Nr)||(b(this,Nr,new AbortController),window.addEventListener("pointerdown",A(this,Ae,Y2).bind(this),{signal:u(this,As).combinedSignal(u(this,Nr))})),u(this,ut)){u(this,ut).classList.remove("hidden");return}const t=b(this,ut,A(this,Ae,d0).call(this));u(this,bs).append(t)},Y2=function(e){var t;(t=u(this,ut))!=null&&t.contains(e.target)||this.hideDropdown()},tr=function(){return u(this,ut)&&!u(this,ut).classList.contains("hidden")},C(cn,_h,null);let sm=cn;var xc,Nh,ki,fo,wc,qn,Th,Ph,po,Ss,Ut,hn,bc,_i,dt,Ac,Kn,jh,ne,p0,up,Q2,J2,Z2,m0,ya,Zn,tl,eN,dp,_u,tN,nN,sN,iN,rN;const me=class me extends we{constructor(t){super({...t,name:"highlightEditor"});C(this,ne);C(this,xc,null);C(this,Nh,0);C(this,ki);C(this,fo,null);C(this,wc,null);C(this,qn,null);C(this,Th,null);C(this,Ph,0);C(this,po,null);C(this,Ss,null);C(this,Ut,null);C(this,hn,!1);C(this,bc,null);C(this,_i);C(this,dt,null);C(this,Ac,"");C(this,Kn);C(this,jh,"");this.color=t.color||me._defaultColor,b(this,Kn,t.thickness||me._defaultThickness),b(this,_i,t.opacity||me._defaultOpacity),b(this,ki,t.boxes||null),b(this,jh,t.methodOfCreation||""),b(this,Ac,t.text||""),this._isDraggable=!1,t.highlightId>-1?(b(this,hn,!0),A(this,ne,up).call(this,t),A(this,ne,ya).call(this)):u(this,ki)&&(b(this,xc,t.anchorNode),b(this,Nh,t.anchorOffset),b(this,Th,t.focusNode),b(this,Ph,t.focusOffset),A(this,ne,p0).call(this),A(this,ne,ya).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=me.prototype;return de(this,"_keyboardManager",new $h([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,hn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,Kn),methodOfCreation:u(this,jh)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,s){var i;we.initialize(t,s),me._defaultColor||(me._defaultColor=((i=s.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,s){switch(t){case Z.HIGHLIGHT_DEFAULT_COLOR:me._defaultColor=s;break;case Z.HIGHLIGHT_THICKNESS:me._defaultThickness=s;break}}translateInPage(t,s){}get toolbarPosition(){return u(this,bc)}updateParams(t,s){switch(t){case Z.HIGHLIGHT_COLOR:A(this,ne,Q2).call(this,s);break;case Z.HIGHLIGHT_THICKNESS:A(this,ne,J2).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Z.HIGHLIGHT_DEFAULT_COLOR,me._defaultColor],[Z.HIGHLIGHT_THICKNESS,me._defaultThickness]]}get propertiesToUpdate(){return[[Z.HIGHLIGHT_COLOR,this.color||me._defaultColor],[Z.HIGHLIGHT_THICKNESS,u(this,Kn)||me._defaultThickness],[Z.HIGHLIGHT_FREE,u(this,hn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(b(this,wc,new sm({editor:this})),t.addColorPicker(u(this,wc))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,ne,_u).call(this))}getBaseTranslation(){return[0,0]}getRect(t,s){return super.getRect(t,s,A(this,ne,_u).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){A(this,ne,m0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,ne,ya).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let s=!1;this.parent&&!t?A(this,ne,m0).call(this):t&&(A(this,ne,ya).call(this,t),s=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),s&&this.select()}rotate(t){var r,a,o;const{drawLayer:s}=this.parent;let i;u(this,hn)?(t=(t-this.rotation+360)%360,i=A(r=me,Zn,tl).call(r,u(this,Ss).box,t)):i=A(a=me,Zn,tl).call(a,this,t),s.rotate(u(this,Ut),t),s.rotate(u(this,dt),t),s.updateBox(u(this,Ut),i),s.updateBox(u(this,dt),A(o=me,Zn,tl).call(o,u(this,qn).box,t))}render(){if(this.div)return this.div;const t=super.render();u(this,Ac)&&(t.setAttribute("aria-label",u(this,Ac)),t.setAttribute("role","mark")),u(this,hn)?t.classList.add("free"):this.div.addEventListener("keydown",A(this,ne,eN).bind(this),{signal:this._uiManager._signal});const s=b(this,po,document.createElement("div"));t.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=u(this,fo);const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),em(this,u(this,po),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(u(this,dt),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(u(this,dt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:A(this,ne,dp).call(this,!0);break;case 1:case 3:A(this,ne,dp).call(this,!1);break}}select(){var t,s;super.select(),u(this,dt)&&((t=this.parent)==null||t.drawLayer.removeClass(u(this,dt),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(u(this,dt),"selected"))}unselect(){var t;super.unselect(),u(this,dt)&&((t=this.parent)==null||t.drawLayer.removeClass(u(this,dt),"selected"),u(this,hn)||A(this,ne,dp).call(this,!1))}get _mustFixPosition(){return!u(this,hn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(u(this,Ut),t),this.parent.drawLayer.show(u(this,dt),t))}static startHighlighting(t,s,{target:i,x:r,y:a}){const{x:o,y:l,width:c,height:d}=i.getBoundingClientRect(),f=new AbortController,p=t.combinedSignal(f),m=v=>{v.preventDefault(),v.stopPropagation()},y=v=>{f.abort(),A(this,Zn,iN).call(this,t,v)};window.addEventListener("blur",y,{signal:p}),window.addEventListener("pointerup",y,{signal:p}),window.addEventListener("pointerdown",m,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",rs,{signal:p}),i.addEventListener("pointermove",A(this,Zn,sN).bind(this,t),{signal:p}),this._freeHighlight=new u0({x:r,y:a},[o,l,c,d],t.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,s,i){var v,S,g,x;let r=null;if(t instanceof P2){const{data:{quadPoints:w,rect:E,rotation:k,id:T,color:N,opacity:P,popupRef:R},parent:{page:{pageNumber:I}}}=t;r=t={annotationType:se.HIGHLIGHT,color:Array.from(N),opacity:P,quadPoints:w,boxes:null,pageIndex:I-1,rect:E.slice(0),rotation:k,id:T,deleted:!1,popupRef:R}}else if(t instanceof Tw){const{data:{inkLists:w,rect:E,rotation:k,id:T,color:N,borderStyle:{rawWidth:P},popupRef:R},parent:{page:{pageNumber:I}}}=t;r=t={annotationType:se.HIGHLIGHT,color:Array.from(N),thickness:P,inkLists:w,boxes:null,pageIndex:I-1,rect:E.slice(0),rotation:k,id:T,deleted:!1,popupRef:R}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=t,d=await super.deserialize(t,s,i);d.color=G.makeHexColor(...a),b(d,_i,c||1),l&&b(d,Kn,t.thickness),d.annotationElementId=t.id||null,d._initialData=r;const[f,p]=d.pageDimensions,[m,y]=d.pageTranslation;if(o){const w=b(d,ki,[]);for(let E=0;E<o.length;E+=8)w.push({x:(o[E]-m)/f,y:1-(o[E+1]-y)/p,width:(o[E+2]-o[E])/f,height:(o[E+1]-o[E+5])/p});A(v=d,ne,p0).call(v),A(S=d,ne,ya).call(S),d.rotate(d.rotation)}else if(l){b(d,hn,!0);const w=l[0],E={x:w[0]-m,y:p-(w[1]-y)},k=new u0(E,[0,0,f,p],1,u(d,Kn)/2,!0,.001);for(let P=0,R=w.length;P<R;P+=2)E.x=w[P]-m,E.y=p-(w[P+1]-y),k.add(E);const{id:T,clipPathId:N}=s.drawLayer.draw(k,d.color,d._defaultOpacity,!0);A(g=d,ne,up).call(g,{highlightOutlines:k.getOutlines(),highlightId:T,clipPathId:N}),A(x=d,ne,ya).call(x)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),i=we._colorManager.convert(this.color),r={annotationType:se.HIGHLIGHT,color:i,opacity:u(this,_i),thickness:u(this,Kn),quadPoints:A(this,ne,tN).call(this),outlines:A(this,ne,nN).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:A(this,ne,_u).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!A(this,ne,rN).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};xc=new WeakMap,Nh=new WeakMap,ki=new WeakMap,fo=new WeakMap,wc=new WeakMap,qn=new WeakMap,Th=new WeakMap,Ph=new WeakMap,po=new WeakMap,Ss=new WeakMap,Ut=new WeakMap,hn=new WeakMap,bc=new WeakMap,_i=new WeakMap,dt=new WeakMap,Ac=new WeakMap,Kn=new WeakMap,jh=new WeakMap,ne=new WeakSet,p0=function(){const t=new GA(u(this,ki),.001);b(this,Ss,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=u(this,Ss).box;const s=new GA(u(this,ki),.0025,.001,this._uiManager.direction==="ltr");b(this,qn,s.getOutlines());const{lastPoint:i}=u(this,qn).box;b(this,bc,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},up=function({highlightOutlines:t,highlightId:s,clipPathId:i}){var f,p;if(b(this,Ss,t),b(this,qn,t.getNewOutline(u(this,Kn)/2+1.5,.0025)),s>=0)b(this,Ut,s),b(this,fo,i),this.parent.drawLayer.finalizeLine(s,t),b(this,dt,this.parent.drawLayer.drawOutline(u(this,qn)));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(u(this,Ut),t),this.parent.drawLayer.updateBox(u(this,Ut),A(f=me,Zn,tl).call(f,u(this,Ss).box,(m-this.rotation+360)%360)),this.parent.drawLayer.updateLine(u(this,dt),u(this,qn)),this.parent.drawLayer.updateBox(u(this,dt),A(p=me,Zn,tl).call(p,u(this,qn).box,m))}const{x:a,y:o,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[m,y]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*y/m,this.height=c*m/y;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[m,y]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*y/m,this.height=c*m/y;break}}const{lastPoint:d}=u(this,qn).box;b(this,bc,[(d[0]-a)/l,(d[1]-o)/c])},Q2=function(t){const s=(a,o)=>{var l,c,d;this.color=a,(l=this.parent)==null||l.drawLayer.changeColor(u(this,Ut),a),(c=u(this,wc))==null||c.updateColor(a),b(this,_i,o),(d=this.parent)==null||d.drawLayer.changeOpacity(u(this,Ut),o)},i=this.color,r=u(this,_i);this.addCommands({cmd:s.bind(this,t,me._defaultOpacity),undo:s.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},J2=function(t){const s=u(this,Kn),i=r=>{b(this,Kn,r),A(this,ne,Z2).call(this,r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Z2=function(t){if(!u(this,hn))return;A(this,ne,up).call(this,{highlightOutlines:u(this,Ss).getNewOutline(t/2)}),this.fixAndSetPosition();const[s,i]=this.parentDimensions;this.setDims(this.width*s,this.height*i)},m0=function(){u(this,Ut)===null||!this.parent||(this.parent.drawLayer.remove(u(this,Ut)),b(this,Ut,null),this.parent.drawLayer.remove(u(this,dt)),b(this,dt,null))},ya=function(t=this.parent){u(this,Ut)===null&&({id:Yt(this,Ut)._,clipPathId:Yt(this,fo)._}=t.drawLayer.draw(u(this,Ss),this.color,u(this,_i)),b(this,dt,t.drawLayer.drawOutline(u(this,qn))),u(this,po)&&(u(this,po).style.clipPath=u(this,fo)))},Zn=new WeakSet,tl=function({x:t,y:s,width:i,height:r},a){switch(a){case 90:return{x:1-s-r,y:t,width:r,height:i};case 180:return{x:1-t-i,y:1-s-r,width:i,height:r};case 270:return{x:s,y:1-t-i,width:r,height:i}}return{x:t,y:s,width:i,height:r}},eN=function(t){me._keyboardManager.exec(this,t)},dp=function(t){if(!u(this,xc))return;const s=window.getSelection();t?s.setPosition(u(this,xc),u(this,Nh)):s.setPosition(u(this,Th),u(this,Ph))},_u=function(){return u(this,hn)?this.rotation:0},tN=function(){if(u(this,hn))return null;const[t,s]=this.pageDimensions,[i,r]=this.pageTranslation,a=u(this,ki),o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:d,width:f,height:p}of a){const m=c*t+i,y=(1-d-p)*s+r;o[l]=o[l+4]=m,o[l+1]=o[l+3]=y,o[l+2]=o[l+6]=m+f*t,o[l+5]=o[l+7]=y+p*s,l+=8}return o},nN=function(t){return u(this,Ss).serialize(t,A(this,ne,_u).call(this))},sN=function(t,s){this._freeHighlight.add(s)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},iN=function(t,s){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},rN=function(t){const{color:s}=this._initialData;return t.color.some((i,r)=>i!==s[r])},C(me,Zn),J(me,"_defaultColor",null),J(me,"_defaultOpacity",1),J(me,"_defaultThickness",12),J(me,"_type","highlight"),J(me,"_editorType",se.HIGHLIGHT),J(me,"_freeHighlightId",-1),J(me,"_freeHighlight",null),J(me,"_freeHighlightClipId","");let im=me;var mo,go,qs,Ni,Xn,yo,vo,xo,Ti,Sc,wo,bo,Tr,F,aN,oN,lN,cN,y0,uN,v0,dN,hN,fN,pN,mN,va,x0,w0,b0,hp,fp,nl,A0,pp,Yi,gN,S0,yN,vN,E0,mp,Nu;const Oe=class Oe extends we{constructor(t){super({...t,name:"inkEditor"});C(this,F);C(this,mo,0);C(this,go,0);C(this,qs,null);C(this,Ni,new Path2D);C(this,Xn,!1);C(this,yo,null);C(this,vo,!1);C(this,xo,!1);C(this,Ti,null);C(this,Sc,null);C(this,wo,0);C(this,bo,0);C(this,Tr,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,s){we.initialize(t,s)}static updateDefaultParams(t,s){switch(t){case Z.INK_THICKNESS:Oe._defaultThickness=s;break;case Z.INK_COLOR:Oe._defaultColor=s;break;case Z.INK_OPACITY:Oe._defaultOpacity=s/100;break}}updateParams(t,s){switch(t){case Z.INK_THICKNESS:A(this,F,aN).call(this,s);break;case Z.INK_COLOR:A(this,F,oN).call(this,s);break;case Z.INK_OPACITY:A(this,F,lN).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Z.INK_THICKNESS,Oe._defaultThickness],[Z.INK_COLOR,Oe._defaultColor||we._defaultLineColor],[Z.INK_OPACITY,Math.round(Oe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Z.INK_THICKNESS,this.thickness||Oe._defaultThickness],[Z.INK_COLOR,this.color||Oe._defaultColor||we._defaultLineColor],[Z.INK_OPACITY,Math.round(100*(this.opacity??Oe._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(A(this,F,hp).call(this),A(this,F,fp).call(this)),this.isAttachedToDOM||(this.parent.add(this),A(this,F,nl).call(this)),A(this,F,Nu).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,qs)&&(clearTimeout(u(this,qs)),b(this,qs,null)),(t=u(this,Ti))==null||t.disconnect(),b(this,Ti,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,s]=this.parentDimensions,i=this.width*t,r=this.height*s;this.setDimensions(i,r)}enableEditMode(){u(this,Xn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,A(this,F,x0).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),A(this,F,w0).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,Xn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),b(this,Xn,!0),this.div.classList.add("disabled"),A(this,F,Nu).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||u(this,Xn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),A(this,F,uN).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),A(this,F,v0).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),A(this,F,b0).call(this,t)}canvasPointerleave(t){A(this,F,b0).call(this,t)}get isResizable(){return!this.isEmpty()&&u(this,Xn)}render(){if(this.div)return this.div;let t,s;this.width&&(t=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,r,a,o]=A(this,F,cN).call(this);if(this.setAt(i,r,0,0),this.setDims(a,o),A(this,F,hp).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,s*c,this.width*l,this.height*c),b(this,xo,!0),A(this,F,nl).call(this),this.setDims(this.width*l,this.height*c),A(this,F,va).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return A(this,F,fp).call(this),this.div}setDimensions(t,s){const i=Math.round(t),r=Math.round(s);if(u(this,wo)===i&&u(this,bo)===r)return;b(this,wo,i),b(this,bo,r),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=t/a,this.height=s/o,this.fixAndSetPosition(),u(this,Xn)&&A(this,F,A0).call(this,t,s),A(this,F,nl).call(this),A(this,F,va).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,s,i){var S,g,x;if(t instanceof Tw)return null;const r=await super.deserialize(t,s,i);r.thickness=t.thickness,r.color=G.makeHexColor(...t.color),r.opacity=t.opacity;const[a,o]=r.pageDimensions,l=r.width*a,c=r.height*o,d=r.parentScale,f=t.thickness/2;b(r,Xn,!0),b(r,wo,Math.round(l)),b(r,bo,Math.round(c));const{paths:p,rect:m,rotation:y}=t;for(let{bezier:w}of p){w=A(S=Oe,Yi,yN).call(S,w,m,y);const E=[];r.paths.push(E);let k=d*(w[0]-f),T=d*(w[1]-f);for(let P=2,R=w.length;P<R;P+=6){const I=d*(w[P]-f),M=d*(w[P+1]-f),q=d*(w[P+2]-f),U=d*(w[P+3]-f),$=d*(w[P+4]-f),Q=d*(w[P+5]-f);E.push([[k,T],[I,M],[q,U],[$,Q]]),k=$,T=Q}const N=A(this,Yi,gN).call(this,E);r.bezierPath2D.push(N)}const v=A(g=r,F,E0).call(g);return b(r,go,Math.max(we.MIN_SIZE,v[2]-v[0])),b(r,mo,Math.max(we.MIN_SIZE,v[3]-v[1])),A(x=r,F,A0).call(x,l,c),r}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),s=we._colorManager.convert(this.ctx.strokeStyle);return{annotationType:se.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:A(this,F,vN).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};mo=new WeakMap,go=new WeakMap,qs=new WeakMap,Ni=new WeakMap,Xn=new WeakMap,yo=new WeakMap,vo=new WeakMap,xo=new WeakMap,Ti=new WeakMap,Sc=new WeakMap,wo=new WeakMap,bo=new WeakMap,Tr=new WeakMap,F=new WeakSet,aN=function(t){const s=r=>{this.thickness=r,A(this,F,Nu).call(this)},i=this.thickness;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},oN=function(t){const s=r=>{this.color=r,A(this,F,va).call(this)},i=this.color;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},lN=function(t){const s=r=>{this.opacity=r,A(this,F,va).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},cN=function(){const{parentRotation:t,parentDimensions:[s,i]}=this;switch(t){case 90:return[0,i,i,s];case 180:return[s,i,s,i];case 270:return[s,0,i,s];default:return[0,0,s,i]}},y0=function(){const{ctx:t,color:s,opacity:i,thickness:r,parentScale:a,scaleFactor:o}=this;t.lineWidth=r*a/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${s}${d5(i)}`},uN=function(t,s){this.canvas.addEventListener("contextmenu",rs,{signal:this._uiManager._signal}),A(this,F,w0).call(this),b(this,yo,new AbortController);const i=this._uiManager.combinedSignal(u(this,yo));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,u(this,xo)||(b(this,xo,!0),A(this,F,nl).call(this),this.thickness||(this.thickness=Oe._defaultThickness),this.color||(this.color=Oe._defaultColor||we._defaultLineColor),this.opacity??(this.opacity=Oe._defaultOpacity)),this.currentPath.push([t,s]),b(this,vo,!1),A(this,F,y0).call(this),b(this,Tr,()=>{A(this,F,fN).call(this),u(this,Tr)&&window.requestAnimationFrame(u(this,Tr))}),window.requestAnimationFrame(u(this,Tr))},v0=function(t,s){const[i,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&s===r)return;const a=this.currentPath;let o=u(this,Ni);if(a.push([t,s]),b(this,vo,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(t,s);return}a.length===3&&(b(this,Ni,o=new Path2D),o.moveTo(...a[0])),A(this,F,pN).call(this,o,...a.at(-3),...a.at(-2),t,s)},dN=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);u(this,Ni).lineTo(...t)},hN=function(t,s){b(this,Tr,null),t=Math.min(Math.max(t,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),A(this,F,v0).call(this,t,s),A(this,F,dN).call(this);let i;if(this.currentPath.length!==1)i=A(this,F,mN).call(this);else{const c=[t,s];i=[[c,c.slice(),c.slice(),c]]}const r=u(this,Ni),a=this.currentPath;this.currentPath=[],b(this,Ni,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(i),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(A(this,F,hp).call(this),A(this,F,fp).call(this)),A(this,F,Nu).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},fN=function(){if(!u(this,vo))return;b(this,vo,!1);const t=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),i=s.map(o=>o[0]),r=s.map(o=>o[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...r)-t,Math.max(...r)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(u(this,Ni)),a.restore()},pN=function(t,s,i,r,a,o,l){const c=(s+r)/2,d=(i+a)/2,f=(r+o)/2,p=(a+l)/2;t.bezierCurveTo(c+2*(r-c)/3,d+2*(a-d)/3,f+2*(r-f)/3,p+2*(a-p)/3,f,p)},mN=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const s=[];let i,[r,a]=t[0];for(i=1;i<t.length-2;i++){const[m,y]=t[i],[v,S]=t[i+1],g=(m+v)/2,x=(y+S)/2,w=[r+2*(m-r)/3,a+2*(y-a)/3],E=[g+2*(m-g)/3,x+2*(y-x)/3];s.push([[r,a],w,E,[g,x]]),[r,a]=[g,x]}const[o,l]=t[i],[c,d]=t[i+1],f=[r+2*(o-r)/3,a+2*(l-a)/3],p=[c+2*(o-c)/3,d+2*(l-d)/3];return s.push([[r,a],f,p,[c,d]]),s},va=function(){if(this.isEmpty()){A(this,F,pp).call(this);return}A(this,F,y0).call(this);const{canvas:t,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,t.width,t.height),A(this,F,pp).call(this);for(const i of this.bezierPath2D)s.stroke(i)},x0=function(){if(u(this,Sc))return;b(this,Sc,new AbortController);const t=this._uiManager.combinedSignal(u(this,Sc));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},w0=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},b0=function(t){var s;(s=u(this,yo))==null||s.abort(),b(this,yo,null),A(this,F,x0).call(this),u(this,qs)&&clearTimeout(u(this,qs)),b(this,qs,setTimeout(()=>{b(this,qs,null),this.canvas.removeEventListener("contextmenu",rs)},10)),A(this,F,hN).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},hp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},fp=function(){b(this,Ti,new ResizeObserver(t=>{const s=t[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),u(this,Ti).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=u(this,Ti))==null||t.disconnect(),b(this,Ti,null)},{once:!0})},nl=function(){if(!u(this,xo))return;const[t,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*s),A(this,F,pp).call(this)},A0=function(t,s){const i=A(this,F,mp).call(this),r=(t-i)/u(this,go),a=(s-i)/u(this,mo);this.scaleFactor=Math.min(r,a)},pp=function(){const t=A(this,F,mp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Yi=new WeakSet,gN=function(t){const s=new Path2D;for(let i=0,r=t.length;i<r;i++){const[a,o,l,c]=t[i];i===0&&s.moveTo(...a),s.bezierCurveTo(o[0],o[1],l[0],l[1],c[0],c[1])}return s},S0=function(t,s,i){const[r,a,o,l]=s;switch(i){case 0:for(let c=0,d=t.length;c<d;c+=2)t[c]+=r,t[c+1]=l-t[c+1];break;case 90:for(let c=0,d=t.length;c<d;c+=2){const f=t[c];t[c]=t[c+1]+r,t[c+1]=f+a}break;case 180:for(let c=0,d=t.length;c<d;c+=2)t[c]=o-t[c],t[c+1]+=a;break;case 270:for(let c=0,d=t.length;c<d;c+=2){const f=t[c];t[c]=o-t[c+1],t[c+1]=l-f}break;default:throw new Error("Invalid rotation")}return t},yN=function(t,s,i){const[r,a,o,l]=s;switch(i){case 0:for(let c=0,d=t.length;c<d;c+=2)t[c]-=r,t[c+1]=l-t[c+1];break;case 90:for(let c=0,d=t.length;c<d;c+=2){const f=t[c];t[c]=t[c+1]-a,t[c+1]=f-r}break;case 180:for(let c=0,d=t.length;c<d;c+=2)t[c]=o-t[c],t[c+1]-=a;break;case 270:for(let c=0,d=t.length;c<d;c+=2){const f=t[c];t[c]=l-t[c+1],t[c+1]=o-f}break;default:throw new Error("Invalid rotation")}return t},vN=function(t,s,i,r){var d,f;const a=[],o=this.thickness/2,l=t*s+o,c=t*i+o;for(const p of this.paths){const m=[],y=[];for(let v=0,S=p.length;v<S;v++){const[g,x,w,E]=p[v];if(g[0]===E[0]&&g[1]===E[1]&&S===1){const U=t*g[0]+l,$=t*g[1]+c;m.push(U,$),y.push(U,$);break}const k=t*g[0]+l,T=t*g[1]+c,N=t*x[0]+l,P=t*x[1]+c,R=t*w[0]+l,I=t*w[1]+c,M=t*E[0]+l,q=t*E[1]+c;v===0&&(m.push(k,T),y.push(k,T)),m.push(N,P,R,I,M,q),y.push(N,P),v===S-1&&y.push(M,q)}a.push({bezier:A(d=Oe,Yi,S0).call(d,m,r,this.rotation),points:A(f=Oe,Yi,S0).call(f,y,r,this.rotation)})}return a},E0=function(){let t=1/0,s=-1/0,i=1/0,r=-1/0;for(const a of this.paths)for(const[o,l,c,d]of a){const f=G.bezierBoundingBox(...o,...l,...c,...d);t=Math.min(t,f[0]),i=Math.min(i,f[1]),s=Math.max(s,f[2]),r=Math.max(r,f[3])}return[t,i,s,r]},mp=function(){return u(this,Xn)?Math.ceil(this.thickness*this.parentScale):0},Nu=function(t=!1){if(this.isEmpty())return;if(!u(this,Xn)){A(this,F,va).call(this);return}const s=A(this,F,E0).call(this),i=A(this,F,mp).call(this);b(this,go,Math.max(we.MIN_SIZE,s[2]-s[0])),b(this,mo,Math.max(we.MIN_SIZE,s[3]-s[1]));const r=Math.ceil(i+u(this,go)*this.scaleFactor),a=Math.ceil(i+u(this,mo)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=r/o,this.height=a/l,this.setAspectRatio(r,a);const c=this.translationX,d=this.translationY;this.translationX=-s[0],this.translationY=-s[1],A(this,F,nl).call(this),A(this,F,va).call(this),b(this,wo,r),b(this,bo,a),this.setDims(r,a);const f=t?i/this.scaleFactor/2:0;this.translate(c-this.translationX-f,d-this.translationY-f)},C(Oe,Yi),J(Oe,"_defaultColor",null),J(Oe,"_defaultOpacity",1),J(Oe,"_defaultThickness",1),J(Oe,"_type","ink"),J(Oe,"_editorType",se.INK);let g0=Oe;var Be,Tt,Pr,Pi,jr,Ec,Ks,ji,Xs,Tn,Cc,ue,Tu,Pu,gp,k0,xN,yp,_0,vp,wN,bN;const Gu=class Gu extends we{constructor(t){super({...t,name:"stampEditor"});C(this,ue);C(this,Be,null);C(this,Tt,null);C(this,Pr,null);C(this,Pi,null);C(this,jr,null);C(this,Ec,"");C(this,Ks,null);C(this,ji,null);C(this,Xs,null);C(this,Tn,!1);C(this,Cc,!1);b(this,Pi,t.bitmapUrl),b(this,jr,t.bitmapFile)}static initialize(t,s){we.initialize(t,s)}static get supportedTypes(){return de(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return de(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,s){s.pasteEditor(se.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const s=t.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(t=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:r,width:a,height:o,channels:r.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),s&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t,s;u(this,Tt)&&(b(this,Be,null),this._uiManager.imageManager.deleteId(u(this,Tt)),(t=u(this,Ks))==null||t.remove(),b(this,Ks,null),(s=u(this,ji))==null||s.disconnect(),b(this,ji,null),u(this,Xs)&&(clearTimeout(u(this,Xs)),b(this,Xs,null))),super.remove()}rebuild(){if(!this.parent){u(this,Tt)&&A(this,ue,gp).call(this);return}super.rebuild(),this.div!==null&&(u(this,Tt)&&u(this,Ks)===null&&A(this,ue,gp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,Pr)||u(this,Be)||u(this,Pi)||u(this,jr)||u(this,Tt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,s;if(this.width&&(t=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),u(this,Be)?A(this,ue,k0).call(this):A(this,ue,gp).call(this),this.width&&!this.annotationElementId){const[i,r]=this.parentDimensions;this.setAt(t*i,s*r,this.width*i,this.height*r)}return this.div}copyCanvas(t,s,i=!1){var m;t||(t=224);const{width:r,height:a}=u(this,Be),o=new bv;let l=u(this,Be),c=r,d=a,f=null;if(s){if(r>s||a>s){const P=Math.min(s/r,s/a);c=Math.floor(r*P),d=Math.floor(a*P)}f=document.createElement("canvas");const y=f.width=Math.ceil(c*o.sx),v=f.height=Math.ceil(d*o.sy);u(this,Tn)||(l=A(this,ue,yp).call(this,y,v));const S=f.getContext("2d");S.filter=this._uiManager.hcmFilter;let g="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(g="#8f8f9d",x="#42414d");const w=15,E=w*o.sx,k=w*o.sy,T=new OffscreenCanvas(E*2,k*2),N=T.getContext("2d");N.fillStyle=g,N.fillRect(0,0,E*2,k*2),N.fillStyle=x,N.fillRect(0,0,E,k),N.fillRect(E,k,E,k),S.fillStyle=S.createPattern(T,"repeat"),S.fillRect(0,0,y,v),S.drawImage(l,0,0,l.width,l.height,0,0,y,v)}let p=null;if(i){let y,v;if(o.symmetric&&l.width<t&&l.height<t)y=l.width,v=l.height;else if(l=u(this,Be),r>t||a>t){const x=Math.min(t/r,t/a);y=Math.floor(r*x),v=Math.floor(a*x),u(this,Tn)||(l=A(this,ue,yp).call(this,y,v))}const g=new OffscreenCanvas(y,v).getContext("2d",{willReadFrequently:!0});g.drawImage(l,0,0,l.width,l.height,0,0,y,v),p={width:y,height:v,data:g.getImageData(0,0,y,v).data}}return{canvas:f,width:c,height:d,imageData:p}}getImageForAltText(){return u(this,Ks)}static async deserialize(t,s,i){var v;let r=null;if(t instanceof j2){const{data:{rect:S,rotation:g,id:x,structParent:w,popupRef:E},container:k,parent:{page:{pageNumber:T}}}=t,N=k.querySelector("canvas"),P=i.imageManager.getFromCanvas(k.id,N);N.remove();const R=((v=await s._structTree.getAriaAttributes(`${vw}${x}`))==null?void 0:v.get("aria-label"))||"";r=t={annotationType:se.STAMP,bitmapId:P.id,bitmap:P.bitmap,pageIndex:T-1,rect:S.slice(0),rotation:g,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:R},isSvg:!1,structParent:w,popupRef:E}}const a=await super.deserialize(t,s,i),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:d,isSvg:f,accessibilityData:p}=t;d&&i.imageManager.isValidId(d)?(b(a,Tt,d),l&&b(a,Be,l)):b(a,Pi,c),b(a,Tn,f);const[m,y]=a.pageDimensions;return a.width=(o[2]-o[0])/m,a.height=(o[3]-o[1])/y,a.annotationElementId=t.id||null,p&&(a.altTextData=p),a._initialData=r,b(a,Cc,!!r),a}serialize(t=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:se.STAMP,bitmapId:u(this,Tt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,Tn),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=A(this,ue,vp).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:r,altText:a}=this.serializeAltText(!1);if(!r&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=A(this,ue,bN).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,s===null)return i;s.stamps||(s.stamps=new Map);const o=u(this,Tn)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!s.stamps.has(u(this,Tt)))s.stamps.set(u(this,Tt),{area:o,serialized:i}),i.bitmap=A(this,ue,vp).call(this,!1);else if(u(this,Tn)){const l=s.stamps.get(u(this,Tt));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=A(this,ue,vp).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Be=new WeakMap,Tt=new WeakMap,Pr=new WeakMap,Pi=new WeakMap,jr=new WeakMap,Ec=new WeakMap,Ks=new WeakMap,ji=new WeakMap,Xs=new WeakMap,Tn=new WeakMap,Cc=new WeakMap,ue=new WeakSet,Tu=function(t,s=!1){if(!t){this.remove();return}b(this,Be,t.bitmap),s||(b(this,Tt,t.id),b(this,Tn,t.isSvg)),t.file&&b(this,Ec,t.file.name),A(this,ue,k0).call(this)},Pu=function(){if(b(this,Pr,null),this._uiManager.enableWaiting(!1),!!u(this,Ks)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Be)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Be)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},gp=function(){if(u(this,Tt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,Tt)).then(i=>A(this,ue,Tu).call(this,i,!0)).finally(()=>A(this,ue,Pu).call(this));return}if(u(this,Pi)){const i=u(this,Pi);b(this,Pi,null),this._uiManager.enableWaiting(!0),b(this,Pr,this._uiManager.imageManager.getFromUrl(i).then(r=>A(this,ue,Tu).call(this,r)).finally(()=>A(this,ue,Pu).call(this)));return}if(u(this,jr)){const i=u(this,jr);b(this,jr,null),this._uiManager.enableWaiting(!0),b(this,Pr,this._uiManager.imageManager.getFromFile(i).then(r=>A(this,ue,Tu).call(this,r)).finally(()=>A(this,ue,Pu).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Gu.supportedTypesStr;const s=this._uiManager._signal;b(this,Pr,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),A(this,ue,Tu).call(this,r)}i()},{signal:s}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:s})}).finally(()=>A(this,ue,Pu).call(this))),t.click()},k0=function(){const{div:t}=this;let{width:s,height:i}=u(this,Be);const[r,a]=this.pageDimensions,o=.75;if(this.width)s=this.width*r,i=this.height*a;else if(s>o*r||i>o*a){const f=Math.min(o*r/s,o*a/i);s*=f,i*=f}const[l,c]=this.parentDimensions;this.setDims(s*l/r,i*c/a),this._uiManager.enableWaiting(!1);const d=b(this,Ks,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),A(this,ue,_0).call(this,s,i),A(this,ue,wN).call(this),u(this,Cc)||(this.parent.addUndoableEditor(this),b(this,Cc,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,Ec)&&d.setAttribute("aria-label",u(this,Ec))},xN=function(t,s){var o;const[i,r]=this.parentDimensions;this.width=t/i,this.height=s/r,(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,Xs)!==null&&clearTimeout(u(this,Xs)),b(this,Xs,setTimeout(()=>{b(this,Xs,null),A(this,ue,_0).call(this,t,s)},200))},yp=function(t,s){const{width:i,height:r}=u(this,Be);let a=i,o=r,l=u(this,Be);for(;a>2*t||o>2*s;){const c=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*s&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(a,o);f.getContext("2d").drawImage(l,0,0,c,d,0,0,a,o),l=f.transferToImageBitmap()}return l},_0=function(t,s){const i=new bv,r=Math.ceil(t*i.sx),a=Math.ceil(s*i.sy),o=u(this,Ks);if(!o||o.width===r&&o.height===a)return;o.width=r,o.height=a;const l=u(this,Tn)?u(this,Be):A(this,ue,yp).call(this,r,a),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,r,a)},vp=function(t){if(t){if(u(this,Tn)){const r=this._uiManager.imageManager.getSvgUrl(u(this,Tt));if(r)return r}const s=document.createElement("canvas");return{width:s.width,height:s.height}=u(this,Be),s.getContext("2d").drawImage(u(this,Be),0,0),s.toDataURL()}if(u(this,Tn)){const[s,i]=this.pageDimensions,r=Math.round(this.width*s*Zr.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Zr.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,a);return o.getContext("2d").drawImage(u(this,Be),0,0,u(this,Be).width,u(this,Be).height,0,0,r,a),o.transferToImageBitmap()}return structuredClone(u(this,Be))},wN=function(){this._uiManager._signal&&(b(this,ji,new ResizeObserver(t=>{const s=t[0].contentRect;s.width&&s.height&&A(this,ue,xN).call(this,s.width,s.height)})),u(this,ji).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=u(this,ji))==null||t.disconnect(),b(this,ji,null)},{once:!0}))},bN=function(t){var c;const{rect:s,pageIndex:i,accessibilityData:{altText:r}}=this._initialData,a=t.rect.every((d,f)=>Math.abs(d-s[f])<1),o=t.pageIndex===i,l=(((c=t.accessibilityData)==null?void 0:c.alt)||"")===r;return{isSame:a&&o&&l,isSameAltText:l}},J(Gu,"_type","stamp"),J(Gu,"_editorType",se.STAMP);let C0=Gu;var Ao,kc,Ys,Rr,Ri,Pn,Ir,_c,Nc,zt,Ii,K,Mr,It,AN,T0,P0,j0,xp;const ls=class ls{constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:i,accessibilityManager:r,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:d}){C(this,It);C(this,Ao);C(this,kc,!1);C(this,Ys,null);C(this,Rr,null);C(this,Ri,null);C(this,Pn,new Map);C(this,Ir,!1);C(this,_c,!1);C(this,Nc,!1);C(this,zt,null);C(this,Ii,null);C(this,K);const f=[...u(ls,Mr).values()];if(!ls._initialized){ls._initialized=!0;for(const p of f)p.initialize(d,e)}e.registerEditorTypes(f),b(this,K,e),this.pageIndex=t,this.div=s,b(this,Ao,r),b(this,Ys,a),this.viewport=c,b(this,zt,l),this.drawLayer=o,this._structTree=i,u(this,K).addLayer(this)}get isEmpty(){return u(this,Pn).size===0}get isInvisible(){return this.isEmpty&&u(this,K).getMode()===se.NONE}updateToolbar(e){u(this,K).updateToolbar(e)}updateMode(e=u(this,K).getMode()){switch(A(this,It,xp).call(this),e){case se.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case se.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case se.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const s of u(ls,Mr).values())t.toggle(`${s._type}Editing`,e===s._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,zt))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(u(this,K).getMode()!==se.INK)return;if(!e){for(const s of u(this,Pn).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){u(this,K).setEditingState(e)}addCommands(e){u(this,K).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,Ys))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const s of u(this,Pn).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(u(this,K).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!u(this,Ys))return;const t=u(this,Ys).getEditableAnnotations();for(const s of t){if(s.hide(),u(this,K).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const i=await this.deserialize(s);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;b(this,Nc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const r of u(this,Pn).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else t.set(r.annotationElementId,r);(i=this.getEditableAnnotation(r.annotationElementId))==null||i.show(),r.remove()}if(u(this,Ys)){const r=u(this,Ys).getEditableAnnotations();for(const a of r){const{id:o}=a.data;if(u(this,K).isDeletedAnnotationElement(o))continue;let l=t.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(u(this,K).addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}A(this,It,xp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const r of u(ls,Mr).values())s.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,Nc,!1)}getEditableAnnotation(e){var t;return((t=u(this,Ys))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,K).getActive()!==e&&u(this,K).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,zt))!=null&&e.div&&!u(this,Ii)){b(this,Ii,new AbortController);const t=u(this,K).combinedSignal(u(this,Ii));u(this,zt).div.addEventListener("pointerdown",A(this,It,AN).bind(this),{signal:t}),u(this,zt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,zt))!=null&&e.div&&u(this,Ii)&&(u(this,Ii).abort(),b(this,Ii,null),u(this,zt).div.classList.remove("highlighting"))}enableClick(){if(u(this,Rr))return;b(this,Rr,new AbortController);const e=u(this,K).combinedSignal(u(this,Rr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=u(this,Rr))==null||e.abort(),b(this,Rr,null)}attach(e){u(this,Pn).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,K).isDeletedAnnotationElement(t)&&u(this,K).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,Pn).delete(e.id),(t=u(this,Ao))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,Nc)&&e.annotationElementId&&u(this,K).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,K).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,u(this,_c)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,K).addDeletedAnnotationElement(e.annotationElementId),we.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,K).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),u(this,K).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var s;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,Ri)&&(e._focusEventsAllowed=!1,b(this,Ri,setTimeout(()=>{b(this,Ri,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,K)._signal}),t.focus())},0))),e._structTreeParentId=(s=u(this,Ao))==null?void 0:s.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getNextId(){return u(this,K).getId()}combinedSignal(e){return u(this,K).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,It,T0))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){u(this,K).updateToolbar(e),u(this,K).updateMode(e);const{offsetX:s,offsetY:i}=A(this,It,j0).call(this),r=this.getNextId(),a=A(this,It,P0).call(this,{parent:this,id:r,x:s,y:i,uiManager:u(this,K),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=u(ls,Mr).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,K)))||null}createAndAddNewEditor(e,t,s={}){const i=this.getNextId(),r=A(this,It,P0).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:u(this,K),isCentered:t,...s});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(A(this,It,j0).call(this),!0)}setSelected(e){u(this,K).setSelected(e)}toggleSelected(e){u(this,K).toggleSelected(e)}unselect(e){u(this,K).unselect(e)}pointerup(e){const{isMac:t}=nn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&u(this,Ir)){if(b(this,Ir,!1),!u(this,kc)){b(this,kc,!0);return}if(u(this,K).getMode()===se.STAMP){u(this,K).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(u(this,K).getMode()===se.HIGHLIGHT&&this.enableTextSelection(),u(this,Ir)){b(this,Ir,!1);return}const{isMac:t}=nn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;b(this,Ir,!0);const s=u(this,K).getActive();b(this,kc,!s||s.isEmpty())}findNewParent(e,t,s){const i=u(this,K).findParent(t,s);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=u(this,K).getActive())==null?void 0:e.parent)===this&&(u(this,K).commitOrRemove(),u(this,K).setActiveEditor(null)),u(this,Ri)&&(clearTimeout(u(this,Ri)),b(this,Ri,null));for(const s of u(this,Pn).values())(t=u(this,Ao))==null||t.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,u(this,Pn).clear(),u(this,K).removeLayer(this)}render({viewport:e}){this.viewport=e,jo(this.div,e);for(const t of u(this,K).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,K).commitOrRemove(),A(this,It,xp).call(this);const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,jo(this.div,{rotation:s}),t!==s)for(const i of u(this,Pn).values())i.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,K).viewParameters.realScale}};Ao=new WeakMap,kc=new WeakMap,Ys=new WeakMap,Rr=new WeakMap,Ri=new WeakMap,Pn=new WeakMap,Ir=new WeakMap,_c=new WeakMap,Nc=new WeakMap,zt=new WeakMap,Ii=new WeakMap,K=new WeakMap,Mr=new WeakMap,It=new WeakSet,AN=function(e){u(this,K).unselectAll();const{target:t}=e;if(t===u(this,zt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&u(this,zt).div.contains(t)){const{isMac:s}=nn.platform;if(e.button!==0||e.ctrlKey&&s)return;u(this,K).showAllEditors("highlight",!0,!0),u(this,zt).div.classList.add("free"),this.toggleDrawing(),im.startHighlighting(this,u(this,K).direction==="ltr",{target:u(this,zt).div,x:e.x,y:e.y}),u(this,zt).div.addEventListener("pointerup",()=>{u(this,zt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,K)._signal}),e.preventDefault()}},T0=function(){return u(ls,Mr).get(u(this,K).getMode())},P0=function(e){const t=u(this,It,T0);return t?new t.prototype.constructor(e):null},j0=function(){const{x:e,y:t,width:s,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+s),l=Math.min(window.innerHeight,t+i),c=(r+o)/2-e,d=(a+l)/2-t,[f,p]=this.viewport.rotation%180===0?[c,d]:[d,c];return{offsetX:f,offsetY:p}},xp=function(){b(this,_c,!0);for(const e of u(this,Pn).values())e.isEmpty()&&e.remove();b(this,_c,!1)},J(ls,"_initialized",!1),C(ls,Mr,new Map([o0,g0,C0,im].map(e=>[e._editorType,e])));let N0=ls;var Qs,Rh,nt,Mi,Ih,I0,Do,M0,SN;const kt=class kt{constructor({pageIndex:e}){C(this,Do);C(this,Qs,null);C(this,Rh,0);C(this,nt,new Map);C(this,Mi,new Map);this.pageIndex=e}setParent(e){if(!u(this,Qs)){b(this,Qs,e);return}if(u(this,Qs)!==e){if(u(this,nt).size>0)for(const t of u(this,nt).values())t.remove(),e.append(t);b(this,Qs,e)}}static get _svgFactory(){return de(this,"_svgFactory",new Nw)}draw(e,t,s,i=!1){const r=Yt(this,Rh)._++,a=A(this,Do,M0).call(this,e.box);a.classList.add(...e.classNamesForDrawing);const o=kt._svgFactory.createElement("defs");a.append(o);const l=kt._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&u(this,Mi).set(r,l);const d=A(this,Do,SN).call(this,o,c),f=kt._svgFactory.createElement("use");return a.append(f),a.setAttribute("fill",t),a.setAttribute("fill-opacity",s),f.setAttribute("href",`#${c}`),u(this,nt).set(r,a),{id:r,clipPathId:`url(#${d})`}}drawOutline(e){const t=Yt(this,Rh)._++,s=A(this,Do,M0).call(this,e.box);s.classList.add(...e.classNamesForOutlining);const i=kt._svgFactory.createElement("defs");s.append(i);const r=kt._svgFactory.createElement("path");i.append(r);const a=`path_p${this.pageIndex}_${t}`;r.setAttribute("id",a),r.setAttribute("d",e.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.mustRemoveSelfIntersections){const d=kt._svgFactory.createElement("mask");i.append(d),o=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",o),d.setAttribute("maskUnits","objectBoundingBox");const f=kt._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=kt._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const l=kt._svgFactory.createElement("use");s.append(l),l.setAttribute("href",`#${a}`),o&&l.setAttribute("mask",`url(#${o})`);const c=l.cloneNode();return s.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),u(this,nt).set(t,s),t}finalizeLine(e,t){const s=u(this,Mi).get(e);u(this,Mi).delete(e),this.updateBox(e,t.box),s.setAttribute("d",t.toSVGPath())}updateLine(e,t){u(this,nt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){u(this,Mi).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var s;A(s=kt,Ih,I0).call(s,u(this,nt).get(e),t)}show(e,t){u(this,nt).get(e).classList.toggle("hidden",!t)}rotate(e,t){u(this,nt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){u(this,nt).get(e).setAttribute("fill",t)}changeOpacity(e,t){u(this,nt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){u(this,nt).get(e).classList.add(t)}removeClass(e,t){u(this,nt).get(e).classList.remove(t)}getSVGRoot(e){return u(this,nt).get(e)}remove(e){u(this,Mi).delete(e),u(this,Qs)!==null&&(u(this,nt).get(e).remove(),u(this,nt).delete(e))}destroy(){b(this,Qs,null);for(const e of u(this,nt).values())e.remove();u(this,nt).clear(),u(this,Mi).clear()}};Qs=new WeakMap,Rh=new WeakMap,nt=new WeakMap,Mi=new WeakMap,Ih=new WeakSet,I0=function(e,{x:t=0,y:s=0,width:i=1,height:r=1}={}){const{style:a}=e;a.top=`${100*s}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*r}%`},Do=new WeakSet,M0=function(e){var s;const t=kt._svgFactory.create(1,1,!0);return u(this,Qs).append(t),t.setAttribute("aria-hidden",!0),A(s=kt,Ih,I0).call(s,t,e),t},SN=function(e,t){const s=kt._svgFactory.createElement("clipPath");e.append(s);const i=`clip_${t}`;s.setAttribute("id",i),s.setAttribute("clipPathUnits","objectBoundingBox");const r=kt._svgFactory.createElement("use");return s.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i},C(kt,Ih);let R0=kt;var W6=ee.AbortException,$6=ee.AnnotationEditorLayer,G6=ee.AnnotationEditorParamsType,q6=ee.AnnotationEditorType,K6=ee.AnnotationEditorUIManager,EN=ee.AnnotationLayer,CN=ee.AnnotationMode,X6=ee.ColorPicker,Y6=ee.DOMSVGFactory,Q6=ee.DrawLayer,J6=ee.FeatureTest,Pw=ee.GlobalWorkerOptions,Z6=ee.ImageKind,eB=ee.InvalidPDFException,tB=ee.MissingPDFException,nB=ee.OPS,sB=ee.OutputScale,iB=ee.PDFDataRangeTransport,rB=ee.PDFDateString,aB=ee.PDFWorker,oB=ee.PasswordResponses,lB=ee.PermissionFlag,cB=ee.PixelsPerInch,uB=ee.RenderingCancelledException,kN=ee.TextLayer,dB=ee.UnexpectedResponseException,hB=ee.Util,fB=ee.VerbosityLevel,pB=ee.XfaLayer,mB=ee.build,gB=ee.createValidAbsoluteUrl,yB=ee.fetchData,_N=ee.getDocument,vB=ee.getFilenameFromUrl,xB=ee.getPdfFilenameFromUrl,wB=ee.getXfaPageViewport,bB=ee.isDataScheme,AB=ee.isPdfFile,SB=ee.noContextMenu,EB=ee.normalizeUnicode,CB=ee.setLayerDimensions,kB=ee.shadow,NN=ee.version;const _B=Object.freeze(Object.defineProperty({__proto__:null,AbortException:W6,AnnotationEditorLayer:$6,AnnotationEditorParamsType:G6,AnnotationEditorType:q6,AnnotationEditorUIManager:K6,AnnotationLayer:EN,AnnotationMode:CN,ColorPicker:X6,DOMSVGFactory:Y6,DrawLayer:Q6,FeatureTest:J6,GlobalWorkerOptions:Pw,ImageKind:Z6,InvalidPDFException:eB,MissingPDFException:tB,OPS:nB,OutputScale:sB,PDFDataRangeTransport:iB,PDFDateString:rB,PDFWorker:aB,PasswordResponses:oB,PermissionFlag:lB,PixelsPerInch:cB,RenderingCancelledException:uB,TextLayer:kN,UnexpectedResponseException:dB,Util:hB,VerbosityLevel:fB,XfaLayer:pB,build:mB,createValidAbsoluteUrl:gB,fetchData:yB,getDocument:_N,getFilenameFromUrl:vB,getPdfFilenameFromUrl:xB,getXfaPageViewport:wB,isDataScheme:bB,isPdfFile:AB,noContextMenu:SB,normalizeUnicode:EB,setLayerDimensions:CB,shadow:kB,version:NN},Symbol.toStringTag,{value:"Module"}));var yt=function(n,e,t){if(t||arguments.length===2)for(var s=0,i=e.length,r;s<i;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return n.concat(r||Array.prototype.slice.call(e))},NB=["onCopy","onCut","onPaste"],TB=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],PB=["onFocus","onBlur"],jB=["onInput","onInvalid","onReset","onSubmit"],RB=["onLoad","onError"],IB=["onKeyDown","onKeyPress","onKeyUp"],MB=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],LB=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],DB=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],OB=["onSelect"],FB=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],BB=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],VB=["onScroll"],UB=["onWheel"],zB=["onAnimationStart","onAnimationEnd","onAnimationIteration"],HB=["onTransitionEnd"],WB=["onToggle"],$B=["onChange"],GB=yt(yt(yt(yt(yt(yt(yt(yt(yt(yt(yt(yt(yt(yt(yt(yt(yt(yt([],NB,!0),TB,!0),PB,!0),jB,!0),RB,!0),IB,!0),MB,!0),LB,!0),DB,!0),OB,!0),FB,!0),BB,!0),VB,!0),UB,!0),zB,!0),HB,!0),$B,!0),WB,!0);function TN(n,e){var t={};return GB.forEach(function(s){var i=n[s];i&&(e?t[s]=function(r){return i(r,e(s))}:t[s]=i)}),t}function qh(n){var e=!1,t=new Promise(function(s,i){n.then(function(r){return!e&&s(r)}).catch(function(r){return!e&&i(r)})});return{promise:t,cancel:function(){e=!0}}}function PN(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=PN(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function eg(){for(var n,e,t=0,s="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=PN(n))&&(s&&(s+=" "),s+=e);return s}var qB="Invariant failed";function Ce(n,e){if(!n)throw new Error(qB)}var KB=function(){},XB=KB;const $t=iS(XB);var qA=Object.prototype.hasOwnProperty;function KA(n,e,t){for(t of n.keys())if(Tl(t,e))return t}function Tl(n,e){var t,s,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((s=n.length)===e.length)for(;s--&&Tl(n[s],e[s]););return s===-1}if(t===Set){if(n.size!==e.size)return!1;for(s of n)if(i=s,i&&typeof i=="object"&&(i=KA(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(s of n)if(i=s[0],i&&typeof i=="object"&&(i=KA(e,i),!i)||!Tl(s[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((s=n.byteLength)===e.byteLength)for(;s--&&n.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(n)){if((s=n.byteLength)===e.byteLength)for(;s--&&n[s]===e[s];);return s===-1}if(!t||typeof n=="object"){s=0;for(t in n)if(qA.call(n,t)&&++s&&!qA.call(e,t)||!(t in e)||!Tl(n[t],e[t]))return!1;return Object.keys(e).length===s}}return n!==n&&e!==e}const jN=_.createContext(null);function Pl({children:n,type:e}){return h.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const YB="noopener noreferrer nofollow";class QB{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ce(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ce(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Ce(this.pdfDocument),Ce(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Ce(Array.isArray(t));const s=t[0];new Promise(i=>{Ce(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(r=>{i(r)}).catch(()=>{Ce(!1)}):typeof s=="number"?i(s):Ce(!1)}).then(i=>{const r=i+1;Ce(this.pdfViewer),Ce(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:r})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Ce(this.pdfViewer),Ce(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||YB,e.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const XA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},tg=typeof window<"u",RN=tg&&window.location.protocol==="file:";function JB(n){return typeof n<"u"}function ua(n){return JB(n)&&n!==null}function ZB(n){return typeof n=="string"}function e7(n){return n instanceof ArrayBuffer}function t7(n){return Ce(tg),n instanceof Blob}function L0(n){return ZB(n)&&/^data:/.test(n)}function YA(n){Ce(L0(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function n7(){return tg&&window.devicePixelRatio||1}const IN="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function QA(){$t(!RN,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${IN}`)}function s7(){$t(!RN,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${IN}`)}function Mo(n){n!=null&&n.cancel&&n.cancel()}function D0(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function i7(n){return n.name==="RenderingCancelledException"}function r7(n){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:r}=i.target;if(!r)return t(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(n)})}function a7(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Vc(){return _.useReducer(a7,{value:void 0,error:void 0})}var o7=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function o(d){try{c(s.next(d))}catch(f){a(f)}}function l(d){try{c(s.throw(d))}catch(f){a(f)}}function c(d){d.done?r(d.value):i(d.value).then(o,l)}c((s=s.apply(n,e||[])).next())})},JA=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t};const{PDFDataRangeTransport:l7}=_B,c7=(n,e)=>{switch(e){case XA.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case XA.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function ZA(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const u7=_.forwardRef(function(e,t){var{children:s,className:i,error:r="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:f="Loading PDF",noData:p="No PDF file specified.",onItemClick:m,onLoadError:y,onLoadProgress:v,onLoadSuccess:S,onPassword:g=c7,onSourceError:x,onSourceSuccess:w,options:E,renderMode:k,rotate:T}=e,N=JA(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[P,R]=Vc(),{value:I,error:M}=P,[q,U]=Vc(),{value:$,error:Q}=q,Y=_.useRef(new QB),O=_.useRef([]),j=_.useRef(void 0),H=_.useRef(void 0);l&&l!==j.current&&ZA(l)&&($t(!Tl(l,j.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),j.current=l),E&&E!==H.current&&($t(!Tl(E,H.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),H.current=E);const W=_.useRef({scrollPageIntoView:ge=>{const{dest:Ne,pageNumber:gt,pageIndex:Xe=gt-1}=ge;if(m){m({dest:Ne,pageIndex:Xe,pageNumber:gt});return}const $o=O.current[Xe];if($o){$o.scrollIntoView();return}$t(!1,`An internal link leading to page ${gt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});_.useImperativeHandle(t,()=>({linkService:Y,pages:O,viewer:W}),[]);function ie(){w&&w()}function te(){M&&($t(!1,M.toString()),x&&x(M))}function he(){R({type:"RESET"})}_.useEffect(he,[l,R]);const De=_.useCallback(()=>o7(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return L0(l)?{data:YA(l)}:(QA(),{url:l});if(l instanceof l7)return{range:l};if(e7(l))return{data:l};if(tg&&t7(l))return{data:yield r7(l)};if(Ce(typeof l=="object"),Ce(ZA(l)),"url"in l&&typeof l.url=="string"){if(L0(l.url)){const{url:ge}=l,Ne=JA(l,["url"]),gt=YA(ge);return Object.assign({data:gt},Ne)}QA()}return l}),[l]);_.useEffect(()=>{const ge=qh(De());return ge.promise.then(Ne=>{R({type:"RESOLVE",value:Ne})}).catch(Ne=>{R({type:"REJECT",error:Ne})}),()=>{Mo(ge)}},[De,R]),_.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){te();return}ie()}},[I]);function et(){$&&(S&&S($),O.current=new Array($.numPages),Y.current.setDocument($))}function fe(){Q&&($t(!1,Q.toString()),y&&y(Q))}_.useEffect(function(){U({type:"RESET"})},[U,I]),_.useEffect(function(){if(!I)return;const Ne=E?Object.assign(Object.assign({},I),E):I,gt=_N(Ne);v&&(gt.onProgress=v),g&&(gt.onPassword=g);const Xe=gt,$o=Xe.promise.then(Kc=>{U({type:"RESOLVE",value:Kc})}).catch(Kc=>{Xe.destroyed||U({type:"REJECT",error:Kc})});return()=>{$o.finally(()=>Xe.destroy())}},[E,U,I]),_.useEffect(()=>{if(!(typeof $>"u")){if($===!1){fe();return}et()}},[$]),_.useEffect(function(){Y.current.setViewer(W.current),Y.current.setExternalLinkRel(a),Y.current.setExternalLinkTarget(o)},[a,o]);const ae=_.useCallback((ge,Ne)=>{O.current[ge]=Ne},[]),Xt=_.useCallback(ge=>{delete O.current[ge]},[]),bn=_.useMemo(()=>({imageResourcesPath:d,linkService:Y.current,onItemClick:m,pdf:$,registerPage:ae,renderMode:k,rotate:T,unregisterPage:Xt}),[d,m,$,ae,k,T,Xt]),Ee=_.useMemo(()=>TN(N,()=>$),[N,$]);function si(){return h.jsx(jN.Provider,{value:bn,children:s})}function la(){return l?$==null?h.jsx(Pl,{type:"loading",children:typeof f=="function"?f():f}):$===!1?h.jsx(Pl,{type:"error",children:typeof r=="function"?r():r}):si():h.jsx(Pl,{type:"no-data",children:typeof p=="function"?p():p})}return h.jsx("div",Object.assign({className:eg("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},Ee,{children:la()}))});function MN(){return _.useContext(jN)}function LN(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(r){t.forEach(function(a){typeof a=="function"?a(r):a&&(a.current=r)})}}const DN=_.createContext(null),ON={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},d7=/^H(\d+)$/;function h7(n){return n in ON}function ng(n){return"children"in n}function FN(n){return ng(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function f7(n){const e={};if(ng(n)){const{role:t}=n,s=t.match(d7);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(h7(t)){const i=ON[t];i&&(e.role=i)}}return e}function BN(n){const e={};if(ng(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),FN(n)){const[t]=n.children;if(t){const s=BN(t);return Object.assign(Object.assign({},e),s)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function p7(n){return n?Object.assign(Object.assign({},f7(n)),BN(n)):null}function VN({className:n,node:e}){const t=_.useMemo(()=>p7(e),[e]),s=_.useMemo(()=>!ng(e)||FN(e)?null:e.children.map((i,r)=>h.jsx(VN,{node:i},r)),[e]);return h.jsx("span",Object.assign({className:n},t,{children:s}))}function sg(){return _.useContext(DN)}function m7(){const n=sg();Ce(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[s,i]=Vc(),{value:r,error:a}=s,{customTextRenderer:o,page:l}=n;function c(){r&&t&&t(r)}function d(){a&&($t(!1,a.toString()),e&&e(a))}return _.useEffect(function(){i({type:"RESET"})},[i,l]),_.useEffect(function(){if(o||!l)return;const p=qh(l.getStructTree()),m=p;return p.promise.then(y=>{i({type:"RESOLVE",value:y})}).catch(y=>{i({type:"REJECT",error:y})}),()=>Mo(m)},[o,l,i]),_.useEffect(()=>{if(r!==void 0){if(r===!1){d();return}c()}},[r]),r?h.jsx(VN,{className:"react-pdf__Page__structTree structTree",node:r}):null}const eS=CN;function g7(n){const e=sg();Ce(e);const t=Object.assign(Object.assign({},e),n),{_className:s,canvasBackground:i,devicePixelRatio:r=n7(),onRenderError:a,onRenderSuccess:o,page:l,renderForms:c,renderTextLayer:d,rotate:f,scale:p}=t,{canvasRef:m}=n;Ce(l);const y=_.useRef(null);function v(){l&&o&&o(D0(l,p))}function S(E){i7(E)||($t(!1,E.toString()),a&&a(E))}const g=_.useMemo(()=>l.getViewport({scale:p*r,rotation:f}),[r,l,f,p]),x=_.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);_.useEffect(function(){if(!l)return;l.cleanup();const{current:k}=y;if(!k)return;k.width=g.width,k.height=g.height,k.style.width=`${Math.floor(x.width)}px`,k.style.height=`${Math.floor(x.height)}px`,k.style.visibility="hidden";const T={annotationMode:c?eS.ENABLE_FORMS:eS.ENABLE,canvasContext:k.getContext("2d",{alpha:!1}),viewport:g};i&&(T.background=i);const N=l.render(T),P=N;return N.promise.then(()=>{k.style.visibility="",v()}).catch(S),()=>Mo(P)},[i,l,c,g,x]);const w=_.useCallback(()=>{const{current:E}=y;E&&(E.width=0,E.height=0)},[]);return _.useEffect(()=>w,[w]),h.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:LN(m,y),style:{display:"block",userSelect:"none"},children:d?h.jsx(m7,{}):null})}function y7(n){return"str"in n}function v7(){const n=sg();Ce(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:i,onRenderTextLayerSuccess:r,page:a,pageIndex:o,pageNumber:l,rotate:c,scale:d}=n;Ce(a);const[f,p]=Vc(),{value:m,error:y}=f,v=_.useRef(null);$t(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){m&&s&&s(m)}function g(){y&&($t(!1,y.toString()),t&&t(y))}_.useEffect(function(){p({type:"RESET"})},[a,p]),_.useEffect(function(){if(!a)return;const P=qh(a.getTextContent()),R=P;return P.promise.then(I=>{p({type:"RESOLVE",value:I})}).catch(I=>{p({type:"REJECT",error:I})}),()=>Mo(R)},[a,p]),_.useEffect(()=>{if(m!==void 0){if(m===!1){g();return}S()}},[m]);const x=_.useCallback(()=>{r&&r()},[r]),w=_.useCallback(N=>{$t(!1,N.toString()),i&&i(N)},[i]);function E(){const N=v.current;N&&N.classList.add("selecting")}function k(){const N=v.current;N&&N.classList.remove("selecting")}const T=_.useMemo(()=>a.getViewport({scale:d,rotation:c}),[a,c,d]);return _.useLayoutEffect(function(){if(!a||!m)return;const{current:P}=v;if(!P)return;P.innerHTML="";const R=a.streamTextContent({includeMarkedContent:!0}),I={container:P,textContentSource:R,viewport:T},M=new kN(I),q=M;return M.render().then(()=>{const U=document.createElement("div");U.className="endOfContent",P.append(U);const $=P.querySelectorAll('[role="presentation"]');if(e){let Q=0;m.items.forEach((Y,O)=>{if(!y7(Y))return;const j=$[Q];if(!j)return;const H=e(Object.assign({pageIndex:o,pageNumber:l,itemIndex:O},Y));j.innerHTML=H,Q+=Y.str&&Y.hasEOL?2:1})}x()}).catch(w),()=>Mo(q)},[e,w,x,a,o,l,m,T]),h.jsx("div",{className:eg("react-pdf__Page__textContent","textLayer"),onMouseUp:k,onMouseDown:E,ref:v})}function x7(){const n=MN(),e=sg();Ce(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:s,linkService:i,onGetAnnotationsError:r,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:c,pdf:d,renderForms:f,rotate:p,scale:m=1}=t;Ce(d),Ce(c),Ce(i);const[y,v]=Vc(),{value:S,error:g}=y,x=_.useRef(null);$t(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function w(){S&&a&&a(S)}function E(){g&&($t(!1,g.toString()),r&&r(g))}_.useEffect(function(){v({type:"RESET"})},[v,c]),_.useEffect(function(){if(!c)return;const R=qh(c.getAnnotations()),I=R;return R.promise.then(M=>{v({type:"RESOLVE",value:M})}).catch(M=>{v({type:"REJECT",error:M})}),()=>{Mo(I)}},[v,c]),_.useEffect(()=>{if(S!==void 0){if(S===!1){E();return}w()}},[S]);function k(){l&&l()}function T(P){$t(!1,`${P}`),o&&o(P)}const N=_.useMemo(()=>c.getViewport({scale:m,rotation:p}),[c,p,m]);return _.useEffect(function(){if(!d||!c||!i||!S)return;const{current:R}=x;if(!R)return;const I=N.clone({dontFlip:!0}),M={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:R,l10n:null,page:c,structTreeLayer:null,viewport:I},q={annotations:S,annotationStorage:d.annotationStorage,div:R,imageResourcesPath:s,linkService:i,page:c,renderForms:f,viewport:I};R.innerHTML="";try{new EN(M).render(q),k()}catch(U){T(U)}return()=>{}},[S,s,i,c,d,f,N]),h.jsx("div",{className:eg("react-pdf__Page__annotations","annotationLayer"),ref:x})}var w7=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t};const tS=1;function b7(n){const e=MN(),t=Object.assign(Object.assign({},e),n),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:r,canvasRef:a,children:o,className:l,customRenderer:c,customTextRenderer:d,devicePixelRatio:f,error:p="Failed to load the page.",height:m,inputRef:y,loading:v="Loading page",noData:S="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:x,onGetStructTreeError:w,onGetStructTreeSuccess:E,onGetTextError:k,onGetTextSuccess:T,onLoadError:N,onLoadSuccess:P,onRenderAnnotationLayerError:R,onRenderAnnotationLayerSuccess:I,onRenderError:M,onRenderSuccess:q,onRenderTextLayerError:U,onRenderTextLayerSuccess:$,pageIndex:Q,pageNumber:Y,pdf:O,registerPage:j,renderAnnotationLayer:H=!0,renderForms:W=!1,renderMode:ie="canvas",renderTextLayer:te=!0,rotate:he,scale:De=tS,unregisterPage:et,width:fe}=t,ae=w7(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Xt,bn]=Vc(),{value:Ee,error:si}=Xt,la=_.useRef(null);Ce(O);const ge=ua(Y)?Y-1:Q??null,Ne=Y??(ua(Q)?Q+1:null),gt=he??(Ee?Ee.rotate:null),Xe=_.useMemo(()=>{if(!Ee)return null;let Go=1;const Xh=De??tS;if(fe||m){const Yh=Ee.getViewport({scale:1,rotation:gt});fe?Go=fe/Yh.width:m&&(Go=m/Yh.height)}return Xh*Go},[m,Ee,gt,De,fe]);_.useEffect(function(){return()=>{ua(ge)&&i&&et&&et(ge)}},[i,O,ge,et]);function $o(){if(P){if(!Ee||!Xe)return;P(D0(Ee,Xe))}if(i&&j){if(!ua(ge)||!la.current)return;j(ge,la.current)}}function Kc(){si&&($t(!1,si.toString()),N&&N(si))}_.useEffect(function(){bn({type:"RESET"})},[bn,O,ge]),_.useEffect(function(){if(!O||!Ne)return;const Xh=qh(O.getPage(Ne)),Yh=Xh;return Xh.promise.then(ig=>{bn({type:"RESOLVE",value:ig})}).catch(ig=>{bn({type:"REJECT",error:ig})}),()=>Mo(Yh)},[bn,O,Ne]),_.useEffect(()=>{if(Ee!==void 0){if(Ee===!1){Kc();return}$o()}},[Ee,Xe]);const KN=_.useMemo(()=>Ee&&ua(ge)&&Ne&&ua(gt)&&ua(Xe)?{_className:s,canvasBackground:r,customTextRenderer:d,devicePixelRatio:f,onGetAnnotationsError:g,onGetAnnotationsSuccess:x,onGetStructTreeError:w,onGetStructTreeSuccess:E,onGetTextError:k,onGetTextSuccess:T,onRenderAnnotationLayerError:R,onRenderAnnotationLayerSuccess:I,onRenderError:M,onRenderSuccess:q,onRenderTextLayerError:U,onRenderTextLayerSuccess:$,page:Ee,pageIndex:ge,pageNumber:Ne,renderForms:W,renderTextLayer:te,rotate:gt,scale:Xe}:null,[s,r,d,f,g,x,w,E,k,T,R,I,M,q,U,$,Ee,ge,Ne,W,te,gt,Xe]),XN=_.useMemo(()=>TN(ae,()=>Ee&&(Xe?D0(Ee,Xe):void 0)),[ae,Ee,Xe]),Kh=`${ge}@${Xe}/${gt}`;function YN(){switch(ie){case"custom":return Ce(c),h.jsx(c,{},`${Kh}_custom`);case"none":return null;case"canvas":default:return h.jsx(g7,{canvasRef:a},`${Kh}_canvas`)}}function QN(){return te?h.jsx(v7,{},`${Kh}_text`):null}function JN(){return H?h.jsx(x7,{},`${Kh}_annotations`):null}function ZN(){return h.jsxs(DN.Provider,{value:KN,children:[YN(),QN(),JN(),o]})}function eT(){return Ne?O===null||Ee===void 0||Ee===null?h.jsx(Pl,{type:"loading",children:typeof v=="function"?v():v}):O===!1||Ee===!1?h.jsx(Pl,{type:"error",children:typeof p=="function"?p():p}):ZN():h.jsx(Pl,{type:"no-data",children:typeof S=="function"?S():S})}return h.jsx("div",Object.assign({className:eg(s,l),"data-page-number":Ne,ref:LN(y,la),style:{"--scale-factor":`${Xe}`,backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},XN,{children:eT()}))}s7();Pw.workerSrc="pdf.worker.mjs";Pw.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${NN}/pdf.worker.min.js`;const UN=({pdfPath:n,title:e,onClose:t,isOpen:s})=>{const[i,r]=_.useState(0),[a,o]=_.useState(1),[l,c]=_.useState(1),[d,f]=_.useState(0),[p,m]=_.useState(!0),[y,v]=_.useState(null);_.useEffect(()=>{if(s){console.log("Opening PDF:",n),o(1),c(1),f(0),m(!0),v(null),fetch(n,{method:"HEAD"}).then(P=>{if(!P.ok)throw new Error(`PDF not accessible: ${P.status} ${P.statusText}`);console.log("PDF is accessible")}).catch(P=>{console.error("PDF accessibility test failed:",P),v(`PDF not accessible: ${P.message}`),m(!1)});const N=setTimeout(()=>{p&&(console.error("PDF loading timeout"),v("PDF took too long to load. Please try again."),m(!1))},15e3);return()=>clearTimeout(N)}},[s,n,p]);function S({numPages:N}){console.log("PDF loaded successfully:",N,"pages"),r(N),m(!1),v(null)}function g(N){console.error("Error loading PDF:",N),console.error("PDF path was:",n),v(`Failed to load PDF: ${N.message}. Please try again or download the file.`),m(!1)}const x=N=>{o(P=>{const R=P+N;return Math.min(Math.max(1,R),i)})},w=N=>{c(Math.min(Math.max(.5,N),2))},E=()=>{f(N=>(N+90)%360)},k=()=>{const N=document.createElement("a");N.href=n,N.download=e||"document.pdf",document.body.appendChild(N),N.click(),document.body.removeChild(N)},T=N=>{if(s)switch(N.key){case"ArrowLeft":N.preventDefault(),x(-1);break;case"ArrowRight":N.preventDefault(),x(1);break;case"Escape":N.preventDefault(),t==null||t();break}};return _.useEffect(()=>(document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)),[s,a,i]),s?h.jsx(Dc,{children:h.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",onClick:t,children:h.jsxs(D.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-2xl max-w-7xl w-full max-h-[90vh] flex flex-col",onClick:N=>N.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(l3,{className:"w-6 h-6 text-blue-600"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e||"PDF Document"}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Page ",a," of ",i,"  ",Math.round(l*100),"%"]})]})]}),h.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",title:"Close",children:h.jsx(fw,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b border-gray-200",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:()=>x(-1),disabled:a<=1,className:"p-2 rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",title:"Previous page",children:h.jsx(s_,{className:"w-5 h-5"})}),h.jsxs("span",{className:"text-sm font-medium px-3",children:[a," / ",i]}),h.jsx("button",{onClick:()=>x(1),disabled:a>=i,className:"p-2 rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",title:"Next page",children:h.jsx(i_,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:()=>w(l-.1),disabled:l<=.5,className:"p-2 rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",title:"Zoom out",children:h.jsx(x3,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>w(l+.1),disabled:l>=2,className:"p-2 rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",title:"Zoom in",children:h.jsx(v3,{className:"w-5 h-5"})}),h.jsx("button",{onClick:E,className:"p-2 rounded-md bg-white hover:bg-gray-100 transition-colors border border-gray-200",title:"Rotate",children:h.jsx(g3,{className:"w-5 h-5"})}),h.jsx("button",{onClick:k,className:"p-2 rounded-md bg-blue-100 hover:bg-blue-200 text-blue-700 transition-colors border border-blue-200",title:"Download PDF",children:h.jsx(a3,{className:"w-5 h-5"})})]})]}),h.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[y&&h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-red-600 mb-4",children:y}),h.jsx("button",{onClick:()=>window.open(n,"_blank"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Open in New Tab"})]})}),p&&!y&&h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading PDF..."})]})}),!p&&!y&&h.jsx("div",{className:"flex justify-center",children:h.jsx(u7,{file:n,onLoadSuccess:S,onLoadError:g,loading:h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Rendering PDF..."})]})}),error:h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-red-600 mb-4",children:"Failed to render PDF"}),h.jsx("button",{onClick:()=>window.open(n,"_blank"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Open in New Tab"})]})}),children:h.jsx(b7,{pageNumber:a,scale:l,rotate:d,renderTextLayer:!1,renderAnnotationLayer:!1,className:"shadow-lg",loading:h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),error:h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-red-600 mb-4",children:"Failed to render page"}),h.jsx("button",{onClick:()=>window.open(n,"_blank"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Open in New Tab"})]})})})})})]}),i>1&&!y&&h.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:h.jsx("div",{className:"flex justify-center",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:()=>o(1),disabled:a<=1,className:"px-3 py-1 text-sm rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",children:"First"}),h.jsx("button",{onClick:()=>x(-1),disabled:a<=1,className:"px-3 py-1 text-sm rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",children:"Previous"}),h.jsxs("span",{className:"px-3 py-1 text-sm font-medium",children:["Page ",a," of ",i]}),h.jsx("button",{onClick:()=>x(1),disabled:a>=i,className:"px-3 py-1 text-sm rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",children:"Next"}),h.jsx("button",{onClick:()=>o(i),disabled:a>=i,className:"px-3 py-1 text-sm rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",children:"Last"})]})})})]})})}):null},zN="/canopy-website/assets/Annual2024-BmC07zNV.png",HN="/canopy-website/assets/Annual2023-Zdq1jT3I.png",WN="/canopy-website/assets/Annual2022-DD6O8Oep.png",$N="/canopy-website/assets/AUDIT80_81-CphbK-iE.png",GN="/canopy-website/assets/AUDIT79_80-BP4y_-ID.png",qN="/canopy-website/assets/AUDIT78_79-z6v4GpRi.png",A7="/canopy-website/assets/AUDIT77_78-D4uIrZRH.png",S7="/canopy-website/assets/AUDIT76_77-vae1ukPv.png",E7="/canopy-website/assets/AUDIT75_76-Blzb1Sek.png",C7="/canopy-website/assets/AUDIT74_75-wZE34qJ8.png",k7="/canopy-website/assets/AUDIT73_74-BiZ_QfOD.png",_7="/canopy-website/assets/Magazine1-BMGf2tui.png",N7="/canopy-website/assets/Magazine2-aPzQx13p.png",T7="/canopy-website/assets/Magazine3-lVRxWGI8.png",P7="/canopy-website/assets/Magazine4-CmTUHtDG.png",j7="/canopy-website/assets/Magazine5-qHNovJdk.png",R7="/canopy-website/assets/Magazine6-CI5ZDn1p.png",I7="/canopy-website/assets/Magazine7-2YKXDtV9.png",M7="/canopy-website/assets/Magazine8-D6smLcip.png",L7="/canopy-website/assets/Magazine9-BNm0q7zX.png",D7="/canopy-website/assets/Magazine10-BB4xvKKu.png",O7="/canopy-website/assets/Magazine11-CQlqbkKu.png",F7=()=>{const[n,e]=_.useState("buneka-katha"),[t,s]=_.useState(null),[i,r]=_.useState(!1),a=()=>{switch(n){case"buneka-katha":return"Buneka Katha";case"annual-report":return"Annual Reports";case"financial-report":return"Financial Reports";default:return"Buneka Katha"}},o=(c,d)=>{s({path:c,title:d}),r(!0)},l=()=>{r(!1),s(null)};return h.jsxs("div",{className:"min-h-screen bg-white",children:[h.jsx("div",{className:"relative h-[400px] overflow-hidden",children:h.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center",children:[h.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-primary-red mb-8",children:a()}),h.jsxs("div",{className:"flex justify-center space-x-8",children:[h.jsx("button",{onClick:()=>e("buneka-katha"),className:`text-lg pb-2 transition-colors uppercase ${n==="buneka-katha"?"text-primary-cyan border-b-2 border-primary-cyan font-bold":"text-gray-600 hover:text-primary-cyan font-medium"}`,children:"Buneka Katha"}),h.jsx("button",{onClick:()=>e("annual-report"),className:`text-lg pb-2 transition-colors uppercase ${n==="annual-report"?"text-primary-cyan border-b-2 border-primary-cyan font-bold":"text-gray-600 hover:text-primary-cyan font-medium"}`,children:"Annual Report"}),h.jsx("button",{onClick:()=>e("financial-report"),className:`text-lg pb-2 transition-colors uppercase ${n==="financial-report"?"text-primary-cyan border-b-2 border-primary-cyan font-bold":"text-gray-600 hover:text-primary-cyan font-medium"}`,children:"Financial Report"})]})]})}),h.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 -mt-24",children:[n==="buneka-katha"&&h.jsxs("div",{className:"mb-24 animate-in fade-in duration-500",children:[h.jsx("p",{className:"text-center text-lg mb-8 max-w-4xl mx-auto",children:"Our magazine publications featuring stories, insights, and updates from our work in education and community development."}),h.jsx("div",{className:"flex flex-wrap justify-center gap-8 py-4",children:[{id:11,cover:O7,pdf:"magazine-11.pdf"},{id:10,cover:D7,pdf:"magazine-10.pdf"},{id:9,cover:L7,pdf:"magazine-9.pdf"},{id:8,cover:M7,pdf:"magazine-8.pdf"},{id:7,cover:I7,pdf:"magazine-7.pdf"},{id:6,cover:R7,pdf:"magazine-6.pdf"},{id:5,cover:j7,pdf:"magazine-5.pdf"},{id:4,cover:P7,pdf:"magazine-4.pdf"},{id:3,cover:T7,pdf:"magazine-3.pdf"},{id:2,cover:N7,pdf:"magazine-2.pdf"},{id:1,cover:_7,pdf:"magazine-1.pdf"}].map(c=>h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("button",{onClick:()=>o(`/pdfs/${c.pdf}`,`Buneka Katha Magazine ${c.id}`),className:"transition-transform hover:scale-105",children:h.jsx("img",{src:c.cover,alt:`Buneka Katha Magazine ${c.id}`,className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})},c.id))})]}),n==="annual-report"&&h.jsxs("div",{className:"mb-24 animate-in fade-in duration-500",children:[h.jsx("p",{className:"text-center text-lg mb-8 max-w-4xl mx-auto",children:"Every year, we highlight our work and achievements to share with our supporters  individuals, multinational corporations, international organizations, and local allies  who make our work possible."}),h.jsxs("div",{className:"flex justify-center space-x-8 py-4",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("button",{onClick:()=>o("/pdfs/annualreport2024.pdf","Annual Report 2024"),className:"transition-transform hover:scale-105",children:h.jsx("img",{src:zN,alt:"2024 Annual Report",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})}),h.jsx("p",{className:"mt-4 font-semibold text-gray-800",children:"2024"})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("button",{onClick:()=>o("/pdfs/annualreport2023.pdf","Annual Report 2023"),className:"transition-transform hover:scale-105",children:h.jsx("img",{src:HN,alt:"2023 Annual Report",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})}),h.jsx("p",{className:"mt-4 font-semibold text-gray-800",children:"2023"})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("button",{onClick:()=>o("/pdfs/annualreport2022.pdf","Annual Report 2022"),className:"transition-transform hover:scale-105",children:h.jsx("img",{src:WN,alt:"2022 Annual Report",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})}),h.jsx("p",{className:"mt-4 font-semibold text-gray-800",children:"2022"})]})]})]}),n==="financial-report"&&h.jsxs("div",{className:"mb-24 animate-in fade-in duration-500",children:[h.jsx("p",{className:"text-center text-lg mb-8 max-w-4xl mx-auto",children:"Our comprehensive financial statements and audit reports ensuring transparency and accountability in our operations."}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-8 py-4",children:[h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("button",{onClick:()=>o("/pdfs/audit-report-2080-81.pdf","Audit Report 2080/81"),className:"transition-transform hover:scale-105",children:h.jsx("img",{src:$N,alt:"Audit Report 2080/81",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})}),h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("button",{onClick:()=>o("/pdfs/audit-report-2079-80.pdf","Audit Report 2079/80"),className:"transition-transform hover:scale-105",children:h.jsx("img",{src:GN,alt:"Audit Report 2079/80",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})}),h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("button",{onClick:()=>o("/pdfs/audit-report-2078-79.pdf","Audit Report 2078/79"),className:"transition-transform hover:scale-105",children:h.jsx("img",{src:qN,alt:"Audit Report 2078/79",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})}),h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("button",{onClick:()=>o("/pdfs/audit-report-2077-78.pdf","Audit Report 2077/78"),className:"transition-transform hover:scale-105",children:h.jsx("img",{src:A7,alt:"Audit Report 2077/78",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})}),h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("button",{onClick:()=>o("/pdfs/audit-report-2076-77.pdf","Audit Report 2076/77"),className:"transition-transform hover:scale-105",children:h.jsx("img",{src:S7,alt:"Audit Report 2076/77",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})}),h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("button",{onClick:()=>o("/pdfs/audit-report-2075-76.pdf","Audit Report 2075/76"),className:"transition-transform hover:scale-105",children:h.jsx("img",{src:E7,alt:"Audit Report 2075/76",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})}),h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("button",{onClick:()=>o("/pdfs/audit-report-2074-75.pdf","Audit Report 2074/75"),className:"transition-transform hover:scale-105",children:h.jsx("img",{src:C7,alt:"Audit Report 2074/75",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})}),h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("button",{onClick:()=>o("/pdfs/audit-report-2073-74.pdf","Audit Report 2073/74"),className:"transition-transform hover:scale-105",children:h.jsx("img",{src:k7,alt:"Audit Report 2073/74",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})})]})]})]}),t&&h.jsx(UN,{pdfPath:t.path,title:t.title,isOpen:i,onClose:l})]})},B7=()=>{const[n,e]=_.useState(null),[t,s]=_.useState(!1),i=(a,o)=>{e({path:a,title:o}),s(!0)},r=()=>{s(!1),e(null)};return h.jsxs("div",{className:"min-h-screen bg-white",children:[h.jsx("div",{className:"relative h-[400px] overflow-hidden",children:h.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center",children:h.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-primary-red mb-8",children:"Policy Guidelines"})})}),h.jsx("div",{className:"max-w-screen-xl mx-auto px-6 -mt-40",children:h.jsxs("div",{className:"mb-24 animate-in fade-in duration-500",children:[h.jsx("p",{className:"text-center text-lg mb-8 max-w-4xl mx-auto",children:"Our comprehensive policy guidelines and frameworks that guide our work in education and community development."}),h.jsx("div",{className:"flex flex-wrap justify-center gap-8 py-4",children:[{id:1,cover:zN,pdf:"policy-guideline-1.pdf",title:"Policy Guideline 1"},{id:2,cover:HN,pdf:"policy-guideline-2.pdf",title:"Policy Guideline 2"},{id:3,cover:WN,pdf:"policy-guideline-3.pdf",title:"Policy Guideline 3"},{id:4,cover:$N,pdf:"policy-guideline-4.pdf",title:"Policy Guideline 4"},{id:5,cover:GN,pdf:"policy-guideline-5.pdf",title:"Policy Guideline 5"},{id:6,cover:qN,pdf:"policy-guideline-6.pdf",title:"Policy Guideline 6"}].map(a=>h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("button",{onClick:()=>i(`/pdfs/${a.pdf}`,a.title),className:"transition-transform hover:scale-105",children:h.jsx("img",{src:a.cover,alt:a.title,className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})},a.id))})]})}),n&&h.jsx(UN,{pdfPath:n.path,title:n.title,isOpen:t,onClose:r})]})},V7=()=>{const n="https://canopynepal.us18.list-manage.com/subscribe/post-json",e="458803be3c6c443caf7b7d870",t="d09382c729",[s,i]=_.useState(""),[r,a]=_.useState(""),[o,l]=_.useState(""),[c,d]=_.useState(!1),[f,p]=_.useState(""),[m,y]=_.useState("");_.useEffect(()=>{if(o){const S=setTimeout(()=>{l("")},5e3);return()=>clearTimeout(S)}},[o]);const v=S=>{if(S.preventDefault(),d(!0),l("sending"),p(""),y(""),!s){l("error"),p("Please enter your email address"),y("error"),d(!1);return}const g=new URL(n);g.searchParams.append("u",e),g.searchParams.append("id",t),g.searchParams.append("EMAIL",s),r&&g.searchParams.append("FNAME",r),g.searchParams.append("f_id","00feaae6f0"),g.searchParams.append("c","callback");const x=document.createElement("script");x.src=g.toString(),x.id="mailchimp-jsonp",window.callback=w=>{delete window.callback,document.body.removeChild(x),d(!1),w.result==="success"?(l("success"),p("Thank you for subscribing to our newsletter!"),y("success"),i(""),a("")):(l("error"),w.msg.includes("already subscribed")?(p("You're already subscribed to our newsletter."),y("info")):(p(w.msg||"An error occurred. Please try again."),y("error")))},document.body.appendChild(x)};return h.jsx("section",{className:"bg-secondary-gray py-16 px-6 rounded-2xl",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary-red mb-4",children:"Join Our Community"}),h.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"Subscribe to our newsletter for updates on student stories, impact reports, and opportunities to support education in Nepal."})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 md:p-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{htmlFor:"newsletter-name",className:"sr-only",children:"First Name"}),h.jsx("input",{id:"newsletter-name",type:"text",value:r,onChange:S=>a(S.target.value),placeholder:"Your first name",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:c})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{htmlFor:"newsletter-email",className:"sr-only",children:"Email address"}),h.jsx("input",{id:"newsletter-email",type:"email",value:s,onChange:S=>i(S.target.value),placeholder:"Your email address",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0,disabled:c})]}),h.jsx("button",{onClick:v,disabled:c,className:`px-8 py-3 rounded-lg font-medium text-white transition-colors duration-300 ${c?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 hover:shadow-md"}`,children:c?h.jsxs("span",{className:"flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subscribing"]}):"Subscribe"})]}),f&&h.jsx("div",{className:`mt-4 p-3 rounded-lg ${m==="success"?"bg-green-100 text-green-800":m==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:f}),h.jsx("div",{className:"text-center text-sm text-gray-500 mt-6",children:"We respect your privacy. Your information will never be shared with third parties."})]})]})})},U7="/canopy-website/assets/ourwork-BPacZRO-.png",z7=()=>{const n=Bm();return h.jsxs("div",{className:"bg-white min-h-screen w-full flex flex-col items-center mt-28 font-sans",children:[h.jsx("img",{src:U7,alt:"Our Work Hero",className:"w-full h-auto object-cover object-center mb-4",style:{maxHeight:"500px"}}),h.jsx("div",{className:"w-full"}),h.jsxs("div",{className:"w-full max-w-5xl mx-auto text-center px-4 mt-8",children:[h.jsxs("h1",{className:"text-2xl md:text-2xl lg:text-2xl font-bold text-primary-blue leading-snug mb-8",children:["We directly solve the two major issues for the alarming dropout rate in Nepal",h.jsx("br",{}),h.jsx("span",{className:"text-primary-blue underline underline-offset-2",children:"cost"})," and",h.jsx("span",{className:"text-primary-blue underline underline-offset-2",children:" poor-quality education."})]}),h.jsxs("p",{className:"text-base md:text-lg text-gray-700 mb-8",children:["Every year, millions of students in Nepal face a tough choicedrop out of school or keep showing up to classrooms that fail to engage or support them.",h.jsx("span",{className:"text-primary-red font-bold",children:" At Canopy Nepal, we're doing something about both."})]}),h.jsx("p",{className:"text-base md:text-lg text-black mb-8",children:"Through CANSHIP and Katha Bunaun, our two flagship programs, we remove financial barriers and reimagine how education feels in the classroom."})]}),h.jsxs("div",{className:"w-full text-center mb-8",children:[h.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-[#2386B6] mb-8",children:"Our Programs"}),h.jsxs("div",{className:"flex justify-center gap-12",children:[h.jsx("button",{className:"bg-[#FFF3D1] text-[#F6B800] font-bold text-xl px-8 py-2 rounded-xl shadow-sm transition-transform hover:scale-105",onClick:()=>n("/canship"),children:"CANSHIP"}),h.jsx("button",{className:"bg-[#FFF3D1] text-[#F6B800] font-bold text-xl px-8 py-2 rounded-xl shadow-sm transition-transform hover:scale-105",onClick:()=>n("/katha-bunaun"),children:"Katha Bunaun"})]})]}),h.jsx("div",{className:"w-full text-center mt-4 mb-8",children:h.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-[#2386B6] mb-4",children:"Our Ecosystem"})})]})},H7="/canopy-website/assets/canship-Drod_WF8.jpg",W7="/canopy-website/assets/canshiplifecycle-ByZ-Iyf1.png",$7="/canopy-website/assets/canshipBottom-B0syphFD.jpg",G7="/canopy-website/assets/canshipImpact-PKAXGyAE.png",q7=()=>h.jsxs("div",{className:"min-h-screen bg-white mt-28",children:[h.jsx("img",{src:H7,alt:"Canopy Nepal Scholarship Hero",className:"w-full h-[500px] object-cover mb-8"}),h.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-8",children:[h.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-blue mb-8",children:"Canopy Nepal Scholarship Program"}),h.jsxs("div",{className:"mt-4",children:[h.jsx("p",{className:"text-gray-700 text-xl leading-relaxed mb-8",children:"CANSHIP, short for Canopy Scholarship Program, is our long-term commitment to supporting students through their entire educational journey."}),h.jsxs("p",{className:"text-gray-700 text-xl leading-relaxed",children:["At Canopy, we believe scholarships should do more than cover fees. That's why CANSHIP offers holistic support: school materials, nutritious meals, mentorship, psychosocial care, and hands-on learning opportunities. ",h.jsx("span",{className:"font-semibold text-primary-blue",children:"It's a program built not just to help students stay in school, but to help them grow, lead, and thrive."})]})]})]}),h.jsx("div",{className:"bg-white px-6",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:h.jsx("div",{className:"flex flex-col items-center gap-12",children:h.jsxs("div",{className:"w-full text-center",children:[h.jsx("p",{className:"text-gray-700 text-xl leading-relaxed mb-8",children:"With our long-term support and mentorship, CANSHIP helps break the cycle of poverty, empowering young people with the skills, confidence, and choices they need to shape their futures."}),h.jsxs("p",{className:" text-xl leading-relaxed",children:[h.jsx("span",{className:"text-primary-blue font-semibold text-xl",children:"And it doesn't end at graduation."})," Many of our scholars go on to pursue higher education, launch careers, and land jobs that allow them to support themselves and their families, creating real change in their lives and communities."]})]})})})}),h.jsx("div",{className:"px-6 py-12 pb-0",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-primary-blue text-center",children:"Canopy Scholar Lifecycle"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:W7,alt:"Canopy Scholar Lifecycle Flowchart",className:"w-full max-w-6xl h-auto"})})]})}),h.jsx("div",{className:" px-6 py-8",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:h.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch gap-12",children:[h.jsxs("div",{className:"lg:w-1/2 flex flex-col justify-center",children:[h.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-primary-blue mb-8",children:"Impact"}),h.jsxs("ul",{className:"space-y-6 text-gray-700",children:[h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-primary-blue mr-3 mt-1",children:""}),h.jsxs("div",{className:"text-xl",children:[h.jsx("span",{className:"font-semibold text-xl",children:"Retention and Completion:"})," Scholars stay in school year after year, even when many of their peers drop out."]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-primary-blue mr-3 mt-1 text-xl",children:""}),h.jsxs("div",{className:"text-xl",children:[h.jsx("span",{className:"font-semibold text-xl",children:"Academic Progress:"})," Improved test scores, grade promotions, and graduation rates."]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-primary-blue mr-3 mt-1 text-xl",children:""}),h.jsxs("div",{className:"text-xl",children:[h.jsx("span",{className:"font-semibold text-xl",children:"Wellbeing:"})," Increased confidence, better mental health, improved attendance due to meals and psychosocial support."]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-primary-blue mr-3 mt-1 text-xl",children:""}),h.jsxs("div",{className:"text-xl",children:[h.jsx("span",{className:"font-semibold text-xl",children:"Skills Development:"})," Public speaking, critical thinking, digital literacy, storytelling, leadership, etc."]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-primary-blue mr-3 mt-1 text-xl",children:""}),h.jsxs("div",{className:"text-xl",children:[h.jsx("span",{className:"font-semibold text-xl",children:"Post-Program Outcomes:"})," Scholars pursuing higher education, vocational training, or entering the job market with readiness."]})]})]})]}),h.jsx("div",{className:"lg:w-1/2 flex justify-end items-stretch",children:h.jsx("img",{src:G7,alt:"Student and mentor interaction",className:"rounded-lg h-auto object-cover",style:{}})})]})})}),h.jsx("div",{className:"bg-white px-6 py-12",children:h.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6",children:[h.jsx("div",{children:h.jsxs("h3",{className:"text-xl md:text-2xl mb-2",children:[h.jsx("span",{className:"font-bold text-primary-blue",children:"100% employed"})," within one year of graduation"]})}),h.jsx("div",{children:h.jsxs("h3",{className:"text-xl md:text-2xl mb-2",children:[h.jsx("span",{className:"font-bold text-primary-blue",children:"Avg X% increase"})," in family income after student enters workforce"]})}),h.jsx("div",{children:h.jsxs("h3",{className:"text-xl md:text-2xl  mb-2",children:[h.jsx("span",{className:"font-bold text-primary-blue",children:"X scholars"})," have joined Canopy as mentors for younger scholars"]})})]})}),h.jsx("img",{src:$7,alt:"CANSHIP Section Divider",className:"w-full h-[500px] object-cover object-center",style:{maxHeight:"500px"}})]}),K7="/canopy-website/assets/kbtop-B7nIJ1gm.png",X7="/canopy-website/assets/kblifecycle-DP1JVdGO.png",Y7="/canopy-website/assets/kbImpact-eQGs7wIL.png",Q7=()=>h.jsxs("div",{className:"min-h-screen bg-white mt-28",children:[h.jsx("img",{src:K7,alt:"Canopy Nepal Scholarship Hero",className:"w-full h-[500px] object-cover object-bottom mb-8"}),h.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-8",children:[h.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-red mb-2",children:"Katha Bunaun"}),h.jsxs("div",{className:"mt-4",children:[h.jsxs("p",{className:"text-gray-700 text-xl leading-relaxed mb-4",children:['Katha Bunaun, which translates to "Weaving Stories," is ',h.jsx("span",{className:"text-primary-red font-semibold",children:"Canopy Nepal's signature story-based learning program"})," that brings classrooms to life."]}),h.jsx("p",{className:"text-gray-700 text-xl leading-relaxed",children:"Through interactive sessions, students explore language, identity, values, creativity, self-expression and critical thinking by crafting and sharing stories. Whether it's a tale about their village, a dream for the future, or a social issue they care about, students learn to express themselves with confidence and curiosity."})]})]}),h.jsx("div",{className:"bg-white px-6",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:h.jsx("div",{className:"flex flex-col items-center gap-12",children:h.jsxs("div",{className:"w-full text-center",children:[h.jsx("p",{className:" text-xl leading-relaxed mb-8",children:"Katha Bunaun isn't just about storytelling, it's about building the foundational skills that traditional classrooms often overlook: empathy, communication, collaboration, and voice."}),h.jsxs("p",{className:" text-xl leading-relaxed",children:["Designed to align with local curriculum and",h.jsx("span",{className:"text-primary-red font-semibold text-xl",children:" delivered in partnership with teachers and local governments, Katha Bunaun is Nepal's only storytelling program"})," that creates a new kind of classroom, one where every child has the space to imagine, reflect, and speak up."]}),h.jsx("p",{className:"mt-4 text-xl leading-relaxed",children:"Because when students tell their own stories, they start to believe in their own power."})]})})})}),h.jsx("div",{className:"px-6 py-12 pb-0",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-primary-red text-center",children:"Katha Bunaun Incorporation in the System"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:X7,alt:"Canopy Scholar Lifecycle Flowchart",className:"w-full max-w-6xl h-[250px]"})})]})}),h.jsx("div",{className:"px-6 py-8",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:h.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch gap-12",children:[h.jsxs("div",{className:"lg:w-1/2 flex flex-col justify-center",children:[h.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-primary-red mb-8",children:"Impact"}),h.jsxs("ul",{className:"space-y-6 text-gray-700 text-xl",children:[h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold",children:"Engagement & Expression:"})," Students who were once shy or disengaged now speak up, participate actively, and take pride in their ideas and identities."]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold",children:"Foundational Skills:"})," Improvements in communication, empathy, creativity, and critical thinking, skills rarely prioritized in traditional classrooms."]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold",children:"Academic Improvement:"})," Increased classroom participation, engagement in extracurricular activities, comprehension, and retention by connecting curriculum with personal experiences and imagination."]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold",children:"Wellbeing & Confidence:"})," Students report feeling more confident, seen, and heard. Teachers observe better peer relationships and expression."]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold",children:"Leadership & Collaboration:"})," Students learn to listen and collaborate while leading group discussions and projects, often guiding their friends in shared storytelling activities."]})]})]})]}),h.jsx("div",{className:"lg:w-1/2 flex justify-end items-stretch",children:h.jsx("img",{src:Y7,alt:"Student and mentor interaction",className:"rounded-xl h-auto object-left object-cover transform -scale-x-100",style:{}})})]})})}),h.jsx("div",{className:"bg-white px-6 py-12",children:h.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6",children:[h.jsx("div",{children:h.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-red mb-2",children:"Local governments have increased their budget by XX on average to incorporate storytelling into their curriculum."})}),h.jsx("div",{children:h.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-red mb-2",children:"XXX schools have adapted interactive learning and child-centered learning values."})}),h.jsx("div",{children:h.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-red mb-2",children:"Students have increased engagement in school activities by XXX%."})})]})})]}),J7="/canopy-website/assets/getinvolvedhero-DEcN4PBr.png",Z7="/canopy-website/assets/gi1-CAFLGZId.jpg",e8="/canopy-website/assets/gi2-BiKWieNM.png",t8="/canopy-website/assets/gi3-lQbWgcqf.jpg",n8="/canopy-website/assets/gi4-CX2Hmap-.jpg",s8="/canopy-website/assets/gi5-DUiIj3oj.png",i8="/canopy-website/assets/gi6-CxhHKz2f.png",r8=()=>h.jsxs("div",{className:"bg-white font-sans mt-28",children:[h.jsxs("div",{className:"relative h-96",children:[h.jsx("img",{src:J7,alt:"Happy students",className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex flex-col items-center justify-center text-center text-white p-4",children:h.jsx("h1",{className:"text-6xl md:text-6xl font-bold mb-4",children:"Get Involved"})})]}),h.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx("div",{className:"py-8 text-center",children:h.jsxs("p",{className:"text-2xl leading-relaxed",children:["At Canopy Nepal, we believe everyone has something to give - whether it's time, skills, resources, or simply a belief in the power of education. ",h.jsx("br",{}),h.jsx("br",{}),"Here's how you can be part of our mission to help every child stay in school, find their voice, and thrive."]})}),h.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:h.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-stretch h-full",children:[h.jsx("div",{className:"w-full md:w-1/2 h-[400px]",children:h.jsx("img",{src:Z7,alt:"Donate",className:"w-full h-full object-cover object-center"})}),h.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[h.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"1. Donate"}),h.jsx("p",{className:"text-xl text-gray-700 mb-6 leading-relaxed",children:"Your support fuels scholarships, storytelling sessions, and teacher training. Big or small - every contribution helps us reach more students!"}),h.jsxs("a",{href:"/donate",target:"_blank",rel:"noopener noreferrer",className:"w-max inline-flex items-center bg-primary-orange text-white font-semibold py-2 px-4 rounded-lg text-lg hover:bg-primary-red transition-colors duration-300",children:["Donate Now",h.jsx("svg",{className:"w-5 h-5 ml-2 align-middle relative top-[1px]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}),h.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-stretch h-full",children:[h.jsx("div",{className:"w-full md:w-1/2 h-[400px]",children:h.jsx("img",{src:e8,alt:"Fundraise With Us",className:"w-full h-full object-cover object-center transform -scale-x-100"})}),h.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[h.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"2. Fundraise With Us"}),h.jsx("p",{className:"text-xl text-gray-700 mb-6 leading-relaxed",children:"Run a marathon, host a dinner, celebrate your birthday - turn any moment into impact. We'll support you every step of the way."}),h.jsxs("a",{href:"#",className:"w-max inline-flex items-center bg-primary-orange text-white font-semibold py-2 px-4 rounded-lg text-lg hover:bg-primary-red transition-colors duration-300",children:["Host A Fundraiser",h.jsx("svg",{className:"w-5 h-5 ml-2 align-middle relative top-[1px]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}),h.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:h.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-stretch h-full",children:[h.jsx("div",{className:"w-full md:w-1/2 h-[400px]",children:h.jsx("img",{src:t8,alt:"Partner With Us",className:"w-full h-full object-cover object-center"})}),h.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[h.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"3. Partner With Us"}),h.jsx("p",{className:"text-xl text-gray-700 mb-6 leading-relaxed",children:"We love teaming up with schools, businesses, universities, and community groups. Let's create something meaningful together."}),h.jsxs("a",{href:"https://mail.google.com/mail/?view=cm&to=info@canopynepal.org",target:"_blank",rel:"noopener noreferrer",className:"w-max inline-flex items-center bg-primary-orange text-white font-semibold py-2 px-4 rounded-lg text-lg hover:bg-primary-red transition-colors duration-300",children:["Email Us",h.jsx("svg",{className:"w-5 h-5 ml-2 align-middle relative top-[1px]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}),h.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-stretch h-full",children:[h.jsx("div",{className:"w-full md:w-1/2 h-[400px]",children:h.jsx("img",{src:n8,alt:"Jobs/ Volunteer/ Intern",className:"w-full h-full object-cover object-bottom"})}),h.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[h.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"4. Jobs/ Volunteer/ Intern"}),h.jsx("p",{className:"text-xl text-gray-700 mb-6 leading-relaxed",children:"Got skills? Passion? Curiosity? Join us in Nepal or remotely and help shape the future of education."}),h.jsxs("a",{href:"#",className:"w-max inline-flex items-center bg-primary-orange text-white font-semibold py-2 px-4 rounded-lg text-lg hover:bg-primary-red transition-colors duration-300",children:["Join the Team",h.jsx("svg",{className:"w-5 h-5 ml-2 align-middle relative top-[1px]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}),h.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:h.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-stretch h-full",children:[h.jsx("div",{className:"w-full md:w-1/2 h-[400px]",children:h.jsx("img",{src:s8,alt:"Join Our Chapters",className:"w-full h-full object-cover object-center"})}),h.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[h.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"5. Join Our Chapters"}),h.jsx("p",{className:"text-xl text-gray-700 mb-6 leading-relaxed",children:"If you're based in the U.S. or France, connect with our global community and help take Canopy further."}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("a",{href:"/canopyfrance",target:"_blank",rel:"noopener noreferrer",className:"w-max inline-flex items-center bg-primary-orange text-white font-semibold py-2 px-4 rounded-lg text-lg hover:bg-primary-red transition-colors duration-300",children:["Canopy France",h.jsx("svg",{className:"w-5 h-5 ml-2 align-middle relative top-[1px]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),h.jsxs("a",{href:"/canopyusa",target:"_blank",rel:"noopener noreferrer",className:"w-max inline-flex items-center bg-primary-orange text-white font-semibold py-2 px-4 rounded-lg text-lg hover:bg-primary-red transition-colors duration-300",children:["Canopy USA",h.jsx("svg",{className:"w-5 h-5 ml-2 align-middle relative top-[1px]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})}),h.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-stretch h-full",children:[h.jsx("div",{className:"w-full md:w-1/2 h-[400px]",children:h.jsx("img",{src:i8,alt:"Child with backpack",className:"w-full h-full object-cover object-top"})}),h.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-8 bg-white",children:[h.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"Still wondering how to help?"}),h.jsxs("p",{className:"text-xl text-gray-700 mb-6 leading-relaxed",children:["Reach out to us at ",h.jsx("a",{href:"https://mail.google.com/mail/?view=cm&to=info@canopynepal.org",target:"_blank",rel:"noopener noreferrer",className:"text-primary-blue hover:underline font-semibold",children:"info@canopynepal.org"}),". We'd love to hear from you."]}),h.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:"Because when you support Canopy, you're not just helping a child stay in schoolyou're helping them rewrite their future."})]})]})})]})]}),a8="/canopy-website/assets/donatehero-CJXRgqN8.png",o8="/canopy-website/assets/donatebody-QdRkP_d3.jpg",l8="/canopy-website/assets/dicon1-Ij6lLssD.png",c8="/canopy-website/assets/dicon2-BXTya36h.png",u8="/canopy-website/assets/dicon3-CBEPKB38.png",d8="/canopy-website/assets/dicon4-DcgJEyhW.png",h8="/canopy-website/assets/dicon5-CDJS9SD0.png",f8=[{amount:"$25",description:"provides school supplies for one student",icon:l8},{amount:"$50",description:"covers one month of nutritious school meals and transport",icon:c8},{amount:"$100",description:"supports a CANSHIP scholar for one month",icon:u8},{amount:"$250",description:"funds a storytelling workshop for an entire classroom",icon:d8},{amount:"$1,000",description:"covers a full year of support for a student, including scholarship, school mentorship, and workshops",icon:h8}],p8=["We work directly with students, families, communities, and local governments","Our programs are designed to be long-term, inclusive, and measurable","Donations support education-focused programs in Nepal, with more than 80% directly going to the students","We keep you updated with real stories and real impact","We treat your donation like tea in a Nepali household: shared generously and used wisely"],m8=()=>{const[n,e]=_.useState(!1),[t,s]=_.useState(void 0),[i,r]=_.useState(!1),a=()=>{s(void 0),r(!1),e(!0)},o=l=>{const c=Number(l.replace(/[^0-9.]/g,""));s(c),r(!0),e(!0)};return h.jsxs("div",{className:"bg-white font-sans mt-28",children:[h.jsxs("div",{className:"relative h-[450px] overflow-hidden",children:[h.jsx("img",{src:a8,alt:"Smiling student in Nepal",className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center"})]}),h.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[h.jsx("h2",{className:"text-2xl font-bold text-primary-blue mb-8",children:"Your gift helps students stay in school, grow with confidence, and dream without limits."}),h.jsx("p",{className:"text-xl leading-relaxed",children:"Every donation to Canopy Nepal directly supports students through scholarships, story-based learning, and long-term mentorship. Whether it's a one-time gift or a monthly commitment, your support helps break barriers and build futures."})]}),h.jsxs("div",{className:"py-8",children:[h.jsx("h3",{className:"text-center text-3xl font-bold text-primary-blue mb-8",children:"What Your Donation Supports"}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:f8.map(l=>h.jsxs("div",{className:"border-2 border-primary-orange rounded-lg p-6 text-center flex flex-col items-center cursor-pointer transition-transform hover:scale-105 hover:shadow-2xl hover:border-primary-orange focus:outline-none focus:ring-4 focus:ring-primary-orange/30",onClick:()=>o(l.amount),tabIndex:0,role:"button","aria-pressed":"false",children:[h.jsx("img",{src:l.icon,alt:l.description,className:"w-24 h-24 object-contain mb-4"}),h.jsx("span",{className:"text-4xl font-bold text-black mb-4",children:l.amount}),h.jsx("p",{className:"text-gray-700 flex-grow",children:l.description})]},l.amount))})]}),h.jsx("div",{className:"text-center space-x-4 mb-8",children:h.jsx("button",{onClick:a,className:"bg-primary-blue text-white text-xl font-bold py-2 px-4 rounded-lg hover:bg-primary-cyan transition-colors",children:"Donate Now"})}),h.jsx("p",{className:"text-center text-lg text-gray-500 mb-8",children:"Secure and tax-deductible (in the U.S. through Canopy USA, a registered 501(c)(3) nonprofit)"}),h.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-stretch h-full",children:[h.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[h.jsx("h2",{className:"text-3xl font-bold text-primary-blue mb-4",children:"Why Give to Canopy?"}),h.jsx("ul",{className:"list-disc  text-gray-700 space-y-4 text-xl",children:p8.map((l,c)=>h.jsx("li",{children:l},c))})]}),h.jsx("div",{className:"w-full md:w-1/2 h-[400px] md:h-auto",children:h.jsx("img",{src:o8,alt:"A young boy smiling",className:"w-full h-full object-cover object-center mb-4"})})]})}),h.jsxs("div",{className:"mt-8 mb-0 rounded-lg text-center",children:[h.jsx("h2",{className:"text-3xl font-bold text-primary-blue mb-4",children:"Prefer Bank Transfer or In-Kind Donation?"}),h.jsx("div",{className:"text-left inline-block max-w-md mx-auto",children:h.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-lg",children:[h.jsx("span",{className:"font-semibold text-gray-800",children:"Account Number:"}),h.jsx("span",{className:"text-gray-600",children:"00116539370"}),h.jsx("span",{className:"font-semibold text-gray-800",children:"Account Name:"}),h.jsx("span",{className:"text-gray-600",children:"CANOPY NEPAL"}),h.jsx("span",{className:"font-semibold text-gray-800",children:"Bank Name:"}),h.jsx("span",{className:"text-gray-600",children:"SIDDHARTHA BANK LTD."}),h.jsx("span",{className:"font-semibold text-gray-800",children:"SWIFT Code:"}),h.jsx("span",{className:"text-gray-600",children:"SIDDNPKA"}),h.jsx("span",{className:"font-semibold text-gray-800",children:"Branch Name:"}),h.jsx("span",{className:"text-gray-600",children:"HATTISAR"}),h.jsx("span",{className:"font-semibold text-gray-800",children:"City:"}),h.jsx("span",{className:"text-gray-600",children:"KATHMANDU"}),h.jsx("span",{className:"font-semibold text-gray-800",children:"Country:"}),h.jsx("span",{className:"text-gray-600",children:"NEPAL"})]})})]})]}),h.jsx("div",{className:"bg-white mb-8",children:h.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4",children:[h.jsx("p",{className:"text-xl text-gray-700 mb-2",children:"Thank you for believing in students who just need a chance to thrive."}),h.jsx("p",{className:"text-xl font-semibold text-gray-800",children:"Together, we're not just funding educationwe're changing lives, one story at a time."})]})}),h.jsx(p_,{isOpen:n,onClose:()=>e(!1),prefillAmount:t,hideCustomAmount:i})]})},g8="AWzQjJc0cZ1unc5EnIbQ3U_HQIc3PBdndMFwEql8yBo6G2G7WD_Ck0zkCqavB4HVOKl85Jy53zWF5QFw",y8={clientId:g8,currency:"USD",intent:"capture","enable-funding":"card","disable-funding":"venmo,credit"},v8=({children:n})=>h.jsx(nO,{options:y8,children:n}),x8=()=>{const[n,e]=_.useState(null),[t,s]=_.useState("all"),i=[{id:1,question:"What is Canopy Nepal and what do you do?",answer:"Canopy Nepal is a non-profit organization dedicated to improving access to quality education for underserved students across Nepal. We provide long-term scholarships and deliver story-based learning in public schools to reduce dropout rates and break cycles of poverty. By combining academic support with creativity, mentorship, and collaboration with local governments, we help students stay in school, build critical life skills, and shape their own futures.",category:"general",icon:h.jsx(pu,{className:"w-6 h-6"})},{id:2,question:"How can I donate to Canopy Nepal?",answer:"You can donate to Canopy Nepal through our secure online donation platform. We accept various payment methods including credit cards, PayPal, and bank transfers. Your donation directly supports our scholarship programs and educational initiatives. Visit our donate page for more information and to make a contribution.",category:"donations",icon:h.jsx(zf,{className:"w-6 h-6"})},{id:3,question:"How do you select students for scholarships?",answer:"Our scholarship selection process is based on several criteria including financial need, academic potential, and commitment to education. We work closely with local schools and communities to identify students who would benefit most from our support. The process includes interviews, family visits, and ongoing assessment to ensure we're supporting the right students.",category:"scholarships",icon:h.jsx(pA,{className:"w-6 h-6"})},{id:4,question:"What is the Katha Bunaun program?",answer:"Katha Bunaun is our innovative story-based learning program that helps students develop creativity, critical thinking, and communication skills. Through interactive storytelling sessions, students learn to express themselves, build confidence, and develop a love for learning. The program has shown remarkable results in improving student engagement and academic performance.",category:"programs",icon:h.jsx(pu,{className:"w-6 h-6"})},{id:5,question:"How can I volunteer with Canopy Nepal?",answer:"We welcome volunteers from all backgrounds! Whether you're interested in teaching, mentoring, administrative support, or fundraising, there are many ways to get involved. We have both local and international volunteer opportunities. Contact us through our website or email us directly to learn more about current volunteer positions.",category:"volunteering",icon:h.jsx(Hf,{className:"w-6 h-6"})},{id:6,question:"Where does Canopy Nepal operate?",answer:"Canopy Nepal primarily operates in Nepal, with our main office located in Kathmandu. We work in various regions across the country, partnering with local schools and communities. We also have international chapters and partnerships to support our global mission of educational empowerment.",category:"general",icon:h.jsx(Gg,{className:"w-6 h-6"})},{id:7,question:"How can I stay updated with Canopy Nepal's work?",answer:"You can stay connected with us through our newsletter, social media channels, and website. We regularly share updates about our programs, student success stories, and upcoming events. Subscribe to our newsletter or follow us on social media to receive the latest news and impact stories.",category:"general",icon:h.jsx(p3,{className:"w-6 h-6"})},{id:8,question:"What percentage of donations goes directly to programs?",answer:"We are committed to transparency and efficiency. Approximately 85% of all donations go directly to our programs, including scholarships, educational materials, and program delivery. The remaining 15% covers essential administrative costs, fundraising, and organizational development to ensure sustainable impact.",category:"donations",icon:h.jsx(zf,{className:"w-6 h-6"})},{id:9,question:"Do you provide support beyond financial scholarships?",answer:"Yes! Our support goes far beyond financial assistance. We provide mentorship, academic guidance, life skills training, and emotional support to our students. Our holistic approach ensures that students have the tools, confidence, and support network they need to succeed both academically and personally.",category:"scholarships",icon:h.jsx(Hf,{className:"w-6 h-6"})},{id:10,question:"How can schools partner with Canopy Nepal?",answer:"We actively seek partnerships with schools that share our vision for quality education. If your school is interested in partnering with us, please reach out through our contact form or email us directly. We'll discuss potential collaboration opportunities and how we can work together to support students.",category:"partnerships",icon:h.jsx(Gg,{className:"w-6 h-6"})}],r=[{id:"all",name:"All Questions",icon:h.jsx(u3,{className:"w-5 h-5"})},{id:"general",name:"General",icon:h.jsx(pu,{className:"w-5 h-5"})},{id:"donations",name:"Donations",icon:h.jsx(zf,{className:"w-5 h-5"})},{id:"scholarships",name:"Scholarships",icon:h.jsx(pA,{className:"w-5 h-5"})},{id:"programs",name:"Programs",icon:h.jsx(pu,{className:"w-5 h-5"})},{id:"volunteering",name:"Volunteering",icon:h.jsx(Hf,{className:"w-5 h-5"})},{id:"partnerships",name:"Partnerships",icon:h.jsx(Gg,{className:"w-5 h-5"})}],a=t==="all"?i:i.filter(l=>l.category===t),o=l=>{e(n===l?null:l)};return h.jsx("section",{className:"min-h-screen bg-white py-16 px-4 sm:px-6 lg:px-8 mt-16",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs(D.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[h.jsx(D.h1,{className:"text-4xl md:text-6xl font-bold text-primary-red mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Frequently Asked Questions"}),h.jsx(D.p,{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:"Find answers to common questions about Canopy Nepal, our programs, and how you can get involved in our mission to reshape education."})]}),h.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mb-12",children:h.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:r.map(l=>h.jsxs(D.button,{onClick:()=>s(l.id),className:`flex items-center gap-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 hover:scale-105 ${t===l.id?"bg-primary-orange text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[l.icon,l.name]},l.id))})}),h.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.8},className:"space-y-4",children:h.jsx(Dc,{mode:"wait",children:a.map((l,c)=>h.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,delay:c*.1},className:"bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden",children:[h.jsxs(D.button,{onClick:()=>o(c),className:"w-full px-6 py-6 text-left flex items-center justify-between hover:bg-gray-50 transition-colors duration-200",whileHover:{backgroundColor:"#f9fafb"},children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"text-primary-orange",children:l.icon}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 pr-4",children:l.question})]}),h.jsx(D.div,{animate:{rotate:n===c?180:0},transition:{duration:.3},className:"text-primary-orange flex-shrink-0",children:h.jsx(pv,{className:"w-6 h-6"})})]}),h.jsx(Dc,{children:n===c&&h.jsx(D.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:h.jsx("div",{className:"px-6 pb-6",children:h.jsx("div",{className:"border-t border-gray-100 pt-4",children:h.jsx("p",{className:"text-gray-700 leading-relaxed text-base",children:l.answer})})})})})]},l.id))})}),h.jsxs(D.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.2},className:"mt-16 text-center bg-[#FFFBF2] rounded-2xl p-8 md:p-12",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary-red mb-4",children:"Still Have Questions?"}),h.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"Can't find what you're looking for? We're here to help! Reach out to us and we'll get back to you as soon as possible."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[h.jsx(D.button,{className:"bg-primary-orange text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary-red transition-colors duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Contact Us"}),h.jsx(D.button,{className:"border-2 border-primary-orange text-primary-orange px-8 py-3 rounded-lg font-semibold hover:bg-primary-orange hover:text-white transition-colors duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Send Email"})]})]})]})})};function w8(){const{pathname:n}=$c();return _.useEffect(()=>{window.scrollTo(0,0)},[n]),null}function b8(){return h.jsx(v8,{children:h.jsxs(kR,{children:[h.jsx(w8,{}),h.jsxs("div",{className:"min-h-screen bg-white",children:[h.jsx(w3,{}),h.jsx(Dc,{mode:"wait",children:h.jsxs(xR,{children:[h.jsx(vt,{path:"/canopy-website",element:h.jsxs(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[h.jsx(S3,{}),h.jsx(I3,{}),h.jsx(j3,{}),h.jsx(a_,{}),h.jsx(O3,{}),h.jsx(iO,{}),h.jsx(aO,{}),h.jsx(xO,{}),h.jsx(V7,{})]})}),h.jsx(vt,{path:"/missions",element:h.jsx(CO,{})}),h.jsx(vt,{path:"/story",element:h.jsx(AO,{})}),h.jsx(vt,{path:"/meet-the-team",element:h.jsx(hF,{})}),h.jsx(vt,{path:"/board-of-directors",element:h.jsx(LF,{})}),h.jsx(vt,{path:"/ourimpact",element:h.jsx(kA,{})}),h.jsx(vt,{path:"/canopyfrance",element:h.jsx(R4,{})}),h.jsx(vt,{path:"/canopyusa",element:h.jsx(U4,{})}),h.jsx(vt,{path:"/publications",element:h.jsx(F7,{})}),h.jsx(vt,{path:"/canopy-website/canopy-policy",element:h.jsx(B7,{})}),h.jsx(vt,{path:"/ourimpact",element:h.jsx(kA,{})}),h.jsx(vt,{path:"/ourwork",element:h.jsx(z7,{})}),h.jsx(vt,{path:"/canship",element:h.jsx(q7,{})}),h.jsx(vt,{path:"/katha-bunaun",element:h.jsx(Q7,{})}),h.jsx(vt,{path:"/getinvolved",element:h.jsx(r8,{})}),h.jsx(vt,{path:"/donate",element:h.jsx(m8,{})}),h.jsx(vt,{path:"/canopy-website/canopy-faq",element:h.jsx(x8,{})})]})}),h.jsx(R3,{})]})]})})}yC(document.getElementById("root")).render(h.jsx(_.StrictMode,{children:h.jsx(b8,{})}));
