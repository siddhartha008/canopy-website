var rP=Object.defineProperty;var pw=n=>{throw TypeError(n)};var aP=(n,e,t)=>e in n?rP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Q=(n,e,t)=>aP(n,typeof e!="symbol"?e+"":e,t),Wm=(n,e,t)=>e.has(n)||pw("Cannot "+t);var u=(n,e,t)=>(Wm(n,e,"read from private field"),t?t.call(n):e.get(n)),E=(n,e,t)=>e.has(n)?pw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),b=(n,e,t,s)=>(Wm(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),A=(n,e,t)=>(Wm(n,e,"access private method"),t);var Kt=(n,e,t,s)=>({set _(i){b(n,e,i,t)},get _(){return u(n,e,s)}});function oP(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in n)){const r=Object.getOwnPropertyDescriptor(s,i);r&&Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function kA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var PA={exports:{}},lm={},NA={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=Symbol.for("react.element"),lP=Symbol.for("react.portal"),cP=Symbol.for("react.fragment"),uP=Symbol.for("react.strict_mode"),dP=Symbol.for("react.profiler"),hP=Symbol.for("react.provider"),fP=Symbol.for("react.context"),pP=Symbol.for("react.forward_ref"),mP=Symbol.for("react.suspense"),gP=Symbol.for("react.memo"),yP=Symbol.for("react.lazy"),mw=Symbol.iterator;function vP(n){return n===null||typeof n!="object"?null:(n=mw&&n[mw]||n["@@iterator"],typeof n=="function"?n:null)}var RA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LA=Object.assign,MA={};function Nc(n,e,t){this.props=n,this.context=e,this.refs=MA,this.updater=t||RA}Nc.prototype.isReactComponent={};Nc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Nc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function jA(){}jA.prototype=Nc.prototype;function vv(n,e,t){this.props=n,this.context=e,this.refs=MA,this.updater=t||RA}var xv=vv.prototype=new jA;xv.constructor=vv;LA(xv,Nc.prototype);xv.isPureReactComponent=!0;var gw=Array.isArray,DA=Object.prototype.hasOwnProperty,wv={current:null},IA={key:!0,ref:!0,__self:!0,__source:!0};function FA(n,e,t){var s,i={},r=null,a=null;if(e!=null)for(s in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(r=""+e.key),e)DA.call(e,s)&&!IA.hasOwnProperty(s)&&(i[s]=e[s]);var o=arguments.length-2;if(o===1)i.children=t;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(s in o=n.defaultProps,o)i[s]===void 0&&(i[s]=o[s]);return{$$typeof:Ah,type:n,key:r,ref:a,props:i,_owner:wv.current}}function xP(n,e){return{$$typeof:Ah,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function bv(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ah}function wP(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var yw=/\/+/g;function Gm(n,e){return typeof n=="object"&&n!==null&&n.key!=null?wP(""+n.key):e.toString(36)}function mf(n,e,t,s,i){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Ah:case lP:a=!0}}if(a)return a=n,i=i(a),n=s===""?"."+Gm(a,0):s,gw(i)?(t="",n!=null&&(t=n.replace(yw,"$&/")+"/"),mf(i,e,t,"",function(c){return c})):i!=null&&(bv(i)&&(i=xP(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(yw,"$&/")+"/")+n)),e.push(i)),1;if(a=0,s=s===""?".":s+":",gw(n))for(var o=0;o<n.length;o++){r=n[o];var l=s+Gm(r,o);a+=mf(r,e,t,l,i)}else if(l=vP(n),typeof l=="function")for(n=l.call(n),o=0;!(r=n.next()).done;)r=r.value,l=s+Gm(r,o++),a+=mf(r,e,t,l,i);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Vh(n,e,t){if(n==null)return n;var s=[],i=0;return mf(n,s,"","",function(r){return e.call(t,r,i++)}),s}function bP(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var nn={current:null},gf={transition:null},AP={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:gf,ReactCurrentOwner:wv};function OA(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Vh,forEach:function(n,e,t){Vh(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Vh(n,function(){e++}),e},toArray:function(n){return Vh(n,function(e){return e})||[]},only:function(n){if(!bv(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};le.Component=Nc;le.Fragment=cP;le.Profiler=dP;le.PureComponent=vv;le.StrictMode=uP;le.Suspense=mP;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AP;le.act=OA;le.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=LA({},n.props),i=n.key,r=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,a=wv.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)DA.call(e,l)&&!IA.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];s.children=o}return{$$typeof:Ah,type:n.type,key:i,ref:r,props:s,_owner:a}};le.createContext=function(n){return n={$$typeof:fP,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:hP,_context:n},n.Consumer=n};le.createElement=FA;le.createFactory=function(n){var e=FA.bind(null,n);return e.type=n,e};le.createRef=function(){return{current:null}};le.forwardRef=function(n){return{$$typeof:pP,render:n}};le.isValidElement=bv;le.lazy=function(n){return{$$typeof:yP,_payload:{_status:-1,_result:n},_init:bP}};le.memo=function(n,e){return{$$typeof:gP,type:n,compare:e===void 0?null:e}};le.startTransition=function(n){var e=gf.transition;gf.transition={};try{n()}finally{gf.transition=e}};le.unstable_act=OA;le.useCallback=function(n,e){return nn.current.useCallback(n,e)};le.useContext=function(n){return nn.current.useContext(n)};le.useDebugValue=function(){};le.useDeferredValue=function(n){return nn.current.useDeferredValue(n)};le.useEffect=function(n,e){return nn.current.useEffect(n,e)};le.useId=function(){return nn.current.useId()};le.useImperativeHandle=function(n,e,t){return nn.current.useImperativeHandle(n,e,t)};le.useInsertionEffect=function(n,e){return nn.current.useInsertionEffect(n,e)};le.useLayoutEffect=function(n,e){return nn.current.useLayoutEffect(n,e)};le.useMemo=function(n,e){return nn.current.useMemo(n,e)};le.useReducer=function(n,e,t){return nn.current.useReducer(n,e,t)};le.useRef=function(n){return nn.current.useRef(n)};le.useState=function(n){return nn.current.useState(n)};le.useSyncExternalStore=function(n,e,t){return nn.current.useSyncExternalStore(n,e,t)};le.useTransition=function(){return nn.current.useTransition()};le.version="18.3.1";NA.exports=le;var T=NA.exports;const Av=kA(T),SP=oP({__proto__:null,default:Av},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EP=T,CP=Symbol.for("react.element"),_P=Symbol.for("react.fragment"),TP=Object.prototype.hasOwnProperty,kP=EP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PP={key:!0,ref:!0,__self:!0,__source:!0};function BA(n,e,t){var s,i={},r=null,a=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)TP.call(e,s)&&!PP.hasOwnProperty(s)&&(i[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:CP,type:n,key:r,ref:a,props:i,_owner:kP.current}}lm.Fragment=_P;lm.jsx=BA;lm.jsxs=BA;PA.exports=lm;var f=PA.exports,VA={exports:{}},In={},zA={exports:{}},HA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(R,H){var U=R.length;R.push(H);e:for(;0<U;){var ae=U-1>>>1,ne=R[ae];if(0<i(ne,H))R[ae]=H,R[U]=ne,U=ae;else break e}}function t(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var H=R[0],U=R.pop();if(U!==H){R[0]=U;e:for(var ae=0,ne=R.length,pe=ne>>>1;ae<pe;){var Ue=2*(ae+1)-1,Gt=R[Ue],ge=Ue+1,ue=R[ge];if(0>i(Gt,U))ge<ne&&0>i(ue,Gt)?(R[ae]=ue,R[ge]=U,ae=ge):(R[ae]=Gt,R[Ue]=U,ae=Ue);else if(ge<ne&&0>i(ue,U))R[ae]=ue,R[ge]=U,ae=ge;else break e}}return H}function i(R,H){var U=R.sortIndex-H.sortIndex;return U!==0?U:R.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,p=3,m=!1,y=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var H=t(c);H!==null;){if(H.callback===null)s(c);else if(H.startTime<=R)s(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=t(c)}}function C(R){if(v=!1,w(R),!y)if(t(l)!==null)y=!0,q(_);else{var H=t(c);H!==null&&I(C,H.startTime-R)}}function _(R,H){y=!1,v&&(v=!1,g(N),N=-1),m=!0;var U=p;try{for(w(H),h=t(l);h!==null&&(!(h.expirationTime>H)||R&&!D());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var ne=ae(h.expirationTime<=H);H=n.unstable_now(),typeof ne=="function"?h.callback=ne:h===t(l)&&s(l),w(H)}else s(l);h=t(l)}if(h!==null)var pe=!0;else{var Ue=t(c);Ue!==null&&I(C,Ue.startTime-H),pe=!1}return pe}finally{h=null,p=U,m=!1}}var k=!1,P=null,N=-1,L=5,M=-1;function D(){return!(n.unstable_now()-M<L)}function Y(){if(P!==null){var R=n.unstable_now();M=R;var H=!0;try{H=P(!0,R)}finally{H?K():(k=!1,P=null)}}else k=!1}var K;if(typeof x=="function")K=function(){x(Y)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=Y,K=function(){J.postMessage(null)}}else K=function(){S(Y,0)};function q(R){P=R,k||(k=!0,K())}function I(R,H){N=S(function(){R(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,q(_))},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(R){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var U=p;p=H;try{return R()}finally{p=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=p;p=R;try{return H()}finally{p=U}},n.unstable_scheduleCallback=function(R,H,U){var ae=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ae+U:ae):U=ae,R){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=U+ne,R={id:d++,callback:H,priorityLevel:R,startTime:U,expirationTime:ne,sortIndex:-1},U>ae?(R.sortIndex=U,e(c,R),t(l)===null&&R===t(c)&&(v?(g(N),N=-1):v=!0,I(C,U-ae))):(R.sortIndex=ne,e(l,R),y||m||(y=!0,q(_))),R},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(R){var H=p;return function(){var U=p;p=H;try{return R.apply(this,arguments)}finally{p=U}}}})(HA);zA.exports=HA;var NP=zA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP=T,jn=NP;function j(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UA=new Set,Iu={};function ko(n,e){xc(n,e),xc(n+"Capture",e)}function xc(n,e){for(Iu[n]=e,n=0;n<e.length;n++)UA.add(e[n])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bg=Object.prototype.hasOwnProperty,LP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vw={},xw={};function MP(n){return Bg.call(xw,n)?!0:Bg.call(vw,n)?!1:LP.test(n)?xw[n]=!0:(vw[n]=!0,!1)}function jP(n,e,t,s){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function DP(n,e,t,s){if(e===null||typeof e>"u"||jP(n,e,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(n,e,t,s,i,r,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Nt[n]=new sn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Nt[e]=new sn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Nt[n]=new sn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Nt[n]=new sn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Nt[n]=new sn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Nt[n]=new sn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Nt[n]=new sn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Nt[n]=new sn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Nt[n]=new sn(n,5,!1,n.toLowerCase(),null,!1,!1)});var Sv=/[\-:]([a-z])/g;function Ev(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Sv,Ev);Nt[e]=new sn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Sv,Ev);Nt[e]=new sn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Sv,Ev);Nt[e]=new sn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Nt[n]=new sn(n,1,!1,n.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Nt[n]=new sn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Cv(n,e,t,s){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DP(e,t,i,s)&&(t=null),s||i===null?MP(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,s=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,s?n.setAttributeNS(s,e,t):n.setAttribute(e,t))))}var Ki=RP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zh=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),_v=Symbol.for("react.strict_mode"),Vg=Symbol.for("react.profiler"),$A=Symbol.for("react.provider"),WA=Symbol.for("react.context"),Tv=Symbol.for("react.forward_ref"),zg=Symbol.for("react.suspense"),Hg=Symbol.for("react.suspense_list"),kv=Symbol.for("react.memo"),Zi=Symbol.for("react.lazy"),GA=Symbol.for("react.offscreen"),ww=Symbol.iterator;function Bc(n){return n===null||typeof n!="object"?null:(n=ww&&n[ww]||n["@@iterator"],typeof n=="function"?n:null)}var He=Object.assign,Km;function Qc(n){if(Km===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Km=e&&e[1]||""}return`
`+Km+n}var Xm=!1;function qm(n,e){if(!n||Xm)return"";Xm=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){s=c}n.call(e.prototype)}else{try{throw Error()}catch(c){s=c}n()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),r=s.stack.split(`
`),a=i.length-1,o=r.length-1;1<=a&&0<=o&&i[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==r[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==r[o]){var l=`
`+i[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{Xm=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Qc(n):""}function IP(n){switch(n.tag){case 5:return Qc(n.type);case 16:return Qc("Lazy");case 13:return Qc("Suspense");case 19:return Qc("SuspenseList");case 0:case 2:case 15:return n=qm(n.type,!1),n;case 11:return n=qm(n.type.render,!1),n;case 1:return n=qm(n.type,!0),n;default:return""}}function Ug(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Xo:return"Fragment";case Ko:return"Portal";case Vg:return"Profiler";case _v:return"StrictMode";case zg:return"Suspense";case Hg:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case WA:return(n.displayName||"Context")+".Consumer";case $A:return(n._context.displayName||"Context")+".Provider";case Tv:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case kv:return e=n.displayName||null,e!==null?e:Ug(n.type)||"Memo";case Zi:e=n._payload,n=n._init;try{return Ug(n(e))}catch{}}return null}function FP(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ug(e);case 8:return e===_v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hr(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function KA(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OP(n){var e=KA(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),s=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){s=""+a,r.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Hh(n){n._valueTracker||(n._valueTracker=OP(n))}function XA(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return n&&(s=KA(n)?n.checked?"true":"false":n.value),n=s,n!==t?(e.setValue(n),!0):!1}function ap(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function $g(n,e){var t=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function bw(n,e){var t=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;t=Hr(e.value!=null?e.value:t),n._wrapperState={initialChecked:s,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qA(n,e){e=e.checked,e!=null&&Cv(n,"checked",e,!1)}function Wg(n,e){qA(n,e);var t=Hr(e.value),s=e.type;if(t!=null)s==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Gg(n,e.type,t):e.hasOwnProperty("defaultValue")&&Gg(n,e.type,Hr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Aw(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Gg(n,e,t){(e!=="number"||ap(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Zc=Array.isArray;function dl(n,e,t,s){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&s&&(n[t].defaultSelected=!0)}else{for(t=""+Hr(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,s&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Kg(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Sw(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(j(92));if(Zc(t)){if(1<t.length)throw Error(j(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Hr(t)}}function YA(n,e){var t=Hr(e.value),s=Hr(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),s!=null&&(n.defaultValue=""+s)}function Ew(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function QA(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xg(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?QA(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Uh,ZA=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,s,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,s,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Uh=Uh||document.createElement("div"),Uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uh.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Fu(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var wu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BP=["Webkit","ms","Moz","O"];Object.keys(wu).forEach(function(n){BP.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),wu[e]=wu[n]})});function JA(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||wu.hasOwnProperty(n)&&wu[n]?(""+e).trim():e+"px"}function eS(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var s=t.indexOf("--")===0,i=JA(t,e[t],s);t==="float"&&(t="cssFloat"),s?n.setProperty(t,i):n[t]=i}}var VP=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qg(n,e){if(e){if(VP[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Yg(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qg=null;function Pv(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zg=null,hl=null,fl=null;function Cw(n){if(n=Ch(n)){if(typeof Zg!="function")throw Error(j(280));var e=n.stateNode;e&&(e=fm(e),Zg(n.stateNode,n.type,e))}}function tS(n){hl?fl?fl.push(n):fl=[n]:hl=n}function nS(){if(hl){var n=hl,e=fl;if(fl=hl=null,Cw(n),e)for(n=0;n<e.length;n++)Cw(e[n])}}function sS(n,e){return n(e)}function iS(){}var Ym=!1;function rS(n,e,t){if(Ym)return n(e,t);Ym=!0;try{return sS(n,e,t)}finally{Ym=!1,(hl!==null||fl!==null)&&(iS(),nS())}}function Ou(n,e){var t=n.stateNode;if(t===null)return null;var s=fm(t);if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(j(231,e,typeof t));return t}var Jg=!1;if(Vi)try{var Vc={};Object.defineProperty(Vc,"passive",{get:function(){Jg=!0}}),window.addEventListener("test",Vc,Vc),window.removeEventListener("test",Vc,Vc)}catch{Jg=!1}function zP(n,e,t,s,i,r,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var bu=!1,op=null,lp=!1,ey=null,HP={onError:function(n){bu=!0,op=n}};function UP(n,e,t,s,i,r,a,o,l){bu=!1,op=null,zP.apply(HP,arguments)}function $P(n,e,t,s,i,r,a,o,l){if(UP.apply(this,arguments),bu){if(bu){var c=op;bu=!1,op=null}else throw Error(j(198));lp||(lp=!0,ey=c)}}function Po(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function aS(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function _w(n){if(Po(n)!==n)throw Error(j(188))}function WP(n){var e=n.alternate;if(!e){if(e=Po(n),e===null)throw Error(j(188));return e!==n?null:n}for(var t=n,s=e;;){var i=t.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){t=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===t)return _w(i),n;if(r===s)return _w(i),e;r=r.sibling}throw Error(j(188))}if(t.return!==s.return)t=i,s=r;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,s=r;break}if(o===s){a=!0,s=i,t=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===t){a=!0,t=r,s=i;break}if(o===s){a=!0,s=r,t=i;break}o=o.sibling}if(!a)throw Error(j(189))}}if(t.alternate!==s)throw Error(j(190))}if(t.tag!==3)throw Error(j(188));return t.stateNode.current===t?n:e}function oS(n){return n=WP(n),n!==null?lS(n):null}function lS(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=lS(n);if(e!==null)return e;n=n.sibling}return null}var cS=jn.unstable_scheduleCallback,Tw=jn.unstable_cancelCallback,GP=jn.unstable_shouldYield,KP=jn.unstable_requestPaint,Qe=jn.unstable_now,XP=jn.unstable_getCurrentPriorityLevel,Nv=jn.unstable_ImmediatePriority,uS=jn.unstable_UserBlockingPriority,cp=jn.unstable_NormalPriority,qP=jn.unstable_LowPriority,dS=jn.unstable_IdlePriority,cm=null,Ys=null;function YP(n){if(Ys&&typeof Ys.onCommitFiberRoot=="function")try{Ys.onCommitFiberRoot(cm,n,void 0,(n.current.flags&128)===128)}catch{}}var Es=Math.clz32?Math.clz32:JP,QP=Math.log,ZP=Math.LN2;function JP(n){return n>>>=0,n===0?32:31-(QP(n)/ZP|0)|0}var $h=64,Wh=4194304;function Jc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function up(n,e){var t=n.pendingLanes;if(t===0)return 0;var s=0,i=n.suspendedLanes,r=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~i;o!==0?s=Jc(o):(r&=a,r!==0&&(s=Jc(r)))}else a=t&~i,a!==0?s=Jc(a):r!==0&&(s=Jc(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=s;0<e;)t=31-Es(e),i=1<<t,s|=n[t],e&=~i;return s}function eN(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tN(n,e){for(var t=n.suspendedLanes,s=n.pingedLanes,i=n.expirationTimes,r=n.pendingLanes;0<r;){var a=31-Es(r),o=1<<a,l=i[a];l===-1?(!(o&t)||o&s)&&(i[a]=eN(o,e)):l<=e&&(n.expiredLanes|=o),r&=~o}}function ty(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function hS(){var n=$h;return $h<<=1,!($h&4194240)&&($h=64),n}function Qm(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Sh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Es(e),n[e]=t}function nN(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Es(t),r=1<<i;e[i]=0,s[i]=-1,n[i]=-1,t&=~r}}function Rv(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var s=31-Es(t),i=1<<s;i&e|n[s]&e&&(n[s]|=e),t&=~i}}var we=0;function fS(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var pS,Lv,mS,gS,yS,ny=!1,Gh=[],Mr=null,jr=null,Dr=null,Bu=new Map,Vu=new Map,er=[],sN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kw(n,e){switch(n){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Bu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(e.pointerId)}}function zc(n,e,t,s,i,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Ch(e),e!==null&&Lv(e)),n):(n.eventSystemFlags|=s,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function iN(n,e,t,s,i){switch(e){case"focusin":return Mr=zc(Mr,n,e,t,s,i),!0;case"dragenter":return jr=zc(jr,n,e,t,s,i),!0;case"mouseover":return Dr=zc(Dr,n,e,t,s,i),!0;case"pointerover":var r=i.pointerId;return Bu.set(r,zc(Bu.get(r)||null,n,e,t,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Vu.set(r,zc(Vu.get(r)||null,n,e,t,s,i)),!0}return!1}function vS(n){var e=fa(n.target);if(e!==null){var t=Po(e);if(t!==null){if(e=t.tag,e===13){if(e=aS(t),e!==null){n.blockedOn=e,yS(n.priority,function(){mS(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function yf(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=sy(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var s=new t.constructor(t.type,t);Qg=s,t.target.dispatchEvent(s),Qg=null}else return e=Ch(t),e!==null&&Lv(e),n.blockedOn=t,!1;e.shift()}return!0}function Pw(n,e,t){yf(n)&&t.delete(e)}function rN(){ny=!1,Mr!==null&&yf(Mr)&&(Mr=null),jr!==null&&yf(jr)&&(jr=null),Dr!==null&&yf(Dr)&&(Dr=null),Bu.forEach(Pw),Vu.forEach(Pw)}function Hc(n,e){n.blockedOn===e&&(n.blockedOn=null,ny||(ny=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,rN)))}function zu(n){function e(i){return Hc(i,n)}if(0<Gh.length){Hc(Gh[0],n);for(var t=1;t<Gh.length;t++){var s=Gh[t];s.blockedOn===n&&(s.blockedOn=null)}}for(Mr!==null&&Hc(Mr,n),jr!==null&&Hc(jr,n),Dr!==null&&Hc(Dr,n),Bu.forEach(e),Vu.forEach(e),t=0;t<er.length;t++)s=er[t],s.blockedOn===n&&(s.blockedOn=null);for(;0<er.length&&(t=er[0],t.blockedOn===null);)vS(t),t.blockedOn===null&&er.shift()}var pl=Ki.ReactCurrentBatchConfig,dp=!0;function aN(n,e,t,s){var i=we,r=pl.transition;pl.transition=null;try{we=1,Mv(n,e,t,s)}finally{we=i,pl.transition=r}}function oN(n,e,t,s){var i=we,r=pl.transition;pl.transition=null;try{we=4,Mv(n,e,t,s)}finally{we=i,pl.transition=r}}function Mv(n,e,t,s){if(dp){var i=sy(n,e,t,s);if(i===null)og(n,e,s,hp,t),kw(n,s);else if(iN(i,n,e,t,s))s.stopPropagation();else if(kw(n,s),e&4&&-1<sN.indexOf(n)){for(;i!==null;){var r=Ch(i);if(r!==null&&pS(r),r=sy(n,e,t,s),r===null&&og(n,e,s,hp,t),r===i)break;i=r}i!==null&&s.stopPropagation()}else og(n,e,s,null,t)}}var hp=null;function sy(n,e,t,s){if(hp=null,n=Pv(s),n=fa(n),n!==null)if(e=Po(n),e===null)n=null;else if(t=e.tag,t===13){if(n=aS(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return hp=n,null}function xS(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XP()){case Nv:return 1;case uS:return 4;case cp:case qP:return 16;case dS:return 536870912;default:return 16}default:return 16}}var Nr=null,jv=null,vf=null;function wS(){if(vf)return vf;var n,e=jv,t=e.length,s,i="value"in Nr?Nr.value:Nr.textContent,r=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(s=1;s<=a&&e[t-s]===i[r-s];s++);return vf=i.slice(n,1<s?1-s:void 0)}function xf(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Kh(){return!0}function Nw(){return!1}function Fn(n){function e(t,s,i,r,a){this._reactName=t,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Kh:Nw,this.isPropagationStopped=Nw,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Kh)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Kh)},persist:function(){},isPersistent:Kh}),e}var Rc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dv=Fn(Rc),Eh=He({},Rc,{view:0,detail:0}),lN=Fn(Eh),Zm,Jm,Uc,um=He({},Eh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iv,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Uc&&(Uc&&n.type==="mousemove"?(Zm=n.screenX-Uc.screenX,Jm=n.screenY-Uc.screenY):Jm=Zm=0,Uc=n),Zm)},movementY:function(n){return"movementY"in n?n.movementY:Jm}}),Rw=Fn(um),cN=He({},um,{dataTransfer:0}),uN=Fn(cN),dN=He({},Eh,{relatedTarget:0}),eg=Fn(dN),hN=He({},Rc,{animationName:0,elapsedTime:0,pseudoElement:0}),fN=Fn(hN),pN=He({},Rc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),mN=Fn(pN),gN=He({},Rc,{data:0}),Lw=Fn(gN),yN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wN(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=xN[n])?!!e[n]:!1}function Iv(){return wN}var bN=He({},Eh,{key:function(n){if(n.key){var e=yN[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=xf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?vN[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iv,charCode:function(n){return n.type==="keypress"?xf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?xf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),AN=Fn(bN),SN=He({},um,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mw=Fn(SN),EN=He({},Eh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iv}),CN=Fn(EN),_N=He({},Rc,{propertyName:0,elapsedTime:0,pseudoElement:0}),TN=Fn(_N),kN=He({},um,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),PN=Fn(kN),NN=[9,13,27,32],Fv=Vi&&"CompositionEvent"in window,Au=null;Vi&&"documentMode"in document&&(Au=document.documentMode);var RN=Vi&&"TextEvent"in window&&!Au,bS=Vi&&(!Fv||Au&&8<Au&&11>=Au),jw=" ",Dw=!1;function AS(n,e){switch(n){case"keyup":return NN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SS(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qo=!1;function LN(n,e){switch(n){case"compositionend":return SS(e);case"keypress":return e.which!==32?null:(Dw=!0,jw);case"textInput":return n=e.data,n===jw&&Dw?null:n;default:return null}}function MN(n,e){if(qo)return n==="compositionend"||!Fv&&AS(n,e)?(n=wS(),vf=jv=Nr=null,qo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bS&&e.locale!=="ko"?null:e.data;default:return null}}var jN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!jN[n.type]:e==="textarea"}function ES(n,e,t,s){tS(s),e=fp(e,"onChange"),0<e.length&&(t=new Dv("onChange","change",null,t,s),n.push({event:t,listeners:e}))}var Su=null,Hu=null;function DN(n){DS(n,0)}function dm(n){var e=Zo(n);if(XA(e))return n}function IN(n,e){if(n==="change")return e}var CS=!1;if(Vi){var tg;if(Vi){var ng="oninput"in document;if(!ng){var Fw=document.createElement("div");Fw.setAttribute("oninput","return;"),ng=typeof Fw.oninput=="function"}tg=ng}else tg=!1;CS=tg&&(!document.documentMode||9<document.documentMode)}function Ow(){Su&&(Su.detachEvent("onpropertychange",_S),Hu=Su=null)}function _S(n){if(n.propertyName==="value"&&dm(Hu)){var e=[];ES(e,Hu,n,Pv(n)),rS(DN,e)}}function FN(n,e,t){n==="focusin"?(Ow(),Su=e,Hu=t,Su.attachEvent("onpropertychange",_S)):n==="focusout"&&Ow()}function ON(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return dm(Hu)}function BN(n,e){if(n==="click")return dm(e)}function VN(n,e){if(n==="input"||n==="change")return dm(e)}function zN(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var _s=typeof Object.is=="function"?Object.is:zN;function Uu(n,e){if(_s(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++){var i=t[s];if(!Bg.call(e,i)||!_s(n[i],e[i]))return!1}return!0}function Bw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Vw(n,e){var t=Bw(n);n=0;for(var s;t;){if(t.nodeType===3){if(s=n+t.textContent.length,n<=e&&s>=e)return{node:t,offset:e-n};n=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Bw(t)}}function TS(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?TS(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function kS(){for(var n=window,e=ap();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=ap(n.document)}return e}function Ov(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function HN(n){var e=kS(),t=n.focusedElem,s=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&TS(t.ownerDocument.documentElement,t)){if(s!==null&&Ov(t)){if(e=s.start,n=s.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!n.extend&&r>s&&(i=s,s=r,r=i),i=Vw(t,r);var a=Vw(t,s);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),r>s?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var UN=Vi&&"documentMode"in document&&11>=document.documentMode,Yo=null,iy=null,Eu=null,ry=!1;function zw(n,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ry||Yo==null||Yo!==ap(s)||(s=Yo,"selectionStart"in s&&Ov(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Eu&&Uu(Eu,s)||(Eu=s,s=fp(iy,"onSelect"),0<s.length&&(e=new Dv("onSelect","select",null,e,t),n.push({event:e,listeners:s}),e.target=Yo)))}function Xh(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Qo={animationend:Xh("Animation","AnimationEnd"),animationiteration:Xh("Animation","AnimationIteration"),animationstart:Xh("Animation","AnimationStart"),transitionend:Xh("Transition","TransitionEnd")},sg={},PS={};Vi&&(PS=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function hm(n){if(sg[n])return sg[n];if(!Qo[n])return n;var e=Qo[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in PS)return sg[n]=e[t];return n}var NS=hm("animationend"),RS=hm("animationiteration"),LS=hm("animationstart"),MS=hm("transitionend"),jS=new Map,Hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(n,e){jS.set(n,e),ko(e,[n])}for(var ig=0;ig<Hw.length;ig++){var rg=Hw[ig],$N=rg.toLowerCase(),WN=rg[0].toUpperCase()+rg.slice(1);Yr($N,"on"+WN)}Yr(NS,"onAnimationEnd");Yr(RS,"onAnimationIteration");Yr(LS,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(MS,"onTransitionEnd");xc("onMouseEnter",["mouseout","mouseover"]);xc("onMouseLeave",["mouseout","mouseover"]);xc("onPointerEnter",["pointerout","pointerover"]);xc("onPointerLeave",["pointerout","pointerover"]);ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GN=new Set("cancel close invalid load scroll toggle".split(" ").concat(eu));function Uw(n,e,t){var s=n.type||"unknown-event";n.currentTarget=t,$P(s,e,void 0,n),n.currentTarget=null}function DS(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var s=n[t],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&i.isPropagationStopped())break e;Uw(i,o,c),r=l}else for(a=0;a<s.length;a++){if(o=s[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==r&&i.isPropagationStopped())break e;Uw(i,o,c),r=l}}}if(lp)throw n=ey,lp=!1,ey=null,n}function Te(n,e){var t=e[uy];t===void 0&&(t=e[uy]=new Set);var s=n+"__bubble";t.has(s)||(IS(e,n,2,!1),t.add(s))}function ag(n,e,t){var s=0;e&&(s|=4),IS(t,n,s,e)}var qh="_reactListening"+Math.random().toString(36).slice(2);function $u(n){if(!n[qh]){n[qh]=!0,UA.forEach(function(t){t!=="selectionchange"&&(GN.has(t)||ag(t,!1,n),ag(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[qh]||(e[qh]=!0,ag("selectionchange",!1,e))}}function IS(n,e,t,s){switch(xS(e)){case 1:var i=aN;break;case 4:i=oN;break;default:i=Mv}t=i.bind(null,e,t,n),i=void 0,!Jg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function og(n,e,t,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=s.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=fa(o),a===null)return;if(l=a.tag,l===5||l===6){s=r=a;continue e}o=o.parentNode}}s=s.return}rS(function(){var c=r,d=Pv(t),h=[];e:{var p=jS.get(n);if(p!==void 0){var m=Dv,y=n;switch(n){case"keypress":if(xf(t)===0)break e;case"keydown":case"keyup":m=AN;break;case"focusin":y="focus",m=eg;break;case"focusout":y="blur",m=eg;break;case"beforeblur":case"afterblur":m=eg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Rw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=uN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CN;break;case NS:case RS:case LS:m=fN;break;case MS:m=TN;break;case"scroll":m=lN;break;case"wheel":m=PN;break;case"copy":case"cut":case"paste":m=mN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Mw}var v=(e&4)!==0,S=!v&&n==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var x=c,w;x!==null;){w=x;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,g!==null&&(C=Ou(x,g),C!=null&&v.push(Wu(x,C,w)))),S)break;x=x.return}0<v.length&&(p=new m(p,y,null,t,d),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Qg&&(y=t.relatedTarget||t.fromElement)&&(fa(y)||y[zi]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=c,y=y?fa(y):null,y!==null&&(S=Po(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(v=Rw,C="onMouseLeave",g="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(v=Mw,C="onPointerLeave",g="onPointerEnter",x="pointer"),S=m==null?p:Zo(m),w=y==null?p:Zo(y),p=new v(C,x+"leave",m,t,d),p.target=S,p.relatedTarget=w,C=null,fa(d)===c&&(v=new v(g,x+"enter",y,t,d),v.target=w,v.relatedTarget=S,C=v),S=C,m&&y)t:{for(v=m,g=y,x=0,w=v;w;w=Oo(w))x++;for(w=0,C=g;C;C=Oo(C))w++;for(;0<x-w;)v=Oo(v),x--;for(;0<w-x;)g=Oo(g),w--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=Oo(v),g=Oo(g)}v=null}else v=null;m!==null&&$w(h,p,m,v,!1),y!==null&&S!==null&&$w(h,S,y,v,!0)}}e:{if(p=c?Zo(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=IN;else if(Iw(p))if(CS)_=VN;else{_=ON;var k=FN}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=BN);if(_&&(_=_(n,c))){ES(h,_,t,d);break e}k&&k(n,p,c),n==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Gg(p,"number",p.value)}switch(k=c?Zo(c):window,n){case"focusin":(Iw(k)||k.contentEditable==="true")&&(Yo=k,iy=c,Eu=null);break;case"focusout":Eu=iy=Yo=null;break;case"mousedown":ry=!0;break;case"contextmenu":case"mouseup":case"dragend":ry=!1,zw(h,t,d);break;case"selectionchange":if(UN)break;case"keydown":case"keyup":zw(h,t,d)}var P;if(Fv)e:{switch(n){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else qo?AS(n,t)&&(N="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(N="onCompositionStart");N&&(bS&&t.locale!=="ko"&&(qo||N!=="onCompositionStart"?N==="onCompositionEnd"&&qo&&(P=wS()):(Nr=d,jv="value"in Nr?Nr.value:Nr.textContent,qo=!0)),k=fp(c,N),0<k.length&&(N=new Lw(N,n,null,t,d),h.push({event:N,listeners:k}),P?N.data=P:(P=SS(t),P!==null&&(N.data=P)))),(P=RN?LN(n,t):MN(n,t))&&(c=fp(c,"onBeforeInput"),0<c.length&&(d=new Lw("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:c}),d.data=P))}DS(h,e)})}function Wu(n,e,t){return{instance:n,listener:e,currentTarget:t}}function fp(n,e){for(var t=e+"Capture",s=[];n!==null;){var i=n,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Ou(n,t),r!=null&&s.unshift(Wu(n,r,i)),r=Ou(n,e),r!=null&&s.push(Wu(n,r,i))),n=n.return}return s}function Oo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function $w(n,e,t,s,i){for(var r=e._reactName,a=[];t!==null&&t!==s;){var o=t,l=o.alternate,c=o.stateNode;if(l!==null&&l===s)break;o.tag===5&&c!==null&&(o=c,i?(l=Ou(t,r),l!=null&&a.unshift(Wu(t,l,o))):i||(l=Ou(t,r),l!=null&&a.push(Wu(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var KN=/\r\n?/g,XN=/\u0000|\uFFFD/g;function Ww(n){return(typeof n=="string"?n:""+n).replace(KN,`
`).replace(XN,"")}function Yh(n,e,t){if(e=Ww(e),Ww(n)!==e&&t)throw Error(j(425))}function pp(){}var ay=null,oy=null;function ly(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cy=typeof setTimeout=="function"?setTimeout:void 0,qN=typeof clearTimeout=="function"?clearTimeout:void 0,Gw=typeof Promise=="function"?Promise:void 0,YN=typeof queueMicrotask=="function"?queueMicrotask:typeof Gw<"u"?function(n){return Gw.resolve(null).then(n).catch(QN)}:cy;function QN(n){setTimeout(function(){throw n})}function lg(n,e){var t=e,s=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(s===0){n.removeChild(i),zu(e);return}s--}else t!=="$"&&t!=="$?"&&t!=="$!"||s++;t=i}while(t);zu(e)}function Ir(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Kw(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Lc=Math.random().toString(36).slice(2),qs="__reactFiber$"+Lc,Gu="__reactProps$"+Lc,zi="__reactContainer$"+Lc,uy="__reactEvents$"+Lc,ZN="__reactListeners$"+Lc,JN="__reactHandles$"+Lc;function fa(n){var e=n[qs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[zi]||t[qs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Kw(n);n!==null;){if(t=n[qs])return t;n=Kw(n)}return e}n=t,t=n.parentNode}return null}function Ch(n){return n=n[qs]||n[zi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Zo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(j(33))}function fm(n){return n[Gu]||null}var dy=[],Jo=-1;function Qr(n){return{current:n}}function Pe(n){0>Jo||(n.current=dy[Jo],dy[Jo]=null,Jo--)}function _e(n,e){Jo++,dy[Jo]=n.current,n.current=e}var Ur={},Wt=Qr(Ur),mn=Qr(!1),yo=Ur;function wc(n,e){var t=n.type.contextTypes;if(!t)return Ur;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in t)i[r]=e[r];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function gn(n){return n=n.childContextTypes,n!=null}function mp(){Pe(mn),Pe(Wt)}function Xw(n,e,t){if(Wt.current!==Ur)throw Error(j(168));_e(Wt,e),_e(mn,t)}function FS(n,e,t){var s=n.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(j(108,FP(n)||"Unknown",i));return He({},t,s)}function gp(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ur,yo=Wt.current,_e(Wt,n),_e(mn,mn.current),!0}function qw(n,e,t){var s=n.stateNode;if(!s)throw Error(j(169));t?(n=FS(n,e,yo),s.__reactInternalMemoizedMergedChildContext=n,Pe(mn),Pe(Wt),_e(Wt,n)):Pe(mn),_e(mn,t)}var ai=null,pm=!1,cg=!1;function OS(n){ai===null?ai=[n]:ai.push(n)}function e2(n){pm=!0,OS(n)}function Zr(){if(!cg&&ai!==null){cg=!0;var n=0,e=we;try{var t=ai;for(we=1;n<t.length;n++){var s=t[n];do s=s(!0);while(s!==null)}ai=null,pm=!1}catch(i){throw ai!==null&&(ai=ai.slice(n+1)),cS(Nv,Zr),i}finally{we=e,cg=!1}}return null}var el=[],tl=0,yp=null,vp=0,Gn=[],Kn=0,vo=null,Li=1,Mi="";function sa(n,e){el[tl++]=vp,el[tl++]=yp,yp=n,vp=e}function BS(n,e,t){Gn[Kn++]=Li,Gn[Kn++]=Mi,Gn[Kn++]=vo,vo=n;var s=Li;n=Mi;var i=32-Es(s)-1;s&=~(1<<i),t+=1;var r=32-Es(e)+i;if(30<r){var a=i-i%5;r=(s&(1<<a)-1).toString(32),s>>=a,i-=a,Li=1<<32-Es(e)+i|t<<i|s,Mi=r+n}else Li=1<<r|t<<i|s,Mi=n}function Bv(n){n.return!==null&&(sa(n,1),BS(n,1,0))}function Vv(n){for(;n===yp;)yp=el[--tl],el[tl]=null,vp=el[--tl],el[tl]=null;for(;n===vo;)vo=Gn[--Kn],Gn[Kn]=null,Mi=Gn[--Kn],Gn[Kn]=null,Li=Gn[--Kn],Gn[Kn]=null}var Rn=null,Nn=null,je=!1,As=null;function VS(n,e){var t=Yn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Yw(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Rn=n,Nn=Ir(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Rn=n,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=vo!==null?{id:Li,overflow:Mi}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Yn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Rn=n,Nn=null,!0):!1;default:return!1}}function hy(n){return(n.mode&1)!==0&&(n.flags&128)===0}function fy(n){if(je){var e=Nn;if(e){var t=e;if(!Yw(n,e)){if(hy(n))throw Error(j(418));e=Ir(t.nextSibling);var s=Rn;e&&Yw(n,e)?VS(s,t):(n.flags=n.flags&-4097|2,je=!1,Rn=n)}}else{if(hy(n))throw Error(j(418));n.flags=n.flags&-4097|2,je=!1,Rn=n}}}function Qw(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Rn=n}function Qh(n){if(n!==Rn)return!1;if(!je)return Qw(n),je=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!ly(n.type,n.memoizedProps)),e&&(e=Nn)){if(hy(n))throw zS(),Error(j(418));for(;e;)VS(n,e),e=Ir(e.nextSibling)}if(Qw(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(j(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Nn=Ir(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Nn=null}}else Nn=Rn?Ir(n.stateNode.nextSibling):null;return!0}function zS(){for(var n=Nn;n;)n=Ir(n.nextSibling)}function bc(){Nn=Rn=null,je=!1}function zv(n){As===null?As=[n]:As.push(n)}var t2=Ki.ReactCurrentBatchConfig;function $c(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(j(309));var s=t.stateNode}if(!s)throw Error(j(147,n));var i=s,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(a){var o=i.refs;a===null?delete o[r]:o[r]=a},e._stringRef=r,e)}if(typeof n!="string")throw Error(j(284));if(!t._owner)throw Error(j(290,n))}return n}function Zh(n,e){throw n=Object.prototype.toString.call(e),Error(j(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Zw(n){var e=n._init;return e(n._payload)}function HS(n){function e(g,x){if(n){var w=g.deletions;w===null?(g.deletions=[x],g.flags|=16):w.push(x)}}function t(g,x){if(!n)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function s(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=Vr(g,x),g.index=0,g.sibling=null,g}function r(g,x,w){return g.index=w,n?(w=g.alternate,w!==null?(w=w.index,w<x?(g.flags|=2,x):w):(g.flags|=2,x)):(g.flags|=1048576,x)}function a(g){return n&&g.alternate===null&&(g.flags|=2),g}function o(g,x,w,C){return x===null||x.tag!==6?(x=gg(w,g.mode,C),x.return=g,x):(x=i(x,w),x.return=g,x)}function l(g,x,w,C){var _=w.type;return _===Xo?d(g,x,w.props.children,C,w.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Zi&&Zw(_)===x.type)?(C=i(x,w.props),C.ref=$c(g,x,w),C.return=g,C):(C=_f(w.type,w.key,w.props,null,g.mode,C),C.ref=$c(g,x,w),C.return=g,C)}function c(g,x,w,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=yg(w,g.mode,C),x.return=g,x):(x=i(x,w.children||[]),x.return=g,x)}function d(g,x,w,C,_){return x===null||x.tag!==7?(x=mo(w,g.mode,C,_),x.return=g,x):(x=i(x,w),x.return=g,x)}function h(g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=gg(""+x,g.mode,w),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zh:return w=_f(x.type,x.key,x.props,null,g.mode,w),w.ref=$c(g,null,x),w.return=g,w;case Ko:return x=yg(x,g.mode,w),x.return=g,x;case Zi:var C=x._init;return h(g,C(x._payload),w)}if(Zc(x)||Bc(x))return x=mo(x,g.mode,w,null),x.return=g,x;Zh(g,x)}return null}function p(g,x,w,C){var _=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(g,x,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zh:return w.key===_?l(g,x,w,C):null;case Ko:return w.key===_?c(g,x,w,C):null;case Zi:return _=w._init,p(g,x,_(w._payload),C)}if(Zc(w)||Bc(w))return _!==null?null:d(g,x,w,C,null);Zh(g,w)}return null}function m(g,x,w,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(w)||null,o(x,g,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case zh:return g=g.get(C.key===null?w:C.key)||null,l(x,g,C,_);case Ko:return g=g.get(C.key===null?w:C.key)||null,c(x,g,C,_);case Zi:var k=C._init;return m(g,x,w,k(C._payload),_)}if(Zc(C)||Bc(C))return g=g.get(w)||null,d(x,g,C,_,null);Zh(x,C)}return null}function y(g,x,w,C){for(var _=null,k=null,P=x,N=x=0,L=null;P!==null&&N<w.length;N++){P.index>N?(L=P,P=null):L=P.sibling;var M=p(g,P,w[N],C);if(M===null){P===null&&(P=L);break}n&&P&&M.alternate===null&&e(g,P),x=r(M,x,N),k===null?_=M:k.sibling=M,k=M,P=L}if(N===w.length)return t(g,P),je&&sa(g,N),_;if(P===null){for(;N<w.length;N++)P=h(g,w[N],C),P!==null&&(x=r(P,x,N),k===null?_=P:k.sibling=P,k=P);return je&&sa(g,N),_}for(P=s(g,P);N<w.length;N++)L=m(P,g,N,w[N],C),L!==null&&(n&&L.alternate!==null&&P.delete(L.key===null?N:L.key),x=r(L,x,N),k===null?_=L:k.sibling=L,k=L);return n&&P.forEach(function(D){return e(g,D)}),je&&sa(g,N),_}function v(g,x,w,C){var _=Bc(w);if(typeof _!="function")throw Error(j(150));if(w=_.call(w),w==null)throw Error(j(151));for(var k=_=null,P=x,N=x=0,L=null,M=w.next();P!==null&&!M.done;N++,M=w.next()){P.index>N?(L=P,P=null):L=P.sibling;var D=p(g,P,M.value,C);if(D===null){P===null&&(P=L);break}n&&P&&D.alternate===null&&e(g,P),x=r(D,x,N),k===null?_=D:k.sibling=D,k=D,P=L}if(M.done)return t(g,P),je&&sa(g,N),_;if(P===null){for(;!M.done;N++,M=w.next())M=h(g,M.value,C),M!==null&&(x=r(M,x,N),k===null?_=M:k.sibling=M,k=M);return je&&sa(g,N),_}for(P=s(g,P);!M.done;N++,M=w.next())M=m(P,g,N,M.value,C),M!==null&&(n&&M.alternate!==null&&P.delete(M.key===null?N:M.key),x=r(M,x,N),k===null?_=M:k.sibling=M,k=M);return n&&P.forEach(function(Y){return e(g,Y)}),je&&sa(g,N),_}function S(g,x,w,C){if(typeof w=="object"&&w!==null&&w.type===Xo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case zh:e:{for(var _=w.key,k=x;k!==null;){if(k.key===_){if(_=w.type,_===Xo){if(k.tag===7){t(g,k.sibling),x=i(k,w.props.children),x.return=g,g=x;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Zi&&Zw(_)===k.type){t(g,k.sibling),x=i(k,w.props),x.ref=$c(g,k,w),x.return=g,g=x;break e}t(g,k);break}else e(g,k);k=k.sibling}w.type===Xo?(x=mo(w.props.children,g.mode,C,w.key),x.return=g,g=x):(C=_f(w.type,w.key,w.props,null,g.mode,C),C.ref=$c(g,x,w),C.return=g,g=C)}return a(g);case Ko:e:{for(k=w.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){t(g,x.sibling),x=i(x,w.children||[]),x.return=g,g=x;break e}else{t(g,x);break}else e(g,x);x=x.sibling}x=yg(w,g.mode,C),x.return=g,g=x}return a(g);case Zi:return k=w._init,S(g,x,k(w._payload),C)}if(Zc(w))return y(g,x,w,C);if(Bc(w))return v(g,x,w,C);Zh(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(t(g,x.sibling),x=i(x,w),x.return=g,g=x):(t(g,x),x=gg(w,g.mode,C),x.return=g,g=x),a(g)):t(g,x)}return S}var Ac=HS(!0),US=HS(!1),xp=Qr(null),wp=null,nl=null,Hv=null;function Uv(){Hv=nl=wp=null}function $v(n){var e=xp.current;Pe(xp),n._currentValue=e}function py(n,e,t){for(;n!==null;){var s=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),n===t)break;n=n.return}}function ml(n,e){wp=n,Hv=nl=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(fn=!0),n.firstContext=null)}function Jn(n){var e=n._currentValue;if(Hv!==n)if(n={context:n,memoizedValue:e,next:null},nl===null){if(wp===null)throw Error(j(308));nl=n,wp.dependencies={lanes:0,firstContext:n}}else nl=nl.next=n;return e}var pa=null;function Wv(n){pa===null?pa=[n]:pa.push(n)}function $S(n,e,t,s){var i=e.interleaved;return i===null?(t.next=t,Wv(e)):(t.next=i.next,i.next=t),e.interleaved=t,Hi(n,s)}function Hi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ji=!1;function Gv(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WS(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ji(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Fr(n,e,t){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,he&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Hi(n,t)}return i=s.interleaved,i===null?(e.next=e,Wv(s)):(e.next=i.next,i.next=e),s.interleaved=e,Hi(n,t)}function wf(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,Rv(n,t)}}function Jw(n,e){var t=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var i=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?i=r=a:r=r.next=a,t=t.next}while(t!==null);r===null?i=r=e:r=r.next=e}else i=r=e;t={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function bp(n,e,t,s){var i=n.updateQueue;Ji=!1;var r=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?r=c:a.next=c,a=l;var d=n.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(r!==null){var h=i.baseState;a=0,d=c=l=null,o=r;do{var p=o.lane,m=o.eventTime;if((s&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=n,v=o;switch(p=e,m=t,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=He({},h,p);break e;case 2:Ji=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);wo|=a,n.lanes=a,n.memoizedState=h}}function eb(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var s=n[e],i=s.callback;if(i!==null){if(s.callback=null,s=t,typeof i!="function")throw Error(j(191,i));i.call(s)}}}var _h={},Qs=Qr(_h),Ku=Qr(_h),Xu=Qr(_h);function ma(n){if(n===_h)throw Error(j(174));return n}function Kv(n,e){switch(_e(Xu,e),_e(Ku,n),_e(Qs,_h),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xg(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Xg(e,n)}Pe(Qs),_e(Qs,e)}function Sc(){Pe(Qs),Pe(Ku),Pe(Xu)}function GS(n){ma(Xu.current);var e=ma(Qs.current),t=Xg(e,n.type);e!==t&&(_e(Ku,n),_e(Qs,t))}function Xv(n){Ku.current===n&&(Pe(Qs),Pe(Ku))}var Be=Qr(0);function Ap(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ug=[];function qv(){for(var n=0;n<ug.length;n++)ug[n]._workInProgressVersionPrimary=null;ug.length=0}var bf=Ki.ReactCurrentDispatcher,dg=Ki.ReactCurrentBatchConfig,xo=0,ze=null,ct=null,wt=null,Sp=!1,Cu=!1,qu=0,n2=0;function Lt(){throw Error(j(321))}function Yv(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!_s(n[t],e[t]))return!1;return!0}function Qv(n,e,t,s,i,r){if(xo=r,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bf.current=n===null||n.memoizedState===null?a2:o2,n=t(s,i),Cu){r=0;do{if(Cu=!1,qu=0,25<=r)throw Error(j(301));r+=1,wt=ct=null,e.updateQueue=null,bf.current=l2,n=t(s,i)}while(Cu)}if(bf.current=Ep,e=ct!==null&&ct.next!==null,xo=0,wt=ct=ze=null,Sp=!1,e)throw Error(j(300));return n}function Zv(){var n=qu!==0;return qu=0,n}function Ns(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?ze.memoizedState=wt=n:wt=wt.next=n,wt}function es(){if(ct===null){var n=ze.alternate;n=n!==null?n.memoizedState:null}else n=ct.next;var e=wt===null?ze.memoizedState:wt.next;if(e!==null)wt=e,ct=n;else{if(n===null)throw Error(j(310));ct=n,n={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},wt===null?ze.memoizedState=wt=n:wt=wt.next=n}return wt}function Yu(n,e){return typeof e=="function"?e(n):e}function hg(n){var e=es(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var s=ct,i=s.baseQueue,r=t.pending;if(r!==null){if(i!==null){var a=i.next;i.next=r.next,r.next=a}s.baseQueue=i=r,t.pending=null}if(i!==null){r=i.next,s=s.baseState;var o=a=null,l=null,c=r;do{var d=c.lane;if((xo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:n(s,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=s):l=l.next=h,ze.lanes|=d,wo|=d}c=c.next}while(c!==null&&c!==r);l===null?a=s:l.next=o,_s(s,e.memoizedState)||(fn=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=l,t.lastRenderedState=s}if(n=t.interleaved,n!==null){i=n;do r=i.lane,ze.lanes|=r,wo|=r,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function fg(n){var e=es(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var s=t.dispatch,i=t.pending,r=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do r=n(r,a.action),a=a.next;while(a!==i);_s(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,s]}function KS(){}function XS(n,e){var t=ze,s=es(),i=e(),r=!_s(s.memoizedState,i);if(r&&(s.memoizedState=i,fn=!0),s=s.queue,Jv(QS.bind(null,t,s,n),[n]),s.getSnapshot!==e||r||wt!==null&&wt.memoizedState.tag&1){if(t.flags|=2048,Qu(9,YS.bind(null,t,s,i,e),void 0,null),bt===null)throw Error(j(349));xo&30||qS(t,e,i)}return i}function qS(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function YS(n,e,t,s){e.value=t,e.getSnapshot=s,ZS(e)&&JS(n)}function QS(n,e,t){return t(function(){ZS(e)&&JS(n)})}function ZS(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!_s(n,t)}catch{return!0}}function JS(n){var e=Hi(n,1);e!==null&&Cs(e,n,1,-1)}function tb(n){var e=Ns();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yu,lastRenderedState:n},e.queue=n,n=n.dispatch=r2.bind(null,ze,n),[e.memoizedState,n]}function Qu(n,e,t,s){return n={tag:n,create:e,destroy:t,deps:s,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(s=t.next,t.next=n,n.next=s,e.lastEffect=n)),n}function eE(){return es().memoizedState}function Af(n,e,t,s){var i=Ns();ze.flags|=n,i.memoizedState=Qu(1|e,t,void 0,s===void 0?null:s)}function mm(n,e,t,s){var i=es();s=s===void 0?null:s;var r=void 0;if(ct!==null){var a=ct.memoizedState;if(r=a.destroy,s!==null&&Yv(s,a.deps)){i.memoizedState=Qu(e,t,r,s);return}}ze.flags|=n,i.memoizedState=Qu(1|e,t,r,s)}function nb(n,e){return Af(8390656,8,n,e)}function Jv(n,e){return mm(2048,8,n,e)}function tE(n,e){return mm(4,2,n,e)}function nE(n,e){return mm(4,4,n,e)}function sE(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function iE(n,e,t){return t=t!=null?t.concat([n]):null,mm(4,4,sE.bind(null,e,n),t)}function ex(){}function rE(n,e){var t=es();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Yv(e,s[1])?s[0]:(t.memoizedState=[n,e],n)}function aE(n,e){var t=es();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Yv(e,s[1])?s[0]:(n=n(),t.memoizedState=[n,e],n)}function oE(n,e,t){return xo&21?(_s(t,e)||(t=hS(),ze.lanes|=t,wo|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,fn=!0),n.memoizedState=t)}function s2(n,e){var t=we;we=t!==0&&4>t?t:4,n(!0);var s=dg.transition;dg.transition={};try{n(!1),e()}finally{we=t,dg.transition=s}}function lE(){return es().memoizedState}function i2(n,e,t){var s=Br(n);if(t={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null},cE(n))uE(e,t);else if(t=$S(n,e,t,s),t!==null){var i=Zt();Cs(t,n,s,i),dE(t,e,s)}}function r2(n,e,t){var s=Br(n),i={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null};if(cE(n))uE(e,i);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,o=r(a,t);if(i.hasEagerState=!0,i.eagerState=o,_s(o,a)){var l=e.interleaved;l===null?(i.next=i,Wv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=$S(n,e,i,s),t!==null&&(i=Zt(),Cs(t,n,s,i),dE(t,e,s))}}function cE(n){var e=n.alternate;return n===ze||e!==null&&e===ze}function uE(n,e){Cu=Sp=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function dE(n,e,t){if(t&4194240){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,Rv(n,t)}}var Ep={readContext:Jn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},a2={readContext:Jn,useCallback:function(n,e){return Ns().memoizedState=[n,e===void 0?null:e],n},useContext:Jn,useEffect:nb,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Af(4194308,4,sE.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Af(4194308,4,n,e)},useInsertionEffect:function(n,e){return Af(4,2,n,e)},useMemo:function(n,e){var t=Ns();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var s=Ns();return e=t!==void 0?t(e):e,s.memoizedState=s.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},s.queue=n,n=n.dispatch=i2.bind(null,ze,n),[s.memoizedState,n]},useRef:function(n){var e=Ns();return n={current:n},e.memoizedState=n},useState:tb,useDebugValue:ex,useDeferredValue:function(n){return Ns().memoizedState=n},useTransition:function(){var n=tb(!1),e=n[0];return n=s2.bind(null,n[1]),Ns().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var s=ze,i=Ns();if(je){if(t===void 0)throw Error(j(407));t=t()}else{if(t=e(),bt===null)throw Error(j(349));xo&30||qS(s,e,t)}i.memoizedState=t;var r={value:t,getSnapshot:e};return i.queue=r,nb(QS.bind(null,s,r,n),[n]),s.flags|=2048,Qu(9,YS.bind(null,s,r,t,e),void 0,null),t},useId:function(){var n=Ns(),e=bt.identifierPrefix;if(je){var t=Mi,s=Li;t=(s&~(1<<32-Es(s)-1)).toString(32)+t,e=":"+e+"R"+t,t=qu++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=n2++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},o2={readContext:Jn,useCallback:rE,useContext:Jn,useEffect:Jv,useImperativeHandle:iE,useInsertionEffect:tE,useLayoutEffect:nE,useMemo:aE,useReducer:hg,useRef:eE,useState:function(){return hg(Yu)},useDebugValue:ex,useDeferredValue:function(n){var e=es();return oE(e,ct.memoizedState,n)},useTransition:function(){var n=hg(Yu)[0],e=es().memoizedState;return[n,e]},useMutableSource:KS,useSyncExternalStore:XS,useId:lE,unstable_isNewReconciler:!1},l2={readContext:Jn,useCallback:rE,useContext:Jn,useEffect:Jv,useImperativeHandle:iE,useInsertionEffect:tE,useLayoutEffect:nE,useMemo:aE,useReducer:fg,useRef:eE,useState:function(){return fg(Yu)},useDebugValue:ex,useDeferredValue:function(n){var e=es();return ct===null?e.memoizedState=n:oE(e,ct.memoizedState,n)},useTransition:function(){var n=fg(Yu)[0],e=es().memoizedState;return[n,e]},useMutableSource:KS,useSyncExternalStore:XS,useId:lE,unstable_isNewReconciler:!1};function as(n,e){if(n&&n.defaultProps){e=He({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function my(n,e,t,s){e=n.memoizedState,t=t(s,e),t=t==null?e:He({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var gm={isMounted:function(n){return(n=n._reactInternals)?Po(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var s=Zt(),i=Br(n),r=ji(s,i);r.payload=e,t!=null&&(r.callback=t),e=Fr(n,r,i),e!==null&&(Cs(e,n,i,s),wf(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var s=Zt(),i=Br(n),r=ji(s,i);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=Fr(n,r,i),e!==null&&(Cs(e,n,i,s),wf(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Zt(),s=Br(n),i=ji(t,s);i.tag=2,e!=null&&(i.callback=e),e=Fr(n,i,s),e!==null&&(Cs(e,n,s,t),wf(e,n,s))}};function sb(n,e,t,s,i,r,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,r,a):e.prototype&&e.prototype.isPureReactComponent?!Uu(t,s)||!Uu(i,r):!0}function hE(n,e,t){var s=!1,i=Ur,r=e.contextType;return typeof r=="object"&&r!==null?r=Jn(r):(i=gn(e)?yo:Wt.current,s=e.contextTypes,r=(s=s!=null)?wc(n,i):Ur),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gm,n.stateNode=e,e._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=r),e}function ib(n,e,t,s){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==n&&gm.enqueueReplaceState(e,e.state,null)}function gy(n,e,t,s){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},Gv(n);var r=e.contextType;typeof r=="object"&&r!==null?i.context=Jn(r):(r=gn(e)?yo:Wt.current,i.context=wc(n,r)),i.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(my(n,e,r,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gm.enqueueReplaceState(i,i.state,null),bp(n,t,i,s),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Ec(n,e){try{var t="",s=e;do t+=IP(s),s=s.return;while(s);var i=t}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:i,digest:null}}function pg(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function yy(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var c2=typeof WeakMap=="function"?WeakMap:Map;function fE(n,e,t){t=ji(-1,t),t.tag=3,t.payload={element:null};var s=e.value;return t.callback=function(){_p||(_p=!0,Ty=s),yy(n,e)},t}function pE(n,e,t){t=ji(-1,t),t.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;t.payload=function(){return s(i)},t.callback=function(){yy(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){yy(n,e),typeof s!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function rb(n,e,t){var s=n.pingCache;if(s===null){s=n.pingCache=new c2;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(t)||(i.add(t),n=S2.bind(null,n,e,t),e.then(n,n))}function ab(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function ob(n,e,t,s,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ji(-1,1),e.tag=2,Fr(t,e,1))),t.lanes|=1),n)}var u2=Ki.ReactCurrentOwner,fn=!1;function Yt(n,e,t,s){e.child=n===null?US(e,null,t,s):Ac(e,n.child,t,s)}function lb(n,e,t,s,i){t=t.render;var r=e.ref;return ml(e,i),s=Qv(n,e,t,s,r,i),t=Zv(),n!==null&&!fn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ui(n,e,i)):(je&&t&&Bv(e),e.flags|=1,Yt(n,e,s,i),e.child)}function cb(n,e,t,s,i){if(n===null){var r=t.type;return typeof r=="function"&&!lx(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,mE(n,e,r,s,i)):(n=_f(t.type,null,s,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&i)){var a=r.memoizedProps;if(t=t.compare,t=t!==null?t:Uu,t(a,s)&&n.ref===e.ref)return Ui(n,e,i)}return e.flags|=1,n=Vr(r,s),n.ref=e.ref,n.return=e,e.child=n}function mE(n,e,t,s,i){if(n!==null){var r=n.memoizedProps;if(Uu(r,s)&&n.ref===e.ref)if(fn=!1,e.pendingProps=s=r,(n.lanes&i)!==0)n.flags&131072&&(fn=!0);else return e.lanes=n.lanes,Ui(n,e,i)}return vy(n,e,t,s,i)}function gE(n,e,t){var s=e.pendingProps,i=s.children,r=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(il,kn),kn|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,_e(il,kn),kn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:t,_e(il,kn),kn|=s}else r!==null?(s=r.baseLanes|t,e.memoizedState=null):s=t,_e(il,kn),kn|=s;return Yt(n,e,i,t),e.child}function yE(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function vy(n,e,t,s,i){var r=gn(t)?yo:Wt.current;return r=wc(e,r),ml(e,i),t=Qv(n,e,t,s,r,i),s=Zv(),n!==null&&!fn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ui(n,e,i)):(je&&s&&Bv(e),e.flags|=1,Yt(n,e,t,i),e.child)}function ub(n,e,t,s,i){if(gn(t)){var r=!0;gp(e)}else r=!1;if(ml(e,i),e.stateNode===null)Sf(n,e),hE(e,t,s),gy(e,t,s,i),s=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=Jn(c):(c=gn(t)?yo:Wt.current,c=wc(e,c));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==s||l!==c)&&ib(e,a,s,c),Ji=!1;var p=e.memoizedState;a.state=p,bp(e,s,a,i),l=e.memoizedState,o!==s||p!==l||mn.current||Ji?(typeof d=="function"&&(my(e,t,d,s),l=e.memoizedState),(o=Ji||sb(e,t,o,s,p,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),a.props=s,a.state=l,a.context=c,s=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,WS(n,e),o=e.memoizedProps,c=e.type===e.elementType?o:as(e.type,o),a.props=c,h=e.pendingProps,p=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=Jn(l):(l=gn(t)?yo:Wt.current,l=wc(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||p!==l)&&ib(e,a,s,l),Ji=!1,p=e.memoizedState,a.state=p,bp(e,s,a,i);var y=e.memoizedState;o!==h||p!==y||mn.current||Ji?(typeof m=="function"&&(my(e,t,m,s),y=e.memoizedState),(c=Ji||sb(e,t,c,s,p,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),a.props=s,a.state=y,a.context=l,s=c):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),s=!1)}return xy(n,e,t,s,r,i)}function xy(n,e,t,s,i,r){yE(n,e);var a=(e.flags&128)!==0;if(!s&&!a)return i&&qw(e,t,!1),Ui(n,e,r);s=e.stateNode,u2.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,n!==null&&a?(e.child=Ac(e,n.child,null,r),e.child=Ac(e,null,o,r)):Yt(n,e,o,r),e.memoizedState=s.state,i&&qw(e,t,!0),e.child}function vE(n){var e=n.stateNode;e.pendingContext?Xw(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Xw(n,e.context,!1),Kv(n,e.containerInfo)}function db(n,e,t,s,i){return bc(),zv(i),e.flags|=256,Yt(n,e,t,s),e.child}var wy={dehydrated:null,treeContext:null,retryLane:0};function by(n){return{baseLanes:n,cachePool:null,transitions:null}}function xE(n,e,t){var s=e.pendingProps,i=Be.current,r=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!==0),o?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),_e(Be,i&1),n===null)return fy(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=s.children,n=s.fallback,r?(s=e.mode,r=e.child,a={mode:"hidden",children:a},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=a):r=xm(a,s,0,null),n=mo(n,s,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=by(t),e.memoizedState=wy,n):tx(e,a));if(i=n.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return d2(n,e,a,s,o,i,t);if(r){r=s.fallback,a=e.mode,i=n.child,o=i.sibling;var l={mode:"hidden",children:s.children};return!(a&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Vr(i,l),s.subtreeFlags=i.subtreeFlags&14680064),o!==null?r=Vr(o,r):(r=mo(r,a,t,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,a=n.child.memoizedState,a=a===null?by(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},r.memoizedState=a,r.childLanes=n.childLanes&~t,e.memoizedState=wy,s}return r=n.child,n=r.sibling,s=Vr(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=t),s.return=e,s.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=s,e.memoizedState=null,s}function tx(n,e){return e=xm({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Jh(n,e,t,s){return s!==null&&zv(s),Ac(e,n.child,null,t),n=tx(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function d2(n,e,t,s,i,r,a){if(t)return e.flags&256?(e.flags&=-257,s=pg(Error(j(422))),Jh(n,e,a,s)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=xm({mode:"visible",children:s.children},i,0,null),r=mo(r,i,a,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&Ac(e,n.child,null,a),e.child.memoizedState=by(a),e.memoizedState=wy,r);if(!(e.mode&1))return Jh(n,e,a,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var o=s.dgst;return s=o,r=Error(j(419)),s=pg(r,s,void 0),Jh(n,e,a,s)}if(o=(a&n.childLanes)!==0,fn||o){if(s=bt,s!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|a)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Hi(n,i),Cs(s,n,i,-1))}return ox(),s=pg(Error(j(421))),Jh(n,e,a,s)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=E2.bind(null,n),i._reactRetry=e,null):(n=r.treeContext,Nn=Ir(i.nextSibling),Rn=e,je=!0,As=null,n!==null&&(Gn[Kn++]=Li,Gn[Kn++]=Mi,Gn[Kn++]=vo,Li=n.id,Mi=n.overflow,vo=e),e=tx(e,s.children),e.flags|=4096,e)}function hb(n,e,t){n.lanes|=e;var s=n.alternate;s!==null&&(s.lanes|=e),py(n.return,e,t)}function mg(n,e,t,s,i){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=t,r.tailMode=i)}function wE(n,e,t){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(Yt(n,e,s.children,t),s=Be.current,s&2)s=s&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&hb(n,t,e);else if(n.tag===19)hb(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(_e(Be,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Ap(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),mg(e,!1,i,t,r);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Ap(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}mg(e,!0,t,null,r);break;case"together":mg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sf(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ui(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),wo|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(j(153));if(e.child!==null){for(n=e.child,t=Vr(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Vr(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function h2(n,e,t){switch(e.tag){case 3:vE(e),bc();break;case 5:GS(e);break;case 1:gn(e.type)&&gp(e);break;case 4:Kv(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;_e(xp,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(_e(Be,Be.current&1),e.flags|=128,null):t&e.child.childLanes?xE(n,e,t):(_e(Be,Be.current&1),n=Ui(n,e,t),n!==null?n.sibling:null);_e(Be,Be.current&1);break;case 19:if(s=(t&e.childLanes)!==0,n.flags&128){if(s)return wE(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Be,Be.current),s)break;return null;case 22:case 23:return e.lanes=0,gE(n,e,t)}return Ui(n,e,t)}var bE,Ay,AE,SE;bE=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Ay=function(){};AE=function(n,e,t,s){var i=n.memoizedProps;if(i!==s){n=e.stateNode,ma(Qs.current);var r=null;switch(t){case"input":i=$g(n,i),s=$g(n,s),r=[];break;case"select":i=He({},i,{value:void 0}),s=He({},s,{value:void 0}),r=[];break;case"textarea":i=Kg(n,i),s=Kg(n,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=pp)}qg(t,s);var a;t=null;for(c in i)if(!s.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Iu.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in s){var l=s[c];if(o=i!=null?i[c]:void 0,s.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(r||(r=[]),r.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Iu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Te("scroll",n),r||o===l||(r=[])):(r=r||[]).push(c,l))}t&&(r=r||[]).push("style",t);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};SE=function(n,e,t,s){t!==s&&(e.flags|=4)};function Wc(n,e){if(!je)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function Mt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,s=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=s,n.childLanes=t,e}function f2(n,e,t){var s=e.pendingProps;switch(Vv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return gn(e.type)&&mp(),Mt(e),null;case 3:return s=e.stateNode,Sc(),Pe(mn),Pe(Wt),qv(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Qh(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,As!==null&&(Ny(As),As=null))),Ay(n,e),Mt(e),null;case 5:Xv(e);var i=ma(Xu.current);if(t=e.type,n!==null&&e.stateNode!=null)AE(n,e,t,s,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(j(166));return Mt(e),null}if(n=ma(Qs.current),Qh(e)){s=e.stateNode,t=e.type;var r=e.memoizedProps;switch(s[qs]=e,s[Gu]=r,n=(e.mode&1)!==0,t){case"dialog":Te("cancel",s),Te("close",s);break;case"iframe":case"object":case"embed":Te("load",s);break;case"video":case"audio":for(i=0;i<eu.length;i++)Te(eu[i],s);break;case"source":Te("error",s);break;case"img":case"image":case"link":Te("error",s),Te("load",s);break;case"details":Te("toggle",s);break;case"input":bw(s,r),Te("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},Te("invalid",s);break;case"textarea":Sw(s,r),Te("invalid",s)}qg(t,r),i=null;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];a==="children"?typeof o=="string"?s.textContent!==o&&(r.suppressHydrationWarning!==!0&&Yh(s.textContent,o,n),i=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(r.suppressHydrationWarning!==!0&&Yh(s.textContent,o,n),i=["children",""+o]):Iu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Te("scroll",s)}switch(t){case"input":Hh(s),Aw(s,r,!0);break;case"textarea":Hh(s),Ew(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=pp)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=QA(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=a.createElement(t,{is:s.is}):(n=a.createElement(t),t==="select"&&(a=n,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):n=a.createElementNS(n,t),n[qs]=e,n[Gu]=s,bE(n,e,!1,!1),e.stateNode=n;e:{switch(a=Yg(t,s),t){case"dialog":Te("cancel",n),Te("close",n),i=s;break;case"iframe":case"object":case"embed":Te("load",n),i=s;break;case"video":case"audio":for(i=0;i<eu.length;i++)Te(eu[i],n);i=s;break;case"source":Te("error",n),i=s;break;case"img":case"image":case"link":Te("error",n),Te("load",n),i=s;break;case"details":Te("toggle",n),i=s;break;case"input":bw(n,s),i=$g(n,s),Te("invalid",n);break;case"option":i=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},i=He({},s,{value:void 0}),Te("invalid",n);break;case"textarea":Sw(n,s),i=Kg(n,s),Te("invalid",n);break;default:i=s}qg(t,i),o=i;for(r in o)if(o.hasOwnProperty(r)){var l=o[r];r==="style"?eS(n,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZA(n,l)):r==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Fu(n,l):typeof l=="number"&&Fu(n,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Iu.hasOwnProperty(r)?l!=null&&r==="onScroll"&&Te("scroll",n):l!=null&&Cv(n,r,l,a))}switch(t){case"input":Hh(n),Aw(n,s,!1);break;case"textarea":Hh(n),Ew(n);break;case"option":s.value!=null&&n.setAttribute("value",""+Hr(s.value));break;case"select":n.multiple=!!s.multiple,r=s.value,r!=null?dl(n,!!s.multiple,r,!1):s.defaultValue!=null&&dl(n,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=pp)}switch(t){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(n&&e.stateNode!=null)SE(n,e,n.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(j(166));if(t=ma(Xu.current),ma(Qs.current),Qh(e)){if(s=e.stateNode,t=e.memoizedProps,s[qs]=e,(r=s.nodeValue!==t)&&(n=Rn,n!==null))switch(n.tag){case 3:Yh(s.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Yh(s.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[qs]=e,e.stateNode=s}return Mt(e),null;case 13:if(Pe(Be),s=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(je&&Nn!==null&&e.mode&1&&!(e.flags&128))zS(),bc(),e.flags|=98560,r=!1;else if(r=Qh(e),s!==null&&s.dehydrated!==null){if(n===null){if(!r)throw Error(j(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(j(317));r[qs]=e}else bc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),r=!1}else As!==null&&(Ny(As),As=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(n===null||Be.current&1?dt===0&&(dt=3):ox())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return Sc(),Ay(n,e),n===null&&$u(e.stateNode.containerInfo),Mt(e),null;case 10:return $v(e.type._context),Mt(e),null;case 17:return gn(e.type)&&mp(),Mt(e),null;case 19:if(Pe(Be),r=e.memoizedState,r===null)return Mt(e),null;if(s=(e.flags&128)!==0,a=r.rendering,a===null)if(s)Wc(r,!1);else{if(dt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=Ap(n),a!==null){for(e.flags|=128,Wc(r,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=t,t=e.child;t!==null;)r=t,n=s,r.flags&=14680066,a=r.alternate,a===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,n=a.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return _e(Be,Be.current&1|2),e.child}n=n.sibling}r.tail!==null&&Qe()>Cc&&(e.flags|=128,s=!0,Wc(r,!1),e.lanes=4194304)}else{if(!s)if(n=Ap(a),n!==null){if(e.flags|=128,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Wc(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!je)return Mt(e),null}else 2*Qe()-r.renderingStartTime>Cc&&t!==1073741824&&(e.flags|=128,s=!0,Wc(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Qe(),e.sibling=null,t=Be.current,_e(Be,s?t&1|2:t&1),e):(Mt(e),null);case 22:case 23:return ax(),s=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?kn&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function p2(n,e){switch(Vv(e),e.tag){case 1:return gn(e.type)&&mp(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Sc(),Pe(mn),Pe(Wt),qv(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Xv(e),null;case 13:if(Pe(Be),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(j(340));bc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Pe(Be),null;case 4:return Sc(),null;case 10:return $v(e.type._context),null;case 22:case 23:return ax(),null;case 24:return null;default:return null}}var ef=!1,zt=!1,m2=typeof WeakSet=="function"?WeakSet:Set,V=null;function sl(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(s){Xe(n,e,s)}else t.current=null}function Sy(n,e,t){try{t()}catch(s){Xe(n,e,s)}}var fb=!1;function g2(n,e){if(ay=dp,n=kS(),Ov(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var s=t.getSelection&&t.getSelection();if(s&&s.rangeCount!==0){t=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(o=a+i),h!==r||s!==0&&h.nodeType!==3||(l=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++c===i&&(o=a),p===r&&++d===s&&(l=a),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(oy={focusedElem:n,selectionRange:t},dp=!1,V=e;V!==null;)if(e=V,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,V=n;else for(;V!==null;){e=V;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,S=y.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:as(e.type,v),S);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(C){Xe(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}return y=fb,fb=!1,y}function _u(n,e,t){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&n)===n){var r=i.destroy;i.destroy=void 0,r!==void 0&&Sy(e,t,r)}i=i.next}while(i!==s)}}function ym(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}}function Ey(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function EE(n){var e=n.alternate;e!==null&&(n.alternate=null,EE(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[qs],delete e[Gu],delete e[uy],delete e[ZN],delete e[JN])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function CE(n){return n.tag===5||n.tag===3||n.tag===4}function pb(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||CE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Cy(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=pp));else if(s!==4&&(n=n.child,n!==null))for(Cy(n,e,t),n=n.sibling;n!==null;)Cy(n,e,t),n=n.sibling}function _y(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(_y(n,e,t),n=n.sibling;n!==null;)_y(n,e,t),n=n.sibling}var _t=null,bs=!1;function Xi(n,e,t){for(t=t.child;t!==null;)_E(n,e,t),t=t.sibling}function _E(n,e,t){if(Ys&&typeof Ys.onCommitFiberUnmount=="function")try{Ys.onCommitFiberUnmount(cm,t)}catch{}switch(t.tag){case 5:zt||sl(t,e);case 6:var s=_t,i=bs;_t=null,Xi(n,e,t),_t=s,bs=i,_t!==null&&(bs?(n=_t,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):_t.removeChild(t.stateNode));break;case 18:_t!==null&&(bs?(n=_t,t=t.stateNode,n.nodeType===8?lg(n.parentNode,t):n.nodeType===1&&lg(n,t),zu(n)):lg(_t,t.stateNode));break;case 4:s=_t,i=bs,_t=t.stateNode.containerInfo,bs=!0,Xi(n,e,t),_t=s,bs=i;break;case 0:case 11:case 14:case 15:if(!zt&&(s=t.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,a=r.destroy;r=r.tag,a!==void 0&&(r&2||r&4)&&Sy(t,e,a),i=i.next}while(i!==s)}Xi(n,e,t);break;case 1:if(!zt&&(sl(t,e),s=t.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=t.memoizedProps,s.state=t.memoizedState,s.componentWillUnmount()}catch(o){Xe(t,e,o)}Xi(n,e,t);break;case 21:Xi(n,e,t);break;case 22:t.mode&1?(zt=(s=zt)||t.memoizedState!==null,Xi(n,e,t),zt=s):Xi(n,e,t);break;default:Xi(n,e,t)}}function mb(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new m2),e.forEach(function(s){var i=C2.bind(null,n,s);t.has(s)||(t.add(s),s.then(i,i))})}}function ss(n,e){var t=e.deletions;if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];try{var r=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:_t=o.stateNode,bs=!1;break e;case 3:_t=o.stateNode.containerInfo,bs=!0;break e;case 4:_t=o.stateNode.containerInfo,bs=!0;break e}o=o.return}if(_t===null)throw Error(j(160));_E(r,a,i),_t=null,bs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Xe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)TE(e,n),e=e.sibling}function TE(n,e){var t=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ss(e,n),ks(n),s&4){try{_u(3,n,n.return),ym(3,n)}catch(v){Xe(n,n.return,v)}try{_u(5,n,n.return)}catch(v){Xe(n,n.return,v)}}break;case 1:ss(e,n),ks(n),s&512&&t!==null&&sl(t,t.return);break;case 5:if(ss(e,n),ks(n),s&512&&t!==null&&sl(t,t.return),n.flags&32){var i=n.stateNode;try{Fu(i,"")}catch(v){Xe(n,n.return,v)}}if(s&4&&(i=n.stateNode,i!=null)){var r=n.memoizedProps,a=t!==null?t.memoizedProps:r,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&r.type==="radio"&&r.name!=null&&qA(i,r),Yg(o,a);var c=Yg(o,r);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?eS(i,h):d==="dangerouslySetInnerHTML"?ZA(i,h):d==="children"?Fu(i,h):Cv(i,d,h,c)}switch(o){case"input":Wg(i,r);break;case"textarea":YA(i,r);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var m=r.value;m!=null?dl(i,!!r.multiple,m,!1):p!==!!r.multiple&&(r.defaultValue!=null?dl(i,!!r.multiple,r.defaultValue,!0):dl(i,!!r.multiple,r.multiple?[]:"",!1))}i[Gu]=r}catch(v){Xe(n,n.return,v)}}break;case 6:if(ss(e,n),ks(n),s&4){if(n.stateNode===null)throw Error(j(162));i=n.stateNode,r=n.memoizedProps;try{i.nodeValue=r}catch(v){Xe(n,n.return,v)}}break;case 3:if(ss(e,n),ks(n),s&4&&t!==null&&t.memoizedState.isDehydrated)try{zu(e.containerInfo)}catch(v){Xe(n,n.return,v)}break;case 4:ss(e,n),ks(n);break;case 13:ss(e,n),ks(n),i=n.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(ix=Qe())),s&4&&mb(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(zt=(c=zt)||d,ss(e,n),zt=c):ss(e,n),ks(n),s&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(V=n,d=n.child;d!==null;){for(h=V=d;V!==null;){switch(p=V,m=p.child,p.tag){case 0:case 11:case 14:case 15:_u(4,p,p.return);break;case 1:sl(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){s=p,t=p.return;try{e=s,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){Xe(s,t,v)}}break;case 5:sl(p,p.return);break;case 22:if(p.memoizedState!==null){yb(h);continue}}m!==null?(m.return=p,V=m):yb(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=JA("display",a))}catch(v){Xe(n,n.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Xe(n,n.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ss(e,n),ks(n),s&4&&mb(n);break;case 21:break;default:ss(e,n),ks(n)}}function ks(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(CE(t)){var s=t;break e}t=t.return}throw Error(j(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Fu(i,""),s.flags&=-33);var r=pb(n);_y(n,r,i);break;case 3:case 4:var a=s.stateNode.containerInfo,o=pb(n);Cy(n,o,a);break;default:throw Error(j(161))}}catch(l){Xe(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function y2(n,e,t){V=n,kE(n)}function kE(n,e,t){for(var s=(n.mode&1)!==0;V!==null;){var i=V,r=i.child;if(i.tag===22&&s){var a=i.memoizedState!==null||ef;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||zt;o=ef;var c=zt;if(ef=a,(zt=l)&&!c)for(V=i;V!==null;)a=V,l=a.child,a.tag===22&&a.memoizedState!==null?vb(i):l!==null?(l.return=a,V=l):vb(i);for(;r!==null;)V=r,kE(r),r=r.sibling;V=i,ef=o,zt=c}gb(n)}else i.subtreeFlags&8772&&r!==null?(r.return=i,V=r):gb(n)}}function gb(n){for(;V!==null;){var e=V;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||ym(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!zt)if(t===null)s.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:as(e.type,t.memoizedProps);s.componentDidUpdate(i,t.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&eb(e,r,s);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}eb(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&zu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}zt||e.flags&512&&Ey(e)}catch(p){Xe(e,e.return,p)}}if(e===n){V=null;break}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}}function yb(n){for(;V!==null;){var e=V;if(e===n){V=null;break}var t=e.sibling;if(t!==null){t.return=e.return,V=t;break}V=e.return}}function vb(n){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ym(4,e)}catch(l){Xe(e,t,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(l){Xe(e,i,l)}}var r=e.return;try{Ey(e)}catch(l){Xe(e,r,l)}break;case 5:var a=e.return;try{Ey(e)}catch(l){Xe(e,a,l)}}}catch(l){Xe(e,e.return,l)}if(e===n){V=null;break}var o=e.sibling;if(o!==null){o.return=e.return,V=o;break}V=e.return}}var v2=Math.ceil,Cp=Ki.ReactCurrentDispatcher,nx=Ki.ReactCurrentOwner,Qn=Ki.ReactCurrentBatchConfig,he=0,bt=null,nt=null,kt=0,kn=0,il=Qr(0),dt=0,Zu=null,wo=0,vm=0,sx=0,Tu=null,hn=null,ix=0,Cc=1/0,si=null,_p=!1,Ty=null,Or=null,tf=!1,Rr=null,Tp=0,ku=0,ky=null,Ef=-1,Cf=0;function Zt(){return he&6?Qe():Ef!==-1?Ef:Ef=Qe()}function Br(n){return n.mode&1?he&2&&kt!==0?kt&-kt:t2.transition!==null?(Cf===0&&(Cf=hS()),Cf):(n=we,n!==0||(n=window.event,n=n===void 0?16:xS(n.type)),n):1}function Cs(n,e,t,s){if(50<ku)throw ku=0,ky=null,Error(j(185));Sh(n,t,s),(!(he&2)||n!==bt)&&(n===bt&&(!(he&2)&&(vm|=t),dt===4&&tr(n,kt)),yn(n,s),t===1&&he===0&&!(e.mode&1)&&(Cc=Qe()+500,pm&&Zr()))}function yn(n,e){var t=n.callbackNode;tN(n,e);var s=up(n,n===bt?kt:0);if(s===0)t!==null&&Tw(t),n.callbackNode=null,n.callbackPriority=0;else if(e=s&-s,n.callbackPriority!==e){if(t!=null&&Tw(t),e===1)n.tag===0?e2(xb.bind(null,n)):OS(xb.bind(null,n)),YN(function(){!(he&6)&&Zr()}),t=null;else{switch(fS(s)){case 1:t=Nv;break;case 4:t=uS;break;case 16:t=cp;break;case 536870912:t=dS;break;default:t=cp}t=IE(t,PE.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function PE(n,e){if(Ef=-1,Cf=0,he&6)throw Error(j(327));var t=n.callbackNode;if(gl()&&n.callbackNode!==t)return null;var s=up(n,n===bt?kt:0);if(s===0)return null;if(s&30||s&n.expiredLanes||e)e=kp(n,s);else{e=s;var i=he;he|=2;var r=RE();(bt!==n||kt!==e)&&(si=null,Cc=Qe()+500,po(n,e));do try{b2();break}catch(o){NE(n,o)}while(!0);Uv(),Cp.current=r,he=i,nt!==null?e=0:(bt=null,kt=0,e=dt)}if(e!==0){if(e===2&&(i=ty(n),i!==0&&(s=i,e=Py(n,i))),e===1)throw t=Zu,po(n,0),tr(n,s),yn(n,Qe()),t;if(e===6)tr(n,s);else{if(i=n.current.alternate,!(s&30)&&!x2(i)&&(e=kp(n,s),e===2&&(r=ty(n),r!==0&&(s=r,e=Py(n,r))),e===1))throw t=Zu,po(n,0),tr(n,s),yn(n,Qe()),t;switch(n.finishedWork=i,n.finishedLanes=s,e){case 0:case 1:throw Error(j(345));case 2:ia(n,hn,si);break;case 3:if(tr(n,s),(s&130023424)===s&&(e=ix+500-Qe(),10<e)){if(up(n,0)!==0)break;if(i=n.suspendedLanes,(i&s)!==s){Zt(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=cy(ia.bind(null,n,hn,si),e);break}ia(n,hn,si);break;case 4:if(tr(n,s),(s&4194240)===s)break;for(e=n.eventTimes,i=-1;0<s;){var a=31-Es(s);r=1<<a,a=e[a],a>i&&(i=a),s&=~r}if(s=i,s=Qe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*v2(s/1960))-s,10<s){n.timeoutHandle=cy(ia.bind(null,n,hn,si),s);break}ia(n,hn,si);break;case 5:ia(n,hn,si);break;default:throw Error(j(329))}}}return yn(n,Qe()),n.callbackNode===t?PE.bind(null,n):null}function Py(n,e){var t=Tu;return n.current.memoizedState.isDehydrated&&(po(n,e).flags|=256),n=kp(n,e),n!==2&&(e=hn,hn=t,e!==null&&Ny(e)),n}function Ny(n){hn===null?hn=n:hn.push.apply(hn,n)}function x2(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var s=0;s<t.length;s++){var i=t[s],r=i.getSnapshot;i=i.value;try{if(!_s(r(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function tr(n,e){for(e&=~sx,e&=~vm,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Es(e),s=1<<t;n[t]=-1,e&=~s}}function xb(n){if(he&6)throw Error(j(327));gl();var e=up(n,0);if(!(e&1))return yn(n,Qe()),null;var t=kp(n,e);if(n.tag!==0&&t===2){var s=ty(n);s!==0&&(e=s,t=Py(n,s))}if(t===1)throw t=Zu,po(n,0),tr(n,e),yn(n,Qe()),t;if(t===6)throw Error(j(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ia(n,hn,si),yn(n,Qe()),null}function rx(n,e){var t=he;he|=1;try{return n(e)}finally{he=t,he===0&&(Cc=Qe()+500,pm&&Zr())}}function bo(n){Rr!==null&&Rr.tag===0&&!(he&6)&&gl();var e=he;he|=1;var t=Qn.transition,s=we;try{if(Qn.transition=null,we=1,n)return n()}finally{we=s,Qn.transition=t,he=e,!(he&6)&&Zr()}}function ax(){kn=il.current,Pe(il)}function po(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,qN(t)),nt!==null)for(t=nt.return;t!==null;){var s=t;switch(Vv(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&mp();break;case 3:Sc(),Pe(mn),Pe(Wt),qv();break;case 5:Xv(s);break;case 4:Sc();break;case 13:Pe(Be);break;case 19:Pe(Be);break;case 10:$v(s.type._context);break;case 22:case 23:ax()}t=t.return}if(bt=n,nt=n=Vr(n.current,null),kt=kn=e,dt=0,Zu=null,sx=vm=wo=0,hn=Tu=null,pa!==null){for(e=0;e<pa.length;e++)if(t=pa[e],s=t.interleaved,s!==null){t.interleaved=null;var i=s.next,r=t.pending;if(r!==null){var a=r.next;r.next=i,s.next=a}t.pending=s}pa=null}return n}function NE(n,e){do{var t=nt;try{if(Uv(),bf.current=Ep,Sp){for(var s=ze.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Sp=!1}if(xo=0,wt=ct=ze=null,Cu=!1,qu=0,nx.current=null,t===null||t.return===null){dt=1,Zu=e,nt=null;break}e:{var r=n,a=t.return,o=t,l=e;if(e=kt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=ab(a);if(m!==null){m.flags&=-257,ob(m,a,o,r,e),m.mode&1&&rb(r,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){rb(r,c,e),ox();break e}l=Error(j(426))}}else if(je&&o.mode&1){var S=ab(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),ob(S,a,o,r,e),zv(Ec(l,o));break e}}r=l=Ec(l,o),dt!==4&&(dt=2),Tu===null?Tu=[r]:Tu.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=fE(r,l,e);Jw(r,g);break e;case 1:o=l;var x=r.type,w=r.stateNode;if(!(r.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Or===null||!Or.has(w)))){r.flags|=65536,e&=-e,r.lanes|=e;var C=pE(r,o,e);Jw(r,C);break e}}r=r.return}while(r!==null)}ME(t)}catch(_){e=_,nt===t&&t!==null&&(nt=t=t.return);continue}break}while(!0)}function RE(){var n=Cp.current;return Cp.current=Ep,n===null?Ep:n}function ox(){(dt===0||dt===3||dt===2)&&(dt=4),bt===null||!(wo&268435455)&&!(vm&268435455)||tr(bt,kt)}function kp(n,e){var t=he;he|=2;var s=RE();(bt!==n||kt!==e)&&(si=null,po(n,e));do try{w2();break}catch(i){NE(n,i)}while(!0);if(Uv(),he=t,Cp.current=s,nt!==null)throw Error(j(261));return bt=null,kt=0,dt}function w2(){for(;nt!==null;)LE(nt)}function b2(){for(;nt!==null&&!GP();)LE(nt)}function LE(n){var e=DE(n.alternate,n,kn);n.memoizedProps=n.pendingProps,e===null?ME(n):nt=e,nx.current=null}function ME(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=p2(t,e),t!==null){t.flags&=32767,nt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{dt=6,nt=null;return}}else if(t=f2(t,e,kn),t!==null){nt=t;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=n}while(e!==null);dt===0&&(dt=5)}function ia(n,e,t){var s=we,i=Qn.transition;try{Qn.transition=null,we=1,A2(n,e,t,s)}finally{Qn.transition=i,we=s}return null}function A2(n,e,t,s){do gl();while(Rr!==null);if(he&6)throw Error(j(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(j(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if(nN(n,r),n===bt&&(nt=bt=null,kt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||tf||(tf=!0,IE(cp,function(){return gl(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=Qn.transition,Qn.transition=null;var a=we;we=1;var o=he;he|=4,nx.current=null,g2(n,t),TE(t,n),HN(oy),dp=!!ay,oy=ay=null,n.current=t,y2(t),KP(),he=o,we=a,Qn.transition=r}else n.current=t;if(tf&&(tf=!1,Rr=n,Tp=i),r=n.pendingLanes,r===0&&(Or=null),YP(t.stateNode),yn(n,Qe()),e!==null)for(s=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],s(i.value,{componentStack:i.stack,digest:i.digest});if(_p)throw _p=!1,n=Ty,Ty=null,n;return Tp&1&&n.tag!==0&&gl(),r=n.pendingLanes,r&1?n===ky?ku++:(ku=0,ky=n):ku=0,Zr(),null}function gl(){if(Rr!==null){var n=fS(Tp),e=Qn.transition,t=we;try{if(Qn.transition=null,we=16>n?16:n,Rr===null)var s=!1;else{if(n=Rr,Rr=null,Tp=0,he&6)throw Error(j(331));var i=he;for(he|=4,V=n.current;V!==null;){var r=V,a=r.child;if(V.flags&16){var o=r.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(V=c;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:_u(8,d,r)}var h=d.child;if(h!==null)h.return=d,V=h;else for(;V!==null;){d=V;var p=d.sibling,m=d.return;if(EE(d),d===c){V=null;break}if(p!==null){p.return=m,V=p;break}V=m}}}var y=r.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}V=r}}if(r.subtreeFlags&2064&&a!==null)a.return=r,V=a;else e:for(;V!==null;){if(r=V,r.flags&2048)switch(r.tag){case 0:case 11:case 15:_u(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,V=g;break e}V=r.return}}var x=n.current;for(V=x;V!==null;){a=V;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,V=w;else e:for(a=x;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ym(9,o)}}catch(_){Xe(o,o.return,_)}if(o===a){V=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,V=C;break e}V=o.return}}if(he=i,Zr(),Ys&&typeof Ys.onPostCommitFiberRoot=="function")try{Ys.onPostCommitFiberRoot(cm,n)}catch{}s=!0}return s}finally{we=t,Qn.transition=e}}return!1}function wb(n,e,t){e=Ec(t,e),e=fE(n,e,1),n=Fr(n,e,1),e=Zt(),n!==null&&(Sh(n,1,e),yn(n,e))}function Xe(n,e,t){if(n.tag===3)wb(n,n,t);else for(;e!==null;){if(e.tag===3){wb(e,n,t);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Or===null||!Or.has(s))){n=Ec(t,n),n=pE(e,n,1),e=Fr(e,n,1),n=Zt(),e!==null&&(Sh(e,1,n),yn(e,n));break}}e=e.return}}function S2(n,e,t){var s=n.pingCache;s!==null&&s.delete(e),e=Zt(),n.pingedLanes|=n.suspendedLanes&t,bt===n&&(kt&t)===t&&(dt===4||dt===3&&(kt&130023424)===kt&&500>Qe()-ix?po(n,0):sx|=t),yn(n,e)}function jE(n,e){e===0&&(n.mode&1?(e=Wh,Wh<<=1,!(Wh&130023424)&&(Wh=4194304)):e=1);var t=Zt();n=Hi(n,e),n!==null&&(Sh(n,e,t),yn(n,t))}function E2(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),jE(n,t)}function C2(n,e){var t=0;switch(n.tag){case 13:var s=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(j(314))}s!==null&&s.delete(e),jE(n,t)}var DE;DE=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||mn.current)fn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return fn=!1,h2(n,e,t);fn=!!(n.flags&131072)}else fn=!1,je&&e.flags&1048576&&BS(e,vp,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Sf(n,e),n=e.pendingProps;var i=wc(e,Wt.current);ml(e,t),i=Qv(null,e,s,n,i,t);var r=Zv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(s)?(r=!0,gp(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gv(e),i.updater=gm,e.stateNode=i,i._reactInternals=e,gy(e,s,n,t),e=xy(null,e,s,!0,r,t)):(e.tag=0,je&&r&&Bv(e),Yt(null,e,i,t),e=e.child),e;case 16:s=e.elementType;e:{switch(Sf(n,e),n=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=T2(s),n=as(s,n),i){case 0:e=vy(null,e,s,n,t);break e;case 1:e=ub(null,e,s,n,t);break e;case 11:e=lb(null,e,s,n,t);break e;case 14:e=cb(null,e,s,as(s.type,n),t);break e}throw Error(j(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:as(s,i),vy(n,e,s,i,t);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:as(s,i),ub(n,e,s,i,t);case 3:e:{if(vE(e),n===null)throw Error(j(387));s=e.pendingProps,r=e.memoizedState,i=r.element,WS(n,e),bp(e,s,null,t);var a=e.memoizedState;if(s=a.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=Ec(Error(j(423)),e),e=db(n,e,s,t,i);break e}else if(s!==i){i=Ec(Error(j(424)),e),e=db(n,e,s,t,i);break e}else for(Nn=Ir(e.stateNode.containerInfo.firstChild),Rn=e,je=!0,As=null,t=US(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(bc(),s===i){e=Ui(n,e,t);break e}Yt(n,e,s,t)}e=e.child}return e;case 5:return GS(e),n===null&&fy(e),s=e.type,i=e.pendingProps,r=n!==null?n.memoizedProps:null,a=i.children,ly(s,i)?a=null:r!==null&&ly(s,r)&&(e.flags|=32),yE(n,e),Yt(n,e,a,t),e.child;case 6:return n===null&&fy(e),null;case 13:return xE(n,e,t);case 4:return Kv(e,e.stateNode.containerInfo),s=e.pendingProps,n===null?e.child=Ac(e,null,s,t):Yt(n,e,s,t),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:as(s,i),lb(n,e,s,i,t);case 7:return Yt(n,e,e.pendingProps,t),e.child;case 8:return Yt(n,e,e.pendingProps.children,t),e.child;case 12:return Yt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,a=i.value,_e(xp,s._currentValue),s._currentValue=a,r!==null)if(_s(r.value,a)){if(r.children===i.children&&!mn.current){e=Ui(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var o=r.dependencies;if(o!==null){a=r.child;for(var l=o.firstContext;l!==null;){if(l.context===s){if(r.tag===1){l=ji(-1,t&-t),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}r.lanes|=t,l=r.alternate,l!==null&&(l.lanes|=t),py(r.return,t,e),o.lanes|=t;break}l=l.next}}else if(r.tag===10)a=r.type===e.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(j(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),py(a,t,e),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}Yt(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,ml(e,t),i=Jn(i),s=s(i),e.flags|=1,Yt(n,e,s,t),e.child;case 14:return s=e.type,i=as(s,e.pendingProps),i=as(s.type,i),cb(n,e,s,i,t);case 15:return mE(n,e,e.type,e.pendingProps,t);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:as(s,i),Sf(n,e),e.tag=1,gn(s)?(n=!0,gp(e)):n=!1,ml(e,t),hE(e,s,i),gy(e,s,i,t),xy(null,e,s,!0,n,t);case 19:return wE(n,e,t);case 22:return gE(n,e,t)}throw Error(j(156,e.tag))};function IE(n,e){return cS(n,e)}function _2(n,e,t,s){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(n,e,t,s){return new _2(n,e,t,s)}function lx(n){return n=n.prototype,!(!n||!n.isReactComponent)}function T2(n){if(typeof n=="function")return lx(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Tv)return 11;if(n===kv)return 14}return 2}function Vr(n,e){var t=n.alternate;return t===null?(t=Yn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function _f(n,e,t,s,i,r){var a=2;if(s=n,typeof n=="function")lx(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Xo:return mo(t.children,i,r,e);case _v:a=8,i|=8;break;case Vg:return n=Yn(12,t,e,i|2),n.elementType=Vg,n.lanes=r,n;case zg:return n=Yn(13,t,e,i),n.elementType=zg,n.lanes=r,n;case Hg:return n=Yn(19,t,e,i),n.elementType=Hg,n.lanes=r,n;case GA:return xm(t,i,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case $A:a=10;break e;case WA:a=9;break e;case Tv:a=11;break e;case kv:a=14;break e;case Zi:a=16,s=null;break e}throw Error(j(130,n==null?n:typeof n,""))}return e=Yn(a,t,e,i),e.elementType=n,e.type=s,e.lanes=r,e}function mo(n,e,t,s){return n=Yn(7,n,s,e),n.lanes=t,n}function xm(n,e,t,s){return n=Yn(22,n,s,e),n.elementType=GA,n.lanes=t,n.stateNode={isHidden:!1},n}function gg(n,e,t){return n=Yn(6,n,null,e),n.lanes=t,n}function yg(n,e,t){return e=Yn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function k2(n,e,t,s,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qm(0),this.expirationTimes=Qm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qm(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cx(n,e,t,s,i,r,a,o,l){return n=new k2(n,e,t,o,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Yn(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:s,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gv(r),n}function P2(n,e,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:s==null?null:""+s,children:n,containerInfo:e,implementation:t}}function FE(n){if(!n)return Ur;n=n._reactInternals;e:{if(Po(n)!==n||n.tag!==1)throw Error(j(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(n.tag===1){var t=n.type;if(gn(t))return FS(n,t,e)}return e}function OE(n,e,t,s,i,r,a,o,l){return n=cx(t,s,!0,n,i,r,a,o,l),n.context=FE(null),t=n.current,s=Zt(),i=Br(t),r=ji(s,i),r.callback=e??null,Fr(t,r,i),n.current.lanes=i,Sh(n,i,s),yn(n,s),n}function wm(n,e,t,s){var i=e.current,r=Zt(),a=Br(i);return t=FE(t),e.context===null?e.context=t:e.pendingContext=t,e=ji(r,a),e.payload={element:n},s=s===void 0?null:s,s!==null&&(e.callback=s),n=Fr(i,e,a),n!==null&&(Cs(n,i,a,r),wf(n,i,a)),a}function Pp(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function bb(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function ux(n,e){bb(n,e),(n=n.alternate)&&bb(n,e)}function N2(){return null}var BE=typeof reportError=="function"?reportError:function(n){console.error(n)};function dx(n){this._internalRoot=n}bm.prototype.render=dx.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(j(409));wm(n,e,null,null)};bm.prototype.unmount=dx.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;bo(function(){wm(null,n,null,null)}),e[zi]=null}};function bm(n){this._internalRoot=n}bm.prototype.unstable_scheduleHydration=function(n){if(n){var e=gS();n={blockedOn:null,target:n,priority:e};for(var t=0;t<er.length&&e!==0&&e<er[t].priority;t++);er.splice(t,0,n),t===0&&vS(n)}};function hx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Am(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ab(){}function R2(n,e,t,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var c=Pp(a);r.call(c)}}var a=OE(e,s,n,0,null,!1,!1,"",Ab);return n._reactRootContainer=a,n[zi]=a.current,$u(n.nodeType===8?n.parentNode:n),bo(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof s=="function"){var o=s;s=function(){var c=Pp(l);o.call(c)}}var l=cx(n,0,!1,null,null,!1,!1,"",Ab);return n._reactRootContainer=l,n[zi]=l.current,$u(n.nodeType===8?n.parentNode:n),bo(function(){wm(e,l,t,s)}),l}function Sm(n,e,t,s,i){var r=t._reactRootContainer;if(r){var a=r;if(typeof i=="function"){var o=i;i=function(){var l=Pp(a);o.call(l)}}wm(e,a,n,i)}else a=R2(t,e,n,i,s);return Pp(a)}pS=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Jc(e.pendingLanes);t!==0&&(Rv(e,t|1),yn(e,Qe()),!(he&6)&&(Cc=Qe()+500,Zr()))}break;case 13:bo(function(){var s=Hi(n,1);if(s!==null){var i=Zt();Cs(s,n,1,i)}}),ux(n,1)}};Lv=function(n){if(n.tag===13){var e=Hi(n,134217728);if(e!==null){var t=Zt();Cs(e,n,134217728,t)}ux(n,134217728)}};mS=function(n){if(n.tag===13){var e=Br(n),t=Hi(n,e);if(t!==null){var s=Zt();Cs(t,n,e,s)}ux(n,e)}};gS=function(){return we};yS=function(n,e){var t=we;try{return we=n,e()}finally{we=t}};Zg=function(n,e,t){switch(e){case"input":if(Wg(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==n&&s.form===n.form){var i=fm(s);if(!i)throw Error(j(90));XA(s),Wg(s,i)}}}break;case"textarea":YA(n,t);break;case"select":e=t.value,e!=null&&dl(n,!!t.multiple,e,!1)}};sS=rx;iS=bo;var L2={usingClientEntryPoint:!1,Events:[Ch,Zo,fm,tS,nS,rx]},Gc={findFiberByHostInstance:fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M2={bundleType:Gc.bundleType,version:Gc.version,rendererPackageName:Gc.rendererPackageName,rendererConfig:Gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=oS(n),n===null?null:n.stateNode},findFiberByHostInstance:Gc.findFiberByHostInstance||N2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{cm=nf.inject(M2),Ys=nf}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L2;In.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hx(e))throw Error(j(200));return P2(n,e,null,t)};In.createRoot=function(n,e){if(!hx(n))throw Error(j(299));var t=!1,s="",i=BE;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cx(n,1,!1,null,null,t,!1,s,i),n[zi]=e.current,$u(n.nodeType===8?n.parentNode:n),new dx(e)};In.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(j(188)):(n=Object.keys(n).join(","),Error(j(268,n)));return n=oS(e),n=n===null?null:n.stateNode,n};In.flushSync=function(n){return bo(n)};In.hydrate=function(n,e,t){if(!Am(e))throw Error(j(200));return Sm(null,n,e,!0,t)};In.hydrateRoot=function(n,e,t){if(!hx(n))throw Error(j(405));var s=t!=null&&t.hydratedSources||null,i=!1,r="",a=BE;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=OE(e,null,n,1,t??null,i,!1,r,a),n[zi]=e.current,$u(n),s)for(n=0;n<s.length;n++)t=s[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new bm(e)};In.render=function(n,e,t){if(!Am(e))throw Error(j(200));return Sm(null,n,e,!1,t)};In.unmountComponentAtNode=function(n){if(!Am(n))throw Error(j(40));return n._reactRootContainer?(bo(function(){Sm(null,null,n,!1,function(){n._reactRootContainer=null,n[zi]=null})}),!0):!1};In.unstable_batchedUpdates=rx;In.unstable_renderSubtreeIntoContainer=function(n,e,t,s){if(!Am(t))throw Error(j(200));if(n==null||n._reactInternals===void 0)throw Error(j(38));return Sm(n,e,t,!1,s)};In.version="18.3.1-next-f1338f8080-20240426";function VE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VE)}catch(n){console.error(n)}}VE(),VA.exports=In;var j2=VA.exports,zE,Sb=j2;zE=Sb.createRoot,Sb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Ju.apply(this,arguments)}var Lr;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Lr||(Lr={}));const Eb="popstate";function D2(n){n===void 0&&(n={});function e(s,i){let{pathname:r,search:a,hash:o}=s.location;return Ry("",{pathname:r,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){return typeof i=="string"?i:Np(i)}return F2(e,t,null,n)}function st(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function HE(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I2(){return Math.random().toString(36).substr(2,8)}function Cb(n,e){return{usr:n.state,key:n.key,idx:e}}function Ry(n,e,t,s){return t===void 0&&(t=null),Ju({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Mc(e):e,{state:t,key:e&&e.key||s||I2()})}function Np(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Mc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function F2(n,e,t,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:r=!1}=s,a=i.history,o=Lr.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(Ju({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Lr.Pop;let S=d(),g=S==null?null:S-c;c=S,l&&l({action:o,location:v.location,delta:g})}function p(S,g){o=Lr.Push;let x=Ry(v.location,S,g);c=d()+1;let w=Cb(x,c),C=v.createHref(x);try{a.pushState(w,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(C)}r&&l&&l({action:o,location:v.location,delta:1})}function m(S,g){o=Lr.Replace;let x=Ry(v.location,S,g);c=d();let w=Cb(x,c),C=v.createHref(x);a.replaceState(w,"",C),r&&l&&l({action:o,location:v.location,delta:0})}function y(S){let g=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof S=="string"?S:Np(S);return x=x.replace(/ $/,"%20"),st(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let v={get action(){return o},get location(){return n(i,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Eb,h),l=S,()=>{i.removeEventListener(Eb,h),l=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let g=y(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(S){return a.go(S)}};return v}var _b;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(_b||(_b={}));function O2(n,e,t){return t===void 0&&(t="/"),B2(n,e,t,!1)}function B2(n,e,t,s){let i=typeof e=="string"?Mc(e):e,r=fx(i.pathname||"/",t);if(r==null)return null;let a=UE(n);V2(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=Q2(r);o=q2(a[l],c,s)}return o}function UE(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let i=(r,a,o)=>{let l={relativePath:o===void 0?r.path||"":o,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};l.relativePath.startsWith("/")&&(st(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=zr([s,l.relativePath]),d=t.concat(l);r.children&&r.children.length>0&&(st(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),UE(r.children,e,d,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:K2(c,r.index),routesMeta:d})};return n.forEach((r,a)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))i(r,a);else for(let l of $E(r.path))i(r,a,l)}),e}function $E(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,i=t.endsWith("?"),r=t.replace(/\?$/,"");if(s.length===0)return i?[r,""]:[r];let a=$E(s.join("/")),o=[];return o.push(...a.map(l=>l===""?r:[r,l].join("/"))),i&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function V2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:X2(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const z2=/^:[\w-]+$/,H2=3,U2=2,$2=1,W2=10,G2=-2,Tb=n=>n==="*";function K2(n,e){let t=n.split("/"),s=t.length;return t.some(Tb)&&(s+=G2),e&&(s+=U2),t.filter(i=>!Tb(i)).reduce((i,r)=>i+(z2.test(r)?H2:r===""?$2:W2),s)}function X2(n,e){return n.length===e.length&&n.slice(0,-1).every((s,i)=>s===e[i])?n[n.length-1]-e[e.length-1]:0}function q2(n,e,t){let{routesMeta:s}=n,i={},r="/",a=[];for(let o=0;o<s.length;++o){let l=s[o],c=o===s.length-1,d=r==="/"?e:e.slice(r.length)||"/",h=kb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&t&&!s[s.length-1].route.index&&(h=kb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:zr([r,h.pathname]),pathnameBase:tR(zr([r,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(r=zr([r,h.pathnameBase]))}return a}function kb(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=Y2(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let r=i[0],a=r.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:s.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let v=o[h]||"";a=r.slice(0,r.length-v.length).replace(/(.)\/+$/,"$1")}const y=o[h];return m&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:a,pattern:n}}function Y2(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),HE(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(s.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function Q2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return HE(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function fx(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function Z2(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:i=""}=typeof n=="string"?Mc(n):n;return{pathname:t?t.startsWith("/")?t:J2(t,e):e,search:nR(s),hash:sR(i)}}function J2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function vg(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function WE(n,e){let t=eR(n);return e?t.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function GE(n,e,t,s){s===void 0&&(s=!1);let i;typeof n=="string"?i=Mc(n):(i=Ju({},n),st(!i.pathname||!i.pathname.includes("?"),vg("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),vg("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),vg("#","search","hash",i)));let r=n===""||i.pathname==="",a=r?"/":i.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!s&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}o=h>=0?e[h]:"/"}let l=Z2(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(r||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const zr=n=>n.join("/").replace(/\/\/+/g,"/"),tR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),nR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function iR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const KE=["post","put","patch","delete"];new Set(KE);const rR=["get",...KE];new Set(rR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ed(){return ed=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ed.apply(this,arguments)}const px=T.createContext(null),aR=T.createContext(null),No=T.createContext(null),Em=T.createContext(null),Ro=T.createContext({outlet:null,matches:[],isDataRoute:!1}),XE=T.createContext(null);function oR(n,e){let{relative:t}=e===void 0?{}:e;Th()||st(!1);let{basename:s,navigator:i}=T.useContext(No),{hash:r,pathname:a,search:o}=YE(n,{relative:t}),l=a;return s!=="/"&&(l=a==="/"?s:zr([s,a])),i.createHref({pathname:l,search:o,hash:r})}function Th(){return T.useContext(Em)!=null}function kh(){return Th()||st(!1),T.useContext(Em).location}function qE(n){T.useContext(No).static||T.useLayoutEffect(n)}function mx(){let{isDataRoute:n}=T.useContext(Ro);return n?wR():lR()}function lR(){Th()||st(!1);let n=T.useContext(px),{basename:e,future:t,navigator:s}=T.useContext(No),{matches:i}=T.useContext(Ro),{pathname:r}=kh(),a=JSON.stringify(WE(i,t.v7_relativeSplatPath)),o=T.useRef(!1);return qE(()=>{o.current=!0}),T.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){s.go(c);return}let h=GE(c,JSON.parse(a),r,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:zr([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,a,r,n])}function YE(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=T.useContext(No),{matches:i}=T.useContext(Ro),{pathname:r}=kh(),a=JSON.stringify(WE(i,s.v7_relativeSplatPath));return T.useMemo(()=>GE(n,JSON.parse(a),r,t==="path"),[n,a,r,t])}function cR(n,e){return uR(n,e)}function uR(n,e,t,s){Th()||st(!1);let{navigator:i}=T.useContext(No),{matches:r}=T.useContext(Ro),a=r[r.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=kh(),d;if(e){var h;let S=typeof e=="string"?Mc(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||st(!1),d=S}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=O2(n,{pathname:m}),v=mR(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:zr([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:zr([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),r,t,s);return e&&v?T.createElement(Em.Provider,{value:{location:ed({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Lr.Pop}},v):v}function dR(){let n=xR(),e=iR(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:i},t):null,null)}const hR=T.createElement(dR,null);class fR extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(Ro.Provider,{value:this.props.routeContext},T.createElement(XE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pR(n){let{routeContext:e,match:t,children:s}=n,i=T.useContext(px);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Ro.Provider,{value:e},s)}function mR(n,e,t,s){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var r;if(!t)return null;if(t.errors)n=t.matches;else if((r=s)!=null&&r.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(i=t)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||st(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(t&&s&&s.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=t,y=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let m,y=!1,v=null,S=null;t&&(m=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||hR,l&&(c<0&&p===0?(y=!0,S=null):c===p&&(y=!0,S=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,p+1)),x=()=>{let w;return m?w=v:y?w=S:h.route.Component?w=T.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,T.createElement(pR,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:t!=null},children:w})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?T.createElement(fR,{location:t.location,revalidation:t.revalidation,component:v,error:m,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var QE=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(QE||{}),Rp=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Rp||{});function gR(n){let e=T.useContext(px);return e||st(!1),e}function yR(n){let e=T.useContext(aR);return e||st(!1),e}function vR(n){let e=T.useContext(Ro);return e||st(!1),e}function ZE(n){let e=vR(),t=e.matches[e.matches.length-1];return t.route.id||st(!1),t.route.id}function xR(){var n;let e=T.useContext(XE),t=yR(Rp.UseRouteError),s=ZE(Rp.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function wR(){let{router:n}=gR(QE.UseNavigateStable),e=ZE(Rp.UseNavigateStable),t=T.useRef(!1);return qE(()=>{t.current=!0}),T.useCallback(function(i,r){r===void 0&&(r={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,ed({fromRouteId:e},r)))},[n,e])}function bR(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function an(n){st(!1)}function AR(n){let{basename:e="/",children:t=null,location:s,navigationType:i=Lr.Pop,navigator:r,static:a=!1,future:o}=n;Th()&&st(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:r,static:a,future:ed({v7_relativeSplatPath:!1},o)}),[l,o,r,a]);typeof s=="string"&&(s=Mc(s));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:y="default"}=s,v=T.useMemo(()=>{let S=fx(d,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:m,key:y},navigationType:i}},[l,d,h,p,m,y,i]);return v==null?null:T.createElement(No.Provider,{value:c},T.createElement(Em.Provider,{children:t,value:v}))}function SR(n){let{children:e,location:t}=n;return cR(Ly(e),t)}new Promise(()=>{});function Ly(n,e){e===void 0&&(e=[]);let t=[];return T.Children.forEach(n,(s,i)=>{if(!T.isValidElement(s))return;let r=[...e,i];if(s.type===T.Fragment){t.push.apply(t,Ly(s.props.children,r));return}s.type!==an&&st(!1),!s.props.index||!s.props.children||st(!1);let a={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=Ly(s.props.children,r)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function My(){return My=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},My.apply(this,arguments)}function ER(n,e){if(n==null)return{};var t={},s=Object.keys(n),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function CR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _R(n,e){return n.button===0&&(!e||e==="_self")&&!CR(n)}const TR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kR="6";try{window.__reactRouterVersion=kR}catch{}const PR="startTransition",Pb=SP[PR];function NR(n){let{basename:e,children:t,future:s,window:i}=n,r=T.useRef();r.current==null&&(r.current=D2({window:i,v5Compat:!0}));let a=r.current,[o,l]=T.useState({action:a.action,location:a.location}),{v7_startTransition:c}=s||{},d=T.useCallback(h=>{c&&Pb?Pb(()=>l(h)):l(h)},[l,c]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.useEffect(()=>bR(s),[s]),T.createElement(AR,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:s})}const RR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MR=T.forwardRef(function(e,t){let{onClick:s,relative:i,reloadDocument:r,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=ER(e,TR),{basename:m}=T.useContext(No),y,v=!1;if(typeof c=="string"&&LR.test(c)&&(y=c,RR))try{let w=new URL(window.location.href),C=c.startsWith("//")?new URL(w.protocol+c):new URL(c),_=fx(C.pathname,m);C.origin===w.origin&&_!=null?c=_+C.search+C.hash:v=!0}catch{}let S=oR(c,{relative:i}),g=jR(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function x(w){s&&s(w),w.defaultPrevented||g(w)}return T.createElement("a",My({},p,{href:y||S,onClick:v||r?s:x,ref:t,target:l}))});var Nb;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Nb||(Nb={}));var Rb;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Rb||(Rb={}));function jR(n,e){let{target:t,replace:s,state:i,preventScrollReset:r,relative:a,viewTransition:o}=e===void 0?{}:e,l=mx(),c=kh(),d=YE(n,{relative:a});return T.useCallback(h=>{if(_R(h,t)){h.preventDefault();let p=s!==void 0?s:Np(c)===Np(d);l(n,{replace:p,state:i,preventScrollReset:r,relative:a,viewTransition:o})}},[c,l,d,s,i,t,n,r,a,o])}const gx=T.createContext({});function yx(n){const e=T.useRef(null);return e.current===null&&(e.current=n()),e.current}const Cm=T.createContext(null),vx=T.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class DR extends T.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function IR({children:n,isPresent:e}){const t=T.useId(),s=T.useRef(null),i=T.useRef({width:0,height:0,top:0,left:0}),{nonce:r}=T.useContext(vx);return T.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(e||!s.current||!a||!o)return;s.current.dataset.motionPopId=t;const d=document.createElement("style");return r&&(d.nonce=r),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),f.jsx(DR,{isPresent:e,childRef:s,sizeRef:i,children:T.cloneElement(n,{ref:s})})}const FR=({children:n,initial:e,isPresent:t,onExitComplete:s,custom:i,presenceAffectsLayout:r,mode:a})=>{const o=yx(OR),l=T.useId(),c=T.useCallback(h=>{o.set(h,!0);for(const p of o.values())if(!p)return;s&&s()},[o,s]),d=T.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:c,register:h=>(o.set(h,!1),()=>o.delete(h))}),r?[Math.random(),c]:[t,c]);return T.useMemo(()=>{o.forEach((h,p)=>o.set(p,!1))},[t]),T.useEffect(()=>{!t&&!o.size&&s&&s()},[t]),a==="popLayout"&&(n=f.jsx(IR,{isPresent:t,children:n})),f.jsx(Cm.Provider,{value:d,children:n})};function OR(){return new Map}function JE(n=!0){const e=T.useContext(Cm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:i}=e,r=T.useId();T.useEffect(()=>{n&&i(r)},[n]);const a=T.useCallback(()=>n&&s&&s(r),[r,s,n]);return!t&&s?[!1,a]:[!0]}const sf=n=>n.key||"";function Lb(n){const e=[];return T.Children.forEach(n,t=>{T.isValidElement(t)&&e.push(t)}),e}const xx=typeof window<"u",eC=xx?T.useLayoutEffect:T.useEffect,Lp=({children:n,custom:e,initial:t=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:r="sync",propagate:a=!1})=>{const[o,l]=JE(a),c=T.useMemo(()=>Lb(n),[n]),d=a&&!o?[]:c.map(sf),h=T.useRef(!0),p=T.useRef(c),m=yx(()=>new Map),[y,v]=T.useState(c),[S,g]=T.useState(c);eC(()=>{h.current=!1,p.current=c;for(let C=0;C<S.length;C++){const _=sf(S[C]);d.includes(_)?m.delete(_):m.get(_)!==!0&&m.set(_,!1)}},[S,d.length,d.join("-")]);const x=[];if(c!==y){let C=[...c];for(let _=0;_<S.length;_++){const k=S[_],P=sf(k);d.includes(P)||(C.splice(_,0,k),x.push(k))}r==="wait"&&x.length&&(C=x),g(Lb(C)),v(c);return}const{forceRender:w}=T.useContext(gx);return f.jsx(f.Fragment,{children:S.map(C=>{const _=sf(C),k=a&&!o?!1:c===S||d.includes(_),P=()=>{if(m.has(_))m.set(_,!0);else return;let N=!0;m.forEach(L=>{L||(N=!1)}),N&&(w==null||w(),g(p.current),a&&(l==null||l()),s&&s())};return f.jsx(FR,{isPresent:k,initial:!h.current||t?void 0:!1,custom:k?void 0:e,presenceAffectsLayout:i,mode:r,onExitComplete:k?void 0:P,children:C},_)})})},Ln=n=>n;let jy=Ln;function wx(n){let e;return()=>(e===void 0&&(e=n()),e)}const _c=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s},Di=n=>n*1e3,Ii=n=>n/1e3,BR={skipAnimations:!1,useManualTiming:!1};function VR(n){let e=new Set,t=new Set,s=!1,i=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){r.has(c)&&(l.schedule(c),n()),c(a)}const l={schedule:(c,d=!1,h=!1)=>{const m=h&&s?e:t;return d&&r.add(c),m.has(c)||m.add(c),c},cancel:c=>{t.delete(c),r.delete(c)},process:c=>{if(a=c,s){i=!0;return}s=!0,[e,t]=[t,e],e.forEach(o),e.clear(),s=!1,i&&(i=!1,l.process(c))}};return l}const rf=["read","resolveKeyframes","update","preRender","render","postRender"],zR=40;function tC(n,e){let t=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,a=rf.reduce((g,x)=>(g[x]=VR(r),g),{}),{read:o,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:p}=a,m=()=>{const g=performance.now();t=!1,i.delta=s?1e3/60:Math.max(Math.min(g-i.timestamp,zR),1),i.timestamp=g,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),h.process(i),p.process(i),i.isProcessing=!1,t&&e&&(s=!1,n(m))},y=()=>{t=!0,s=!0,i.isProcessing||n(m)};return{schedule:rf.reduce((g,x)=>{const w=a[x];return g[x]=(C,_=!1,k=!1)=>(t||y(),w.schedule(C,_,k)),g},{}),cancel:g=>{for(let x=0;x<rf.length;x++)a[rf[x]].cancel(g)},state:i,steps:a}}const{schedule:Ne,cancel:$r,state:Tt,steps:xg}=tC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ln,!0),nC=T.createContext({strict:!1}),Mb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tc={};for(const n in Mb)Tc[n]={isEnabled:e=>Mb[n].some(t=>!!e[t])};function HR(n){for(const e in n)Tc[e]={...Tc[e],...n[e]}}const UR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mp(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||UR.has(n)}let sC=n=>!Mp(n);function $R(n){n&&(sC=e=>e.startsWith("on")?!Mp(e):n(e))}try{$R(require("@emotion/is-prop-valid").default)}catch{}function WR(n,e,t){const s={};for(const i in n)i==="values"&&typeof n.values=="object"||(sC(i)||t===!0&&Mp(i)||!e&&!Mp(i)||n.draggable&&i.startsWith("onDrag"))&&(s[i]=n[i]);return s}function GR(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...s)=>n(...s);return new Proxy(t,{get:(s,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const _m=T.createContext({});function td(n){return typeof n=="string"||Array.isArray(n)}function Tm(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const bx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ax=["initial",...bx];function km(n){return Tm(n.animate)||Ax.some(e=>td(n[e]))}function iC(n){return!!(km(n)||n.variants)}function KR(n,e){if(km(n)){const{initial:t,animate:s}=n;return{initial:t===!1||td(t)?t:void 0,animate:td(s)?s:void 0}}return n.inherit!==!1?e:{}}function XR(n){const{initial:e,animate:t}=KR(n,T.useContext(_m));return T.useMemo(()=>({initial:e,animate:t}),[jb(e),jb(t)])}function jb(n){return Array.isArray(n)?n.join(" "):n}const qR=Symbol.for("motionComponentSymbol");function rl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function YR(n,e,t){return T.useCallback(s=>{s&&n.onMount&&n.onMount(s),e&&(s?e.mount(s):e.unmount()),t&&(typeof t=="function"?t(s):rl(t)&&(t.current=s))},[e])}const Sx=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QR="framerAppearId",rC="data-"+Sx(QR),{schedule:Ex,cancel:uB}=tC(queueMicrotask,!1),aC=T.createContext({});function ZR(n,e,t,s,i){var r,a;const{visualElement:o}=T.useContext(_m),l=T.useContext(nC),c=T.useContext(Cm),d=T.useContext(vx).reducedMotion,h=T.useRef(null);s=s||l.renderer,!h.current&&s&&(h.current=s(n,{visualState:e,parent:o,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,m=T.useContext(aC);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&JR(h.current,t,i,m);const y=T.useRef(!1);T.useInsertionEffect(()=>{p&&y.current&&p.update(t,c)});const v=t[rC],S=T.useRef(!!v&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,v))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,v)));return eC(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Ex.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),T.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,v)}),S.current=!1))}),p}function JR(n,e,t,s){const{layoutId:i,layout:r,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:oC(n.parent)),n.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!a||o&&rl(o),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,layoutScroll:l,layoutRoot:c})}function oC(n){if(n)return n.options.allowProjection!==!1?n.projection:oC(n.parent)}function eL({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:s,Component:i}){var r,a;n&&HR(n);function o(c,d){let h;const p={...T.useContext(vx),...c,layoutId:tL(c)},{isStatic:m}=p,y=XR(c),v=s(c,m);if(!m&&xx){nL();const S=sL(p);h=S.MeasureLayout,y.visualElement=ZR(i,v,p,e,S.ProjectionNode)}return f.jsxs(_m.Provider,{value:y,children:[h&&y.visualElement?f.jsx(h,{visualElement:y.visualElement,...p}):null,t(i,c,YR(v,y.visualElement,d),v,m,y.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(a=(r=i.displayName)!==null&&r!==void 0?r:i.name)!==null&&a!==void 0?a:""})`}`;const l=T.forwardRef(o);return l[qR]=i,l}function tL({layoutId:n}){const e=T.useContext(gx).id;return e&&n!==void 0?e+"-"+n:n}function nL(n,e){T.useContext(nC).strict}function sL(n){const{drag:e,layout:t}=Tc;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const iL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cx(n){return typeof n!="string"||n.includes("-")?!1:!!(iL.indexOf(n)>-1||/[A-Z]/u.test(n))}function Db(n){const e=[{},{}];return n==null||n.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function _x(n,e,t,s){if(typeof e=="function"){const[i,r]=Db(s);e=e(t!==void 0?t:n.custom,i,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,r]=Db(s);e=e(t!==void 0?t:n.custom,i,r)}return e}const Dy=n=>Array.isArray(n),rL=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),aL=n=>Dy(n)?n[n.length-1]||0:n,Ut=n=>!!(n&&n.getVelocity);function Tf(n){const e=Ut(n)?n.get():n;return rL(e)?e.toValue():e}function oL({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},s,i,r){const a={latestValues:lL(s,i,r,n),renderState:e()};return t&&(a.onMount=o=>t({props:s,current:o,...a}),a.onUpdate=o=>t(o)),a}const lC=n=>(e,t)=>{const s=T.useContext(_m),i=T.useContext(Cm),r=()=>oL(n,e,s,i);return t?r():yx(r)};function lL(n,e,t,s){const i={},r=s(n,{});for(const p in r)i[p]=Tf(r[p]);let{initial:a,animate:o}=n;const l=km(n),c=iC(n);e&&c&&!l&&n.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=t?t.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!Tm(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const y=_x(n,p[m]);if(y){const{transitionEnd:v,transition:S,...g}=y;for(const x in g){let w=g[x];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(i[x]=w)}for(const x in v)i[x]=v[x]}}}return i}const jc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lo=new Set(jc),cC=n=>e=>typeof e=="string"&&e.startsWith(n),uC=cC("--"),cL=cC("var(--"),Tx=n=>cL(n)?uL.test(n.split("/*")[0].trim()):!1,uL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dC=(n,e)=>e&&typeof n=="number"?e.transform(n):n,$i=(n,e,t)=>t>e?e:t<n?n:t,Dc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},nd={...Dc,transform:n=>$i(0,1,n)},af={...Dc,default:1},Ph=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),qi=Ph("deg"),Zs=Ph("%"),X=Ph("px"),dL=Ph("vh"),hL=Ph("vw"),Ib={...Zs,parse:n=>Zs.parse(n)/100,transform:n=>Zs.transform(n*100)},fL={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,backgroundPositionX:X,backgroundPositionY:X},pL={rotate:qi,rotateX:qi,rotateY:qi,rotateZ:qi,scale:af,scaleX:af,scaleY:af,scaleZ:af,skew:qi,skewX:qi,skewY:qi,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:nd,originX:Ib,originY:Ib,originZ:X},Fb={...Dc,transform:Math.round},kx={...fL,...pL,zIndex:Fb,size:X,fillOpacity:nd,strokeOpacity:nd,numOctaves:Fb},mL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gL=jc.length;function yL(n,e,t){let s="",i=!0;for(let r=0;r<gL;r++){const a=jc[r],o=n[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const c=dC(o,kx[a]);if(!l){i=!1;const d=mL[a]||a;s+=`${d}(${c}) `}t&&(e[a]=c)}}return s=s.trim(),t?s=t(e,i?"":s):i&&(s="none"),s}function Px(n,e,t){const{style:s,vars:i,transformOrigin:r}=n;let a=!1,o=!1;for(const l in e){const c=e[l];if(Lo.has(l)){a=!0;continue}else if(uC(l)){i[l]=c;continue}else{const d=dC(c,kx[l]);l.startsWith("origin")?(o=!0,r[l]=d):s[l]=d}}if(e.transform||(a||t?s.transform=yL(e,n.transform,t):s.transform&&(s.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=r;s.transformOrigin=`${l} ${c} ${d}`}}const vL={offset:"stroke-dashoffset",array:"stroke-dasharray"},xL={offset:"strokeDashoffset",array:"strokeDasharray"};function wL(n,e,t=1,s=0,i=!0){n.pathLength=1;const r=i?vL:xL;n[r.offset]=X.transform(-s);const a=X.transform(e),o=X.transform(t);n[r.array]=`${a} ${o}`}function Ob(n,e,t){return typeof n=="string"?n:X.transform(e+t*n)}function bL(n,e,t){const s=Ob(e,n.x,n.width),i=Ob(t,n.y,n.height);return`${s} ${i}`}function Nx(n,{attrX:e,attrY:t,attrScale:s,originX:i,originY:r,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},d,h){if(Px(n,c,h),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:y}=n;p.transform&&(y&&(m.transform=p.transform),delete p.transform),y&&(i!==void 0||r!==void 0||m.transform)&&(m.transformOrigin=bL(y,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),s!==void 0&&(p.scale=s),a!==void 0&&wL(p,a,o,l,!1)}const Rx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),hC=()=>({...Rx(),attrs:{}}),Lx=n=>typeof n=="string"&&n.toLowerCase()==="svg";function fC(n,{style:e,vars:t},s,i){Object.assign(n.style,e,i&&i.getProjectionStyles(s));for(const r in t)n.style.setProperty(r,t[r])}const pC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mC(n,e,t,s){fC(n,e,void 0,s);for(const i in e.attrs)n.setAttribute(pC.has(i)?i:Sx(i),e.attrs[i])}const jp={};function AL(n){Object.assign(jp,n)}function gC(n,{layout:e,layoutId:t}){return Lo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!jp[n]||n==="opacity")}function Mx(n,e,t){var s;const{style:i}=n,r={};for(const a in i)(Ut(i[a])||e.style&&Ut(e.style[a])||gC(a,n)||((s=t==null?void 0:t.getValue(a))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(r[a]=i[a]);return r}function yC(n,e,t){const s=Mx(n,e,t);for(const i in n)if(Ut(n[i])||Ut(e[i])){const r=jc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=n[i]}return s}function SL(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Bb=["x","y","width","height","cx","cy","r"],EL={useVisualState:lC({scrapeMotionValuesFromProps:yC,createRenderState:hC,onUpdate:({props:n,prevProps:e,current:t,renderState:s,latestValues:i})=>{if(!t)return;let r=!!n.drag;if(!r){for(const o in i)if(Lo.has(o)){r=!0;break}}if(!r)return;let a=!e;if(e)for(let o=0;o<Bb.length;o++){const l=Bb[o];n[l]!==e[l]&&(a=!0)}a&&Ne.read(()=>{SL(t,s),Ne.render(()=>{Nx(s,i,Lx(t.tagName),n.transformTemplate),mC(t,s)})})}})},CL={useVisualState:lC({scrapeMotionValuesFromProps:Mx,createRenderState:Rx})};function vC(n,e,t){for(const s in e)!Ut(e[s])&&!gC(s,t)&&(n[s]=e[s])}function _L({transformTemplate:n},e){return T.useMemo(()=>{const t=Rx();return Px(t,e,n),Object.assign({},t.vars,t.style)},[e])}function TL(n,e){const t=n.style||{},s={};return vC(s,t,n),Object.assign(s,_L(n,e)),s}function kL(n,e){const t={},s=TL(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=s,t}function PL(n,e,t,s){const i=T.useMemo(()=>{const r=hC();return Nx(r,e,Lx(s),n.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};vC(r,n.style,n),i.style={...r,...i.style}}return i}function NL(n=!1){return(t,s,i,{latestValues:r},a)=>{const l=(Cx(t)?PL:kL)(s,r,a,t),c=WR(s,typeof t=="string",n),d=t!==T.Fragment?{...c,...l,ref:i}:{},{children:h}=s,p=T.useMemo(()=>Ut(h)?h.get():h,[h]);return T.createElement(t,{...d,children:p})}}function RL(n,e){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...Cx(s)?EL:CL,preloadedFeatures:n,useRender:NL(i),createVisualElement:e,Component:s};return eL(a)}}function xC(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}function Pm(n,e,t){const s=n.getProps();return _x(s,e,t!==void 0?t:s.custom,n)}const LL=wx(()=>window.ScrollTimeline!==void 0);class ML{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=t}attachTimeline(e,t){const s=this.animations.map(i=>{if(LL()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{s.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class jL extends ML{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function jx(n,e){return n?n[e]||n.default||n:void 0}const Iy=2e4;function wC(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<Iy;)e+=t,s=n.next(e);return e>=Iy?1/0:e}function Dx(n){return typeof n=="function"}function Vb(n,e){n.timeline=e,n.onfinish=null}const Ix=n=>Array.isArray(n)&&typeof n[0]=="number",DL={linearEasing:void 0};function IL(n,e){const t=wx(n);return()=>{var s;return(s=DL[e])!==null&&s!==void 0?s:t()}}const Dp=IL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bC=(n,e,t=10)=>{let s="";const i=Math.max(Math.round(e/t),2);for(let r=0;r<i;r++)s+=n(_c(0,i-1,r))+", ";return`linear(${s.substring(0,s.length-2)})`};function AC(n){return!!(typeof n=="function"&&Dp()||!n||typeof n=="string"&&(n in Fy||Dp())||Ix(n)||Array.isArray(n)&&n.every(AC))}const tu=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,Fy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tu([0,.65,.55,1]),circOut:tu([.55,0,1,.45]),backIn:tu([.31,.01,.66,-.59]),backOut:tu([.33,1.53,.69,.99])};function SC(n,e){if(n)return typeof n=="function"&&Dp()?bC(n,e):Ix(n)?tu(n):Array.isArray(n)?n.map(t=>SC(t,e)||Fy.easeOut):Fy[n]}const is={x:!1,y:!1};function EC(){return is.x||is.y}function FL(n,e,t){var s;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const r=(s=void 0)!==null&&s!==void 0?s:i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}function CC(n,e){const t=FL(n),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[t,i,()=>s.abort()]}function zb(n){return e=>{e.pointerType==="touch"||EC()||n(e)}}function OL(n,e,t={}){const[s,i,r]=CC(n,t),a=zb(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const d=zb(h=>{c(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return s.forEach(o=>{o.addEventListener("pointerenter",a,i)}),r}const _C=(n,e)=>e?n===e?!0:_C(n,e.parentElement):!1,Fx=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,BL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function VL(n){return BL.has(n.tagName)||n.tabIndex!==-1}const nu=new WeakSet;function Hb(n){return e=>{e.key==="Enter"&&n(e)}}function wg(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zL=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=Hb(()=>{if(nu.has(t))return;wg(t,"down");const i=Hb(()=>{wg(t,"up")}),r=()=>wg(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function Ub(n){return Fx(n)&&!EC()}function HL(n,e,t={}){const[s,i,r]=CC(n,t),a=o=>{const l=o.currentTarget;if(!Ub(o)||nu.has(l))return;nu.add(l);const c=e(o),d=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!Ub(m)||!nu.has(l))&&(nu.delete(l),typeof c=="function"&&c(m,{success:y}))},h=m=>{d(m,t.useGlobalTarget||_C(l,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return s.forEach(o=>{!VL(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(t.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",c=>zL(c,i),i)}),r}function UL(n){return n==="x"||n==="y"?is[n]?null:(is[n]=!0,()=>{is[n]=!1}):is.x||is.y?null:(is.x=is.y=!0,()=>{is.x=is.y=!1})}const TC=new Set(["width","height","top","left","right","bottom",...jc]);let kf;function $L(){kf=void 0}const Js={now:()=>(kf===void 0&&Js.set(Tt.isProcessing||BR.useManualTiming?Tt.timestamp:performance.now()),kf),set:n=>{kf=n,queueMicrotask($L)}};function Ox(n,e){n.indexOf(e)===-1&&n.push(e)}function Bx(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Vx{constructor(){this.subscriptions=[]}add(e){return Ox(this.subscriptions,e),()=>Bx(this.subscriptions,e)}notify(e,t,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,s);else for(let r=0;r<i;r++){const a=this.subscriptions[r];a&&a(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function kC(n,e){return e?n*(1e3/e):0}const $b=30,WL=n=>!isNaN(parseFloat(n));class GL{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{const r=Js.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Js.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=WL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Vx);const s=this.events[e].add(t);return e==="change"?()=>{s(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Js.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$b)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,$b);return kC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sd(n,e){return new GL(n,e)}function KL(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,sd(t))}function XL(n,e){const t=Pm(n,e);let{transitionEnd:s={},transition:i={},...r}=t||{};r={...r,...s};for(const a in r){const o=aL(r[a]);KL(n,a,o)}}function qL(n){return!!(Ut(n)&&n.add)}function Oy(n,e){const t=n.getValue("willChange");if(qL(t))return t.add(e)}function PC(n){return n.props[rC]}const NC=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,YL=1e-7,QL=12;function ZL(n,e,t,s,i){let r,a,o=0;do a=e+(t-e)/2,r=NC(a,s,i)-n,r>0?t=a:e=a;while(Math.abs(r)>YL&&++o<QL);return a}function Nh(n,e,t,s){if(n===e&&t===s)return Ln;const i=r=>ZL(r,0,1,n,t);return r=>r===0||r===1?r:NC(i(r),e,s)}const RC=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,LC=n=>e=>1-n(1-e),MC=Nh(.33,1.53,.69,.99),zx=LC(MC),jC=RC(zx),DC=n=>(n*=2)<1?.5*zx(n):.5*(2-Math.pow(2,-10*(n-1))),Hx=n=>1-Math.sin(Math.acos(n)),IC=LC(Hx),FC=RC(Hx),OC=n=>/^0[^.\s]+$/u.test(n);function JL(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||OC(n):!0}const Pu=n=>Math.round(n*1e5)/1e5,Ux=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eM(n){return n==null}const tM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$x=(n,e)=>t=>!!(typeof t=="string"&&tM.test(t)&&t.startsWith(n)||e&&!eM(t)&&Object.prototype.hasOwnProperty.call(t,e)),BC=(n,e,t)=>s=>{if(typeof s!="string")return s;const[i,r,a,o]=s.match(Ux);return{[n]:parseFloat(i),[e]:parseFloat(r),[t]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},nM=n=>$i(0,255,n),bg={...Dc,transform:n=>Math.round(nM(n))},ga={test:$x("rgb","red"),parse:BC("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+bg.transform(n)+", "+bg.transform(e)+", "+bg.transform(t)+", "+Pu(nd.transform(s))+")"};function sM(n){let e="",t="",s="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const By={test:$x("#"),parse:sM,transform:ga.transform},al={test:$x("hsl","hue"),parse:BC("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+Zs.transform(Pu(e))+", "+Zs.transform(Pu(t))+", "+Pu(nd.transform(s))+")"},Vt={test:n=>ga.test(n)||By.test(n)||al.test(n),parse:n=>ga.test(n)?ga.parse(n):al.test(n)?al.parse(n):By.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ga.transform(n):al.transform(n)},iM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rM(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Ux))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(iM))===null||t===void 0?void 0:t.length)||0)>0}const VC="number",zC="color",aM="var",oM="var(",Wb="${}",lM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function id(n){const e=n.toString(),t=[],s={color:[],number:[],var:[]},i=[];let r=0;const o=e.replace(lM,l=>(Vt.test(l)?(s.color.push(r),i.push(zC),t.push(Vt.parse(l))):l.startsWith(oM)?(s.var.push(r),i.push(aM),t.push(l)):(s.number.push(r),i.push(VC),t.push(parseFloat(l))),++r,Wb)).split(Wb);return{values:t,split:o,indexes:s,types:i}}function HC(n){return id(n).values}function UC(n){const{split:e,types:t}=id(n),s=e.length;return i=>{let r="";for(let a=0;a<s;a++)if(r+=e[a],i[a]!==void 0){const o=t[a];o===VC?r+=Pu(i[a]):o===zC?r+=Vt.transform(i[a]):r+=i[a]}return r}}const cM=n=>typeof n=="number"?0:n;function uM(n){const e=HC(n);return UC(n)(e.map(cM))}const Wr={test:rM,parse:HC,createTransformer:UC,getAnimatableNone:uM},dM=new Set(["brightness","contrast","saturate","opacity"]);function hM(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(Ux)||[];if(!s)return n;const i=t.replace(s,"");let r=dM.has(e)?1:0;return s!==t&&(r*=100),e+"("+r+i+")"}const fM=/\b([a-z-]*)\(.*?\)/gu,Vy={...Wr,getAnimatableNone:n=>{const e=n.match(fM);return e?e.map(hM).join(" "):n}},pM={...kx,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:Vy,WebkitFilter:Vy},Wx=n=>pM[n];function $C(n,e){let t=Wx(n);return t!==Vy&&(t=Wr),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const mM=new Set(["auto","none","0"]);function gM(n,e,t){let s=0,i;for(;s<n.length&&!i;){const r=n[s];typeof r=="string"&&!mM.has(r)&&id(r).values.length&&(i=n[s]),s++}if(i&&t)for(const r of e)n[r]=$C(t,i)}const Gb=n=>n===Dc||n===X,Kb=(n,e)=>parseFloat(n.split(", ")[e]),Xb=(n,e)=>(t,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/u);if(i)return Kb(i[1],e);{const r=s.match(/^matrix\((.+)\)$/u);return r?Kb(r[1],n):0}},yM=new Set(["x","y","z"]),vM=jc.filter(n=>!yM.has(n));function xM(n){const e=[];return vM.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const kc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Xb(4,13),y:Xb(5,14)};kc.translateX=kc.x;kc.translateY=kc.y;const go=new Set;let zy=!1,Hy=!1;function WC(){if(Hy){const n=Array.from(go).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),t=new Map;e.forEach(s=>{const i=xM(s);i.length&&(t.set(s,i),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=t.get(s);i&&i.forEach(([r,a])=>{var o;(o=s.getValue(r))===null||o===void 0||o.set(a)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Hy=!1,zy=!1,go.forEach(n=>n.complete()),go.clear()}function GC(){go.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Hy=!0)})}function wM(){GC(),WC()}class Gx{constructor(e,t,s,i,r,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=i,this.element=r,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(go.add(this),zy||(zy=!0,Ne.read(GC),Ne.resolveKeyframes(WC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:i}=this;for(let r=0;r<e.length;r++)if(e[r]===null)if(r===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&t){const l=s.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),go.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,go.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const KC=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),bM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AM(n){const e=bM.exec(n);if(!e)return[,];const[,t,s,i]=e;return[`--${t??s}`,i]}function XC(n,e,t=1){const[s,i]=AM(n);if(!s)return;const r=window.getComputedStyle(e).getPropertyValue(s);if(r){const a=r.trim();return KC(a)?parseFloat(a):a}return Tx(i)?XC(i,e,t+1):i}const qC=n=>e=>e.test(n),SM={test:n=>n==="auto",parse:n=>n},YC=[Dc,X,Zs,qi,hL,dL,SM],qb=n=>YC.find(qC(n));class QC extends Gx{constructor(e,t,s,i,r){super(e,t,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Tx(c))){const d=XC(c,t.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!TC.has(s)||e.length!==2)return;const[i,r]=e,a=qb(i),o=qb(r);if(a!==o)if(Gb(a)&&Gb(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let i=0;i<e.length;i++)JL(e[i])&&s.push(i);s.length&&gM(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kc[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:s,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(s);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=kc[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const Yb=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Wr.test(n)||n==="0")&&!n.startsWith("url("));function EM(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function CM(n,e,t,s){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],a=Yb(i,e),o=Yb(r,e);return!a||!o?!1:EM(n)||(t==="spring"||Dx(t))&&s}const _M=n=>n!==null;function Nm(n,{repeat:e,repeatType:t="loop"},s){const i=n.filter(_M),r=e&&t!=="loop"&&e%2===1?0:i.length-1;return!r||s===void 0?i[r]:s}const TM=40;class ZC{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Js.now(),this.options={autoplay:e,delay:t,type:s,repeat:i,repeatDelay:r,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>TM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&wM(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Js.now(),this.hasAttemptedResolve=!0;const{name:s,type:i,velocity:r,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!CM(e,s,i,r))if(a)this.options.duration=0;else{l&&l(Nm(e,this.options,t)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,t);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...d},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ve=(n,e,t)=>n+(e-n)*t;function Ag(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function kM({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let i=0,r=0,a=0;if(!e)i=r=a=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=Ag(l,o,n+1/3),r=Ag(l,o,n),a=Ag(l,o,n-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:s}}function Ip(n,e){return t=>t>0?e:n}const Sg=(n,e,t)=>{const s=n*n,i=t*(e*e-s)+s;return i<0?0:Math.sqrt(i)},PM=[By,ga,al],NM=n=>PM.find(e=>e.test(n));function Qb(n){const e=NM(n);if(!e)return!1;let t=e.parse(n);return e===al&&(t=kM(t)),t}const Zb=(n,e)=>{const t=Qb(n),s=Qb(e);if(!t||!s)return Ip(n,e);const i={...t};return r=>(i.red=Sg(t.red,s.red,r),i.green=Sg(t.green,s.green,r),i.blue=Sg(t.blue,s.blue,r),i.alpha=Ve(t.alpha,s.alpha,r),ga.transform(i))},RM=(n,e)=>t=>e(n(t)),Rh=(...n)=>n.reduce(RM),Uy=new Set(["none","hidden"]);function LM(n,e){return Uy.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function MM(n,e){return t=>Ve(n,e,t)}function Kx(n){return typeof n=="number"?MM:typeof n=="string"?Tx(n)?Ip:Vt.test(n)?Zb:IM:Array.isArray(n)?JC:typeof n=="object"?Vt.test(n)?Zb:jM:Ip}function JC(n,e){const t=[...n],s=t.length,i=n.map((r,a)=>Kx(r)(r,e[a]));return r=>{for(let a=0;a<s;a++)t[a]=i[a](r);return t}}function jM(n,e){const t={...n,...e},s={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(s[i]=Kx(n[i])(n[i],e[i]));return i=>{for(const r in s)t[r]=s[r](i);return t}}function DM(n,e){var t;const s=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],o=n.indexes[a][i[a]],l=(t=n.values[o])!==null&&t!==void 0?t:0;s[r]=l,i[a]++}return s}const IM=(n,e)=>{const t=Wr.createTransformer(e),s=id(n),i=id(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Uy.has(n)&&!i.values.length||Uy.has(e)&&!s.values.length?LM(n,e):Rh(JC(DM(s,i),i.values),t):Ip(n,e)};function e_(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Ve(n,e,t):Kx(n)(n,e)}const FM=5;function t_(n,e,t){const s=Math.max(e-FM,0);return kC(t-n(s),e-s)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Eg=.001;function OM({duration:n=Ke.duration,bounce:e=Ke.bounce,velocity:t=Ke.velocity,mass:s=Ke.mass}){let i,r,a=1-e;a=$i(Ke.minDamping,Ke.maxDamping,a),n=$i(Ke.minDuration,Ke.maxDuration,Ii(n)),a<1?(i=c=>{const d=c*a,h=d*n,p=d-t,m=$y(c,a),y=Math.exp(-h);return Eg-p/m*y},r=c=>{const h=c*a*n,p=h*t+t,m=Math.pow(a,2)*Math.pow(c,2)*n,y=Math.exp(-h),v=$y(Math.pow(c,2),a);return(-i(c)+Eg>0?-1:1)*((p-m)*y)/v}):(i=c=>{const d=Math.exp(-c*n),h=(c-t)*n+1;return-Eg+d*h},r=c=>{const d=Math.exp(-c*n),h=(t-c)*(n*n);return d*h});const o=5/n,l=VM(i,r,o);if(n=Di(n),isNaN(l))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:n};{const c=Math.pow(l,2)*s;return{stiffness:c,damping:a*2*Math.sqrt(s*c),duration:n}}}const BM=12;function VM(n,e,t){let s=t;for(let i=1;i<BM;i++)s=s-n(s)/e(s);return s}function $y(n,e){return n*Math.sqrt(1-e*e)}const zM=["duration","bounce"],HM=["stiffness","damping","mass"];function Jb(n,e){return e.some(t=>n[t]!==void 0)}function UM(n){let e={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...n};if(!Jb(n,HM)&&Jb(n,zM))if(n.visualDuration){const t=n.visualDuration,s=2*Math.PI/(t*1.2),i=s*s,r=2*$i(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Ke.mass,stiffness:i,damping:r}}else{const t=OM(n);e={...e,...t,mass:Ke.mass},e.isResolvedFromDuration=!0}return e}function n_(n=Ke.visualDuration,e=Ke.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:i}=t;const r=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=UM({...t,velocity:-Ii(t.velocity||0)}),y=p||0,v=c/(2*Math.sqrt(l*d)),S=a-r,g=Ii(Math.sqrt(l/d)),x=Math.abs(S)<5;s||(s=x?Ke.restSpeed.granular:Ke.restSpeed.default),i||(i=x?Ke.restDelta.granular:Ke.restDelta.default);let w;if(v<1){const _=$y(g,v);w=k=>{const P=Math.exp(-v*g*k);return a-P*((y+v*g*S)/_*Math.sin(_*k)+S*Math.cos(_*k))}}else if(v===1)w=_=>a-Math.exp(-g*_)*(S+(y+g*S)*_);else{const _=g*Math.sqrt(v*v-1);w=k=>{const P=Math.exp(-v*g*k),N=Math.min(_*k,300);return a-P*((y+v*g*S)*Math.sinh(N)+_*S*Math.cosh(N))/_}}const C={calculatedDuration:m&&h||null,next:_=>{const k=w(_);if(m)o.done=_>=h;else{let P=0;v<1&&(P=_===0?Di(y):t_(w,_,k));const N=Math.abs(P)<=s,L=Math.abs(a-k)<=i;o.done=N&&L}return o.value=o.done?a:k,o},toString:()=>{const _=Math.min(wC(C),Iy),k=bC(P=>C.next(_*P).value,_,30);return _+"ms "+k}};return C}function e1({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const h=n[0],p={done:!1,value:h},m=N=>o!==void 0&&N<o||l!==void 0&&N>l,y=N=>o===void 0?l:l===void 0||Math.abs(o-N)<Math.abs(l-N)?o:l;let v=t*e;const S=h+v,g=a===void 0?S:a(S);g!==S&&(v=g-h);const x=N=>-v*Math.exp(-N/s),w=N=>g+x(N),C=N=>{const L=x(N),M=w(N);p.done=Math.abs(L)<=c,p.value=p.done?g:M};let _,k;const P=N=>{m(p.value)&&(_=N,k=n_({keyframes:[p.value,y(p.value)],velocity:t_(w,N,p.value),damping:i,stiffness:r,restDelta:c,restSpeed:d}))};return P(0),{calculatedDuration:null,next:N=>{let L=!1;return!k&&_===void 0&&(L=!0,C(N),P(N)),_!==void 0&&N>=_?k.next(N-_):(!L&&C(N),p)}}}const $M=Nh(.42,0,1,1),WM=Nh(0,0,.58,1),s_=Nh(.42,0,.58,1),GM=n=>Array.isArray(n)&&typeof n[0]!="number",t1={linear:Ln,easeIn:$M,easeInOut:s_,easeOut:WM,circIn:Hx,circInOut:FC,circOut:IC,backIn:zx,backInOut:jC,backOut:MC,anticipate:DC},n1=n=>{if(Ix(n)){jy(n.length===4);const[e,t,s,i]=n;return Nh(e,t,s,i)}else if(typeof n=="string")return jy(t1[n]!==void 0),t1[n];return n};function KM(n,e,t){const s=[],i=t||e_,r=n.length-1;for(let a=0;a<r;a++){let o=i(n[a],n[a+1]);if(e){const l=Array.isArray(e)?e[a]||Ln:e;o=Rh(l,o)}s.push(o)}return s}function XM(n,e,{clamp:t=!0,ease:s,mixer:i}={}){const r=n.length;if(jy(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=KM(e,s,i),l=o.length,c=d=>{if(a&&d<n[0])return e[0];let h=0;if(l>1)for(;h<n.length-2&&!(d<n[h+1]);h++);const p=_c(n[h],n[h+1],d);return o[h](p)};return t?d=>c($i(n[0],n[r-1],d)):c}function qM(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const i=_c(0,e,s);n.push(Ve(t,1,i))}}function YM(n){const e=[0];return qM(e,n.length-1),e}function QM(n,e){return n.map(t=>t*e)}function ZM(n,e){return n.map(()=>e||s_).splice(0,n.length-1)}function Fp({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const i=GM(s)?s.map(n1):n1(s),r={done:!1,value:e[0]},a=QM(t&&t.length===e.length?t:YM(e),n),o=XM(a,e,{ease:Array.isArray(i)?i:ZM(e,i)});return{calculatedDuration:n,next:l=>(r.value=o(l),r.done=l>=n,r)}}const JM=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ne.update(e,!0),stop:()=>$r(e),now:()=>Tt.isProcessing?Tt.timestamp:Js.now()}},ej={decay:e1,inertia:e1,tween:Fp,keyframes:Fp,spring:n_},tj=n=>n/100;class Xx extends ZC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:s,element:i,keyframes:r}=this.options,a=(i==null?void 0:i.KeyframeResolver)||Gx,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(r,o,t,s,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:a=0}=this.options,o=Dx(t)?t:ej[t]||Fp;let l,c;o!==Fp&&typeof e[0]!="number"&&(l=Rh(tj,e_(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});r==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=wC(d));const{calculatedDuration:h}=d,p=h+i,m=p*(s+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:s}=this;if(!s){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:i,generator:r,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=s;if(this.startTime===null)return r.next(0);const{delay:p,repeat:m,repeatType:y,repeatDelay:v,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-p*(this.speed>=0?1:-1),x=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,C=r;if(m){const N=Math.min(this.currentTime,d)/h;let L=Math.floor(N),M=N%1;!M&&N>=1&&(M=1),M===1&&L--,L=Math.min(L,m+1),!!(L%2)&&(y==="reverse"?(M=1-M,v&&(M-=v/h)):y==="mirror"&&(C=a)),w=$i(0,1,M)*h}const _=x?{done:!1,value:l[0]}:C.next(w);o&&(_.value=o(_.value));let{done:k}=_;!x&&c!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return P&&i!==void 0&&(_.value=Nm(l,this.options,i)),S&&S(_.value),P&&this.finish(),_}get duration(){const{resolved:e}=this;return e?Ii(e.calculatedDuration):0}get time(){return Ii(this.currentTime)}set time(e){e=Di(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ii(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=JM,onPlay:t,startTime:s}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const nj=new Set(["opacity","clipPath","filter","transform"]);function sj(n,e,t,{delay:s=0,duration:i=300,repeat:r=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:t};l&&(c.offset=l);const d=SC(o,i);return Array.isArray(d)&&(c.easing=d),n.animate(c,{delay:s,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"})}const ij=wx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Op=10,rj=2e4;function aj(n){return Dx(n.type)||n.type==="spring"||!AC(n.ease)}function oj(n,e){const t=new Xx({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:n[0]};const i=[];let r=0;for(;!s.done&&r<rj;)s=t.sample(r),i.push(s.value),r+=Op;return{times:void 0,keyframes:i,duration:r-Op,ease:"linear"}}const i_={anticipate:DC,backInOut:jC,circInOut:FC};function lj(n){return n in i_}class s1 extends ZC{constructor(e){super(e);const{name:t,motionValue:s,element:i,keyframes:r}=this.options;this.resolver=new QC(r,(a,o)=>this.onKeyframesResolved(a,o),t,s,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:s=300,times:i,ease:r,type:a,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof r=="string"&&Dp()&&lj(r)&&(r=i_[r]),aj(this.options)){const{onComplete:h,onUpdate:p,motionValue:m,element:y,...v}=this.options,S=oj(e,v);e=S.keyframes,e.length===1&&(e[1]=e[0]),s=S.duration,i=S.times,r=S.ease,a="keyframes"}const d=sj(o.owner.current,l,e,{...this.options,duration:s,times:i,ease:r});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(Vb(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(Nm(e,this.options,t)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:i,type:a,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Ii(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Ii(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.currentTime=Di(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Ln;const{animation:s}=t;Vb(s,e)}return Ln}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:s,duration:i,type:r,ease:a,times:o}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:p,...m}=this.options,y=new Xx({...m,keyframes:s,duration:i,type:r,ease:a,times:o,isGenerator:!0}),v=Di(this.time);c.setWithVelocity(y.sample(v-Op).value,y.sample(v).value,Op)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:s,repeatDelay:i,repeatType:r,damping:a,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return ij()&&s&&nj.has(s)&&!l&&!c&&!i&&r!=="mirror"&&a!==0&&o!=="inertia"}}const cj={type:"spring",stiffness:500,damping:25,restSpeed:10},uj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),dj={type:"keyframes",duration:.8},hj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fj=(n,{keyframes:e})=>e.length>2?dj:Lo.has(n)?n.startsWith("scale")?uj(e[1]):cj:hj;function pj({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const qx=(n,e,t,s={},i,r)=>a=>{const o=jx(s,n)||{},l=o.delay||s.delay||0;let{elapsed:c=0}=s;c=c-Di(l);let d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:r?void 0:i};pj(o)||(d={...d,...fj(n,d)}),d.duration&&(d.duration=Di(d.duration)),d.repeatDelay&&(d.repeatDelay=Di(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!r&&e.get()!==void 0){const p=Nm(d.keyframes,o);if(p!==void 0)return Ne.update(()=>{d.onUpdate(p),d.onComplete()}),new jL([])}return!r&&s1.supports(d)?new s1(d):new Xx(d)};function mj({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function r_(n,e,{delay:t=0,transitionOverride:s,type:i}={}){var r;let{transition:a=n.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(a=s);const c=[],d=i&&n.animationState&&n.animationState.getState()[i];for(const h in l){const p=n.getValue(h,(r=n.latestValues[h])!==null&&r!==void 0?r:null),m=l[h];if(m===void 0||d&&mj(d,h))continue;const y={delay:t,...jx(a||{},h)};let v=!1;if(window.MotionHandoffAnimation){const g=PC(n);if(g){const x=window.MotionHandoffAnimation(g,h,Ne);x!==null&&(y.startTime=x,v=!0)}}Oy(n,h),p.start(qx(h,p,m,n.shouldReduceMotion&&TC.has(h)?{type:!1}:y,n,v));const S=p.animation;S&&c.push(S)}return o&&Promise.all(c).then(()=>{Ne.update(()=>{o&&XL(n,o)})}),c}function Wy(n,e,t={}){var s;const i=Pm(n,e,t.type==="exit"?(s=n.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(r_(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=r;return gj(n,e,d+c,h,p,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(t.delay)])}function gj(n,e,t=0,s=0,i=1,r){const a=[],o=(n.variantChildren.size-1)*s,l=i===1?(c=0)=>c*s:(c=0)=>o-c*s;return Array.from(n.variantChildren).sort(yj).forEach((c,d)=>{c.notify("AnimationStart",e),a.push(Wy(c,e,{...r,delay:t+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function yj(n,e){return n.sortNodePosition(e)}function vj(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(r=>Wy(n,r,t));s=Promise.all(i)}else if(typeof e=="string")s=Wy(n,e,t);else{const i=typeof e=="function"?Pm(n,e,t.custom):e;s=Promise.all(r_(n,i,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}const xj=Ax.length;function a_(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?a_(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<xj;t++){const s=Ax[t],i=n.props[s];(td(i)||i===!1)&&(e[s]=i)}return e}const wj=[...bx].reverse(),bj=bx.length;function Aj(n){return e=>Promise.all(e.map(({animation:t,options:s})=>vj(n,t,s)))}function Sj(n){let e=Aj(n),t=i1(),s=!0;const i=l=>(c,d)=>{var h;const p=Pm(n,d,l==="exit"?(h=n.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:y,...v}=p;c={...c,...v,...y}}return c};function r(l){e=l(n)}function a(l){const{props:c}=n,d=a_(n.parent)||{},h=[],p=new Set;let m={},y=1/0;for(let S=0;S<bj;S++){const g=wj[S],x=t[g],w=c[g]!==void 0?c[g]:d[g],C=td(w),_=g===l?x.isActive:null;_===!1&&(y=S);let k=w===d[g]&&w!==c[g]&&C;if(k&&s&&n.manuallyAnimateOnMount&&(k=!1),x.protectedKeys={...m},!x.isActive&&_===null||!w&&!x.prevProp||Tm(w)||typeof w=="boolean")continue;const P=Ej(x.prevProp,w);let N=P||g===l&&x.isActive&&!k&&C||S>y&&C,L=!1;const M=Array.isArray(w)?w:[w];let D=M.reduce(i(g),{});_===!1&&(D={});const{prevResolvedValues:Y={}}=x,K={...Y,...D},W=I=>{N=!0,p.has(I)&&(L=!0,p.delete(I)),x.needsAnimating[I]=!0;const R=n.getValue(I);R&&(R.liveStyle=!1)};for(const I in K){const R=D[I],H=Y[I];if(m.hasOwnProperty(I))continue;let U=!1;Dy(R)&&Dy(H)?U=!xC(R,H):U=R!==H,U?R!=null?W(I):p.add(I):R!==void 0&&p.has(I)?W(I):x.protectedKeys[I]=!0}x.prevProp=w,x.prevResolvedValues=D,x.isActive&&(m={...m,...D}),s&&n.blockInitialAnimation&&(N=!1),N&&(!(k&&P)||L)&&h.push(...M.map(I=>({animation:I,options:{type:g}})))}if(p.size){const S={};p.forEach(g=>{const x=n.getBaseTarget(g),w=n.getValue(g);w&&(w.liveStyle=!0),S[g]=x??null}),h.push({animation:S})}let v=!!h.length;return s&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(v=!1),s=!1,v?e(h):Promise.resolve()}function o(l,c){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),t[l].isActive=c;const h=a(l);for(const p in t)t[p].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>t,reset:()=>{t=i1(),s=!0}}}function Ej(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!xC(e,n):!1}function ta(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function i1(){return{animate:ta(!0),whileInView:ta(),whileHover:ta(),whileTap:ta(),whileDrag:ta(),whileFocus:ta(),exit:ta()}}class Jr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Cj extends Jr{constructor(e){super(e),e.animationState||(e.animationState=Sj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Tm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let _j=0;class Tj extends Jr{constructor(){super(...arguments),this.id=_j++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const kj={animation:{Feature:Cj},exit:{Feature:Tj}};function rd(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}function Lh(n){return{point:{x:n.pageX,y:n.pageY}}}const Pj=n=>e=>Fx(e)&&n(e,Lh(e));function Nu(n,e,t,s){return rd(n,e,Pj(t),s)}const r1=(n,e)=>Math.abs(n-e);function Nj(n,e){const t=r1(n.x,e.x),s=r1(n.y,e.y);return Math.sqrt(t**2+s**2)}class o_{constructor(e,t,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=_g(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Nj(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=h,{timestamp:v}=Tt;this.history.push({...y,timestamp:v});const{onStart:S,onMove:g}=this.handlers;p||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Cg(p,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=_g(h.type==="pointercancel"?this.lastMoveEventInfo:Cg(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,S),y&&y(h,S)},!Fx(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=s,this.contextWindow=i||window;const a=Lh(e),o=Cg(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Tt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=t;d&&d(e,_g(o,this.history)),this.removeListeners=Rh(Nu(this.contextWindow,"pointermove",this.handlePointerMove),Nu(this.contextWindow,"pointerup",this.handlePointerUp),Nu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$r(this.updatePoint)}}function Cg(n,e){return e?{point:e(n.point)}:n}function a1(n,e){return{x:n.x-e.x,y:n.y-e.y}}function _g({point:n},e){return{point:n,delta:a1(n,l_(e)),offset:a1(n,Rj(e)),velocity:Lj(e,.1)}}function Rj(n){return n[0]}function l_(n){return n[n.length-1]}function Lj(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const i=l_(n);for(;t>=0&&(s=n[t],!(i.timestamp-s.timestamp>Di(e)));)t--;if(!s)return{x:0,y:0};const r=Ii(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const a={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const c_=1e-4,Mj=1-c_,jj=1+c_,u_=.01,Dj=0-u_,Ij=0+u_;function Dn(n){return n.max-n.min}function Fj(n,e,t){return Math.abs(n-e)<=t}function o1(n,e,t,s=.5){n.origin=s,n.originPoint=Ve(e.min,e.max,n.origin),n.scale=Dn(t)/Dn(e),n.translate=Ve(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Mj&&n.scale<=jj||isNaN(n.scale))&&(n.scale=1),(n.translate>=Dj&&n.translate<=Ij||isNaN(n.translate))&&(n.translate=0)}function Ru(n,e,t,s){o1(n.x,e.x,t.x,s?s.originX:void 0),o1(n.y,e.y,t.y,s?s.originY:void 0)}function l1(n,e,t){n.min=t.min+e.min,n.max=n.min+Dn(e)}function Oj(n,e,t){l1(n.x,e.x,t.x),l1(n.y,e.y,t.y)}function c1(n,e,t){n.min=e.min-t.min,n.max=n.min+Dn(e)}function Lu(n,e,t){c1(n.x,e.x,t.x),c1(n.y,e.y,t.y)}function Bj(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?Ve(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?Ve(t,n,s.max):Math.min(n,t)),n}function u1(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Vj(n,{top:e,left:t,bottom:s,right:i}){return{x:u1(n.x,t,i),y:u1(n.y,e,s)}}function d1(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function zj(n,e){return{x:d1(n.x,e.x),y:d1(n.y,e.y)}}function Hj(n,e){let t=.5;const s=Dn(n),i=Dn(e);return i>s?t=_c(e.min,e.max-s,n.min):s>i&&(t=_c(n.min,n.max-i,e.min)),$i(0,1,t)}function Uj(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Gy=.35;function $j(n=Gy){return n===!1?n=0:n===!0&&(n=Gy),{x:h1(n,"left","right"),y:h1(n,"top","bottom")}}function h1(n,e,t){return{min:f1(n,e),max:f1(n,t)}}function f1(n,e){return typeof n=="number"?n:n[e]||0}const p1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ol=()=>({x:p1(),y:p1()}),m1=()=>({min:0,max:0}),Ye=()=>({x:m1(),y:m1()});function Vn(n){return[n("x"),n("y")]}function d_({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function Wj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Gj(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function Tg(n){return n===void 0||n===1}function Ky({scale:n,scaleX:e,scaleY:t}){return!Tg(n)||!Tg(e)||!Tg(t)}function ra(n){return Ky(n)||h_(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function h_(n){return g1(n.x)||g1(n.y)}function g1(n){return n&&n!=="0%"}function Bp(n,e,t){const s=n-t,i=e*s;return t+i}function y1(n,e,t,s,i){return i!==void 0&&(n=Bp(n,i,s)),Bp(n,t,s)+e}function Xy(n,e=0,t=1,s,i){n.min=y1(n.min,e,t,s,i),n.max=y1(n.max,e,t,s,i)}function f_(n,{x:e,y:t}){Xy(n.x,e.translate,e.scale,e.originPoint),Xy(n.y,t.translate,t.scale,t.originPoint)}const v1=.999999999999,x1=1.0000000000001;function Kj(n,e,t,s=!1){const i=t.length;if(!i)return;e.x=e.y=1;let r,a;for(let o=0;o<i;o++){r=t[o],a=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&cl(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,f_(n,a)),s&&ra(r.latestValues)&&cl(n,r.latestValues))}e.x<x1&&e.x>v1&&(e.x=1),e.y<x1&&e.y>v1&&(e.y=1)}function ll(n,e){n.min=n.min+e,n.max=n.max+e}function w1(n,e,t,s,i=.5){const r=Ve(n.min,n.max,i);Xy(n,e,t,r,s)}function cl(n,e){w1(n.x,e.x,e.scaleX,e.scale,e.originX),w1(n.y,e.y,e.scaleY,e.scale,e.originY)}function p_(n,e){return d_(Gj(n.getBoundingClientRect(),e))}function Xj(n,e,t){const s=p_(n,t),{scroll:i}=e;return i&&(ll(s.x,i.offset.x),ll(s.y,i.offset.y)),s}const m_=({current:n})=>n?n.ownerDocument.defaultView:null,qj=new WeakMap;class Yj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Lh(d).point)},r=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UL(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(S=>{let g=this.getAxisMotionValue(S).get()||0;if(Zs.test(g)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[S];w&&(g=Dn(w)*(parseFloat(g)/100))}}this.originPoint[S]=g}),y&&Ne.postRender(()=>y(d,h)),Oy(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=h;if(m&&this.currentDirection===null){this.currentDirection=Qj(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),v&&v(d,h)},o=(d,h)=>this.stop(d,h),l=()=>Vn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new o_(e,{onSessionStart:i,onStart:r,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:m_(this.visualElement)})}stop(e,t){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&Ne.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:i}=this.getProps();if(!s||!of(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=Bj(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,r=this.constraints;t&&rl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Vj(i.layoutBox,t):this.constraints=!1,this.elastic=$j(s),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Uj(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!rl(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=Xj(s,i.root,this.visualElement.getTransformPagePoint());let a=zj(i.layout.layoutBox,r);if(t){const o=t(Wj(a));this.hasMutatedConstraints=!!o,o&&(a=d_(o))}return a}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Vn(d=>{if(!of(d,t,this.currentDirection))return;let h=l&&l[d]||{};a&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:s?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return Oy(this.visualElement,e),s.start(qx(e,s,0,t,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[t];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Vn(t=>{const{drag:s}=this.getProps();if(!of(t,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[t];r.set(e[t]-Ve(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!rl(t)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Vn(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=Hj({min:l,max:l},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Vn(a=>{if(!of(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Ve(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;qj.set(this.visualElement,this);const e=this.visualElement.current,t=Nu(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();rl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ne.read(s);const a=rd(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Vn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),t(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:a=Gy,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function of(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Qj(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Zj extends Jr{constructor(e){super(e),this.removeGroupControls=Ln,this.removeListeners=Ln,this.controls=new Yj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const b1=n=>(e,t)=>{n&&Ne.postRender(()=>n(e,t))};class Jj extends Jr{constructor(){super(...arguments),this.removePointerDownListener=Ln}onPointerDown(e){this.session=new o_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:m_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:b1(e),onStart:b1(t),onMove:s,onEnd:(r,a)=>{delete this.session,i&&Ne.postRender(()=>i(r,a))}}}mount(){this.removePointerDownListener=Nu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function A1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Kc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(X.test(n))n=parseFloat(n);else return n;const t=A1(n,e.target.x),s=A1(n,e.target.y);return`${t}% ${s}%`}},eD={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,i=Wr.parse(n);if(i.length>5)return s;const r=Wr.createTransformer(n),a=typeof i[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Ve(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),r(i)}};class tD extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=e;AL(nD),r&&(t.group&&t.group.add(r),s&&s.register&&i&&s.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Pf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:i,isPresent:r}=this.props,a=s.projection;return a&&(a.isPresent=r,i||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||Ne.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ex.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function g_(n){const[e,t]=JE(),s=T.useContext(gx);return f.jsx(tD,{...n,layoutGroup:s,switchLayoutGroup:T.useContext(aC),isPresent:e,safeToRemove:t})}const nD={borderRadius:{...Kc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kc,borderTopRightRadius:Kc,borderBottomLeftRadius:Kc,borderBottomRightRadius:Kc,boxShadow:eD};function sD(n,e,t){const s=Ut(n)?n:sd(n);return s.start(qx("",s,e,t)),s.animation}function iD(n){return n instanceof SVGElement&&n.tagName!=="svg"}const rD=(n,e)=>n.depth-e.depth;class aD{constructor(){this.children=[],this.isDirty=!1}add(e){Ox(this.children,e),this.isDirty=!0}remove(e){Bx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rD),this.isDirty=!1,this.children.forEach(e)}}function oD(n,e){const t=Js.now(),s=({timestamp:i})=>{const r=i-t;r>=e&&($r(s),n(r-e))};return Ne.read(s,!0),()=>$r(s)}const y_=["TopLeft","TopRight","BottomLeft","BottomRight"],lD=y_.length,S1=n=>typeof n=="string"?parseFloat(n):n,E1=n=>typeof n=="number"||X.test(n);function cD(n,e,t,s,i,r){i?(n.opacity=Ve(0,t.opacity!==void 0?t.opacity:1,uD(s)),n.opacityExit=Ve(e.opacity!==void 0?e.opacity:1,0,dD(s))):r&&(n.opacity=Ve(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,s));for(let a=0;a<lD;a++){const o=`border${y_[a]}Radius`;let l=C1(e,o),c=C1(t,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||E1(l)===E1(c)?(n[o]=Math.max(Ve(S1(l),S1(c),s),0),(Zs.test(c)||Zs.test(l))&&(n[o]+="%")):n[o]=c}(e.rotate||t.rotate)&&(n.rotate=Ve(e.rotate||0,t.rotate||0,s))}function C1(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const uD=v_(0,.5,IC),dD=v_(.5,.95,Ln);function v_(n,e,t){return s=>s<n?0:s>e?1:t(_c(n,e,s))}function _1(n,e){n.min=e.min,n.max=e.max}function On(n,e){_1(n.x,e.x),_1(n.y,e.y)}function T1(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function k1(n,e,t,s,i){return n-=e,n=Bp(n,1/t,s),i!==void 0&&(n=Bp(n,1/i,s)),n}function hD(n,e=0,t=1,s=.5,i,r=n,a=n){if(Zs.test(e)&&(e=parseFloat(e),e=Ve(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Ve(r.min,r.max,s);n===r&&(o-=e),n.min=k1(n.min,e,t,o,i),n.max=k1(n.max,e,t,o,i)}function P1(n,e,[t,s,i],r,a){hD(n,e[t],e[s],e[i],e.scale,r,a)}const fD=["x","scaleX","originX"],pD=["y","scaleY","originY"];function N1(n,e,t,s){P1(n.x,e,fD,t?t.x:void 0,s?s.x:void 0),P1(n.y,e,pD,t?t.y:void 0,s?s.y:void 0)}function R1(n){return n.translate===0&&n.scale===1}function x_(n){return R1(n.x)&&R1(n.y)}function L1(n,e){return n.min===e.min&&n.max===e.max}function mD(n,e){return L1(n.x,e.x)&&L1(n.y,e.y)}function M1(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function w_(n,e){return M1(n.x,e.x)&&M1(n.y,e.y)}function j1(n){return Dn(n.x)/Dn(n.y)}function D1(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class gD{constructor(){this.members=[]}add(e){Ox(this.members,e),e.scheduleRender()}remove(e){if(Bx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let s;for(let i=t;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yD(n,e,t){let s="";const i=n.x.translate/e.x,r=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((i||r||a)&&(s=`translate3d(${i}px, ${r}px, ${a}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:y}=t;c&&(s=`perspective(${c}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),p&&(s+=`rotateY(${p}deg) `),m&&(s+=`skewX(${m}deg) `),y&&(s+=`skewY(${y}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const aa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},su=typeof window<"u"&&window.MotionDebug!==void 0,kg=["","X","Y","Z"],vD={visibility:"hidden"},I1=1e3;let xD=0;function Pg(n,e,t,s){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),s&&(s[n]=0))}function b_(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=PC(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ne,!(i||r))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&b_(s)}function A_({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=xD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,su&&(aa.totalNodes=aa.resolvedTargetDeltas=aa.recalculatedProjection=0),this.nodes.forEach(AD),this.nodes.forEach(TD),this.nodes.forEach(kD),this.nodes.forEach(SD),su&&window.MotionDebug.record(aa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new aD)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Vx),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=iD(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),n){let h;const p=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=oD(p,250),Pf.hasAnimatedSinceResize&&(Pf.hasAnimatedSinceResize=!1,this.nodes.forEach(O1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||MD,{onLayoutAnimationStart:S,onLayoutAnimationComplete:g}=d.getProps(),x=!this.targetLayout||!w_(this.targetLayout,y)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const C={...jx(v,"layout"),onPlay:S,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||O1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$r(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PD),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&b_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F1);return}this.isUpdating||this.nodes.forEach(CD),this.isUpdating=!1,this.nodes.forEach(_D),this.nodes.forEach(wD),this.nodes.forEach(bD),this.clearAllSnapshots();const o=Js.now();Tt.delta=$i(0,1e3/60,o-Tt.timestamp),Tt.timestamp=o,Tt.isProcessing=!0,xg.update.process(Tt),xg.preRender.process(Tt),xg.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ex.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ED),this.sharedNodes.forEach(ND)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!x_(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&(o||ra(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),jD(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Ye();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(DD))){const{scroll:d}=this.root;d&&(ll(l.x,d.offset.x),ll(l.y,d.offset.y))}return l}removeElementScroll(a){var o;const l=Ye();if(On(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&On(l,a),ll(l.x,h.offset.x),ll(l.y,h.offset.y))}return l}applyTransform(a,o=!1){const l=Ye();On(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&cl(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ra(d.latestValues)&&cl(l,d.latestValues)}return ra(this.latestValues)&&cl(l,this.latestValues),l}removeTransform(a){const o=Ye();On(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ra(c.latestValues))continue;Ky(c.latestValues)&&c.updateSnapshot();const d=Ye(),h=c.measurePageBox();On(d,h),N1(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ra(this.latestValues)&&N1(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Tt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Lu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Oj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):On(this.target,this.layout.layoutBox),f_(this.target,this.targetDelta)):On(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Lu(this.relativeTargetOrigin,this.target,m.target),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}su&&aa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ky(this.parent.latestValues)||h_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;On(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Kj(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ye());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(T1(this.prevProjectionDelta.x,this.projectionDelta.x),T1(this.prevProjectionDelta.y,this.projectionDelta.y)),Ru(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!D1(this.projectionDelta.x,this.prevProjectionDelta.x)||!D1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),su&&aa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ol(),this.projectionDelta=ol(),this.projectionDeltaWithTransform=ol()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=Ye(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,S=this.getStack(),g=!S||S.members.length<=1,x=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(LD));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const _=C/1e3;B1(h.x,a.x,_),B1(h.y,a.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RD(this.relativeTarget,this.relativeTargetOrigin,p,_),w&&mD(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ye()),On(w,this.relativeTarget)),v&&(this.animationValues=d,cD(d,c,this.latestValues,_,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($r(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{Pf.hasAnimatedSinceResize=!0,this.currentAnimation=sD(0,I1,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(I1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&S_(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ye();const h=Dn(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const p=Dn(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+p}On(o,l),cl(o,d),Ru(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new gD),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Pg("z",a,c,this.animationValues);for(let d=0;d<kg.length;d++)Pg(`rotate${kg[d]}`,a,c,this.animationValues),Pg(`skew${kg[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vD;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Tf(a==null?void 0:a.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Tf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ra(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=yD(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(o=p.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in jp){if(p[v]===void 0)continue;const{correct:S,applyTo:g}=jp[v],x=c.transform==="none"?p[v]:S(p[v],h);if(g){const w=g.length;for(let C=0;C<w;C++)c[g[C]]=x}else c[v]=x}return this.options.layoutId&&(c.pointerEvents=h===this?Tf(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(F1),this.root.sharedNodes.clear()}}}function wD(n){n.updateLayout()}function bD(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=n.layout,{animationType:r}=n.options,a=t.source!==n.layout.source;r==="size"?Vn(h=>{const p=a?t.measuredBox[h]:t.layoutBox[h],m=Dn(p);p.min=s[h].min,p.max=p.min+m}):S_(r,t.layoutBox,s)&&Vn(h=>{const p=a?t.measuredBox[h]:t.layoutBox[h],m=Dn(s[h]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+m)});const o=ol();Ru(o,s,t.layoutBox);const l=ol();a?Ru(l,n.applyTransform(i,!0),t.measuredBox):Ru(l,s,t.layoutBox);const c=!x_(o);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const y=Ye();Lu(y,t.layoutBox,p.layoutBox);const v=Ye();Lu(v,s,m.layoutBox),w_(y,v)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=y,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function AD(n){su&&aa.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function SD(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function ED(n){n.clearSnapshot()}function F1(n){n.clearMeasurements()}function CD(n){n.isLayoutDirty=!1}function _D(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function O1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function TD(n){n.resolveTargetDelta()}function kD(n){n.calcProjection()}function PD(n){n.resetSkewAndRotation()}function ND(n){n.removeLeadSnapshot()}function B1(n,e,t){n.translate=Ve(e.translate,0,t),n.scale=Ve(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function V1(n,e,t,s){n.min=Ve(e.min,t.min,s),n.max=Ve(e.max,t.max,s)}function RD(n,e,t,s){V1(n.x,e.x,t.x,s),V1(n.y,e.y,t.y,s)}function LD(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const MD={duration:.45,ease:[.4,0,.1,1]},z1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),H1=z1("applewebkit/")&&!z1("chrome/")?Math.round:Ln;function U1(n){n.min=H1(n.min),n.max=H1(n.max)}function jD(n){U1(n.x),U1(n.y)}function S_(n,e,t){return n==="position"||n==="preserve-aspect"&&!Fj(j1(e),j1(t),.2)}function DD(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const ID=A_({attachResizeListener:(n,e)=>rd(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ng={current:void 0},E_=A_({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ng.current){const n=new ID({});n.mount(window),n.setOptions({layoutScroll:!0}),Ng.current=n}return Ng.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),FD={pan:{Feature:Jj},drag:{Feature:Zj,ProjectionNode:E_,MeasureLayout:g_}};function $1(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,r=s[i];r&&Ne.postRender(()=>r(e,Lh(e)))}class OD extends Jr{mount(){const{current:e}=this.node;e&&(this.unmount=OL(e,t=>($1(this.node,t,"Start"),s=>$1(this.node,s,"End"))))}unmount(){}}class BD extends Jr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rh(rd(this.node.current,"focus",()=>this.onFocus()),rd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function W1(n,e,t){const{props:s}=n;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),r=s[i];r&&Ne.postRender(()=>r(e,Lh(e)))}class VD extends Jr{mount(){const{current:e}=this.node;e&&(this.unmount=HL(e,t=>(W1(this.node,t,"Start"),(s,{success:i})=>W1(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qy=new WeakMap,Rg=new WeakMap,zD=n=>{const e=qy.get(n.target);e&&e(n)},HD=n=>{n.forEach(zD)};function UD({root:n,...e}){const t=n||document;Rg.has(t)||Rg.set(t,{});const s=Rg.get(t),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(HD,{root:n,...e})),s[i]}function $D(n,e,t){const s=UD(e);return qy.set(n,t),s.observe(n),()=>{qy.delete(n),s.unobserve(n)}}const WD={some:0,all:1};class GD extends Jr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:i="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:WD[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return $D(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(KD(e,t))&&this.startObserver()}unmount(){}}function KD({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const XD={inView:{Feature:GD},tap:{Feature:VD},focus:{Feature:BD},hover:{Feature:OD}},qD={layout:{ProjectionNode:E_,MeasureLayout:g_}},Yy={current:null},C_={current:!1};function YD(){if(C_.current=!0,!!xx)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yy.current=n.matches;n.addListener(e),e()}else Yy.current=!1}const QD=[...YC,Vt,Wr],ZD=n=>QD.find(qC(n)),G1=new WeakMap;function JD(n,e,t){for(const s in e){const i=e[s],r=t[s];if(Ut(i))n.addValue(s,i);else if(Ut(r))n.addValue(s,sd(i,{owner:n}));else if(r!==i)if(n.hasValue(s)){const a=n.getValue(s);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=n.getStaticValue(s);n.addValue(s,sd(a!==void 0?a:i,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const K1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class eI{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Js.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ne.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=a;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=km(t),this.isVariantNode=iC(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const m in p){const y=p[m];l[m]!==void 0&&Ut(y)&&y.set(l[m],!1)}}mount(e){this.current=e,G1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),C_.current||YD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){G1.delete(this.current),this.projection&&this.projection.unmount(),$r(this.notifyUpdate),$r(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Lo.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ne.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Tc){const t=Tc[e];if(!t)continue;const{isEnabled:s,Feature:i}=t;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<K1.length;s++){const i=K1[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,a=e[r];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=JD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=sd(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){var s;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(KC(i)||OC(i))?i=parseFloat(i):!ZD(i)&&Wr.test(t)&&(i=$C(e,t)),this.setBaseTarget(e,Ut(i)?i.get():i)),Ut(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const a=_x(this.props,s,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(i=a[e])}if(s&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Ut(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Vx),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class __ extends eI{constructor(){super(...arguments),this.KeyframeResolver=QC}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ut(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function tI(n){return window.getComputedStyle(n)}class nI extends __{constructor(){super(...arguments),this.type="html",this.renderInstance=fC}readValueFromInstance(e,t){if(Lo.has(t)){const s=Wx(t);return s&&s.default||0}else{const s=tI(e),i=(uC(t)?s.getPropertyValue(t):s[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return p_(e,t)}build(e,t,s){Px(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return Mx(e,t,s)}}class sI extends __{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ye}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Lo.has(t)){const s=Wx(t);return s&&s.default||0}return t=pC.has(t)?t:Sx(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return yC(e,t,s)}build(e,t,s){Nx(e,t,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,s,i){mC(e,t,s,i)}mount(e){this.isSVGTag=Lx(e.tagName),super.mount(e)}}const iI=(n,e)=>Cx(n)?new sI(e):new nI(e,{allowProjection:n!==T.Fragment}),rI=RL({...kj,...XD,...FD,...qD},iI),z=GR(rI);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Re=(n,e)=>{const t=T.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>T.createElement("svg",{ref:d,...aI,width:i,height:i,stroke:s,strokeWidth:a?Number(r)*24/Number(i):r,className:["lucide",`lucide-${oI(n)}`,o].join(" "),...c},[...e.map(([h,p])=>T.createElement(h,p)),...Array.isArray(l)?l:[l]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=Re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=Re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=Re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=Re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=Re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=Re("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=Re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=Re("Group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=Re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Re("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Re("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=Re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=Re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=Re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=Re("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=Re("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=Re("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=Re("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=Re("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=Re("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),PI="/canopy-website/assets/logo-C6brOt1P.svg",NI=()=>{const[n,e]=T.useState(!1),[t,s]=T.useState(!1),[i,r]=T.useState(null),a=mx(),o=kh();T.useEffect(()=>{const h=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]),T.useEffect(()=>{s(!1),r(null)},[o.pathname]);const l=[{name:"About Us",href:"#",submenu:[{name:"Our Mission",href:"/missions",isRoute:!0},{name:"Our Story",href:"/story",isRoute:!0},{name:"Meet the Team",href:"/meet-the-team",isRoute:!0},{name:"Board of Directors",href:"/board-of-directors",isRoute:!0}]},{name:"Our Work",href:"/ourwork",isRoute:!0,submenu:[{name:"CANSHIP",href:"/canship",isRoute:!0},{name:"Katha Bunaun",href:"/katha-bunaun",isRoute:!0}]},{name:"Our Impact",href:"/ourimpact",isRoute:!0},{name:"Publications",href:"/publications",isRoute:!0},{name:"Chapters",href:"#",submenu:[{name:"Canopy France",href:"/canopyfrance",isRoute:!0},{name:"Canopy USA",href:"/canopyusa",isRoute:!0}]},{name:"Get Involved",href:"#involved"}],c=(h,p)=>{if(p)a(h);else if(o.pathname==="/"){const m=document.querySelector(h);m&&m.scrollIntoView({behavior:"smooth"})}else a("/"),setTimeout(()=>{const m=document.querySelector(h);m&&m.scrollIntoView({behavior:"smooth"})},100);s(!1),r(null)},d=h=>{if(o.pathname==="/"){const p=document.querySelector(h);p&&p.scrollIntoView({behavior:"smooth"})}else a("/"),setTimeout(()=>{const p=document.querySelector(h);p&&p.scrollIntoView({behavior:"smooth"})},100);s(!1),r(null)};return f.jsx(z.nav,{className:`fixed inset-x-0 top-0 z-50 transition-all duration-300 ${n?"bg-white/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,initial:{y:-100},animate:{y:0},transition:{duration:.6},children:f.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 mt-3",children:[f.jsxs("div",{className:"flex items-center h-24",children:[f.jsx(z.div,{className:"flex-shrink-0",whileHover:{scale:1.05},transition:{duration:.2},children:f.jsx(MR,{to:"/",children:f.jsx("img",{src:PI,alt:"Canopy Nepal Logo",className:"h-24 w-auto"})})}),f.jsx("div",{className:"hidden md:flex flex-1 justify-center space-x-10",children:l.map((h,p)=>f.jsxs("div",{className:"relative",onMouseEnter:()=>h.submenu&&r(p),onMouseLeave:()=>r(null),children:[f.jsxs(z.button,{onClick:()=>h.isRoute?a(h.href):d(h.href),className:`
                    flex items-center space-x-1 font-medium
                    transition-colors duration-300 hover:text-primary-cyan
                    ${n?"text-primary-gray":"text-primary-gray drop-shadow-lg"}
                    ${o.pathname===h.href?"text-primary-cyan":""}
                  `,whileHover:{scale:1.05},transition:{duration:.2},children:[f.jsx("span",{children:h.name}),h.submenu&&f.jsx(z.div,{animate:{rotate:i===p?180:0},transition:{duration:.2},children:f.jsx(X1,{size:14})})]}),f.jsx(Lp,{children:h.submenu&&i===p&&f.jsx(z.div,{className:"absolute top-full left-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-100 overflow-hidden",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:h.submenu.map((m,y)=>f.jsx(z.button,{onClick:()=>c(m.href,m.isRoute),className:`
                            w-full text-left px-4 py-2 text-sm 
                            hover:bg-gray-50 hover:text-primary-cyan transition-colors duration-200
                            ${o.pathname===m.href?"text-primary-cyan bg-gray-50":"text-black"}
                          `,initial:{opacity:0},animate:{opacity:1},transition:{delay:y*.05},children:m.name},m.name))})})]},h.name))}),f.jsxs("div",{className:"flex items-center flex-shrink-0 space-x-4 ml-auto",children:[f.jsx(z.button,{onClick:()=>d("#donate"),className:"hidden md:inline-block bg-primary-cyan text-white px-6 py-2 rounded-lg font-medium hover:bg-primary-cyan/90 transition-colors duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Donate Now"}),f.jsx(z.button,{onClick:()=>s(h=>!h),className:`
                md:hidden p-2 rounded-md transition-colors duration-300
                text-primary-gray
              `,whileTap:{scale:.95},children:t?f.jsx(P_,{size:24}):f.jsx(wI,{size:24})})]})]}),f.jsx(z.div,{className:`md:hidden overflow-hidden ${t?"block":"hidden"}`,initial:{height:0,opacity:0},animate:{height:t?"auto":0,opacity:t?1:0},transition:{duration:.3},children:f.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-white/95 backdrop-blur-md rounded-lg mt-2",children:[l.map((h,p)=>f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>h.submenu?r(m=>m===p?null:p):h.isRoute?a(h.href):d(h.href),className:`
                    flex items-center justify-between w-full px-3 py-2 
                    font-medium hover:text-primary-cyan hover:bg-primary-cyan/10 rounded-md 
                    transition-colors duration-300
                    ${o.pathname===h.href?"text-primary-cyan bg-primary-cyan/10":"text-primary-gray"}
                  `,children:[f.jsx("span",{children:h.name}),h.submenu&&f.jsx(z.div,{animate:{rotate:i===p?180:0},transition:{duration:.2},children:f.jsx(X1,{size:14})})]}),f.jsx(Lp,{children:h.submenu&&i===p&&f.jsx(z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden ml-4",children:h.submenu.map(m=>f.jsx("button",{onClick:()=>c(m.href,m.isRoute),className:`
                            block w-full px-3 py-2 text-sm 
                            hover:text-primary-cyan rounded-md transition-colors duration-300
                            ${o.pathname===m.href?"text-primary-cyan bg-gray-50":"text-gray-600"}
                          `,children:m.name},m.name))})})]},h.name)),f.jsx("button",{onClick:()=>d("#donate"),className:"block w-full px-3 py-2 bg-primary-cyan text-white font-medium rounded-md hover:bg-primary-cyan/90 transition-colors duration-300",children:"Donate Now"})]})})]})})},Yx="/canopy-website/assets/hero-BA7B76Xp.png",RI=()=>f.jsxs("section",{id:"home",className:"relative mt-6 h-screen flex items-center justify-center overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0",children:f.jsx("img",{src:Yx,alt:"Hero",className:"w-full h-full object-contain"})}),f.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:f.jsx(z.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-12",children:f.jsxs(z.h1,{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white leading-tight",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[f.jsx("span",{className:"text-primary-orange",children:"Reshaping"})," Education"]})})}),f.jsx(z.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},children:f.jsx("div",{className:"w-6 h-10 border-2 border-white/50 rounded-full flex justify-center",children:f.jsx("div",{className:"w-1 h-3 bg-white/50 rounded-full mt-2 animate-pulse"})})})]});var Qy=new Map,lf=new WeakMap,q1=0,LI=void 0;function MI(n){return n?(lf.has(n)||(q1+=1,lf.set(n,q1.toString())),lf.get(n)):"0"}function jI(n){return Object.keys(n).sort().filter(e=>n[e]!==void 0).map(e=>`${e}_${e==="root"?MI(n.root):n[e]}`).toString()}function DI(n){const e=jI(n);let t=Qy.get(e);if(!t){const s=new Map;let i;const r=new IntersectionObserver(a=>{a.forEach(o=>{var l;const c=o.isIntersecting&&i.some(d=>o.intersectionRatio>=d);n.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=c),(l=s.get(o.target))==null||l.forEach(d=>{d(c,o)})})},n);i=r.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:r,elements:s},Qy.set(e,t)}return t}function II(n,e,t={},s=LI){if(typeof window.IntersectionObserver>"u"&&s!==void 0){const l=n.getBoundingClientRect();return e(s,{isIntersecting:s,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:r,elements:a}=DI(t),o=a.get(n)||[];return a.has(n)||a.set(n,o),o.push(e),r.observe(n),function(){o.splice(o.indexOf(e),1),o.length===0&&(a.delete(n),r.unobserve(n)),a.size===0&&(r.disconnect(),Qy.delete(i))}}function Rm({threshold:n,delay:e,trackVisibility:t,rootMargin:s,root:i,triggerOnce:r,skip:a,initialInView:o,fallbackInView:l,onChange:c}={}){var d;const[h,p]=T.useState(null),m=T.useRef(c),[y,v]=T.useState({inView:!!o,entry:void 0});m.current=c,T.useEffect(()=>{if(a||!h)return;let w;return w=II(h,(C,_)=>{v({inView:C,entry:_}),m.current&&m.current(C,_),_.isIntersecting&&r&&w&&(w(),w=void 0)},{root:i,rootMargin:s,threshold:n,trackVisibility:t,delay:e},l),()=>{w&&w()}},[Array.isArray(n)?n.toString():n,h,i,s,r,a,t,l,e]);const S=(d=y.entry)==null?void 0:d.target,g=T.useRef(void 0);!h&&S&&!r&&!a&&g.current!==S&&(g.current=S,v({inView:!!o,entry:void 0}));const x=[p,y.inView,y.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const FI=({end:n,duration:e=2e3,suffix:t="",prefix:s=""})=>{const[i,r]=T.useState(0),{ref:a,inView:o,entry:l}=Rm({threshold:.3,triggerOnce:!0});return T.useEffect(()=>{if(o){let c,d;const h=p=>{c||(c=p);const m=Math.min((p-c)/e,1);r(Math.floor(m*n)),m<1&&(d=requestAnimationFrame(h))};return d=requestAnimationFrame(h),()=>{d&&cancelAnimationFrame(d)}}},[o,n,e]),f.jsxs("span",{ref:a,children:[s,i.toLocaleString(),t]})},OI=()=>{const[n,e]=Rm({threshold:.3,triggerOnce:!0}),t=[{icon:cI,value:21e3,suffix:"+",title:"Students worked with",color:"text-primary-blue"},{icon:CI,title:"Scholarships Awarded",value:227,color:"text-primary-cyan"},{icon:gI,title:"Schools Reached",value:245,color:"text-primary-orange"},{icon:mI,title:"Sessions Conducted",value:2500,suffix:"+",color:"text-primary-red"},{icon:uI,title:"millions Funds Raised",value:1.2,color:"text-primary-red"},{icon:pI,title:"Curriculum Adapted By XXX Governments/ Municipalities",value:7,color:"text-primary-red"}];return f.jsx("section",{id:"impact",className:"bg-gray-50",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs(z.div,{ref:n,initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},className:"text-center mb-16",children:[f.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-primary-gray mb-6",children:["Our Work ",f.jsx("span",{className:"text-primary-cyan",children:"in Numbers"})]}),f.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Through dedicated programs and community partnerships, we're creating lasting change across Nepal's most underserved regions."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-20",children:t.map((s,i)=>f.jsxs(z.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.6,delay:i*.1},className:"bg-primary-gray/20 rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow duration-300 text-center group hover:-translate-y-2 transform transition-transform",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(s.icon,{className:`w-8 h-8 ${s.color}`})}),f.jsx("div",{className:"text-3xl font-bold text-primary-gray mb-2",children:f.jsx(FI,{end:s.value,suffix:s.suffix})}),f.jsx("h3",{className:"text-lg font-semibold text-primary-gray mb-2",children:s.title})]},s.title))})]})})},BI="/canopy-website/assets/l2-D6SL5BJg.png",VI=()=>{const[n,e]=Rm({threshold:.3,triggerOnce:!0});return f.jsx("section",{id:"about",className:"py-16 bg-gray-50",children:f.jsxs("div",{className:"mx-auto sm:px-6 ",children:[f.jsx(z.div,{ref:n,initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},className:"text-center mb-12",children:f.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary-gray",children:f.jsx("span",{className:"text-primary-red",children:"What We Do"})})}),f.jsxs(z.div,{ref:n,initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.8,delay:.2},className:"flex flex-col md:flex-row overflow-hidden",children:[f.jsx("img",{src:BI,alt:"what-we-do-image",className:"w-full md:w-1/2 object-cover"}),f.jsxs("div",{className:"w-full md:w-1/2 bg-gray-50 text-primary-gray p-8 text-xl flex flex-col justify-center",children:[f.jsx("p",{className:"text-black leading-relaxed",children:"Canopy Nepal is working to improve access to quality education for underserved students across Nepal. We provide long-term scholarships and deliver story-based learning in public schools to reduce drop out rates and break cycles of poverty."}),f.jsx("br",{}),f.jsx("p",{className:"text-black leading-relaxed",children:"By combining academic support with creativity, mentorship, and collaboration with local governments, we help students stay in school, build critical life skills, and shape their own futures."}),f.jsx("button",{onClick:()=>{},className:"mt-8 w-1/4 bg-primary-cyan text-white px-6 py-2 rounded-xl font-medium hover:bg-primary-red/90 transition-colors duration-300",children:"Our Work"})]})]})]})})},zI=()=>{const n={"About Us":["Our Mission","Our Team","Annual Reports","Partnerships","Careers"],Programs:["Education","Healthcare","Skills Training","Women Empowerment","Infrastructure"],"Get Involved":["Donate","Volunteer","Fundraise","Corporate Partnership","Newsletter"],Resources:["Impact Stories","News & Updates","Research","FAQs","Contact Us"]},e=[{icon:hI,href:"#",label:"Facebook"},{icon:EI,href:"#",label:"Twitter"},{icon:yI,href:"#",label:"Instagram"},{icon:_I,href:"#",label:"YouTube"}];return f.jsx("footer",{className:"bg-primary-gray text-white",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2",children:[f.jsxs(z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center space-x-2 mb-6",children:[f.jsx(SI,{className:"h-8 w-8 text-primary-cyan"}),f.jsx("span",{className:"text-2xl font-bold",children:"Canopy Nepal"})]}),f.jsx(z.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-gray-300 mb-6 leading-relaxed",children:"Transforming lives in Nepal through sustainable education, healthcare, and community development programs. Together, we're building a brighter future."}),f.jsxs(z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(vI,{className:"w-5 h-5 text-primary-cyan"}),f.jsx("span",{className:"text-gray-300",children:"info@canopynepal.com"})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(bI,{className:"w-5 h-5 text-primary-cyan"}),f.jsx("span",{className:"text-gray-300",children:"+977 1-234-5678"})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(xI,{className:"w-5 h-5 text-primary-cyan"}),f.jsx("span",{className:"text-gray-300",children:"Kathmandu, Nepal"})]})]})]}),Object.entries(n).map(([t,s],i)=>f.jsxs(z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*(i+3)},children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),f.jsx("ul",{className:"space-y-2",children:s.map(r=>f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-300 hover:text-primary-cyan transition-colors duration-300",children:r})},r))})]},t))]}),f.jsx(z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mt-12 pt-8 border-t border-gray-600",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[f.jsxs("div",{className:"mb-6 md:mb-0",children:[f.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Stay Updated"}),f.jsx("p",{className:"text-gray-300",children:"Get the latest news and impact stories delivered to your inbox."})]}),f.jsxs("div",{className:"flex w-full md:w-auto",children:[f.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 md:w-64 px-4 py-3 bg-gray-700 border border-gray-600 rounded-l-xl focus:outline-none focus:ring-2 focus:ring-primary-cyan focus:border-transparent text-white placeholder-gray-400"}),f.jsx(z.button,{className:"px-6 py-3 bg-primary-cyan text-white rounded-r-xl font-medium hover:bg-primary-cyan/90 transition-colors duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Subscribe"})]})]})}),f.jsxs(z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mt-8 pt-8 border-t border-gray-600 flex flex-col md:flex-row items-center justify-between",children:[f.jsx("div",{className:"flex space-x-6 mb-4 md:mb-0",children:e.map(({icon:t,href:s,label:i})=>f.jsx(z.a,{href:s,className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center hover:bg-primary-cyan transition-colors duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":i,children:f.jsx(t,{className:"w-5 h-5"})},i))}),f.jsxs("div",{className:"text-center md:text-right",children:[f.jsx("p",{className:"text-gray-300 mb-2",children:" 2024 Canopy Nepal. All rights reserved."}),f.jsxs("div",{className:"flex flex-wrap justify-center md:justify-end space-x-4 text-sm",children:[f.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary-cyan transition-colors duration-300",children:"Privacy Policy"}),f.jsx("span",{className:"text-gray-500",children:""}),f.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary-cyan transition-colors duration-300",children:"Terms of Service"}),f.jsx("span",{className:"text-gray-500",children:""}),f.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary-cyan transition-colors duration-300",children:"Cookie Policy"})]})]})]})]})})},HI=()=>f.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative mb-24",children:[f.jsx(z.div,{animate:{y:[-8,8,-8]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-10 right-20 w-3 h-3 bg-orange-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[10,-10,10]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-20 left-16 w-2 h-2 bg-green-400 rounded-full opacity-50"}),f.jsx(z.div,{animate:{y:[-6,6,-6]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute top-32 left-10 w-2 h-2 bg-blue-400 rounded-full opacity-45"}),f.jsx(z.div,{animate:{y:[12,-12,12]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-20 left-1/3 w-2.5 h-2.5 bg-red-400 rounded-full opacity-35"}),f.jsx(z.div,{animate:{y:[-10,10,-10]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:1.5},className:"absolute bottom-32 right-32 w-3 h-3 bg-yellow-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[8,-8,8]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:.8},className:"absolute top-40 right-1/4 w-2 h-2 bg-purple-400 rounded-full opacity-30"}),f.jsx(z.div,{animate:{y:[-14,14,-14]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:2.5},className:"absolute bottom-40 left-1/4 w-2.5 h-2.5 bg-pink-400 rounded-full opacity-45"}),f.jsx(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center space-y-6",children:f.jsx("div",{className:"space-y-1",children:f.jsx(z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},className:"inline-block",children:f.jsxs("p",{className:"text-2xl text-gray-700",children:["In Nepal,",f.jsx("span",{className:"text-4xl md:text-4xl font-black text-red-500",children:" 73% "}),"of students drop out before completing secondary school  due to cost and poor-quality education.",f.jsx("span",{className:"text-3xl md:text-3xl font-black text-red-500",children:"  Canopy Nepal is changing that. "}),f.jsx("br",{}),f.jsx("br",{}),"Canopy Nepal empowers students to stay in school and thrive by combining scholarships with creative, story-based learning that builds confidence, critical thinking, and lifelong skills.",f.jsx("br",{}),f.jsx("br",{}),"With Canopy, students dont just stay in school.  ",f.jsx("span",{className:"text-4xl md:text-4xl font-black text-red-500",children:"100% "})," remain motivated, supported, and on track to graduate, and with local governments adapting our curriculum, our impact is sustainable and systemic."]})})})})]}),Lg="/canopy-website/assets/tg-B20XOWPb.png",UI=()=>{const[n,e]=T.useState(0),t=[{id:1,text:"I never knew imagining my own story with new characters and plot of my choice would be possible before Canopy's session. I always had a difficult time expressing myself to my teachers and in exams. But, after Katha Bunaun, not only have I learned how to write my own story but also communicate with others well.",author:"Shreya",role:"Student Scholar",image:Lg},{id:2,text:"My daughter was about to leave school because I simply couldn't afford it anymore. As a father, it broke my heart but there was nothing I could do. But then Canopy stepped in and helped her stay in school. Now, she's not only in school, she's talking about becoming a banker! She tells me she'll earn enough so I don't have to worry anymore.",author:"Ram Bahadur",role:"Father of Scholar",image:Lg},{id:3,text:"The story-based learning approach has transformed how our students engage with education. We've seen remarkable improvements in critical thinking, communication skills, and most importantly, the confidence to express themselves. This program is changing the future of education in Nepal.",author:"Sunita Sharma",role:"Ministry of Social Development",image:Lg}];T.useEffect(()=>{const a=setInterval(()=>{e(o=>(o+1)%t.length)},5e3);return()=>clearInterval(a)},[t.length]);const s=a=>{e(a)},i=()=>{e(a=>(a+1)%t.length)},r=()=>{e(a=>(a-1+t.length)%t.length)};return f.jsxs("section",{className:"relative w-full overflow-hidden h-96 sm:h-[500px] lg:h-[600px] xl:h-[700px]",children:[t.map((a,o)=>f.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ease-in-out ${o===n?"opacity-100":"opacity-0"}`,children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${a.image})`}}),f.jsx("div",{className:"absolute inset-0 bg-black/60"})]},a.id)),f.jsx("div",{className:"relative z-10 flex h-full items-center justify-start px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-4xl text-center text-white",children:[f.jsx("div",{className:"mb-8",children:f.jsxs("blockquote",{className:"text-xl font-light text-start ml-20 leading-relaxed sm:text-3xl lg:text-4xl",children:['"',t[n].text,'"']})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-xl font-semibold sm:text-2xl",children:t[n].author}),f.jsx("p",{className:"text-lg text-white/80 sm:text-xl",children:t[n].role})]})]})}),f.jsx("div",{className:"absolute left-6 top-1/2 z-20 -translate-y-1/2",children:f.jsx("button",{onClick:r,className:"group rounded-full bg-white/20 p-3 backdrop-blur-sm transition-all duration-300 hover:bg-white/30","aria-label":"Previous testimonial",children:f.jsx(T_,{className:"h-6 w-6 text-white transition-transform group-hover:scale-110"})})}),f.jsx("div",{className:"absolute right-6 top-1/2 z-20 -translate-y-1/2",children:f.jsx("button",{onClick:i,className:"group rounded-full bg-white/20 p-3 backdrop-blur-sm transition-all duration-300 hover:bg-white/30","aria-label":"Next testimonial",children:f.jsx(k_,{className:"h-6 w-6 text-white transition-transform group-hover:scale-110"})})}),f.jsx("div",{className:"absolute bottom-8 left-1/2 z-20 flex -translate-x-1/2 space-x-3",children:t.map((a,o)=>f.jsx("button",{onClick:()=>s(o),className:`h-3 w-3 rounded-full transition-all duration-300 ${o===n?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to testimonial ${o+1}`},o))}),f.jsx("div",{className:"absolute bottom-0 left-0 z-20 h-1 w-full bg-white/20",children:f.jsx("div",{className:"h-full bg-white transition-all duration-300 ease-linear",style:{width:`${(n+1)/t.length*100}%`}})})]})},$I=()=>f.jsx("section",{className:"bg-#eeeeee py-20",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[f.jsx("h2",{className:"text-neutral-900 text-lg font-semibold uppercase tracking-wider mb-8",children:"SUPPORT US"}),f.jsx("div",{className:"mb-12",children:f.jsxs("h3",{className:"text-neutral-900 text-4xl md:text-5xl lg:text-6xl font-bold mb-8 leading-tight",children:[f.jsx("span",{className:"text-primary-red",children:"73%"})," of students are out of school and stuck in cycles of ",f.jsx("span",{className:"text-primary-orange",children:"generational poverty"})]})}),f.jsx("p",{className:"text-neutral-900 text-xl md:text-2xl font-medium mb-12 leading-relaxed",children:"Our work to reduce the drop out rate needs your support. You can help by providing support to child's education, school sessions, or operational cost."}),f.jsxs("button",{className:"group bg-primary-orange hover:bg-primary-red text-white text-xl font-bold py-4 px-12 rounded-full transition-all duration-300 transform hover:scale-105 flex items-center gap-3 mx-auto",children:["Donate Now",f.jsx(lI,{className:"w-6 h-6 transition-transform group-hover:translate-x-1"})]})]})}),WI="/canopy-website/assets/l3-DL12SoWQ.png",GI=()=>f.jsxs("section",{className:"bg-primary-gray/5 py-4 lg:py-8",children:[f.jsx("div",{className:"max-w-6xl mx-auto px-6 mb-1",children:f.jsx("div",{className:"text-center",children:f.jsx("h2",{className:"text-4xl md:text-5xl text-primary-red font-bold",children:"We Are Thankful To"})})}),f.jsx("div",{className:"w-full overflow-hidden px-16 -mt-20 -mb-20",children:f.jsx("img",{src:WI,alt:"Canopy Nepal Partners - including Nepal Government, Harvard Kennedy School, hundredED, NCEP, Alaya, International Literacy Learning, Friends of Nepal Adelaide, Milken Penn GSE, International Literacy Association, US Embassy Youth Council, UN Women Asia Pacific, Global Citizen, World Literacy Foundation, Little Big Fund, and YO",className:"w-full h-auto"})})]}),KI="/canopy-website/assets/hi-B9mccGx2.png",XI="/canopy-website/assets/hk-h9EHtADy.png",qI="/canopy-website/assets/hun-Y1hCrKi4.png",YI="/canopy-website/assets/ila-gFbFCJsZ.png",QI="/canopy-website/assets/ktmp-oXGp5-5_.png",ZI="/canopy-website/assets/mit-B_37LLHm.png",JI="/canopy-website/assets/res-CH_EVpX6.png",eF="/canopy-website/assets/wef-CCGJ66KQ.png",tF=()=>{const n=[{src:KI,alt:"Harvard Innovation Lab"},{src:XI,alt:"Harvard Kennedy School"},{src:qI,alt:"HundrED"},{src:YI,alt:"International Literacy Association"},{src:QI,alt:"The Kathmandu Post"},{src:ZI,alt:"MIT Solve"},{src:JI,alt:"Resolution Project"},{src:eF,alt:"World Economic Forum"}];return f.jsxs("section",{className:"bg-white py-12 overflow-hidden",children:[f.jsxs("div",{className:"w-full text-center relative overflow-hidden pt-5",children:[f.jsx("div",{className:"absolute inset-0 opacity-5",children:f.jsx("div",{className:"grid grid-cols-8 h-full",children:[...Array(32)].map((e,t)=>f.jsx("div",{className:"border border-white"},t))})}),f.jsx("div",{className:"relative z-10",children:f.jsx("h3",{className:"text-primary-orange text-2xl md:text-3xl lg:text-4xl font-bold mb-2 tracking-wide",children:"Featured In"})})]}),f.jsx("div",{className:"w-full overflow-hidden py-8",children:f.jsxs("div",{className:"flex items-center animate-infinite-scroll",children:[n.map((e,t)=>f.jsx("div",{className:"flex-shrink-0 mx-8 md:mx-12",children:f.jsx("img",{src:e.src,alt:e.alt,className:"h-16 md:h-24 object-contain",loading:"lazy"})},`first-${t}`)),n.map((e,t)=>f.jsx("div",{className:"flex-shrink-0 mx-8 md:mx-12",children:f.jsx("img",{src:e.src,alt:e.alt,className:"h-16 md:h-24 object-contain",loading:"lazy"})},`second-${t}`)),n.map((e,t)=>f.jsx("div",{className:"flex-shrink-0 mx-8 md:mx-12",children:f.jsx("img",{src:e.src,alt:e.alt,className:"h-16 md:h-24 object-contain",loading:"lazy"})},`third-${t}`))]})}),f.jsx("div",{className:"max-w-6xl mx-auto px-6 text-center mt-8 mb-4",children:f.jsxs("button",{className:"inline-flex items-center bg-primary-orange text-white px-8 py-4 text-lg rounded-full font-bold hover:bg-primary-red transition-all duration-300 hover:shadow-lg",onClick:()=>{},children:["Read More",f.jsx("svg",{className:"w-5 h-5 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),f.jsx("style",{children:`
        @keyframes infinite-scroll {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-33.33%);
          }
        }

        .animate-infinite-scroll {
          animation: infinite-scroll 40s linear infinite;
          width: max-content;
        }

        .animate-infinite-scroll:hover {
          animation-play-state: paused;
        }

        /* Ensure smooth performance */
        .animate-infinite-scroll {
          will-change: transform;
          backface-visibility: hidden;
          perspective: 1000px;
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
          .animate-infinite-scroll {
            animation-duration: 30s;
          }
        }

        /* Reduced motion preference */
        @media (prefers-reduced-motion: reduce) {
          .animate-infinite-scroll {
            animation: none;
          }
          .animate-infinite-scroll {
            overflow-x: auto;
            scroll-snap-type: x mandatory;
          }
          .animate-infinite-scroll > div {
            scroll-snap-align: center;
          }
        }
      `})]})},nF="/canopy-website/assets/oos-C0ySdRBH.png",sF="/canopy-website/assets/os2-C3HrzxCY.jpg",iF=()=>f.jsxs("div",{className:"bg-gray-50 text-gray-800 mt-28",children:[f.jsx("div",{className:"mb-0",children:f.jsx("img",{src:nF,alt:"Group of students with balloons",className:"w-full h-auto object-contain block"})}),f.jsxs("div",{className:"relative w-full mx-auto px-6 pt-8 pb-8 text-center bg-gray-50 lg:mt-0 overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[f.jsx("div",{className:"absolute top-20 right-10 w-32 h-32 bg-orange-500/10 rounded-full blur-2xl"}),f.jsx("div",{className:"absolute bottom-32 left-16 w-40 h-40 bg-orange-600/8 rounded-full blur-3xl"}),f.jsx("div",{className:"absolute top-40 left-10 w-20 h-20 bg-red-400/12 rounded-full blur-xl"}),f.jsx("div",{className:"absolute bottom-16 right-20 w-24 h-24 bg-red-500/10 rounded-full blur-2xl"}),f.jsx("div",{className:"absolute top-60 right-1/3 w-28 h-28 bg-cyan-400/8 rounded-full blur-2xl"}),f.jsx("div",{className:"absolute bottom-40 left-1/4 w-36 h-36 bg-cyan-300/6 rounded-full blur-3xl"}),f.jsx(z.div,{animate:{y:[-8,8,-8]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-32 right-20 w-3 h-3 bg-orange-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[10,-10,10]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute top-96 left-16 w-2 h-2 bg-green-400 rounded-full opacity-50"}),f.jsx(z.div,{animate:{y:[-6,6,-6]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute top-48 left-10 w-2 h-2 bg-blue-400 rounded-full opacity-45"}),f.jsx(z.div,{animate:{y:[12,-12,12]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-24 left-1/3 w-2.5 h-2.5 bg-red-400 rounded-full opacity-35"}),f.jsx(z.div,{animate:{y:[-10,10,-10]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:1.5},className:"absolute top-80 right-32 w-3 h-3 bg-yellow-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[8,-8,8]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:.8},className:"absolute top-64 right-1/4 w-2 h-2 bg-purple-400 rounded-full opacity-30"}),f.jsx(z.div,{animate:{y:[-14,14,-14]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:2.5},className:"absolute bottom-40 left-1/4 w-2.5 h-2.5 bg-pink-400 rounded-full opacity-45"}),f.jsx(z.div,{animate:{y:[-12,12,-12]},transition:{duration:5.2,repeat:1/0,ease:"easeInOut",delay:3},className:"absolute top-16 right-1/2 w-2 h-2 bg-orange-500 rounded-full opacity-35"}),f.jsx(z.div,{animate:{y:[15,-15,15]},transition:{duration:6.5,repeat:1/0,ease:"easeInOut",delay:1.8},className:"absolute bottom-28 right-16 w-2.5 h-2.5 bg-cyan-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[-7,7,-7]},transition:{duration:4.2,repeat:1/0,ease:"easeInOut",delay:.3},className:"absolute top-72 right-12 w-2 h-2 bg-indigo-400 rounded-full opacity-35"}),f.jsx(z.div,{animate:{y:[9,-9,9]},transition:{duration:3.8,repeat:1/0,ease:"easeInOut",delay:2.2},className:"absolute bottom-16 left-8 w-2 h-2 bg-emerald-400 rounded-full opacity-45"}),f.jsx(z.div,{animate:{y:[-11,11,-11]},transition:{duration:5.8,repeat:1/0,ease:"easeInOut",delay:1.2},className:"absolute top-40 right-2/3 w-2.5 h-2.5 bg-amber-400 rounded-full opacity-38"}),f.jsx(z.div,{animate:{y:[13,-13,13]},transition:{duration:6.2,repeat:1/0,ease:"easeInOut",delay:.7},className:"absolute bottom-36 left-1/3 w-2 h-2 bg-rose-400 rounded-full opacity-42"}),f.jsx(z.div,{animate:{y:[-9,9,-9]},transition:{duration:4.8,repeat:1/0,ease:"easeInOut",delay:3.5},className:"absolute top-56 left-20 w-2 h-2 bg-teal-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[-5,5,-5]},transition:{duration:4.3,repeat:1/0,ease:"easeInOut",delay:1.1},className:"absolute top-36 left-3/4 w-2 h-2 bg-lime-400 rounded-full opacity-35"}),f.jsx(z.div,{animate:{y:[11,-11,11]},transition:{duration:5.7,repeat:1/0,ease:"easeInOut",delay:2.8},className:"absolute bottom-52 right-1/3 w-2.5 h-2.5 bg-violet-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[-8,8,-8]},transition:{duration:3.9,repeat:1/0,ease:"easeInOut",delay:.9},className:"absolute top-88 left-2/3 w-2 h-2 bg-sky-400 rounded-full opacity-45"}),f.jsx(z.div,{animate:{y:[6,-6,6]},transition:{duration:4.6,repeat:1/0,ease:"easeInOut",delay:1.4},className:"absolute top-44 left-4 w-2 h-2 bg-emerald-500 rounded-full opacity-35"}),f.jsx(z.div,{animate:{y:[-10,10,-10]},transition:{duration:5.3,repeat:1/0,ease:"easeInOut",delay:2.1},className:"absolute top-68 right-4 w-2 h-2 bg-fuchsia-400 rounded-full opacity-40"})]}),f.jsx("div",{className:"relative z-10",children:f.jsxs("div",{className:"space-y-4 text-xl leading-relaxed text-justify text-gray-700  max-w-4xl mx-auto",children:[f.jsx("p",{className:"font-bold text-2xl text-center text-primary-red",children:"Canopy Nepal didn't begin with a perfect plan. It began with frustration!"}),f.jsx("p",{children:"Our founder, Mohit Rauniyar, grew up in a school system that didn't allow him to question, create, or think critically. Classrooms were rigid and memorization was rewarded. Creativity was treated like a distraction. That frustration stayed with him, not as resentment, but as fuel."}),f.jsx("p",{children:"In 2010, while working with the Nepal Children's Education Project (NCEP), Mohit saw firsthand how deep the crisis went. Public schools were overcrowded, under-resourced, and often inaccessible to the very children who needed them most. He began to understand the scale of the challenge, how access was only half the battle."}),f.jsx("p",{children:"By 2012, he joined the Bloom Nepal School as a teacher, working to build a school where learning was joyful and curiosity led the way. Those five years taught him something critical: even the best schools couldn't fix the system alone. If Nepal's education system was to change, it had to be done from the ground up and from the top down."}),f.jsx("p",{children:"So in 2015, Canopy Nepal was born, built on the belief that true educational equity means giving every child not just a seat in the classroom, but a reason to stay. Canopy combined scholarships to increase access with a bold idea: story-based learning that brings education to life and puts students at the center of their narrative. Education platforms, NCEP and Bloom, where Mohit started his educator journey from, are now some of Canopy's biggest partners."}),f.jsx("p",{className:"font-medium text-gray-800",children:"For Mohit, it was never just about fixing the system; it was about building the kind of education he wished he had."})]})})]}),f.jsx("div",{children:f.jsx("img",{src:sF,alt:"Mohit Rauniyar speaking",className:"w-full h-[70vh] object-cover"})}),f.jsx("style",{children:`
        /* Clean, minimal styles only */
      `})]}),rF="/canopy-website/assets/mv0-Bsd90ABI.png",aF="/canopy-website/assets/mv1-DxNtMXYF.png",oF="/canopy-website/assets/mv2-BfCy-0GD.png",lF=()=>f.jsxs("div",{className:"bg-gray-50 text-gray-800 mt-28",children:[f.jsxs("div",{className:"relative w-full overflow-hidden",children:[f.jsx("div",{className:"relative",children:f.jsx("img",{src:rF,alt:"Smiling student in classroom",className:"w-full h-80 lg:h-96 object-cover"})}),f.jsx("div",{className:"text-center px-6 max-w-5xl mx-auto mt-8",children:f.jsx("p",{className:"text-3xl md:text-3xl leading-relaxed font-extrabold text-primary-blue",children:"With more than 73% of students not completing upper secondary education, we're reshaping the education system to ensure all students complete education."})})]}),f.jsxs("div",{className:"relative w-full overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 pointer-events-none z-10",children:[f.jsx(z.div,{animate:{y:[-8,8,-8]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-10 right-20 w-3 h-3 bg-orange-400 rounded-full opacity-30"}),f.jsx(z.div,{animate:{y:[10,-10,10]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-20 left-16 w-2 h-2 bg-blue-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[-6,6,-6]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute top-32 left-10 w-2 h-2 bg-green-400 rounded-full opacity-35"})]}),f.jsx("div",{className:"w-full mt-8",children:f.jsx("img",{src:aF,alt:"Student studying",className:"w-full h-96 object-cover"})}),f.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8 text-center",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-8 text-primary-red",children:"Why Education?"}),f.jsx("p",{className:"text-2xl leading-relaxed text-gray-700 max-w-4xl mx-auto",children:"In Nepal, only 27% of students complete the upper secondary level, and the rest 73% drop out before their final year because of affordability and poor-quality schooling (UNICEF, 2022). The students impacted are disproportionately low-income, perpetuating the cycle of poverty by hindering their opportunities to become financially and socially independent (Devkota & Bagale, 2015)."})]})]}),f.jsxs("div",{className:"relative w-full py-8 overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[f.jsx(z.div,{animate:{y:[-12,12,-12]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-24 left-1/4 w-2.5 h-2.5 bg-red-400 rounded-full opacity-25"}),f.jsx(z.div,{animate:{y:[8,-8,8]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:1.5},className:"absolute bottom-32 right-1/3 w-3 h-3 bg-cyan-400 rounded-full opacity-30"})]}),f.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-8 text-primary-red",children:"Our Mission"}),f.jsx("p",{className:"text-2xl leading-relaxed text-gray-700 mb-8",children:"Canopy Nepal empowers underserved students to stay in school and thrive by combining scholarships with story-based learning that nurtures confidence, critical thinking, and lifelong skills. Through inclusive education and strategic government partnerships, we reduce dropout rates, break cycles of generational poverty, and build a future shaped by empowered thinkers and doers."})]})]}),f.jsxs("div",{className:"relative w-full overflow-hidden",children:[f.jsxs("div",{className:"max-w-4xl mx-auto px-6 pb-8 text-center",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-8 text-primary-red",children:"Our Vision"}),f.jsx("p",{className:"text-2xl leading-relaxed text-gray-700",children:"We envision a Nepal where every child, regardless of background, has access to quality education, the freedom to express themselves, and the tools to shape their own future."})]}),f.jsxs("div",{className:"relative w-full",children:[f.jsx("img",{src:oF,alt:"Group of happy students",className:"w-full h-96 lg:h-[500px] object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full",children:f.jsx("div",{className:"max-w-5xl mx-auto px-6 text-center",children:f.jsx("div",{className:"bg-white/10 rounded-2xl p-8 border border-white/20",children:f.jsx("p",{className:"text-xl md:text-2xl font-semibold leading-relaxed text-white",children:"By 2030, we aim to reach over half a million students and integrate story-based learning into classrooms across Nepal, making storytelling a foundational part of how children learn, grow, and connect."})})})})})]})]})]}),cF="/canopy-website/assets/Siddhartha-BGRB7XYH.png",uF="/canopy-website/assets/Anusuya-z2wi0HNk.png",dF="/canopy-website/assets/Pratima-dNg8ofqX.png",hF="/canopy-website/assets/Mohit-fkKpBvok.png",fF="/canopy-website/assets/Monal-Mfp8qpQw.png",$e="/canopy-website/assets/Angirash-COWkOsmJ.png",pF="/canopy-website/assets/Anjula-HQsBfb8I.png",mF="/canopy-website/assets/Monika-6cVZEgo0.png",gF="/canopy-website/assets/Wangmo-WjD8o559.png",yF="/canopy-website/assets/Yamuna-DaSUlFqe.png",vF="/canopy-website/assets/Raghav-DAhLjtAr.png",xF="/canopy-website/assets/Tanisha-DDLqQdqk.png",wF=()=>{const[n,e]=T.useState("CORE TEAM"),t=["CORE TEAM","FACILATORS AND FIELD VOLUNTEERS","VOLUNTEERS"],s=[{id:1,name:"Mohit Rauniyar",title:"Founder",category:"CORE TEAM",image:hF,description:"Established Canopy Nepal and leads its global vision, actively overseeing international chapters in the USA and France while driving strategic fundraising to expand impact and ensure long-term sustainability.",linkedin:"https://www.linkedin.com/in/mohitrauniyar/"},{id:2,name:"Monal Bhattarai",title:"Managing Director",category:"CORE TEAM",image:fF,description:"Leads Canopy's vision, partnerships, and fundraising strategysteering growth, building global relationships, and amplifying the organization's voice through thought leadership, board support, and international representation.",linkedin:"http://www.linkedin.com/in/monal-bhattarai-bb3261194"},{id:3,name:"Angirash Karki",title:"Executive Director",category:"CORE TEAM",image:$e,description:"Ensures Canopy operates smoothly by overseeing compliance, HR, finance, and risk management while building strong government partnerships and driving internal systems for staff performance and operational excellence.",linkedin:"https://www.linkedin.com/in/angirash-karki/"},{id:4,name:"Pratima Wosti",title:"Finance & Legal Officer",category:"CORE TEAM",image:dF,description:"Manages budgets, payments, and reports, ensuring Canopy's financial integrity with timely reconciliations, audit readiness, and clear communication of budget performance across all departments and proposals.",linkedin:"https://www.linkedin.com/in/pratima-wosti-005b72239/"},{id:5,name:"Anjula Joshi",title:"Program Coordinator",category:"CORE TEAM",image:pF,description:"Oversees the execution of Katha Bunaun and CANSHIP programs, ensuring sessions run smoothly, logistics are managed, and participants' feedback and program data are regularly reviewed and reported.",linkedin:"https://www.linkedin.com/in/anjula-joshi-she-her-352974217/"},{id:6,name:"Tanisha Agarwal",title:"Development Assistant",category:"CORE TEAM",image:xF,description:"Drives fundraising efforts by writing grant proposals, managing donor communications, organizing campaigns, and aligning program and finance teams to secure funding and report impact.",linkedin:"https://www.linkedin.com/in/tanisha-agarwal-a65585240/"},{id:7,name:"Wangmo Lama",title:"Communication Officer",category:"CORE TEAM",image:gF,description:"Leads Canopy's digital storytelling and branding, managing content creation, press outreach, and engagement strategies to increase visibility, share success stories, and build a strong online presence.",linkedin:"https://www.linkedin.com/in/wangmo-lama-b08688273/"},{id:8,name:"Abhishek Pradhan",title:"Monitoring and Evaluation Trainee",category:"CORE TEAM",image:$e,description:"Tracks program impact through assessments, reporting, and data tools, ensuring that insights guide decision-making, drive improvement, and reflect the voices of students and communities.",linkedin:null},{id:9,name:"Anusuya Dahal",title:"Facilitator Officer",category:"CORE TEAM",image:uF,description:"Supports and trains facilitators, ensures quality program delivery, manages performance reviews, and maintains a strong support system to foster facilitator growth and retention.",linkedin:"https://www.linkedin.com/in/anusuya-dahal-3b5884223/"},{id:10,name:"Siddhartha Guvaju",title:"Facilitator Officer",category:"CORE TEAM",image:cF,description:"Supports and trains facilitators, ensures quality program delivery, manages performance reviews, and maintains a strong support system to foster facilitator growth and retention.",linkedin:null},{id:11,name:"Monika Limbu",title:"School Liaison Officer",category:"CORE TEAM",image:mF,description:"Builds strong relationships with schools, conduct regular visits, coordinate events, monitor student well-being, and ensure timely feedback and collaboration with parents and teachers to support scholars holistically.",linkedin:"https://www.linkedin.com/in/monika-limbu-43119723r/"},{id:12,name:"Raghav Devkota",title:"Finance Intern",category:"CORE TEAM",image:vF,description:"Supports day-to-day accounting tasks, helps maintain organized records, assists with budget tracking, and learns nonprofit finance systems.",linkedin:null},{id:13,name:"Yamuna Thapa Didi",title:"Cook and Cleaner",category:"CORE TEAM",image:yF,description:"Ensures a welcoming, hygienic, and well-fed environment by preparing nutritious meals, maintaining cleanliness, and supporting daily office upkeep, helping the team stay energized and focused on their work.",linkedin:null},{id:14,name:"Anala Shrestha",title:"Field Volunteer",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:"https://www.linkedin.com/in/analashrestha1830/"},{id:15,name:"Aviska Upadhyaya",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:"https://np.linkedin.com/in/aaviska-upadhayaya-741755370"},{id:16,name:"Bimala Dahal",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:null},{id:17,name:"Biraj Poudel",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:null},{id:18,name:"Deepasha Maharjan",title:"Field Volunteer",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:"https://www.linkedin.com/in/deepasha-maharjan-b30229206/"},{id:19,name:"Himshikha Dahal",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:null},{id:20,name:"Janvi Subedi",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:null},{id:21,name:"Mamata Shah",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:null},{id:22,name:"Manila Magar",title:"Field Volunteer & Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:null},{id:23,name:"Megha Bhattarai",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:"https://www.linkedin.com/in/megha-bhattarai-73350a261/"},{id:24,name:"Mohit Muni Bajracharya",title:"Field Volunteer & Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:null},{id:25,name:"Nandita Ghimire",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:"https://www.linkedin.com/in/nandita-ghimire/"},{id:26,name:"Ojashwi Pun",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:null},{id:27,name:"Prarthana Sharma",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:"https://www.linkedin.com/in/prarthana-sharma-268a81330/"},{id:28,name:"Prastuti Chaulagain",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:null},{id:29,name:"Pratikshya Poudel",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:null},{id:30,name:"Puspa kala Rai",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:"https://www.linkedin.com/in/puspa-kala-rai-226090353/"},{id:31,name:"Sobika Shrestha",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:null},{id:32,name:"Sristy Khadka",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:null},{id:33,name:"Sujal Adhikari",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:$e,description:"",linkedin:null}],i=n==="ALL"?s:s.filter(a=>a.category===n),r="bg-gray-50";return f.jsxs("div",{className:"bg-primary-orange/5 text-gray-800 mt-28 min-h-screen",children:[f.jsxs("div",{className:"py-16 text-center",children:[f.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-primary-orange mb-12",children:"Meet Our Team"}),f.jsx("div",{className:"flex flex-wrap justify-center items-center gap-4 md:gap-8 text-sm md:text-base font-medium text-gray-600",children:t.map((a,o)=>f.jsxs(Av.Fragment,{children:[f.jsx("button",{onClick:()=>e(a),className:`hover:text-gray-900 transition-colors duration-200 ${n===a?"text-gray-900 font-semibold":""}`,children:a}),o<t.length-1&&f.jsx("span",{className:"text-gray-400",children:"|"})]},a))})]}),f.jsxs("div",{className:"max-w-7xl mx-auto px-6 pb-20",children:[n==="FACILATORS AND FIELD VOLUNTEERS"&&f.jsx("div",{className:"mb-12 text-center",children:f.jsx("p",{className:"text-gray-700 text-lg max-w-3xl mx-auto",children:"Facilitators and Field Volunteers run engaging storytelling sessions, mentor students, track progress, and provide on-the-ground supportensuring students thrive both inside and outside the classroom."})}),f.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:i.map(a=>f.jsxs("div",{className:`${r} shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden w-full max-w-sm md:w-[calc(50%-12px)] lg:w-[calc(33.333%-16px)]`,children:[f.jsx("div",{className:"relative aspect-square overflow-hidden",children:f.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:`${r} p-6`,children:[f.jsxs("div",{className:"flex items-center mb-1",children:[f.jsx("h3",{className:"text-2xl font-bold text-primary-orange mr-2",children:a.name}),a.linkedin&&f.jsx("a",{href:a.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-primary-blue hover:text-primary-gray",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]}),f.jsx("p",{className:"text-m uppercase text-gray-600 tracking-wide",children:a.title}),n!=="FACILATORS AND FIELD VOLUNTEERS"&&f.jsx("p",{className:"mt-4 text-gray-700 text-base leading-relaxed",children:a.description})]})]},a.id))})]})]})},bF="/canopy-website/assets/Angirash-C5DqmfA6.png",AF="/canopy-website/assets/Mohit-qzP_MaJ4.png",SF="/canopy-website/assets/Roshan-B4dNNMCc.png",EF="/canopy-website/assets/Shreya-DU40YmMn.png",CF="/canopy-website/assets/Srishti-D1UDJci9.png",_F="/canopy-website/assets/Aditya-Cn3U-g1p.png",TF="/canopy-website/assets/Bijeysh-DS4fqpTe.png",kF="/canopy-website/assets/Niranjan-D3UlCa1y.png",PF="/canopy-website/assets/Saugat-B5EiNHph.png",NF="/canopy-website/assets/Shristi-Ct9SChgX.png",RF="/canopy-website/assets/Ashra-C9LLC7Z6.png",LF="/canopy-website/assets/Bhushan-BtEsMaCF.png",MF="/canopy-website/assets/Bibek-CSHkrsAY.png",jF="/canopy-website/assets/Bimla-c6_BnzJI.png",DF="/canopy-website/assets/Binju-osveto37.png",IF="/canopy-website/assets/Clement-CMA6ixk3.png",FF="/canopy-website/assets/Heather-B0bAT2Ot.png",OF="/canopy-website/assets/Meg-6KOC5MYk.png",BF="/canopy-website/assets/Needhika-Brkt286Q.png",VF="/canopy-website/assets/Sanam-Ds7FUvSY.png",zF="/canopy-website/assets/Subha-zOZL8x27.png",HF="/canopy-website/assets/Swexya-Cv5WyzVa.png",UF=()=>{const[n,e]=T.useState("BOARD OF DIRECTORS"),t=["BOARD OF DIRECTORS","ADVISORY BOARD"],i=[{id:1,name:"Angirash Karki",title:"Board of Director",category:"BOARD OF DIRECTORS",image:bF,description:"Angirash is an educator and social impact leader with a decade of experience across education, inclusion, and youth empowerment. He has led country operations for ISLearning, advised U.S. Embassy Youth Council and Rotary initiatives, mentored changemakers globally, and developed inclusive education policies with governments and the National Human Rights Commission."},{id:2,name:"Mohit Rauniyar",title:"Board of Director",category:"BOARD OF DIRECTORS",image:AF,description:"Mohit is a seasoned education and development leader with experience across Nepal, the U.S., and Europe. Alongside founding Canopy Nepal, he has led grants strategy at Riverside Immigrant Services, supported the launch of the University of Nepal, mentored social entrepreneurs in Ghana, organized climate initiatives in France, and shaped education policy dialogue globally. He holds a Masters in Education from Harvard University."},{id:3,name:"Roshan Bhatta",title:"Board of Director",category:"BOARD OF DIRECTORS",image:SF,description:"Roshan is a biomedical engineer and researcher with global experience across the U.S., Turkey, and Romania. He previously served as Canopy Nepal's Managing Director and has since worked in medical device quality assurance and nanotechnology R&D. Roshan brings a unique lens at the intersection of innovation, science, and education."},{id:4,name:"Shreya Upadhyay",title:"Board of Director",category:"BOARD OF DIRECTORS",image:EF,description:"Shreya is a social impact strategist and entrepreneur with experience leading volunteer programs, nonprofit operations, and youth initiatives. She co-founded Sweet Fix Nepal and has led international exchanges, board engagement, and cross-cultural programs that bridge purpose, community, and creativity."},{id:5,name:"Srishti Vaidya",title:"Board of Director",category:"BOARD OF DIRECTORS",image:CF,description:"Srishti is an economist and sustainability advocate with experience at the International Finance Corporation and Cummins Inc. She has led operations at Vaidya Group, advised global climate initiatives, and served as Nepal's youth delegate at COP28. She is also a Global Shaper and founder of Kathmandu's longest-running book club."},{id:6,name:"Aditya Todi",title:"Canopy Nepal Advisory Board",category:"ADVISORY BOARD",image:_F,description:"Aditya leads the metal manufacturing vertical at MC Group, a century-old business in Nepal. With past roles in consulting and development, he brings a global lens to strategic leadership. He holds degrees from Stanford and dual master's from Harvard Kennedy School and Harvard Business School."},{id:7,name:"Bijeysh Ranjit",title:"Canopy Nepal Advisory Board",category:"ADVISORY BOARD",image:TF,description:"Bijeysh is a social entrepreneur and founder of Danfe Works, which creates opportunities for marginalized communities through business with purpose. He previously led the nonprofit SAATH and has worked across the U.S., Europe, and Nepal. Passionate about impact, he's also a nature lover and lifelong learner."},{id:8,name:"Niranjan Kunwar",title:"Canopy Nepal Advisory Board",category:"ADVISORY BOARD",image:kF,description:"Niranjan is an educator, writer, and translator based in Kathmandu. With an M.S.Ed from CUNY, he bridges education, arts, and culture. He's the author of Between Queens and the Cities, and continues to champion inclusive storytelling through his forthcoming translation of Seto Dharti and a children's book."},{id:9,name:"Saugat Gautam",title:"Canopy Nepal Advisory Board",category:"ADVISORY BOARD",image:PF,description:"Saugat is a political science scholar and development leader with a decade of experience. He manages programs at the International Commission of Jurists and teaches at Thames College. As co-founder of Nepal Center for Integrated Development, he blends research, advocacy, and action for lasting social change."},{id:10,name:"Shristi Mishra",title:"Canopy Nepal Advisory Board",category:"ADVISORY BOARD",image:NF,description:"Shristi is an education researcher, entrepreneur, and Fulbright alum with experience at the World Bank, USAID, and DC's education agency. A former teacher in Nepal, she now runs Yak9 Chews, a pet wellness company based in Austinproving you can love data and dogs equally."},{id:11,name:"Ashra Acharya",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:RF,description:"Ashra leads executive operations at Bessemer Venture Partners and previously served as Director of Community for the Great Nepali Diaspora. Born in Nepal and raised in Texas, she brings heart and expertise to her work, always rooting her leadership in connection, equity, and community building."},{id:12,name:"Bhushan Dahal",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:LF,description:"Bhushan is a Ph.D. candidate in Educational Leadership at Florida State University and former Executive Director of Kids of Kathmandu. His leadership spans rebuilding schools, implementing digital classrooms, and advancing education policyconnecting academic insight with grassroots action to drive educational change in Nepal and beyond."},{id:13,name:"Bibek Raj Kandel",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:MF,description:"Bibek is a global energy and climate expert advising governments and institutions across Asia and Africa. With a decade of experience in climate finance and policy, he brings systems-level thinking and a commitment to equitable growth. He holds an MPA from Harvard Kennedy School."},{id:14,name:"Bimla Siwakoti",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:jF,description:"Bimla is a Health Informaticist at Deloitte, blending her technical background with lived experience from a refugee camp in Nepal. With degrees from Johns Hopkins and Penn State, she is passionate about improving healthcare systems and championing education equity through technology and data."},{id:15,name:"Binju Gaire",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:DF,description:"Binju is an IT Audit Manager at Deloitte, currently based in Dublin. With expertise in tech risk and compliance, she is equally committed to mental health, education, and financial literacy. She brings thoughtful insight and global experience to supporting impactful social change."},{id:16,name:"Clement V. Gomes",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:IF,description:"Clement is a Biology Professor at CUNY Guttman and founder of ISLearning. With decades of experience teaching in both K12 and higher education, he is passionate about fostering global citizenship and building inclusive learning environments. He holds a Ph.D. from Columbia University."},{id:17,name:"Heather Schultz",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:FF,description:"Heather helped launch Canopy's Katha Bunaun program in 2017 and continues to champion its mission. With years of experience in youth development and literacy, she now lives in Seattle and works as a Senior Onboarding Specialistalways bringing her love for learning to every role."},{id:18,name:"Meg Zuttermeister",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:OF,description:"Meg is an educator passionate about designing engaging and inclusive learning environments. Her work spans early intervention, parent coaching, and preschool education. She holds an M.Ed from Harvard and brings a deep understanding of human development to Canopy's mission of empowering learners at every stage."},{id:19,name:"Needika Adhikari",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:BF,description:"Needika is a Senior Analyst at Excelsior Energy Capital, managing renewable energy assets and advising on sustainability initiatives in the U.S. and Nepal. With an LLM from The Fletcher School, she brings analytical precision and a deep commitment to equitable climate solutions."},{id:20,name:"Sanam Karki",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:VF,description:"Sanam is a project and data management professional with experience in banking and nonprofit operations. With an MBA from the University of Southern Mississippi, she helps organizations improve systems, drive results, and build stronger teams through thoughtful analysis and collaborative leadership."},{id:21,name:"Subha Niroula",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:zF,description:"Subha is a Software Engineer with a passion for teaching and mathematics. With degrees from St. John's College and Wake Forest, he brings global academic experience and a love for lifelong learningbalancing code, books, and his second Master's degree while navigating Texas tech."},{id:22,name:"Swexya Panta",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:HF,description:"Swexya is a Senior Investment Analyst at the Carnegie Corporation of New York. With a strong foundation in financial research and analysis, she previously worked at Stone Forest Capital. She brings analytical clarity, curiosity, and commitment to socially impactful investing and education access."}].filter(a=>a.category===n),r="bg-gray-50";return f.jsxs("div",{className:"bg-primary-orange/5 text-gray-800 mt-28 min-h-screen",children:[f.jsxs("div",{className:"py-16 text-center",children:[f.jsx("h1",{className:`text-5xl md:text-6xl font-bold ${n==="BOARD OF DIRECTORS"?"text-primary-red":"text-[#4984c4]"} mb-12`,children:"Meet Our Board"}),f.jsx("div",{className:"flex flex-wrap justify-center items-center gap-4 md:gap-8 text-base font-medium text-gray-600",children:t.map((a,o)=>f.jsxs(Av.Fragment,{children:[f.jsx("button",{onClick:()=>e(a),className:`hover:text-gray-900 transition-colors duration-200 ${n===a?"text-gray-900 font-semibold":""}`,children:a}),o<t.length-1&&f.jsx("span",{className:"text-gray-400",children:"|"})]},a))})]}),f.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-20",children:f.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:i.map(a=>f.jsxs("div",{className:`${r} shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden w-full max-w-sm md:w-[calc(50%-12px)] lg:w-[calc(33.333%-16px)]`,children:[f.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[f.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center p-6",children:f.jsx("p",{className:"text-white text-md leading-relaxed",children:a.description})})]}),f.jsxs("div",{className:`${r} p-6`,children:[f.jsx("h3",{className:`text-2xl font-bold ${a.category==="BOARD OF DIRECTORS"?"text-primary-red":"text-[#4984c4]"} mb-1`,children:a.name}),f.jsx("p",{className:"text-base uppercase text-gray-600 tracking-wide",children:a.title})]})]},a.id))})})]})},Y1=()=>{const[n,e]=T.useState(null),[t,s]=T.useState({x:0,y:0}),i=T.useRef(null),r={Darchula:{schools:6,students:450},Baitadi:{schools:8,students:600},Dadeldhura:{schools:10,students:750},Kanchanpur:{schools:18,students:1350},Kailali:{schools:22,students:1650},Doti:{schools:12,students:900},Achham:{schools:11,students:825},Bajhang:{schools:9,students:675},Bajura:{schools:7,students:525},Humla:{schools:4,students:300},Mugu:{schools:5,students:375},Jumla:{schools:6,students:450},Kalikot:{schools:8,students:600},Dolpa:{schools:3,students:225},Dailekh:{schools:12,students:900},Jajarkot:{schools:9,students:675},Surkhet:{schools:16,students:1200},Salyan:{schools:10,students:750},"Rukum West":{schools:7,students:525},Bardiya:{schools:17,students:1275},Banke:{schools:19,students:1425},Dang:{schools:20,students:1500},"Rukum East":{schools:8,students:600},Rolpa:{schools:11,students:825},Pyuthan:{schools:12,students:900},Arghakhanchi:{schools:10,students:750},Kapilvastu:{schools:18,students:1350},Rupandehi:{schools:28,students:2100},Palpa:{schools:14,students:1050},Gulmi:{schools:15,students:1125},Nawalpur:{schools:16,students:1200},Baglung:{schools:17,students:1275},Parbat:{schools:14,students:1050},Myagdi:{schools:10,students:750},Mustang:{schools:4,students:300},Syangja:{schools:24,students:1800},Kaski:{schools:30,students:2250},Tanahun:{schools:20,students:1500},Gorkha:{schools:18,students:1350},Lamjung:{schools:15,students:1125},Manang:{schools:3,students:225},Chitwan:{schools:27,students:2025},Makwanpur:{schools:19,students:1425},Dhading:{schools:22,students:1650},Nuwakot:{schools:26,students:1950},Kathmandu:{schools:58,students:4350},Bhaktapur:{schools:20,students:1500},Lalitpur:{schools:32,students:2400},Kavrepalanchok:{schools:24,students:1800},Sindhupalchok:{schools:28,students:2100},Rasuwa:{schools:6,students:450},Dolakha:{schools:13,students:975},Ramechhap:{schools:11,students:825},Sindhuli:{schools:14,students:1050},Solukhumbu:{schools:7,students:525},Okhaldhunga:{schools:10,students:750},Khotang:{schools:13,students:975},Udayapur:{schools:16,students:1200},Sankhuwasabha:{schools:9,students:675},Bhojpur:{schools:11,students:825},Terhathum:{schools:8,students:600},Dhankuta:{schools:10,students:750},Taplejung:{schools:12,students:890},Panchthar:{schools:14,students:1050},Ilam:{schools:18,students:1350},Saptari:{schools:19,students:1425},Siraha:{schools:20,students:1500},Dhanusa:{schools:18,students:1350},Mahottari:{schools:17,students:1275},Sarlahi:{schools:16,students:1200},Rautahat:{schools:15,students:1125},Bara:{schools:18,students:1350},Parsa:{schools:19,students:1425},Sunsari:{schools:21,students:1575},Morang:{schools:25,students:1875},Jhapa:{schools:22,students:1650}},a=Object.values(r).reduce((d,h)=>d+h.schools,0),o=Object.values(r).reduce((d,h)=>d+h.students,0),l=Object.keys(r).length,c=["Kathmandu","Lalitpur","Kaski","Rupandehi","Sindhupalchok","Nuwakot","Syangja"];return T.useEffect(()=>{i.current&&fetch("/src/assets/Map_of_Nepal_with_Districts.svg").then(d=>{if(!d.ok)throw new Error("Failed to load SVG");return d.text()}).then(d=>{i.current.innerHTML=d;const h=i.current.querySelector("svg");h&&(h.setAttribute("width","100%"),h.setAttribute("height","100%"),h.style.display="block",h.querySelectorAll("path").forEach(m=>{let y=m.getAttribute("title")||m.getAttribute("id")||m.getAttribute("name")||"";y=y.replace(/NP-|District|_/g,"").trim(),r[y]?(m.style.fill=c.includes(y)?"#DC2626":"#E5E7EB",m.style.stroke="#FFFFFF",m.style.strokeWidth="2",m.style.transition="all 0.3s ease",m.style.cursor="pointer",m.addEventListener("mouseenter",v=>{e(y),m.style.fill="#DC2626",m.style.opacity="0.8",m.style.strokeWidth="3"}),m.addEventListener("mouseleave",()=>{e(null),m.style.fill=c.includes(y)?"#DC2626":"#E5E7EB",m.style.opacity="1",m.style.strokeWidth="2"}),m.addEventListener("mousemove",v=>{const S=i.current.getBoundingClientRect();s({x:v.clientX-S.left,y:v.clientY-S.top})})):(m.style.fill="#F3F4F6",m.style.stroke="#FFFFFF",m.style.strokeWidth="1")}))}).catch(d=>{console.error("Error loading SVG:",d),i.current&&(i.current.innerHTML=`
              <div class="flex items-center justify-center h-full min-h-[600px] bg-gray-100 rounded-xl">
                <div class="text-center p-8">
                  <p class="text-xl text-gray-600 mb-4">Map visualization is currently unavailable</p>
                  <p class="text-gray-500">Please check our statistics below for impact information</p>
                </div>
              </div>
            `)})},[]),f.jsx("div",{className:"min-h-screen bg-white py-16",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h1",{className:"text-6xl md:text-7xl font-bold text-gray-900 mb-4",children:"OUR IMPACT"}),f.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Hover over any district to see how Canopy Nepal is transforming education across the country"})]}),f.jsxs("div",{className:"relative mb-16",children:[f.jsxs("div",{className:"mx-auto max-w-6xl bg-gray-50 rounded-2xl shadow-lg overflow-hidden p-4 md:p-8",children:[f.jsx("div",{ref:i,className:"relative w-full",style:{minHeight:"600px"},children:f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})})}),n&&r[n]&&f.jsx("div",{className:"absolute z-50 pointer-events-none",style:{left:`${t.x}px`,top:`${t.y-80}px`},children:f.jsxs("div",{className:"bg-gray-900 text-white px-4 py-3 rounded-lg shadow-xl",children:[f.jsx("div",{className:"font-bold text-lg mb-1",children:n}),f.jsxs("div",{className:"text-sm space-y-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-gray-400",children:"Schools:"}),f.jsx("span",{className:"font-semibold",children:r[n].schools})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-gray-400",children:"Students:"}),f.jsx("span",{className:"font-semibold",children:r[n].students.toLocaleString()})]})]}),f.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full",children:f.jsx("div",{className:"w-0 h-0 border-l-8 border-l-transparent border-r-8 border-r-transparent border-t-8 border-t-gray-900"})})]})})]}),f.jsxs("div",{className:"flex justify-center gap-8 mt-8",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-5 h-5 bg-red-600 rounded"}),f.jsx("span",{className:"text-gray-700",children:"High Impact Districts"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded"}),f.jsx("span",{className:"text-gray-700",children:"Active Districts"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-xl p-8 text-center transform hover:scale-105 transition-transform shadow-lg",children:[f.jsx("h3",{className:"text-5xl font-bold text-red-600 mb-2",children:l}),f.jsx("p",{className:"text-gray-700 font-medium",children:"Districts Reached"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-8 text-center transform hover:scale-105 transition-transform shadow-lg",children:[f.jsx("h3",{className:"text-5xl font-bold text-blue-600 mb-2",children:a}),f.jsx("p",{className:"text-gray-700 font-medium",children:"Schools Impacted"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-8 text-center transform hover:scale-105 transition-transform shadow-lg",children:[f.jsx("h3",{className:"text-5xl font-bold text-green-600 mb-2",children:o.toLocaleString()}),f.jsx("p",{className:"text-gray-700 font-medium",children:"Students Reached"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-8 text-center transform hover:scale-105 transition-transform shadow-lg",children:[f.jsx("h3",{className:"text-5xl font-bold text-purple-600 mb-2",children:"17"}),f.jsx("p",{className:"text-gray-700 font-medium",children:"Local Governments"})]})]}),f.jsxs("div",{className:"mt-16 text-center",children:[f.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Together, we're building a Nepal where every child has access to quality education"}),f.jsx("button",{className:"bg-red-600 text-white px-8 py-4 rounded-full font-semibold text-lg hover:bg-red-700 transform hover:scale-105 transition-all shadow-lg",children:"Support Our Mission"})]})]})})},$F=()=>{const[n,e]=Rm({threshold:.3,triggerOnce:!0});return f.jsxs("div",{className:"min-h-screen bg-white",children:[f.jsxs("div",{className:"mt-28 relative h-[400px] overflow-hidden",children:[f.jsx("img",{src:Yx,alt:"Canopy France team",className:"absolute inset-0 w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/40"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center",children:f.jsx("div",{children:f.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4",children:["Canopy France",f.jsx("br",{})]})})})]}),f.jsxs("div",{className:"mx-auto px-6 py-6",children:[f.jsx("div",{className:"bg-white py-16",children:f.jsx("div",{className:"max-w-screen-xl text-center mx-auto px-6",children:f.jsx("p",{className:"text-2xl font-bold text-gray-700 leading-relaxed",children:"Established in 2022, Canopy France is our first international chapter, founded by a passionate group of young changemakers from France and Nepal. Registered as a legal nonprofit under French law, the chapter supports Canopy Nepal by raising awareness, building partnerships, and mobilizing resources across Europe."})})}),f.jsxs("div",{className:"bg-neutral-50 py-16",children:[f.jsx(z.div,{ref:n,initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},className:"text-center mb-12",children:f.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-800",children:f.jsx("span",{className:"text-red-600",children:"What We Do"})})}),f.jsxs(z.div,{ref:n,initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.8,delay:.2},className:"flex flex-col md:flex-row overflow-hidden",children:[f.jsx("img",{src:"src/assets/l2.png",alt:"what-we-do-image",className:"w-full md:w-1/2 object-cover"}),f.jsx("div",{className:"w-full md:w-1/2 bg-gray-50 text-gray-800 p-8 flex flex-col justify-center",children:f.jsxs("ul",{className:"space-y-6",children:[f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"mr-3 text-xl text-red-600",children:""}),f.jsx("span",{className:"text-xl",children:"Organize creative fundraising campaigns, cultural events, and storytelling nights across France"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"mr-3 text-xl text-red-600",children:""}),f.jsx("span",{className:"text-xl",children:"Strengthen connections between the Nepali diaspora and allies in France"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"mr-3 text-xl text-red-600",children:""}),f.jsx("span",{className:"text-xl",children:"Raise awareness around education equity through exhibitions, university partnerships, and youth networks"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"mr-3 text-xl text-red-600",children:""}),f.jsx("span",{className:"text-xl",children:"Directly support core programs like CANSHIP and Katha Bunaun with financial and advocacy support"})]})]})})]})]}),f.jsx("div",{className:"py-16 bg-primary-gray/50 rounded-lg  my-8 shadow-sm",children:f.jsx("div",{className:"max-w-screen-xl mx-auto px-8",children:f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Team Leadership"}),f.jsxs("p",{className:"text-xl text-center max-w-3xl text-gray-700",children:["The chapter is led by a lean team of passionate changemakers, bringing together",f.jsx("span",{className:"text-primary-red font-semibold",children:" cross-cultural energy"})," and",f.jsx("span",{className:"text-primary-red font-semibold",children:" grassroots commitment"})," to our shared mission."]})]})})}),f.jsx("div",{className:"bg-gray-50 py-16 mb-16",children:f.jsx("div",{className:"max-w-screen-xl mx-auto px-6",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"mb-12",children:[f.jsx("h3",{className:"text-4xl font-bold text-gray-800 mb-6",children:f.jsx("span",{className:"text-red-600",children:"Want to Get Involved?"})}),f.jsx("p",{className:"text-xl text-gray-700",children:"If you're based in France and want to help us:"})]}),f.jsx("div",{children:f.jsxs("ul",{className:"space-y-6 text-lg",children:[f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-red text-2xl mr-4",children:""}),f.jsx("div",{children:f.jsx("strong",{className:"text-gray-800",children:"Host a fundraiser or awareness event"})})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-red text-2xl mr-4",children:""}),f.jsx("div",{children:f.jsx("strong",{className:"text-gray-800",children:"Partner with us for an academic or youth engagement initiative"})})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-red text-2xl mr-4",children:""}),f.jsx("div",{children:f.jsx("strong",{className:"text-gray-800",children:"Volunteer your time or skills"})})]})]})})]}),f.jsx("div",{className:"flex justify-center lg:justify-end",children:f.jsx("img",{src:"src/assets/mv1.png",alt:"Get involved with Canopy France",className:"w-80 h-80 object-cover rounded-lg shadow-lg"})})]})})}),f.jsx("div",{className:"bg-primary-red/10 rounded-2xl p-12 mb-16 relative overflow-hidden",children:f.jsx("div",{className:"max-w-screen-xl mx-auto relative z-10",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Get in Touch"}),f.jsx("p",{className:"text-xl text-gray-700 mb-8",children:"Have questions or ideas? We'd love to hear from you. Reach out directly to our team:"}),f.jsxs("a",{href:"mailto:info@canopyfrance.org",className:"flex items-center space-x-4 text-xl font-medium text-gray-800 hover:text-red-600 transition-colors",children:[f.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-full flex items-center justify-center text-white",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),f.jsx("span",{children:"info@canopyfrance.org"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Stay Connected"}),f.jsx("p",{className:"text-xl text-gray-700 mb-8",children:"Subscribe to our newsletter for updates on events, stories, and impact from Nepal."}),f.jsxs("div",{className:"flex",children:[f.jsx("input",{type:"email",placeholder:"Your email address",className:"flex-1 px-6 py-4 rounded-l-lg border-0 focus:ring-2 focus:ring-red-600 text-lg"}),f.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white font-medium px-8 py-4 rounded-r-lg transition-colors",children:"Subscribe"})]})]})]})})})]})]})},WF=()=>f.jsxs("div",{className:"min-h-screen bg-white",children:[f.jsxs("div",{className:"relative h-[400px] overflow-hidden",children:[f.jsx("img",{src:Yx,alt:"Canopy USA team",className:"absolute inset-0 w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/40"}),f.jsx("div",{className:"absolute top-8 left-8",children:f.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:"M"})}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center",children:f.jsxs("div",{children:[f.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4",children:["Canopy USA",f.jsx("br",{}),f.jsx("span",{className:"text-4xl md:text-5xl",children:"READ Nepal"})]}),f.jsxs("div",{className:"text-white text-sm",children:[f.jsx("span",{children:"Home"}),f.jsx("span",{className:"mx-2"}),f.jsx("span",{className:"underline",children:"READ Country Affiliates"}),f.jsx("span",{className:"mx-2"}),f.jsx("span",{children:"READ Nepal"})]})]})})]}),f.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-16",children:[f.jsx("div",{className:"text-center mb-16 max-w-4xl mx-auto",children:f.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Established in 2022, Canopy USA is our first international chapter, founded by a passionate group of young changemakers from USA and Nepal. Registered as a legal nonprofit under French law, the chapter supports Canopy Nepal by raising awareness, building partnerships, and mobilizing resources across Europe."})}),f.jsx("div",{className:"relative mb-16",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-12",children:[f.jsxs("div",{className:"md:w-1/2",children:[f.jsx("h2",{className:"text-3xl font-bold mb-8",children:"What We Do?"}),f.jsxs("ul",{className:"space-y-6 text-gray-700",children:[f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"mr-3 text-xl",children:""}),f.jsx("span",{children:"Organize creative fundraising campaigns, cultural events, and storytelling nights across USA"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"mr-3 text-xl",children:""}),f.jsx("span",{children:"Strengthen connections between the Nepali diaspora and allies in USA"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"mr-3 text-xl",children:""}),f.jsx("span",{children:"Raise awareness around education equity through exhibitions, university partnerships, and youth networks"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"mr-3 text-xl",children:""}),f.jsx("span",{children:"Directly support core programs like CANSHIP and Katha Bunaun with financial and advocacy support"})]})]})]}),f.jsxs("div",{className:"md:w-1/2 relative",children:[f.jsx("div",{className:"absolute top-0 right-20",children:f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-20 h-20 bg-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold shadow-lg",children:"M"}),f.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:""})]})}),f.jsx("div",{className:"mt-32",children:f.jsxs("svg",{viewBox:"0 0 400 200",className:"w-full",children:[f.jsx("path",{d:"M0,150 Q100,100 200,120 T400,100 L400,200 L0,200 Z",fill:"#C6E48B"}),f.jsx("path",{d:"M0,180 Q150,140 300,160 T400,140 L400,200 L0,200 Z",fill:"#7CB342"})]})})]})]})}),f.jsx("div",{className:"text-center mb-16",children:f.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"The chapter is led by a lean team, and together, they bring cross-cultural energy and grassroots commitment to the mission."})}),f.jsxs("div",{className:"mb-16",children:[f.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Want to Get Involved?"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"If you're based in USA and want to help us:"}),f.jsxs("ul",{className:"space-y-3 text-gray-700 ml-8",children:[f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"mr-3",children:""}),f.jsx("span",{children:"Host a fundraiser or awareness event"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"mr-3",children:""}),f.jsx("span",{children:"Partner with us for an academic or youth engagement initiative"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"mr-3",children:""}),f.jsx("span",{children:"Volunteer your time or skills"})]})]})]}),f.jsx("div",{className:"mb-12",children:f.jsxs("p",{className:"text-gray-700",children:[f.jsx("span",{className:"font-semibold",children:"Reach out to us at:"})," ",f.jsx("a",{href:"mailto:info@canopyUSA.org",className:"text-blue-600 underline hover:text-blue-800",children:"info@canopyUSA.org"})]})}),f.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:f.jsxs("p",{className:"text-lg text-gray-700",children:["And don't forget to ",f.jsx("span",{className:"font-bold",children:"[Subscribe to the Canopy USA Newsletter]"})," to stay updated on our events, stories, and impact from the ground."]})})]})]}),GF="modulepreload",KF=function(n){return"/canopy-website/"+n},Q1={},cf=function(e,t,s){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=KF(l),l in Q1)return;Q1[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":GF,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&r(o.reason);return e().catch(r)})};var Mu={};Mu.d=(n,e)=>{for(var t in e)Mu.o(e,t)&&!Mu.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Mu.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ee=globalThis.pdfjsLib={};Mu.d(ee,{AbortException:()=>jo,AnnotationEditorLayer:()=>cv,AnnotationEditorParamsType:()=>Z,AnnotationEditorType:()=>se,AnnotationEditorUIManager:()=>So,AnnotationLayer:()=>W3,AnnotationMode:()=>nr,ColorPicker:()=>Up,DOMSVGFactory:()=>lw,DrawLayer:()=>fv,FeatureTest:()=>Jt,GlobalWorkerOptions:()=>Ri,ImageKind:()=>Nf,InvalidPDFException:()=>R_,MissingPDFException:()=>Mo,OPS:()=>os,OutputScale:()=>n0,PDFDataRangeTransport:()=>TT,PDFDateString:()=>tw,PDFWorker:()=>vl,PasswordResponses:()=>QF,PermissionFlag:()=>YF,PixelsPerInch:()=>Gr,RenderingCancelledException:()=>Jx,TextLayer:()=>N0,UnexpectedResponseException:()=>Dm,Util:()=>$,VerbosityLevel:()=>Lm,XfaLayer:()=>PT,build:()=>C3,createValidAbsoluteUrl:()=>tO,fetchData:()=>Fm,getDocument:()=>g3,getFilenameFromUrl:()=>uO,getPdfFilenameFromUrl:()=>dO,getXfaPageViewport:()=>hO,isDataScheme:()=>Om,isPdfFile:()=>ew,noContextMenu:()=>ts,normalizeUnicode:()=>oO,setLayerDimensions:()=>Ao,shadow:()=>de,version:()=>E3});const $t=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),N_=[1,0,0,1,0,0],Zy=[.001,0,0,.001,0,0],XF=1e7,Mg=1.35,Tn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},nr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},qF="pdfjs_internal_editor_",se={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Z={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},YF={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},jt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Nf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},rt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Xc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Lm={ERRORS:0,WARNINGS:1,INFOS:5},os={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},QF={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Mm=Lm.WARNINGS;function ZF(n){Number.isInteger(n)&&(Mm=n)}function JF(){return Mm}function jm(n){Mm>=Lm.INFOS&&console.log(`Info: ${n}`)}function re(n){Mm>=Lm.WARNINGS&&console.log(`Warning: ${n}`)}function ke(n){throw new Error(n)}function ut(n,e){n||ke(e)}function eO(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function tO(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=aO(n)}catch{}}const s=e?new URL(n,e):new URL(n);if(eO(s))return s}catch{}return null}function de(n,e,t,s=!1){return Object.defineProperty(n,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const ea=function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class Jy extends ea{constructor(e,t){super(e,"PasswordException"),this.code=t}}class e0 extends ea{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class R_ extends ea{constructor(e){super(e,"InvalidPDFException")}}class Mo extends ea{constructor(e){super(e,"MissingPDFException")}}class Dm extends ea{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class nO extends ea{constructor(e){super(e,"FormatError")}}class jo extends ea{constructor(e){super(e,"AbortException")}}function L_(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&ke("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const s=[];for(let i=0;i<e;i+=t){const r=Math.min(i+t,e),a=n.subarray(i,r);s.push(String.fromCharCode.apply(null,a))}return s.join("")}function Im(n){typeof n!="string"&&ke("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=n.charCodeAt(s)&255;return t}function sO(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Qx(n){const e=Object.create(null);for(const[t,s]of n)e[t]=s;return e}function iO(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function rO(){try{return new Function(""),!0}catch{return!1}}class Jt{static get isLittleEndian(){return de(this,"isLittleEndian",iO())}static get isEvalSupported(){return de(this,"isEvalSupported",rO())}static get isOffscreenCanvasSupported(){return de(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?de(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):de(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return de(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const jg=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Oi,Rf,t0;class ${static makeHexColor(e,t,s){return`#${jg[e]}${jg[t]}${jg[s]}`}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const s=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[s,i]}static applyInverseTransform(e,t){const s=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/s,r=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/s;return[i,r]}static getAxialAlignedBoundingBox(e,t){const s=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),r=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(s[0],i[0],r[0],a[0]),Math.min(s[1],i[1],r[1],a[1]),Math.max(s[0],i[0],r[0],a[0]),Math.max(s[1],i[1],r[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],s=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(s+a)/2,l=Math.sqrt((s+a)**2-4*(s*a-r*i))/2,c=o+l||1,d=o-l||1;return[Math.sqrt(c),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>a?null:[s,r,i,a]}static bezierBoundingBox(e,t,s,i,r,a,o,l,c){return c?(c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,o),Math.min(t,l),Math.max(e,o),Math.max(t,l)],A(this,Oi,t0).call(this,e,s,r,o,t,i,a,l,3*(-e+3*(s-r)+o),6*(e-2*s+r),3*(s-e),c),A(this,Oi,t0).call(this,e,s,r,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),c),c}}Oi=new WeakSet,Rf=function(e,t,s,i,r,a,o,l,c,d){if(c<=0||c>=1)return;const h=1-c,p=c*c,m=p*c,y=h*(h*(h*e+3*c*t)+3*p*s)+m*i,v=h*(h*(h*r+3*c*a)+3*p*o)+m*l;d[0]=Math.min(d[0],y),d[1]=Math.min(d[1],v),d[2]=Math.max(d[2],y),d[3]=Math.max(d[3],v)},t0=function(e,t,s,i,r,a,o,l,c,d,h,p){if(Math.abs(c)<1e-12){Math.abs(d)>=1e-12&&A(this,Oi,Rf).call(this,e,t,s,i,r,a,o,l,-h/d,p);return}const m=d**2-4*h*c;if(m<0)return;const y=Math.sqrt(m),v=2*c;A(this,Oi,Rf).call(this,e,t,s,i,r,a,o,l,(-d+y)/v,p),A(this,Oi,Rf).call(this,e,t,s,i,r,a,o,l,(-d-y)/v,p)},E($,Oi);function aO(n){return decodeURIComponent(escape(n))}let Dg=null,Z1=null;function oO(n){return Dg||(Dg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Z1=new Map([["","t"]])),n.replaceAll(Dg,(e,t,s)=>t?t.normalize("NFKC"):Z1.get(s))}function lO(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return L_(n)}const Zx="pdfjs_internal_id_",ei={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function cO(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(L_(n))}const ni="http://www.w3.org/2000/svg",da=class da{};Q(da,"CSS",96),Q(da,"PDF",72),Q(da,"PDF_TO_CSS_UNITS",da.CSS/da.PDF);let Gr=da;async function Fm(n,e="text"){if(iu(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}s(new Error(i.statusText))}},i.send(null)})}class Mh{constructor({viewBox:e,scale:t,rotation:s,offsetX:i=0,offsetY:r=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=s,this.offsetX=i,this.offsetY=r;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,d,h,p;switch(s%=360,s<0&&(s+=360),s){case 180:c=-1,d=0,h=0,p=1;break;case 90:c=0,d=1,h=1,p=0;break;case 270:c=0,d=-1,h=-1,p=0;break;case 0:c=1,d=0,h=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,p=-p);let m,y,v,S;c===0?(m=Math.abs(l-e[1])*t+i,y=Math.abs(o-e[0])*t+r,v=(e[3]-e[1])*t,S=(e[2]-e[0])*t):(m=Math.abs(o-e[0])*t+i,y=Math.abs(l-e[1])*t+r,v=(e[2]-e[0])*t,S=(e[3]-e[1])*t),this.transform=[c*t,d*t,h*t,p*t,m-c*t*o-h*t*l,y-d*t*o-p*t*l],this.width=v,this.height=S}get rawDims(){const{viewBox:e}=this;return de(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new Mh({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:s,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){return $.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=$.applyTransform([e[0],e[1]],this.transform),s=$.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){return $.applyInverseTransform([e,t],this.transform)}}class Jx extends ea{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Om(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function ew(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function uO(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function dO(n,e="document.pdf"){if(typeof n!="string")return e;if(Om(n))return re('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let r=s.exec(i[1])||s.exec(i[2])||s.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=s.exec(decodeURIComponent(r))[0]}catch{}return r||e}class J1{constructor(){Q(this,"started",Object.create(null));Q(this,"times",[])}time(e){e in this.started&&re(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||re(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:i,end:r}of this.times)e.push(`${s.padEnd(t)} ${r-i}ms
`);return e.join("")}}function iu(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function ts(n){n.preventDefault()}function eA(n){console.log("Deprecated API usage: "+n)}var od;class tw{static toDateObject(e){if(!e||typeof e!="string")return null;u(this,od)||b(this,od,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=u(this,od).exec(e);if(!t)return null;const s=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(a+=d,o+=h):c==="+"&&(a-=d,o-=h),new Date(Date.UTC(s,i,r,a,o,l))}}od=new WeakMap,E(tw,od);function hO(n,{scale:e=1,rotation:t=0}){const{width:s,height:i}=n.attributes.style,r=[0,0,parseInt(s),parseInt(i)];return new Mh({viewBox:r,scale:e,rotation:t})}function nw(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(re(`Not a valid color format: "${n}"`),[0,0,0])}function fO(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;n.set(t,nw(s))}e.remove()}function Oe(n){const{a:e,b:t,c:s,d:i,e:r,f:a}=n.getTransform();return[e,t,s,i,r,a]}function ti(n){const{a:e,b:t,c:s,d:i,e:r,f:a}=n.getTransform().invertSelf();return[e,t,s,i,r,a]}function Ao(n,e,t=!1,s=!0){if(e instanceof Mh){const{pageWidth:i,pageHeight:r}=e.rawDims,{style:a}=n,o=Jt.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${r}px`,d=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,h=o?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}s&&n.setAttribute("data-main-rotation",e.rotation)}class n0{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var sr,ya,ls,va,ld,cd,Wp,M_,en,j_,D_,Lf,I_,i0;const ii=class ii{constructor(e){E(this,en);E(this,sr,null);E(this,ya,null);E(this,ls);E(this,va,null);E(this,ld,null);b(this,ls,e),u(ii,cd)||b(ii,cd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=b(this,sr,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=u(this,ls)._uiManager._signal;e.addEventListener("contextmenu",ts,{signal:t}),e.addEventListener("pointerdown",A(ii,Wp,M_),{signal:t});const s=b(this,va,document.createElement("div"));s.className="buttons",e.append(s);const i=u(this,ls).toolbarPosition;if(i){const{style:r}=e,a=u(this,ls)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return A(this,en,I_).call(this),e}get div(){return u(this,sr)}hide(){var e;u(this,sr).classList.add("hidden"),(e=u(this,ya))==null||e.hideDropdown()}show(){var e;u(this,sr).classList.remove("hidden"),(e=u(this,ld))==null||e.shown()}async addAltText(e){const t=await e.render();A(this,en,Lf).call(this,t),u(this,va).prepend(t,u(this,en,i0)),b(this,ld,e)}addColorPicker(e){b(this,ya,e);const t=e.renderButton();A(this,en,Lf).call(this,t),u(this,va).prepend(t,u(this,en,i0))}remove(){var e;u(this,sr).remove(),(e=u(this,ya))==null||e.destroy(),b(this,ya,null)}};sr=new WeakMap,ya=new WeakMap,ls=new WeakMap,va=new WeakMap,ld=new WeakMap,cd=new WeakMap,Wp=new WeakSet,M_=function(e){e.stopPropagation()},en=new WeakSet,j_=function(e){u(this,ls)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},D_=function(e){u(this,ls)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Lf=function(e){const t=u(this,ls)._uiManager._signal;e.addEventListener("focusin",A(this,en,j_).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",A(this,en,D_).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ts,{signal:t})},I_=function(){const{editorType:e,_uiManager:t}=u(this,ls),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",u(ii,cd)[e]),A(this,en,Lf).call(this,s),s.addEventListener("click",i=>{t.delete()},{signal:t._signal}),u(this,va).append(s)},i0=function(){const e=document.createElement("div");return e.className="divider",e},E(ii,Wp),E(ii,cd,null);let s0=ii;var ud,xa,wa,Xr,F_,O_,B_;class pO{constructor(e){E(this,Xr);E(this,ud,null);E(this,xa,null);E(this,wa);b(this,wa,e)}show(e,t,s){const[i,r]=A(this,Xr,O_).call(this,t,s),{style:a}=u(this,xa)||b(this,xa,A(this,Xr,F_).call(this));e.append(u(this,xa)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,xa).remove()}}ud=new WeakMap,xa=new WeakMap,wa=new WeakMap,Xr=new WeakSet,F_=function(){const e=b(this,xa,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ts,{signal:u(this,wa)._signal});const t=b(this,ud,document.createElement("div"));return t.className="buttons",e.append(t),A(this,Xr,B_).call(this),e},O_=function(e,t){let s=0,i=0;for(const r of e){const a=r.y+r.height;if(a<s)continue;const o=r.x+(t?r.width:0);if(a>s){i=o,s=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,s]},B_=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=u(this,wa)._signal;e.addEventListener("contextmenu",ts,{signal:s}),e.addEventListener("click",()=>{u(this,wa).highlightSelection("floating_button")},{signal:s}),u(this,ud).append(e)};function Vp(n,e,t){for(const s of t)e.addEventListener(s,n[s].bind(n))}function mO(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Gp;class gO{constructor(){E(this,Gp,0)}get id(){return`${qF}${Kt(this,Gp)._++}`}}Gp=new WeakMap;var bl,dd,It,Al,Mf;const dw=class dw{constructor(){E(this,Al);E(this,bl,lO());E(this,dd,0);E(this,It,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const r=i.decode().then(()=>(s.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return de(this,"_isSVGFittingCanvas",r)}async getFromFile(e){const{lastModified:t,name:s,size:i,type:r}=e;return A(this,Al,Mf).call(this,`${t}_${s}_${i}_${r}`,e)}async getFromUrl(e){return A(this,Al,Mf).call(this,e,e)}async getFromBlob(e,t){const s=await t;return A(this,Al,Mf).call(this,e,s)}async getFromId(e){u(this,It)||b(this,It,new Map);const t=u(this,It).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){u(this,It)||b(this,It,new Map);let s=u(this,It).get(e);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),s={bitmap:i.transferToImageBitmap(),id:`image_${u(this,bl)}_${Kt(this,dd)._++}`,refCounter:1,isSvg:!1},u(this,It).set(e,s),u(this,It).set(s.id,s),s}getSvgUrl(e){const t=u(this,It).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;u(this,It)||b(this,It,new Map);const t=u(this,It).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(s.width,s.height);r.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=r.convertToBlob()}(i=s.close)==null||i.call(s),t.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,bl)}_`)}};bl=new WeakMap,dd=new WeakMap,It=new WeakMap,Al=new WeakSet,Mf=async function(e,t){u(this,It)||b(this,It,new Map);let s=u(this,It).get(e);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${u(this,bl)}_${Kt(this,dd)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(s.url=t,i=await Fm(t,"blob")):t instanceof File?i=s.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const r=dw._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,d)=>{o.onload=()=>{s.bitmap=o,s.isSvg=!0,c()},a.onload=async()=>{const h=s.svgUrl=a.result;o.src=await r?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else s.bitmap=await createImageBitmap(i);s.refCounter=1}catch(i){console.error(i),s=null}return u(this,It).set(e,s),s&&u(this,It).set(s.id,s),s};let r0=dw;var mt,ir,hd,gt;class yO{constructor(e=128){E(this,mt,[]);E(this,ir,!1);E(this,hd);E(this,gt,-1);b(this,hd,e)}add({cmd:e,undo:t,post:s,mustExec:i,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),u(this,ir))return;const l={cmd:e,undo:t,post:s,type:r};if(u(this,gt)===-1){u(this,mt).length>0&&(u(this,mt).length=0),b(this,gt,0),u(this,mt).push(l);return}if(a&&u(this,mt)[u(this,gt)].type===r){o&&(l.undo=u(this,mt)[u(this,gt)].undo),u(this,mt)[u(this,gt)]=l;return}const c=u(this,gt)+1;c===u(this,hd)?u(this,mt).splice(0,1):(b(this,gt,c),c<u(this,mt).length&&u(this,mt).splice(c)),u(this,mt).push(l)}undo(){if(u(this,gt)===-1)return;b(this,ir,!0);const{undo:e,post:t}=u(this,mt)[u(this,gt)];e(),t==null||t(),b(this,ir,!1),b(this,gt,u(this,gt)-1)}redo(){if(u(this,gt)<u(this,mt).length-1){b(this,gt,u(this,gt)+1),b(this,ir,!0);const{cmd:e,post:t}=u(this,mt)[u(this,gt)];e(),t==null||t(),b(this,ir,!1)}}hasSomethingToUndo(){return u(this,gt)!==-1}hasSomethingToRedo(){return u(this,gt)<u(this,mt).length-1}destroy(){b(this,mt,null)}}mt=new WeakMap,ir=new WeakMap,hd=new WeakMap,gt=new WeakMap;var Kp,V_;class jh{constructor(e){E(this,Kp);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Jt.platform;for(const[s,i,r={}]of e)for(const a of s){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:r}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(A(this,Kp,V_).call(this,t));if(!s)return;const{callback:i,options:{bubbles:r=!1,args:a=[],checker:o=null}}=s;o&&!o(e,t)||(i.bind(e,...a,t)(),r||(t.stopPropagation(),t.preventDefault()))}}Kp=new WeakSet,V_=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Xp=class Xp{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return fO(e),de(this,"_colors",e)}convert(e){const t=nw(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,i]of this._colors)if(i.every((r,a)=>r===t[a]))return Xp._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?$.makeHexColor(...t):e}};Q(Xp,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let a0=Xp;var Sl,xn,at,St,El,oi,Cl,cs,rr,_l,ba,Rs,us,Aa,fd,pd,Tl,md,Ls,ar,kl,or,Ms,qp,lr,gd,cr,Sa,yd,vd,yt,ye,li,Ea,xd,wd,ur,js,ci,bd,zn,O,jf,o0,z_,H_,Df,U_,$_,W_,l0,G_,c0,u0,K_,Xt,Yi,X_,q_,d0,Y_,ru,h0;const ul=class ul{constructor(e,t,s,i,r,a,o,l,c,d,h){E(this,O);E(this,Sl,new AbortController);E(this,xn,null);E(this,at,new Map);E(this,St,new Map);E(this,El,null);E(this,oi,null);E(this,Cl,null);E(this,cs,new yO);E(this,rr,null);E(this,_l,0);E(this,ba,new Set);E(this,Rs,null);E(this,us,null);E(this,Aa,new Set);E(this,fd,!1);E(this,pd,!1);E(this,Tl,!1);E(this,md,null);E(this,Ls,null);E(this,ar,null);E(this,kl,null);E(this,or,!1);E(this,Ms,null);E(this,qp,new gO);E(this,lr,!1);E(this,gd,!1);E(this,cr,null);E(this,Sa,null);E(this,yd,null);E(this,vd,null);E(this,yt,se.NONE);E(this,ye,new Set);E(this,li,null);E(this,Ea,null);E(this,xd,null);E(this,wd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});E(this,ur,[0,0]);E(this,js,null);E(this,ci,null);E(this,bd,null);E(this,zn,null);const p=this._signal=u(this,Sl).signal;b(this,ci,e),b(this,bd,t),b(this,El,s),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:p}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),i._on("setpreference",this.onSetPreference.bind(this),{signal:p}),i._on("switchannotationeditorparams",m=>this.updateParams(m.type,m.value),{signal:p}),A(this,O,U_).call(this),A(this,O,K_).call(this),A(this,O,l0).call(this),b(this,oi,r.annotationStorage),b(this,md,r.filterFactory),b(this,Ea,a),b(this,kl,o||null),b(this,fd,l),b(this,pd,c),b(this,Tl,d),b(this,vd,h||null),this.viewParameters={realScale:Gr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=ul.prototype,t=a=>u(a,ci).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),s=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return de(this,"_keyboardManager",new jh([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&u(a,ci).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&u(a,ci).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}destroy(){var e,t,s,i;(e=u(this,zn))==null||e.resolve(),b(this,zn,null),(t=u(this,Sl))==null||t.abort(),b(this,Sl,null),this._signal=null;for(const r of u(this,St).values())r.destroy();u(this,St).clear(),u(this,at).clear(),u(this,Aa).clear(),b(this,xn,null),u(this,ye).clear(),u(this,cs).destroy(),(s=u(this,El))==null||s.destroy(),(i=u(this,Ms))==null||i.hide(),b(this,Ms,null),u(this,Ls)&&(clearTimeout(u(this,Ls)),b(this,Ls,null)),u(this,js)&&(clearTimeout(u(this,js)),b(this,js,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,vd)}get useNewAltTextFlow(){return u(this,pd)}get useNewAltTextWhenAddingImage(){return u(this,Tl)}get hcmFilter(){return de(this,"hcmFilter",u(this,Ea)?u(this,md).addHCMFilter(u(this,Ea).foreground,u(this,Ea).background):"none")}get direction(){return de(this,"direction",getComputedStyle(u(this,ci)).direction)}get highlightColors(){return de(this,"highlightColors",u(this,kl)?new Map(u(this,kl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return de(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){b(this,yd,e)}editAltText(e,t=!1){var s;(s=u(this,El))==null||s.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":b(this,Tl,t);break}}onPageChanging({pageNumber:e}){b(this,_l,e-1)}focusMainContainer(){u(this,ci).focus()}findParent(e,t){for(const s of u(this,St).values()){const{x:i,y:r,width:a,height:o}=s.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=r&&t<=r+o)return s}return null}disableUserSelect(e=!1){u(this,bd).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,Aa).add(e)}removeShouldRescale(e){u(this,Aa).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Gr.PDF_TO_CSS_UNITS;for(const t of u(this,Aa))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:s,anchorOffset:i,focusNode:r,focusOffset:a}=t,o=t.toString(),c=A(this,O,jf).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(c);if(!d)return;t.empty();const h=A(this,O,o0).call(this,c),p=u(this,yt)===se.NONE,m=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:s,anchorOffset:i,focusNode:r,focusOffset:a,text:o}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(se.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&u(this,oi)&&!u(this,oi).has(e.id)&&u(this,oi).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,u(this,or)&&(b(this,or,!1),A(this,O,Df).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,ye))if(t.div.contains(e)){b(this,Sa,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,Sa))return;const[e,t]=u(this,Sa);b(this,Sa,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){A(this,O,l0).call(this),A(this,O,c0).call(this)}removeEditListeners(){A(this,O,G_).call(this),A(this,O,u0).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of u(this,us))if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of u(this,us))if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var s;if(e.preventDefault(),(s=u(this,xn))==null||s.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of u(this,ye)){const r=i.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const a of u(this,us))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(r){re(`paste: "${r.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const l of s){const c=await i.deserialize(l);if(!c)return;r.push(c)}const a=()=>{for(const l of r)A(this,O,d0).call(this,l);A(this,O,h0).call(this,r)},o=()=>{for(const l of r)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(r){re(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,yt)!==se.NONE&&!this.isEditorHandlingKeyboard&&ul._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,or)&&(b(this,or,!1),A(this,O,Df).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(A(this,O,$_).call(this),A(this,O,c0).call(this),A(this,O,Xt).call(this,{isEditing:u(this,yt)!==se.NONE,isEmpty:A(this,O,ru).call(this),hasSomethingToUndo:u(this,cs).hasSomethingToUndo(),hasSomethingToRedo:u(this,cs).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,O,W_).call(this),A(this,O,u0).call(this),A(this,O,Xt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,us)){b(this,us,e);for(const t of u(this,us))A(this,O,Yi).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,qp).id}get currentLayer(){return u(this,St).get(u(this,_l))}getLayer(e){return u(this,St).get(e)}get currentPageIndex(){return u(this,_l)}addLayer(e){u(this,St).set(e.pageIndex,e),u(this,lr)?e.enable():e.disable()}removeLayer(e){u(this,St).delete(e.pageIndex)}async updateMode(e,t=null,s=!1){if(u(this,yt)!==e&&!(u(this,zn)&&(await u(this,zn).promise,!u(this,zn)))){if(b(this,zn,Promise.withResolvers()),b(this,yt,e),e===se.NONE){this.setEditingState(!1),A(this,O,q_).call(this),u(this,zn).resolve();return}this.setEditingState(!0),await A(this,O,X_).call(this),this.unselectAll();for(const i of u(this,St).values())i.updateMode(e);if(!t){s&&this.addNewEditorFromKeyboard(),u(this,zn).resolve();return}for(const i of u(this,at).values())i.annotationElementId===t?(this.setSelected(i),i.enterInEditMode()):i.unselect();u(this,zn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==u(this,yt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var s;if(u(this,us)){switch(e){case Z.CREATE:this.currentLayer.addNewEditor();return;case Z.HIGHLIGHT_DEFAULT_COLOR:(s=u(this,yd))==null||s.updateColor(t);break;case Z.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,xd)||b(this,xd,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of u(this,ye))i.updateParams(e,t);for(const i of u(this,us))i.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){var r;for(const a of u(this,at).values())a.editorType===e&&a.show(t);(((r=u(this,xd))==null?void 0:r.get(Z.HIGHLIGHT_SHOW_ALL))??!0)!==t&&A(this,O,Yi).call(this,[[Z.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,gd)!==e){b(this,gd,e);for(const t of u(this,St).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const s of u(this,at).values())s.pageIndex===e&&t.push(s);return t}getEditor(e){return u(this,at).get(e)}addEditor(e){u(this,at).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(u(this,Ls)&&clearTimeout(u(this,Ls)),b(this,Ls,setTimeout(()=>{this.focusMainContainer(),b(this,Ls,null)},0))),u(this,at).delete(e.id),this.unselect(e),(!e.annotationElementId||!u(this,ba).has(e.annotationElementId))&&((t=u(this,oi))==null||t.remove(e.id))}addDeletedAnnotationElement(e){u(this,ba).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,ba).has(e)}removeDeletedAnnotationElement(e){u(this,ba).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,xn)!==e&&(b(this,xn,e),e&&A(this,O,Yi).call(this,e.propertiesToUpdate))}updateUI(e){u(this,O,Y_)===e&&A(this,O,Yi).call(this,e.propertiesToUpdate)}toggleSelected(e){if(u(this,ye).has(e)){u(this,ye).delete(e),e.unselect(),A(this,O,Xt).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,ye).add(e),e.select(),A(this,O,Yi).call(this,e.propertiesToUpdate),A(this,O,Xt).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of u(this,ye))t!==e&&t.unselect();u(this,ye).clear(),u(this,ye).add(e),e.select(),A(this,O,Yi).call(this,e.propertiesToUpdate),A(this,O,Xt).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,ye).has(e)}get firstSelectedEditor(){return u(this,ye).values().next().value}unselect(e){e.unselect(),u(this,ye).delete(e),A(this,O,Xt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,ye).size!==0}get isEnterHandled(){return u(this,ye).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){u(this,cs).undo(),A(this,O,Xt).call(this,{hasSomethingToUndo:u(this,cs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,O,ru).call(this)})}redo(){u(this,cs).redo(),A(this,O,Xt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,cs).hasSomethingToRedo(),isEmpty:A(this,O,ru).call(this)})}addCommands(e){u(this,cs).add(e),A(this,O,Xt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,O,ru).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...u(this,ye)],t=()=>{for(const i of e)i.remove()},s=()=>{for(const i of e)A(this,O,d0).call(this,i)};this.addCommands({cmd:t,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=u(this,xn))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,xn)||this.hasSelection}selectAll(){for(const e of u(this,ye))e.commit();A(this,O,h0).call(this,u(this,at).values())}unselectAll(){if(!(u(this,xn)&&(u(this,xn).commitOrRemove(),u(this,yt)!==se.NONE))&&this.hasSelection){for(const e of u(this,ye))e.unselect();u(this,ye).clear(),A(this,O,Xt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;u(this,ur)[0]+=e,u(this,ur)[1]+=t;const[i,r]=u(this,ur),a=[...u(this,ye)],o=1e3;u(this,js)&&clearTimeout(u(this,js)),b(this,js,setTimeout(()=>{b(this,js,null),u(this,ur)[0]=u(this,ur)[1]=0,this.addCommands({cmd:()=>{for(const l of a)u(this,at).has(l.id)&&l.translateInPage(i,r)},undo:()=>{for(const l of a)u(this,at).has(l.id)&&l.translateInPage(-i,-r)},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,Rs,new Map);for(const e of u(this,ye))u(this,Rs).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,Rs))return!1;this.disableUserSelect(!1);const e=u(this,Rs);b(this,Rs,null);let t=!1;for(const[{x:i,y:r,pageIndex:a},o]of e)o.newX=i,o.newY=r,o.newPageIndex=a,t||(t=i!==o.savedX||r!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const s=(i,r,a,o)=>{if(u(this,at).has(i.id)){const l=u(this,St).get(o);l?i._setParentAndPosition(l,r,a):(i.pageIndex=o,i.x=r,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:a,newPageIndex:o}]of e)s(i,r,a,o)},undo:()=>{for(const[i,{savedX:r,savedY:a,savedPageIndex:o}]of e)s(i,r,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,Rs))for(const s of u(this,Rs).keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,ye).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,xn)===e}getActive(){return u(this,xn)}getMode(){return u(this,yt)}get imageManager(){return de(this,"imageManager",new r0)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,d=t.rangeCount;c<d;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:s,y:i,width:r,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,d,h,p)=>({x:(d-i)/a,y:1-(c+h-s)/r,width:p/a,height:h/r});break;case"180":o=(c,d,h,p)=>({x:1-(c+h-s)/r,y:1-(d+p-i)/a,width:h/r,height:p/a});break;case"270":o=(c,d,h,p)=>({x:1-(d+p-i)/a,y:(c-s)/r,width:p/a,height:h/r});break;default:o=(c,d,h,p)=>({x:(c-s)/r,y:(d-i)/a,width:h/r,height:p/a});break}const l=[];for(let c=0,d=t.rangeCount;c<d;c++){const h=t.getRangeAt(c);if(!h.collapsed)for(const{x:p,y:m,width:y,height:v}of h.getClientRects())y===0||v===0||l.push(o(p,m,y,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,Cl)||b(this,Cl,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,Cl))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=u(this,Cl))==null?void 0:i.get(e.data.id);if(!t)return;const s=u(this,oi).getRawValue(t);s&&(u(this,yt)===se.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}};Sl=new WeakMap,xn=new WeakMap,at=new WeakMap,St=new WeakMap,El=new WeakMap,oi=new WeakMap,Cl=new WeakMap,cs=new WeakMap,rr=new WeakMap,_l=new WeakMap,ba=new WeakMap,Rs=new WeakMap,us=new WeakMap,Aa=new WeakMap,fd=new WeakMap,pd=new WeakMap,Tl=new WeakMap,md=new WeakMap,Ls=new WeakMap,ar=new WeakMap,kl=new WeakMap,or=new WeakMap,Ms=new WeakMap,qp=new WeakMap,lr=new WeakMap,gd=new WeakMap,cr=new WeakMap,Sa=new WeakMap,yd=new WeakMap,vd=new WeakMap,yt=new WeakMap,ye=new WeakMap,li=new WeakMap,Ea=new WeakMap,xd=new WeakMap,wd=new WeakMap,ur=new WeakMap,js=new WeakMap,ci=new WeakMap,bd=new WeakMap,zn=new WeakMap,O=new WeakSet,jf=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},o0=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of u(this,St).values())if(s.hasTextLayer(e))return s;return null},z_=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=A(this,O,jf).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(s);i&&(u(this,Ms)||b(this,Ms,new pO(this)),u(this,Ms).show(s,i,this.direction==="ltr"))},H_=function(){var r,a,o;const e=document.getSelection();if(!e||e.isCollapsed){u(this,li)&&((r=u(this,Ms))==null||r.hide(),b(this,li,null),A(this,O,Xt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,li))return;const i=A(this,O,jf).call(this,e).closest(".textLayer");if(!i){u(this,li)&&((a=u(this,Ms))==null||a.hide(),b(this,li,null),A(this,O,Xt).call(this,{hasSelectedText:!1}));return}if((o=u(this,Ms))==null||o.hide(),b(this,li,t),A(this,O,Xt).call(this,{hasSelectedText:!0}),!(u(this,yt)!==se.HIGHLIGHT&&u(this,yt)!==se.NONE)&&(u(this,yt)===se.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,or,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u(this,yt)===se.HIGHLIGHT?A(this,O,o0).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,d=this.combinedSignal(c),h=p=>{p.type==="pointerup"&&p.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),p.type==="pointerup"&&A(this,O,Df).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},Df=function(e=""){u(this,yt)===se.HIGHLIGHT?this.highlightSelection(e):u(this,fd)&&A(this,O,z_).call(this)},U_=function(){document.addEventListener("selectionchange",A(this,O,H_).bind(this),{signal:this._signal})},$_=function(){if(u(this,ar))return;b(this,ar,new AbortController);const e=this.combinedSignal(u(this,ar));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},W_=function(){var e;(e=u(this,ar))==null||e.abort(),b(this,ar,null)},l0=function(){if(u(this,cr))return;b(this,cr,new AbortController);const e=this.combinedSignal(u(this,cr));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},G_=function(){var e;(e=u(this,cr))==null||e.abort(),b(this,cr,null)},c0=function(){if(u(this,rr))return;b(this,rr,new AbortController);const e=this.combinedSignal(u(this,rr));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},u0=function(){var e;(e=u(this,rr))==null||e.abort(),b(this,rr,null)},K_=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Xt=function(e){Object.entries(e).some(([s,i])=>u(this,wd)[s]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,wd),e)}),u(this,yt)===se.HIGHLIGHT&&e.hasSelectedEditor===!1&&A(this,O,Yi).call(this,[[Z.HIGHLIGHT_FREE,!0]]))},Yi=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},X_=async function(){if(!u(this,lr)){b(this,lr,!0);const e=[];for(const t of u(this,St).values())e.push(t.enable());await Promise.all(e);for(const t of u(this,at).values())t.enable()}},q_=function(){if(this.unselectAll(),u(this,lr)){b(this,lr,!1);for(const e of u(this,St).values())e.disable();for(const e of u(this,at).values())e.disable()}},d0=function(e){const t=u(this,St).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Y_=function(){let e=null;for(e of u(this,ye));return e},ru=function(){if(u(this,at).size===0)return!0;if(u(this,at).size===1)for(const e of u(this,at).values())return e.isEmpty();return!1},h0=function(e){for(const t of u(this,ye))t.unselect();u(this,ye).clear();for(const t of e)t.isEmpty()||(u(this,ye).add(t),t.select());A(this,O,Xt).call(this,{hasSelectedEditor:this.hasSelection})},Q(ul,"TRANSLATE_SMALL",1),Q(ul,"TRANSLATE_BIG",10);let So=ul;var vt,Ds,ds,Pl,Is,wn,Nl,Fs,ln,ui,Ca,Os,dr,Ss,au,If;const qt=class qt{constructor(e){E(this,Ss);E(this,vt,null);E(this,Ds,!1);E(this,ds,null);E(this,Pl,null);E(this,Is,null);E(this,wn,null);E(this,Nl,!1);E(this,Fs,null);E(this,ln,null);E(this,ui,null);E(this,Ca,null);E(this,Os,!1);b(this,ln,e),b(this,Os,e._uiManager.useNewAltTextFlow),u(qt,dr)||b(qt,dr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){qt._l10n??(qt._l10n=e)}async render(){const e=b(this,ds,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=b(this,Pl,document.createElement("span"));e.append(t),u(this,Os)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(qt,dr).missing),t.setAttribute("data-l10n-id",u(qt,dr)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=u(this,ln)._uiManager._signal;e.addEventListener("contextmenu",ts,{signal:s}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:s});const i=r=>{r.preventDefault(),u(this,ln)._uiManager.editAltText(u(this,ln)),u(this,Os)&&u(this,ln)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,Ss,au)}})};return e.addEventListener("click",i,{capture:!0,signal:s}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(b(this,Nl,!0),i(r))},{signal:s}),await A(this,Ss,If).call(this),e}finish(){u(this,ds)&&(u(this,ds).focus({focusVisible:u(this,Nl)}),b(this,Nl,!1))}isEmpty(){return u(this,Os)?u(this,vt)===null:!u(this,vt)&&!u(this,Ds)}hasData(){return u(this,Os)?u(this,vt)!==null||!!u(this,ui):this.isEmpty()}get guessedText(){return u(this,ui)}async setGuessedText(e){u(this,vt)===null&&(b(this,ui,e),b(this,Ca,await qt._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),A(this,Ss,If).call(this))}toggleAltTextBadge(e=!1){var t;if(!u(this,Os)||u(this,vt)){(t=u(this,Fs))==null||t.remove(),b(this,Fs,null);return}if(!u(this,Fs)){const s=b(this,Fs,document.createElement("div"));s.className="noAltTextBadge",u(this,ln).div.append(s)}u(this,Fs).classList.toggle("hidden",!e)}serialize(e){let t=u(this,vt);return!e&&u(this,ui)===t&&(t=u(this,Ca)),{altText:t,decorative:u(this,Ds),guessedText:u(this,ui),textWithDisclaimer:u(this,Ca)}}get data(){return{altText:u(this,vt),decorative:u(this,Ds)}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:i,cancel:r=!1}){s&&(b(this,ui,s),b(this,Ca,i)),!(u(this,vt)===e&&u(this,Ds)===t)&&(r||(b(this,vt,e),b(this,Ds,t)),A(this,Ss,If).call(this))}toggle(e=!1){u(this,ds)&&(!e&&u(this,wn)&&(clearTimeout(u(this,wn)),b(this,wn,null)),u(this,ds).disabled=!e)}shown(){u(this,ln)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,Ss,au)}})}destroy(){var e,t;(e=u(this,ds))==null||e.remove(),b(this,ds,null),b(this,Pl,null),b(this,Is,null),(t=u(this,Fs))==null||t.remove(),b(this,Fs,null)}};vt=new WeakMap,Ds=new WeakMap,ds=new WeakMap,Pl=new WeakMap,Is=new WeakMap,wn=new WeakMap,Nl=new WeakMap,Fs=new WeakMap,ln=new WeakMap,ui=new WeakMap,Ca=new WeakMap,Os=new WeakMap,dr=new WeakMap,Ss=new WeakSet,au=function(){return u(this,vt)&&"added"||u(this,vt)===null&&this.guessedText&&"review"||"missing"},If=async function(){var i,r,a;const e=u(this,ds);if(!e)return;if(u(this,Os)){if(e.classList.toggle("done",!!u(this,vt)),e.setAttribute("data-l10n-id",u(qt,dr)[u(this,Ss,au)]),(i=u(this,Pl))==null||i.setAttribute("data-l10n-id",u(qt,dr)[`${u(this,Ss,au)}-label`]),!u(this,vt)){(r=u(this,Is))==null||r.remove();return}}else{if(!u(this,vt)&&!u(this,Ds)){e.classList.remove("done"),(a=u(this,Is))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=u(this,Is);if(!t){b(this,Is,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${u(this,ln).id}`;const o=100,l=u(this,ln)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(u(this,wn)),b(this,wn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{b(this,wn,setTimeout(()=>{b(this,wn,null),u(this,Is).classList.add("show"),u(this,ln)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;u(this,wn)&&(clearTimeout(u(this,wn)),b(this,wn,null)),(c=u(this,Is))==null||c.classList.remove("show")},{signal:l})}u(this,Ds)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=u(this,vt)),t.parentNode||e.append(t);const s=u(this,ln).getImageForAltText();s==null||s.setAttribute("aria-describedby",t.id)},E(qt,dr,null),Q(qt,"_l10n",null);let zp=qt;var _a,hs,Ie,Rl,Ta,Et,ka,hr,Ad,Pa,fr,Sd,Na,di,Bs,Ll,Ml,Hn,Ed,Yp,ie,f0,Cd,p0,m0,Q_,Z_,g0,y0,v0,J_,x0,eT,tT,nT,w0,ou;const me=class me{constructor(e){E(this,ie);E(this,_a,null);E(this,hs,null);E(this,Ie,null);E(this,Rl,!1);E(this,Ta,!1);E(this,Et,null);E(this,ka,null);E(this,hr,null);E(this,Ad,"");E(this,Pa,!1);E(this,fr,null);E(this,Sd,!1);E(this,Na,!1);E(this,di,!1);E(this,Bs,null);E(this,Ll,0);E(this,Ml,0);E(this,Hn,null);Q(this,"_editToolbar",null);Q(this,"_initialOptions",Object.create(null));Q(this,"_initialData",null);Q(this,"_isVisible",!0);Q(this,"_uiManager",null);Q(this,"_focusEventsAllowed",!0);E(this,Ed,!1);E(this,Yp,me._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:i,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,i],this.pageTranslation=[r,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=me.prototype._resizeWithKeyboard,t=So.TRANSLATE_SMALL,s=So.TRANSLATE_BIG;return de(this,"_resizerKeyboardManager",new jh([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],me.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return de(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new vO({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(me._l10n??(me._l10n=e),me._l10nResizer||(me._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),me._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);me._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){ke("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,Ed)}set _isDraggable(e){var t;b(this,Ed,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,Yp)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):A(this,ie,ou).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,Pa)?b(this,Pa,!1):this.parent.setSelected(this))}focusout(e){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,i){const[r,a]=this.parentDimensions;[s,i]=this.screenToPageTranslation(s,i),this.x=(e+s)/r,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){A(this,ie,f0).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,fr)||b(this,fr,[this.x,this.y]),A(this,ie,f0).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){u(this,fr)||b(this,fr,[this.x,this.y]);const[s,i]=this.parentDimensions;if(this.x+=e/s,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[o,l]=this.getBaseTranslation();r+=o,a+=l,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!u(this,fr)&&(u(this,fr)[0]!==this.x||u(this,fr)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=me,i=s/e,r=s/t;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,s]=this.pageDimensions;let{x:i,y:r,width:a,height:o}=this;if(a*=t,o*=s,i*=t,r*=s,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-a,i)),r=Math.max(0,Math.min(s-o,r));break;case 90:i=Math.max(0,Math.min(t-o,i)),r=Math.min(s,Math.max(a,r));break;case 180:i=Math.min(t,Math.max(a,i)),r=Math.min(s,Math.max(o,r));break;case 270:i=Math.min(t,Math.max(o,i)),r=Math.max(0,Math.min(s-a,r));break}this.x=i/=t,this.y=r/=s;const[l,c]=this.getBaseTranslation();i+=l,r+=c;const{style:d}=this.div;d.left=`${(100*i).toFixed(2)}%`,d.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var s;return A(s=me,Cd,p0).call(s,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var s;return A(s=me,Cd,p0).call(s,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(e,t){const[s,i]=this.parentDimensions;this.div.style.width=`${(100*e/s).toFixed(2)}%`,u(this,Ta)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:s}=e,i=s.endsWith("%"),r=!u(this,Ta)&&t.endsWith("%");if(i&&r)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(s)/a).toFixed(2)}%`),!u(this,Ta)&&!r&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=u(this,Ie))==null||e.finish()}async addEditToolbar(){return this._editToolbar||u(this,Na)?this._editToolbar:(this._editToolbar=new s0(this),this.div.append(this._editToolbar.render()),u(this,Ie)&&await this._editToolbar.addAltText(u(this,Ie)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=u(this,Ie))==null||e.destroy())}addContainer(e){var s;const t=(s=this._editToolbar)==null?void 0:s.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,Ie)||(zp.initialize(me._l10n),b(this,Ie,new zp(this)),u(this,_a)&&(u(this,Ie).data=u(this,_a),b(this,_a,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=u(this,Ie))==null?void 0:e.data}set altTextData(e){u(this,Ie)&&(u(this,Ie).data=e)}get guessedAltText(){var e;return(e=u(this,Ie))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=u(this,Ie))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=u(this,Ie))==null?void 0:t.serialize(e)}hasAltText(){return!!u(this,Ie)&&!u(this,Ie).isEmpty()}hasAltTextData(){var e;return((e=u(this,Ie))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,Rl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),A(this,ie,x0).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[s,i]=this.getInitialTranslation();return this.translate(s,i),Vp(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Jt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(b(this,Pa,!0),this._isDraggable){A(this,ie,J_).call(this,e);return}A(this,ie,v0).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){u(this,Bs)&&clearTimeout(u(this,Bs)),b(this,Bs,setTimeout(()=>{var e;b(this,Bs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition()}getRect(e,t,s=this.rotation){const i=this.parentScale,[r,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,d=t/i,h=this.x*r,p=this.y*a,m=this.width*r,y=this.height*a;switch(s){case 0:return[h+c+o,a-p-d-y+l,h+c+m+o,a-p-d+l];case 90:return[h+d+o,a-p+c+l,h+d+y+o,a-p+c+m+l];case 180:return[h-c-m+o,a-p+d+l,h-c+o,a-p+d+y+l];case 270:return[h-d-y+o,a-p-c-m+l,h-d+o,a-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,i,r,a]=e,o=r-s,l=a-i;switch(this.rotation){case 0:return[s,t-a,o,l];case 90:return[s,t-i,l,o];case 180:return[r,t-i,o,l];case 270:return[r,t-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){b(this,Na,!0)}disableEditMode(){b(this,Na,!1)}isInEditMode(){return u(this,Na)}shouldGetKeyboardEvents(){return u(this,di)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){A(this,ie,x0).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){ke("An editor must be serializable")}static async deserialize(e,t,s){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s});i.rotation=e.rotation,b(i,_a,e.accessibilityData);const[r,a]=i.pageDimensions,[o,l,c,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/r,i.y=l/a,i.width=c/r,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=u(this,hr))==null||e.abort(),b(this,hr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,Bs)&&(clearTimeout(u(this,Bs)),b(this,Bs,null)),A(this,ie,ou).call(this),this.removeEditToolbar(),u(this,Hn)){for(const t of u(this,Hn).values())clearTimeout(t);b(this,Hn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,ie,Q_).call(this),u(this,Et).classList.remove("hidden"),Vp(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),b(this,ka,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,Et).children;if(!u(this,hs)){b(this,hs,Array.from(t));const a=A(this,ie,eT).bind(this),o=A(this,ie,tT).bind(this),l=this._uiManager._signal;for(const c of u(this,hs)){const d=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",A(this,ie,nT).bind(this,d),{signal:l}),c.setAttribute("data-l10n-id",me._l10nResizer[d])}}const s=u(this,hs)[0];let i=0;for(const a of t){if(a===s)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(u(this,hs).length/4);if(r!==i){if(r<i)for(let o=0;o<i-r;o++)u(this,Et).append(u(this,Et).firstChild);else if(r>i)for(let o=0;o<r-i;o++)u(this,Et).firstChild.before(u(this,Et).lastChild);let a=0;for(const o of t){const c=u(this,hs)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",me._l10nResizer[c])}}A(this,ie,w0).call(this,0),b(this,di,!0),u(this,Et).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,di)&&A(this,ie,y0).call(this,u(this,Ad),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){A(this,ie,ou).call(this),this.div.focus()}select(){var e,t,s;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(t=this._editToolbar)==null||t.show(),(s=u(this,Ie))==null||s.toggleAltTextBadge(!1)}unselect(){var e,t,s,i,r;(e=u(this,Et))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(r=u(this,Ie))==null||r.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,Sd)}set isEditing(e){b(this,Sd,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){b(this,Ta,!0);const s=e/t,{style:i}=this.div;i.aspectRatio=s,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,Hn)||b(this,Hn,new Map);const{action:s}=e;let i=u(this,Hn).get(s);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),u(this,Hn).delete(s),u(this,Hn).size===0&&b(this,Hn,null)},me._telemetryTimeout),u(this,Hn).set(s,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),b(this,Rl,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,Rl,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};_a=new WeakMap,hs=new WeakMap,Ie=new WeakMap,Rl=new WeakMap,Ta=new WeakMap,Et=new WeakMap,ka=new WeakMap,hr=new WeakMap,Ad=new WeakMap,Pa=new WeakMap,fr=new WeakMap,Sd=new WeakMap,Na=new WeakMap,di=new WeakMap,Bs=new WeakMap,Ll=new WeakMap,Ml=new WeakMap,Hn=new WeakMap,Ed=new WeakMap,Yp=new WeakMap,ie=new WeakSet,f0=function([e,t],s,i){[s,i]=this.screenToPageTranslation(s,i),this.x+=s/e,this.y+=i/t,this.fixAndSetPosition()},Cd=new WeakSet,p0=function(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},m0=function(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}},Q_=function(){if(u(this,Et))return;b(this,Et,document.createElement("div")),u(this,Et).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const i=document.createElement("div");u(this,Et).append(i),i.classList.add("resizer",s),i.setAttribute("data-resizer-name",s),i.addEventListener("pointerdown",A(this,ie,Z_).bind(this,s),{signal:t}),i.addEventListener("contextmenu",ts,{signal:t}),i.tabIndex=-1}this.div.prepend(u(this,Et))},Z_=function(e,t){var y;t.preventDefault();const{isMac:s}=Jt.platform;if(t.button!==0||t.ctrlKey&&s)return;(y=u(this,Ie))==null||y.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",A(this,ie,y0).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",ts,{signal:a});const o=this.x,l=this.y,c=this.width,d=this.height,h=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const m=()=>{var v;r.abort(),this.parent.togglePointerEvents(!0),(v=u(this,Ie))==null||v.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=h,this.div.style.cursor=p,A(this,ie,g0).call(this,o,l,c,d)};window.addEventListener("pointerup",m,{signal:a}),window.addEventListener("blur",m,{signal:a})},g0=function(e,t,s,i){const r=this.x,a=this.y,o=this.width,l=this.height;r===e&&a===t&&o===s&&l===i||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=r,this.y=a;const[c,d]=this.parentDimensions;this.setDims(c*o,d*l),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=i,this.x=e,this.y=t;const[c,d]=this.parentDimensions;this.setDims(c*s,d*i),this.fixAndSetPosition()},mustExec:!0})},y0=function(e,t){const[s,i]=this.parentDimensions,r=this.x,a=this.y,o=this.width,l=this.height,c=me.MIN_SIZE/s,d=me.MIN_SIZE/i,h=I=>Math.round(I*1e4)/1e4,p=A(this,ie,m0).call(this,this.rotation),m=(I,R)=>[p[0]*I+p[2]*R,p[1]*I+p[3]*R],y=A(this,ie,m0).call(this,360-this.rotation),v=(I,R)=>[y[0]*I+y[2]*R,y[1]*I+y[3]*R];let S,g,x=!1,w=!1;switch(e){case"topLeft":x=!0,S=(I,R)=>[0,0],g=(I,R)=>[I,R];break;case"topMiddle":S=(I,R)=>[I/2,0],g=(I,R)=>[I/2,R];break;case"topRight":x=!0,S=(I,R)=>[I,0],g=(I,R)=>[0,R];break;case"middleRight":w=!0,S=(I,R)=>[I,R/2],g=(I,R)=>[0,R/2];break;case"bottomRight":x=!0,S=(I,R)=>[I,R],g=(I,R)=>[0,0];break;case"bottomMiddle":S=(I,R)=>[I/2,R],g=(I,R)=>[I/2,0];break;case"bottomLeft":x=!0,S=(I,R)=>[0,R],g=(I,R)=>[I,0];break;case"middleLeft":w=!0,S=(I,R)=>[0,R/2],g=(I,R)=>[I,R/2];break}const C=S(o,l),_=g(o,l);let k=m(..._);const P=h(r+k[0]),N=h(a+k[1]);let L=1,M=1,[D,Y]=this.screenToPageTranslation(t.movementX,t.movementY);if([D,Y]=v(D/s,Y/i),x){const I=Math.hypot(o,l);L=M=Math.max(Math.min(Math.hypot(_[0]-C[0]-D,_[1]-C[1]-Y)/I,1/o,1/l),c/o,d/l)}else w?L=Math.max(c,Math.min(1,Math.abs(_[0]-C[0]-D)))/o:M=Math.max(d,Math.min(1,Math.abs(_[1]-C[1]-Y)))/l;const K=h(o*L),W=h(l*M);k=m(...g(K,W));const J=P-k[0],q=N-k[1];this.width=K,this.height=W,this.x=J,this.y=q,this.setDims(s*K,i*W),this.fixAndSetPosition()},v0=function(e){const{isMac:t}=Jt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},J_=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const s=new AbortController,i=this._uiManager.combinedSignal(s);if(t){this.div.classList.add("moving"),b(this,Ll,e.clientX),b(this,Ml,e.clientY);const a=o=>{const{clientX:l,clientY:c}=o,[d,h]=this.screenToPageTranslation(l-u(this,Ll),c-u(this,Ml));b(this,Ll,l),b(this,Ml,c),this._uiManager.dragSelectedEditors(d,h)};window.addEventListener("pointermove",a,{passive:!0,capture:!0,signal:i})}const r=()=>{s.abort(),t&&this.div.classList.remove("moving"),b(this,Pa,!1),this._uiManager.endDragSession()||A(this,ie,v0).call(this,e)};window.addEventListener("pointerup",r,{signal:i}),window.addEventListener("blur",r,{signal:i})},x0=function(){if(u(this,hr)||!this.div)return;b(this,hr,new AbortController);const e=this._uiManager.combinedSignal(u(this,hr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},eT=function(e){me._resizerKeyboardManager.exec(this,e)},tT=function(e){var t;u(this,di)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,Et)&&A(this,ie,ou).call(this)},nT=function(e){b(this,Ad,u(this,di)?e:"")},w0=function(e){if(u(this,hs))for(const t of u(this,hs))t.tabIndex=e},ou=function(){if(b(this,di,!1),A(this,ie,w0).call(this,-1),u(this,ka)){const{savedX:e,savedY:t,savedWidth:s,savedHeight:i}=u(this,ka);A(this,ie,g0).call(this,e,t,s,i),b(this,ka,null)}},E(me,Cd),Q(me,"_l10n",null),Q(me,"_l10nResizer",null),Q(me,"_borderLineWidth",-1),Q(me,"_colorManager",new a0),Q(me,"_zIndex",1),Q(me,"_telemetryTimeout",1e3);let xe=me;class vO extends xe{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const tA=3285377520,Bn=4294901760,Ps=65535;class sT{constructor(e){this.h1=e?e&4294967295:tA,this.h2=e?e&4294967295:tA}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let v=0,S=e.length;v<S;v++){const g=e.charCodeAt(v);g<=255?t[s++]=g:(t[s++]=g>>>8,t[s++]=g&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=s>>2,r=s-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,c=this.h1,d=this.h2;const h=3432918353,p=461845907,m=h&Ps,y=p&Ps;for(let v=0;v<i;v++)v&1?(o=a[v],o=o*h&Bn|o*m&Ps,o=o<<15|o>>>17,o=o*p&Bn|o*y&Ps,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[v],l=l*h&Bn|l*m&Ps,l=l<<15|l>>>17,l=l*p&Bn|l*y&Ps,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,r){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*h&Bn|o*m&Ps,o=o<<15|o>>>17,o=o*p&Bn|o*y&Ps,i&1?c^=o:d^=o}this.h1=c,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Bn|e*36045&Ps,t=t*4283543511&Bn|((t<<16|e>>>16)*2950163797&Bn)>>>16,e^=t>>>1,e=e*444984403&Bn|e*60499&Ps,t=t*3301882366&Bn|((t<<16|e>>>16)*3120437893&Bn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const b0=Object.freeze({map:null,hash:"",transfer:void 0});var Ra,La,xt,Qp,iT;class sw{constructor(){E(this,Qp);E(this,Ra,!1);E(this,La,null);E(this,xt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=u(this,xt).get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return u(this,xt).get(e)}remove(e){if(u(this,xt).delete(e),u(this,xt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,xt).values())if(t instanceof xe)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=u(this,xt).get(e);let i=!1;if(s!==void 0)for(const[r,a]of Object.entries(t))s[r]!==a&&(i=!0,s[r]=a);else i=!0,u(this,xt).set(e,t);i&&A(this,Qp,iT).call(this),t instanceof xe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,xt).has(e)}getAll(){return u(this,xt).size>0?Qx(u(this,xt)):null}setAll(e){for(const[t,s]of Object.entries(e))this.setValue(t,s)}get size(){return u(this,xt).size}resetModified(){u(this,Ra)&&(b(this,Ra,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new rT(this)}get serializable(){if(u(this,xt).size===0)return b0;const e=new Map,t=new sT,s=[],i=Object.create(null);let r=!1;for(const[a,o]of u(this,xt)){const l=o instanceof xe?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),r||(r=!!l.bitmap))}if(r)for(const a of e.values())a.bitmap&&s.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:b0}get editorStats(){let e=null;const t=new Map;for(const s of u(this,xt).values()){if(!(s instanceof xe))continue;const i=s.telemetryFinalData;if(!i)continue;const{type:r}=i;t.has(r)||t.set(r,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const a=e[r]||(e[r]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let c=a.get(o);c||(c=new Map,a.set(o,c));const d=c.get(l)??0;c.set(l,d+1)}}for(const[s,i]of t)e[s]=i.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){b(this,La,null)}get modifiedIds(){if(u(this,La))return u(this,La);const e=[];for(const t of u(this,xt).values())!(t instanceof xe)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return b(this,La,{ids:new Set(e),hash:e.join(",")})}}Ra=new WeakMap,La=new WeakMap,xt=new WeakMap,Qp=new WeakSet,iT=function(){u(this,Ra)||(b(this,Ra,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var _d;class rT extends sw{constructor(t){super();E(this,_d);const{map:s,hash:i,transfer:r}=t.serializable,a=structuredClone(s,r?{transfer:r}:null);b(this,_d,{map:a,hash:i,transfer:r})}get print(){ke("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,_d)}get modifiedIds(){return de(this,"modifiedIds",{ids:new Set,hash:""})}}_d=new WeakMap;var jl;class xO{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){E(this,jl,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,jl).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||u(this,jl).has(e.loadedName))){if(ut(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:i,style:r}=e,a=new FontFace(s,i,r);this.addNativeFontFace(a);try{await a.load(),u(this,jl).add(s),t==null||t(e)}catch{re(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}ke("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(i){throw re(`Failed to load font '${s.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const i=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return de(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return($t||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),de(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(ut(!i.done,"completeRequest() cannot be called twice."),i.done=!0;s.length>0&&s[0].done;){const r=s.shift();setTimeout(r.callback,0)}}const{loadingRequests:s}=this,i={done:!1,complete:t,callback:e};return s.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return de(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(C,_){return C.charCodeAt(_)<<24|C.charCodeAt(_+1)<<16|C.charCodeAt(_+2)<<8|C.charCodeAt(_+3)&255}function i(C,_,k,P){const N=C.substring(0,_),L=C.substring(_+k);return N+P+L}let r,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function d(C,_){if(++c>30){re("Load test font never loaded."),_();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(d.bind(null,C,_))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=i(p,976,h.length,h);const y=16,v=1482184792;let S=s(p,y);for(r=0,a=h.length-3;r<a;r+=4)S=S-v+s(h,r)|0;r<h.length&&(S=S-v+s(h+"XXX",r)|0),p=i(p,y,4,sO(S));const g=`url(data:font/opentype;base64,${btoa(p)});`,x=`@font-face {font-family:"${h}";src:${g}}`;this.insertRule(x);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const C of[e.loadedName,h]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=C,w.append(_)}this._document.body.append(w),d(h,()=>{w.remove(),t.complete()})}}jl=new WeakMap;class wO{constructor(e,{disableFontFace:t=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=s}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${cO(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let s;try{s=e.get(this.loadedName+"_path_"+t)}catch(r){re(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[t]=function(r,a){};const i=[];for(let r=0,a=s.length;r<a;)switch(s[r++]){case ei.BEZIER_CURVE_TO:{const[o,l,c,d,h,p]=s.slice(r,r+6);i.push(m=>m.bezierCurveTo(o,l,c,d,h,p)),r+=6}break;case ei.MOVE_TO:{const[o,l]=s.slice(r,r+2);i.push(c=>c.moveTo(o,l)),r+=2}break;case ei.LINE_TO:{const[o,l]=s.slice(r,r+2);i.push(c=>c.lineTo(o,l)),r+=2}break;case ei.QUADRATIC_CURVE_TO:{const[o,l,c,d]=s.slice(r,r+4);i.push(h=>h.quadraticCurveTo(o,l,c,d)),r+=4}break;case ei.RESTORE:i.push(o=>o.restore());break;case ei.SAVE:i.push(o=>o.save());break;case ei.SCALE:ut(i.length===2,"Scale command is only valid at the third position.");break;case ei.TRANSFORM:{const[o,l,c,d,h,p]=s.slice(r,r+6);i.push(m=>m.transform(o,l,c,d,h,p)),r+=6}break;case ei.TRANSLATE:{const[o,l]=s.slice(r,r+2);i.push(c=>c.translate(o,l)),r+=2}break}return this.compiledGlyphs[t]=function(a,o){i[0](a),i[1](a),a.scale(o,-o);for(let l=2,c=i.length;l<c;l++)i[l](a)}}}var Td;class aT{constructor({enableHWA:e=!1}){E(this,Td,!1);b(this,Td,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!u(this,Td)})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){ke("Abstract method `_createCanvas` called.")}}Td=new WeakMap;class bO extends aT{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class oT{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){ke("Abstract method `_fetch` called.")}}class lT extends oT{async _fetch(e){const t=await Fm(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Im(t)}}class cT{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,i,r){return"none"}destroy(e=!1){}}var Ma,ja,Vs,hi,Ft,Zp,Da,B,Dt,Bo,Vo,Ff,zo,uT,A0,Ho,lu,cu,S0,uu;class AO extends cT{constructor({docId:t,ownerDocument:s=globalThis.document}){super();E(this,B);E(this,Ma);E(this,ja);E(this,Vs);E(this,hi);E(this,Ft);E(this,Zp);E(this,Da,0);b(this,hi,t),b(this,Ft,s)}addFilter(t){if(!t)return"none";let s=u(this,B,Dt).get(t);if(s)return s;const[i,r,a]=A(this,B,Ff).call(this,t),o=t.length===1?i:`${i}${r}${a}`;if(s=u(this,B,Dt).get(o),s)return u(this,B,Dt).set(t,s),s;const l=`g_${u(this,hi)}_transfer_map_${Kt(this,Da)._++}`,c=A(this,B,zo).call(this,l);u(this,B,Dt).set(t,c),u(this,B,Dt).set(o,c);const d=A(this,B,Ho).call(this,l);return A(this,B,cu).call(this,i,r,a,d),c}addHCMFilter(t,s){var y;const i=`${t}-${s}`,r="base";let a=u(this,B,Bo).get(r);if((a==null?void 0:a.key)===i||(a?((y=a.filter)==null||y.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},u(this,B,Bo).set(r,a)),!t||!s))return a.url;const o=A(this,B,uu).call(this,t);t=$.makeHexColor(...o);const l=A(this,B,uu).call(this,s);if(s=$.makeHexColor(...l),u(this,B,Vo).style.color="",t==="#000000"&&s==="#ffffff"||t===s)return a.url;const c=new Array(256);for(let v=0;v<=255;v++){const S=v/255;c[v]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const d=c.join(","),h=`g_${u(this,hi)}_hcm_filter`,p=a.filter=A(this,B,Ho).call(this,h);A(this,B,cu).call(this,d,d,d,p),A(this,B,A0).call(this,p);const m=(v,S)=>{const g=o[v]/255,x=l[v]/255,w=new Array(S+1);for(let C=0;C<=S;C++)w[C]=g+C/S*(x-g);return w.join(",")};return A(this,B,cu).call(this,m(0,5),m(1,5),m(2,5),p),a.url=A(this,B,zo).call(this,h),a.url}addAlphaFilter(t){let s=u(this,B,Dt).get(t);if(s)return s;const[i]=A(this,B,Ff).call(this,[t]),r=`alpha_${i}`;if(s=u(this,B,Dt).get(r),s)return u(this,B,Dt).set(t,s),s;const a=`g_${u(this,hi)}_alpha_map_${Kt(this,Da)._++}`,o=A(this,B,zo).call(this,a);u(this,B,Dt).set(t,o),u(this,B,Dt).set(r,o);const l=A(this,B,Ho).call(this,a);return A(this,B,S0).call(this,i,l),o}addLuminosityFilter(t){let s=u(this,B,Dt).get(t||"luminosity");if(s)return s;let i,r;if(t?([i]=A(this,B,Ff).call(this,[t]),r=`luminosity_${i}`):r="luminosity",s=u(this,B,Dt).get(r),s)return u(this,B,Dt).set(t,s),s;const a=`g_${u(this,hi)}_luminosity_map_${Kt(this,Da)._++}`,o=A(this,B,zo).call(this,a);u(this,B,Dt).set(t,o),u(this,B,Dt).set(r,o);const l=A(this,B,Ho).call(this,a);return A(this,B,uT).call(this,l),t&&A(this,B,S0).call(this,i,l),o}addHighlightHCMFilter(t,s,i,r,a){var x;const o=`${s}-${i}-${r}-${a}`;let l=u(this,B,Bo).get(t);if((l==null?void 0:l.key)===o||(l?((x=l.filter)==null||x.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},u(this,B,Bo).set(t,l)),!s||!i))return l.url;const[c,d]=[s,i].map(A(this,B,uu).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,y]=[r,a].map(A(this,B,uu).bind(this));p<h&&([h,p,m,y]=[p,h,y,m]),u(this,B,Vo).style.color="";const v=(w,C,_)=>{const k=new Array(256),P=(p-h)/_,N=w/255,L=(C-w)/(255*_);let M=0;for(let D=0;D<=_;D++){const Y=Math.round(h+D*P),K=N+D*L;for(let W=M;W<=Y;W++)k[W]=K;M=Y+1}for(let D=M;D<256;D++)k[D]=k[M-1];return k.join(",")},S=`g_${u(this,hi)}_hcm_${t}_filter`,g=l.filter=A(this,B,Ho).call(this,S);return A(this,B,A0).call(this,g),A(this,B,cu).call(this,v(m[0],y[0],5),v(m[1],y[1],5),v(m[2],y[2],5),g),l.url=A(this,B,zo).call(this,S),l.url}destroy(t=!1){t&&u(this,B,Bo).size!==0||(u(this,Vs)&&(u(this,Vs).parentNode.parentNode.remove(),b(this,Vs,null)),u(this,ja)&&(u(this,ja).clear(),b(this,ja,null)),b(this,Da,0))}}Ma=new WeakMap,ja=new WeakMap,Vs=new WeakMap,hi=new WeakMap,Ft=new WeakMap,Zp=new WeakMap,Da=new WeakMap,B=new WeakSet,Dt=function(){return u(this,ja)||b(this,ja,new Map)},Bo=function(){return u(this,Zp)||b(this,Zp,new Map)},Vo=function(){if(!u(this,Vs)){const t=u(this,Ft).createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const i=u(this,Ft).createElementNS(ni,"svg");i.setAttribute("width",0),i.setAttribute("height",0),b(this,Vs,u(this,Ft).createElementNS(ni,"defs")),t.append(i),i.append(u(this,Vs)),u(this,Ft).body.append(t)}return u(this,Vs)},Ff=function(t){if(t.length===1){const c=t[0],d=new Array(256);for(let p=0;p<256;p++)d[p]=c[p]/255;const h=d.join(",");return[h,h,h]}const[s,i,r]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=s[c]/255,o[c]=i[c]/255,l[c]=r[c]/255;return[a.join(","),o.join(","),l.join(",")]},zo=function(t){if(u(this,Ma)===void 0){b(this,Ma,"");const s=u(this,Ft).URL;s!==u(this,Ft).baseURI&&(Om(s)?re('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,Ma,s.split("#",1)[0]))}return`url(${u(this,Ma)}#${t})`},uT=function(t){const s=u(this,Ft).createElementNS(ni,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(s)},A0=function(t){const s=u(this,Ft).createElementNS(ni,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(s)},Ho=function(t){const s=u(this,Ft).createElementNS(ni,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",t),u(this,B,Vo).append(s),s},lu=function(t,s,i){const r=u(this,Ft).createElementNS(ni,s);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)},cu=function(t,s,i,r){const a=u(this,Ft).createElementNS(ni,"feComponentTransfer");r.append(a),A(this,B,lu).call(this,a,"feFuncR",t),A(this,B,lu).call(this,a,"feFuncG",s),A(this,B,lu).call(this,a,"feFuncB",i)},S0=function(t,s){const i=u(this,Ft).createElementNS(ni,"feComponentTransfer");s.append(i),A(this,B,lu).call(this,i,"feFuncA",t)},uu=function(t){return u(this,B,Vo).style.color=t,nw(getComputedStyle(u(this,B,Vo)).getPropertyValue("color"))};class dT{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){ke("Abstract method `_fetch` called.")}}class hT extends dT{async _fetch(e){const t=await Fm(e,"arraybuffer");return new Uint8Array(t)}}if($t){var E0=Promise.withResolvers(),ju=null;(async()=>{const e=await cf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await cf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await cf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await cf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let r,a;return new Map(Object.entries({fs:e,http:t,https:s,url:i,canvas:r,path2d:a}))})().then(e=>{ju=e,E0.resolve()},e=>{re(`loadPackages: ${e}`),ju=new Map,E0.resolve()})}class Kr{static get promise(){return E0.promise}static get(e){return ju==null?void 0:ju.get(e)}}async function fT(n){const t=await Kr.get("fs").promises.readFile(n);return new Uint8Array(t)}class SO extends cT{}class EO extends aT{_createCanvas(e,t){return Kr.get("canvas").createCanvas(e,t)}}class CO extends oT{async _fetch(e){return fT(e)}}class _O extends dT{async _fetch(e){return fT(e)}}const Qt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function C0(n,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,s),n.clip(i)}class iw{getPattern(){ke("Abstract method `getPattern` called.")}}class TO extends iw{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,i){let r;if(i===Qt.STROKE||i===Qt.FILL){const a=t.current.getClippedPathBoundingBox(i,Oe(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=t.cachedCanvases.getCanvas("pattern",o,l),d=c.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),s=$.transform(s,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),C0(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),r=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(s);r.setTransform(h)}else C0(e,this._bbox),r=this._createGradient(e);return r}}function Ig(n,e,t,s,i,r,a,o){const l=e.coords,c=e.colors,d=n.data,h=n.width*4;let p;l[t+1]>l[s+1]&&(p=t,t=s,s=p,p=r,r=a,a=p),l[s+1]>l[i+1]&&(p=s,s=i,i=p,p=a,a=o,o=p),l[t+1]>l[s+1]&&(p=t,t=s,s=p,p=r,r=a,a=p);const m=(l[t]+e.offsetX)*e.scaleX,y=(l[t+1]+e.offsetY)*e.scaleY,v=(l[s]+e.offsetX)*e.scaleX,S=(l[s+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,x=(l[i+1]+e.offsetY)*e.scaleY;if(y>=x)return;const w=c[r],C=c[r+1],_=c[r+2],k=c[a],P=c[a+1],N=c[a+2],L=c[o],M=c[o+1],D=c[o+2],Y=Math.round(y),K=Math.round(x);let W,J,q,I,R,H,U,ae;for(let ne=Y;ne<=K;ne++){if(ne<S){const ue=ne<y?0:(y-ne)/(y-S);W=m-(m-v)*ue,J=w-(w-k)*ue,q=C-(C-P)*ue,I=_-(_-N)*ue}else{let ue;ne>x?ue=1:S===x?ue=0:ue=(S-ne)/(S-x),W=v-(v-g)*ue,J=k-(k-L)*ue,q=P-(P-M)*ue,I=N-(N-D)*ue}let pe;ne<y?pe=0:ne>x?pe=1:pe=(y-ne)/(y-x),R=m-(m-g)*pe,H=w-(w-L)*pe,U=C-(C-M)*pe,ae=_-(_-D)*pe;const Ue=Math.round(Math.min(W,R)),Gt=Math.round(Math.max(W,R));let ge=h*ne+Ue*4;for(let ue=Ue;ue<=Gt;ue++)pe=(W-ue)/(W-R),pe<0?pe=0:pe>1&&(pe=1),d[ge++]=J-(J-H)*pe|0,d[ge++]=q-(q-U)*pe|0,d[ge++]=I-(I-ae)*pe|0,d[ge++]=255}}function kO(n,e,t){const s=e.coords,i=e.colors;let r,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(s.length/o)-1,c=o-1;for(r=0;r<l;r++){let d=r*o;for(let h=0;h<c;h++,d++)Ig(n,t,s[d],s[d+1],s[d+o],i[d],i[d+1],i[d+o]),Ig(n,t,s[d+o+1],s[d+1],s[d+o],i[d+o+1],i[d+1],i[d+o])}break;case"triangles":for(r=0,a=s.length;r<a;r+=3)Ig(n,t,s[r],s[r+1],s[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class PO extends iw{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,s){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),m=c/h,y=d/p,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/m,scaleY:1/y},S=h+2*2,g=p+2*2,x=s.getCanvas("mesh",S,g),w=x.context,C=w.createImageData(h,p);if(t){const k=C.data;for(let P=0,N=k.length;P<N;P+=4)k[P]=t[0],k[P+1]=t[1],k[P+2]=t[2],k[P+3]=255}for(const k of this._figures)kO(C,k,v);return w.putImageData(C,2,2),{canvas:x.canvas,offsetX:o-2*m,offsetY:l-2*y,scaleX:m,scaleY:y}}getPattern(e,t,s,i){C0(e,this._bbox);let r;if(i===Qt.SHADING)r=$.singularValueDecompose2dScale(Oe(e));else if(r=$.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=$.singularValueDecompose2dScale(this.matrix);r=[r[0]*o[0],r[1]*o[1]]}const a=this._createMeshCanvas(r,i===Qt.SHADING?null:this._background,t.cachedCanvases);return i!==Qt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class NO extends iw{getPattern(){return"hotpink"}}function RO(n){switch(n[0]){case"RadialAxial":return new TO(n);case"Mesh":return new PO(n);case"Dummy":return new NO}throw new Error(`Unknown IR type: ${n[0]}`)}const nA={COLORED:1,UNCOLORED:2},Jp=class Jp{constructor(e,t,s,i,r){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=s,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:s,paintType:i,tilingType:r,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),jm("TilingType: "+r);const d=t[0],h=t[1],p=t[2],m=t[3],y=p-d,v=m-h,S=$.singularValueDecompose2dScale(this.matrix),g=$.singularValueDecompose2dScale(this.baseTransform),x=S[0]*g[0],w=S[1]*g[1];let C=y,_=v,k=!1,P=!1;const N=Math.ceil(l*x),L=Math.ceil(c*w),M=Math.ceil(y*x),D=Math.ceil(v*w);N>=M?C=l:k=!0,L>=D?_=c:P=!0;const Y=this.getSizeAndScale(C,this.ctx.canvas.width,x),K=this.getSizeAndScale(_,this.ctx.canvas.height,w),W=e.cachedCanvases.getCanvas("pattern",Y.size,K.size),J=W.context,q=o.createCanvasGraphics(J);if(q.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(q,i,a),J.translate(-Y.scale*d,-K.scale*h),q.transform(Y.scale,0,0,K.scale,0,0),J.save(),this.clipBbox(q,d,h,p,m),q.baseTransform=Oe(q.ctx),q.executeOperatorList(s),q.endDrawing(),J.restore(),k||P){const I=W.canvas;k&&(C=l),P&&(_=c);const R=this.getSizeAndScale(C,this.ctx.canvas.width,x),H=this.getSizeAndScale(_,this.ctx.canvas.height,w),U=R.size,ae=H.size,ne=e.cachedCanvases.getCanvas("pattern-workaround",U,ae),pe=ne.context,Ue=k?Math.floor(y/l):0,Gt=P?Math.floor(v/c):0;for(let ge=0;ge<=Ue;ge++)for(let ue=0;ue<=Gt;ue++)pe.drawImage(I,U*ge,ae*ue,U,ae,0,0,U,ae);return{canvas:ne.canvas,scaleX:R.scale,scaleY:H.scale,offsetX:d,offsetY:h}}return{canvas:W.canvas,scaleX:Y.scale,scaleY:K.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,t,s){const i=Math.max(Jp.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*s);return r>=i?r=i:s=r/e,{scale:s,size:r}}clipBbox(e,t,s,i,r){const a=i-t,o=r-s;e.ctx.rect(t,s,a,o),e.current.updateRectMinMax(Oe(e.ctx),[t,s,i,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const i=e.ctx,r=e.current;switch(t){case nA.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case nA.UNCOLORED:const o=$.makeHexColor(s[0],s[1],s[2]);i.fillStyle=o,i.strokeStyle=o,r.fillColor=o,r.strokeColor=o;break;default:throw new nO(`Unsupported paint type: ${t}`)}}getPattern(e,t,s,i){let r=s;i!==Qt.SHADING&&(r=$.transform(r,t.baseTransform),this.matrix&&(r=$.transform(r,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};Q(Jp,"MAX_PATTERN_SIZE",3e3);let _0=Jp;function LO({src:n,srcPos:e=0,dest:t,width:s,height:i,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const o=Jt.isLittleEndian?4278190080:255,[l,c]=a?[r,o]:[o,r],d=s>>3,h=s&7,p=n.length;t=new Uint32Array(t.buffer);let m=0;for(let y=0;y<i;y++){for(const S=e+d;e<S;e++){const g=e<p?n[e]:255;t[m++]=g&128?c:l,t[m++]=g&64?c:l,t[m++]=g&32?c:l,t[m++]=g&16?c:l,t[m++]=g&8?c:l,t[m++]=g&4?c:l,t[m++]=g&2?c:l,t[m++]=g&1?c:l}if(h===0)continue;const v=e<p?n[e++]:255;for(let S=0;S<h;S++)t[m++]=v&1<<7-S?c:l}return{srcPos:e,destPos:m}}const sA=16,iA=100,MO=15,rA=10,aA=1e3,dn=16;function jO(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(s,i){e.translate(s,i),this.__originalTranslate(s,i)},n.scale=function(s,i){e.scale(s,i),this.__originalScale(s,i)},n.transform=function(s,i,r,a,o,l){e.transform(s,i,r,a,o,l),this.__originalTransform(s,i,r,a,o,l)},n.setTransform=function(s,i,r,a,o,l){e.setTransform(s,i,r,a,o,l),this.__originalSetTransform(s,i,r,a,o,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(s){e.rotate(s),this.__originalRotate(s)},n.clip=function(s){e.clip(s),this.__originalClip(s)},n.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},n.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},n.bezierCurveTo=function(t,s,i,r,a,o){e.bezierCurveTo(t,s,i,r,a,o),this.__originalBezierCurveTo(t,s,i,r,a,o)},n.rect=function(t,s,i,r){e.rect(t,s,i,r),this.__originalRect(t,s,i,r)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class DO{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,s)):(i=this.canvasFactory.create(t,s),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function uf(n,e,t,s,i,r,a,o,l,c){const[d,h,p,m,y,v]=Oe(n);if(h===0&&p===0){const x=a*d+y,w=Math.round(x),C=o*m+v,_=Math.round(C),k=(a+l)*d+y,P=Math.abs(Math.round(k)-w)||1,N=(o+c)*m+v,L=Math.abs(Math.round(N)-_)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(m),w,_),n.drawImage(e,t,s,i,r,0,0,P,L),n.setTransform(d,h,p,m,y,v),[P,L]}if(d===0&&m===0){const x=o*p+y,w=Math.round(x),C=a*h+v,_=Math.round(C),k=(o+c)*p+y,P=Math.abs(Math.round(k)-w)||1,N=(a+l)*h+v,L=Math.abs(Math.round(N)-_)||1;return n.setTransform(0,Math.sign(h),Math.sign(p),0,w,_),n.drawImage(e,t,s,i,r,0,0,L,P),n.setTransform(d,h,p,m,y,v),[L,P]}n.drawImage(e,t,s,i,r,a,o,l,c);const S=Math.hypot(d,h),g=Math.hypot(p,m);return[S*l,g*c]}function IO(n){const{width:e,height:t}=n;if(e>aA||t>aA)return null;const s=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=e+1;let a=new Uint8Array(r*(t+1)),o,l,c;const d=e+7&-8;let h=new Uint8Array(d*t),p=0;for(const g of n.data){let x=128;for(;x>0;)h[p++]=g&x?0:255,x>>=1}let m=0;for(p=0,h[p]!==0&&(a[0]=1,++m),l=1;l<e;l++)h[p]!==h[p+1]&&(a[l]=h[p]?2:1,++m),p++;for(h[p]!==0&&(a[l]=2,++m),o=1;o<t;o++){p=o*d,c=o*r,h[p-d]!==h[p]&&(a[c]=h[p]?1:8,++m);let g=(h[p]?4:0)+(h[p-d]?8:0);for(l=1;l<e;l++)g=(g>>2)+(h[p+1]?4:0)+(h[p-d+1]?8:0),i[g]&&(a[c+l]=i[g],++m),p++;if(h[p-d]!==h[p]&&(a[c+l]=h[p]?2:4,++m),m>s)return null}for(p=d*(t-1),c=o*r,h[p]!==0&&(a[c]=8,++m),l=1;l<e;l++)h[p]!==h[p+1]&&(a[c+l]=h[p]?4:8,++m),p++;if(h[p]!==0&&(a[c+l]=4,++m),m>s)return null;const y=new Int32Array([0,r,-1,0,-r,0,0,0,1]),v=new Path2D;for(o=0;m&&o<=t;o++){let g=o*r;const x=g+e;for(;g<x&&!a[g];)g++;if(g===x)continue;v.moveTo(g%r,o);const w=g;let C=a[g];do{const _=y[C];do g+=_;while(!a[g]);const k=a[g];k!==5&&k!==10?(C=k,a[g]=0):(C=k&51*C>>4,a[g]&=C>>2|C<<2),v.lineTo(g%r,g/r|0),a[g]||--m}while(w!==g);--o}return h=null,a=null,function(g){g.save(),g.scale(1/e,-1/t),g.translate(0,-t),g.fill(v),g.beginPath(),g.restore()}}class oA{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=N_,this.textMatrixScale=1,this.fontMatrix=Zy,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=jt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,s){[t,s]=$.applyTransform([t,s],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(e,t){const s=$.applyTransform(t,e),i=$.applyTransform(t.slice(2),e),r=$.applyTransform([t[0],t[3]],e),a=$.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,s[0],i[0],r[0],a[0]),this.minY=Math.min(this.minY,s[1],i[1],r[1],a[1]),this.maxX=Math.max(this.maxX,s[0],i[0],r[0],a[0]),this.maxY=Math.max(this.maxY,s[1],i[1],r[1],a[1])}updateScalingPathMinMax(e,t){$.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,s,i,r,a,o,l,c,d){const h=$.bezierBoundingBox(t,s,i,r,a,o,l,c,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=Qt.FILL,t=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(e===Qt.STROKE){t||ke("Stroke bounding box must include transform.");const i=$.singularValueDecompose2dScale(t),r=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;s[0]-=r,s[1]-=a,s[2]+=r,s[3]+=a}return s}updateClipFromPath(){const e=$.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Qt.FILL,t=null){return $.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function lA(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,s=e.width,i=t%dn,r=(t-i)/dn,a=i===0?r:r+1,o=n.createImageData(s,dn);let l=0,c;const d=e.data,h=o.data;let p,m,y,v;if(e.kind===Nf.GRAYSCALE_1BPP){const S=d.byteLength,g=new Uint32Array(h.buffer,0,h.byteLength>>2),x=g.length,w=s+7>>3,C=4294967295,_=Jt.isLittleEndian?4278190080:255;for(p=0;p<a;p++){for(y=p<r?dn:i,c=0,m=0;m<y;m++){const k=S-l;let P=0;const N=k>w?s:k*8-7,L=N&-8;let M=0,D=0;for(;P<L;P+=8)D=d[l++],g[c++]=D&128?C:_,g[c++]=D&64?C:_,g[c++]=D&32?C:_,g[c++]=D&16?C:_,g[c++]=D&8?C:_,g[c++]=D&4?C:_,g[c++]=D&2?C:_,g[c++]=D&1?C:_;for(;P<N;P++)M===0&&(D=d[l++],M=128),g[c++]=D&M?C:_,M>>=1}for(;c<x;)g[c++]=0;n.putImageData(o,0,p*dn)}}else if(e.kind===Nf.RGBA_32BPP){for(m=0,v=s*dn*4,p=0;p<r;p++)h.set(d.subarray(l,l+v)),l+=v,n.putImageData(o,0,m),m+=dn;p<a&&(v=s*i*4,h.set(d.subarray(l,l+v)),n.putImageData(o,0,m))}else if(e.kind===Nf.RGB_24BPP)for(y=dn,v=s*y,p=0;p<a;p++){for(p>=r&&(y=i,v=s*y),c=0,m=v;m--;)h[c++]=d[l++],h[c++]=d[l++],h[c++]=d[l++],h[c++]=255;n.putImageData(o,0,p*dn)}else throw new Error(`bad image kind: ${e.kind}`)}function cA(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,i=t%dn,r=(t-i)/dn,a=i===0?r:r+1,o=n.createImageData(s,dn);let l=0;const c=e.data,d=o.data;for(let h=0;h<a;h++){const p=h<r?dn:i;({srcPos:l}=LO({src:c,srcPos:l,dest:d,width:s,height:p,nonBlackColor:0})),n.putImageData(o,0,h*dn)}}function qc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)n[s]!==void 0&&(e[s]=n[s]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function df(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!$t){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function uA(n,e){if(e)return!0;const t=$.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*Gr.PDF_TO_CSS_UNITS);return t[0]<=s&&t[1]<=s}const FO=["butt","round","square"],OO=["miter","round","bevel"],BO={},dA={};var qr,T0,k0;const hw=class hw{constructor(e,t,s,i,r,{optionalContentConfig:a,markedContentStack:o=null},l,c){E(this,qr);this.ctx=e,this.current=new oA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new DO(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:i=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,s){const l=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Oe(this.compositeCtx))}this.ctx.save(),df(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Oe(this.ctx)}executeOperatorList(e,t,s,i){const r=e.argsArray,a=e.fnArray;let o=t||0;const l=r.length;if(l===o)return o;const c=l-o>rA&&typeof s=="function",d=c?Date.now()+MO:0;let h=0;const p=this.commonObjs,m=this.objs;let y;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,s),o;if(y=a[o],y!==os.dependency)this[y].apply(this,r[o]);else for(const v of r[o]){const S=v.startsWith("g_")?p:m;if(!S.has(v))return S.get(v,s),o}if(o++,o===l)return o;if(c&&++h>rA){if(Date.now()>d)return s(),o;h=0}}}endDrawing(){A(this,qr,T0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),A(this,qr,k0).call(this)}_scaleImage(e,t){const s=e.width??e.displayWidth,i=e.height??e.displayHeight;let r=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=s,l=i,c="prescale1",d,h;for(;r>2&&o>1||a>2&&l>1;){let p=o,m=l;r>2&&o>1&&(p=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),r/=o/p),a>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/m),d=this.cachedCanvases.getCanvas(c,p,m),h=d.context,h.clearRect(0,0,p,m),h.drawImage(e,0,0,o,l,0,0,p,m),e=d.canvas,o=p,l=m,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:s,height:i}=e,r=this.current.fillColor,a=this.current.patternFill,o=Oe(t);let l,c,d,h;if((e.bitmap||e.data)&&e.count>1){const N=e.bitmap||e.data.buffer;c=JSON.stringify(a?o:[o.slice(0,4),r]),l=this._cachedBitmapsMap.get(N),l||(l=new Map,this._cachedBitmapsMap.set(N,l));const L=l.get(c);if(L&&!a){const M=Math.round(Math.min(o[0],o[2])+o[4]),D=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:L,offsetX:M,offsetY:D}}d=L}d||(h=this.cachedCanvases.getCanvas("maskCanvas",s,i),cA(h.context,e));let p=$.transform(o,[1/s,0,0,-1/i,0,0]);p=$.transform(p,[1,0,0,1,0,-i]);const[m,y,v,S]=$.getAxialAlignedBoundingBox([0,0,s,i],p),g=Math.round(v-m)||1,x=Math.round(S-y)||1,w=this.cachedCanvases.getCanvas("fillCanvas",g,x),C=w.context,_=m,k=y;C.translate(-_,-k),C.transform(...p),d||(d=this._scaleImage(h.canvas,ti(C)),d=d.img,l&&a&&l.set(c,d)),C.imageSmoothingEnabled=uA(Oe(C),e.interpolate),uf(C,d,0,0,d.width,d.height,0,0,s,i),C.globalCompositeOperation="source-in";const P=$.transform(ti(C),[1,0,0,1,-_,-k]);return C.fillStyle=a?r.getPattern(t,this,P,Qt.FILL):r,C.fillRect(0,0,s,i),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,w.canvas)),{canvas:w.canvas,offsetX:Math.round(_),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=FO[e]}setLineJoin(e){this.ctx.lineJoin=OO[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,s]of e)switch(t){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(s,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const r=this.ctx;r.setTransform(...Oe(this.suspendedCtx)),qc(this.suspendedCtx,r),jO(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),qc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,i){const r=i[0],a=i[1],o=i[2]-r,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,s,o,l,t.subtype,t.backdrop,t.transferMap,r,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,i,r,a,o,l,c,d,h){let p=e.canvas,m=l-d,y=c-h;if(a){const S=$.makeHexColor(...a);if(m<0||y<0||m+s>p.width||y+i>p.height){const g=this.cachedCanvases.getCanvas("maskExtension",s,i),x=g.context;x.drawImage(p,-m,-y),x.globalCompositeOperation="destination-atop",x.fillStyle=S,x.fillRect(0,0,s,i),x.globalCompositeOperation="source-over",p=g.canvas,m=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const g=new Path2D;g.rect(m,y,s,i),e.clip(g),e.globalCompositeOperation="destination-atop",e.fillStyle=S,e.fillRect(m,y,s,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(l,c,s,i),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(p,m,y,s,i,l,c,s,i),t.restore()}save(){this.inSMaskMode?(qc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),qc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,s,i,r,a){this.ctx.transform(e,t,s,i,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s){const i=this.ctx,r=this.current;let a=r.x,o=r.y,l,c;const d=Oe(i),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,p=h?s.slice(0):null;for(let m=0,y=0,v=e.length;m<v;m++)switch(e[m]|0){case os.rectangle:a=t[y++],o=t[y++];const S=t[y++],g=t[y++],x=a+S,w=o+g;i.moveTo(a,o),S===0||g===0?i.lineTo(x,w):(i.lineTo(x,o),i.lineTo(x,w),i.lineTo(a,w)),h||r.updateRectMinMax(d,[a,o,x,w]),i.closePath();break;case os.moveTo:a=t[y++],o=t[y++],i.moveTo(a,o),h||r.updatePathMinMax(d,a,o);break;case os.lineTo:a=t[y++],o=t[y++],i.lineTo(a,o),h||r.updatePathMinMax(d,a,o);break;case os.curveTo:l=a,c=o,a=t[y+4],o=t[y+5],i.bezierCurveTo(t[y],t[y+1],t[y+2],t[y+3],a,o),r.updateCurvePathMinMax(d,l,c,t[y],t[y+1],t[y+2],t[y+3],a,o,p),y+=6;break;case os.curveTo2:l=a,c=o,i.bezierCurveTo(a,o,t[y],t[y+1],t[y+2],t[y+3]),r.updateCurvePathMinMax(d,l,c,a,o,t[y],t[y+1],t[y+2],t[y+3],p),a=t[y+2],o=t[y+3],y+=4;break;case os.curveTo3:l=a,c=o,a=t[y+2],o=t[y+3],i.bezierCurveTo(t[y],t[y+1],a,o,a,o),r.updateCurvePathMinMax(d,l,c,t[y],t[y+1],a,o,a,o,p),y+=4;break;case os.closePath:i.closePath();break}h&&r.updateScalingPathMinMax(d,p),r.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,s=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(t.save(),t.strokeStyle=s.getPattern(t,this,ti(t),Qt.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,s=this.current.fillColor,i=this.current.patternFill;let r=!1;i&&(t.save(),t.fillStyle=s.getPattern(t,this,ti(t),Qt.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=BO}eoClip(){this.pendingClip=dA}beginText(){this.current.textMatrix=N_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const s of e)t.setTransform(...s.transform),t.translate(s.x,s.y),s.addToPath(t,s.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const s=this.commonObjs.get(e),i=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=s.fontMatrix||Zy,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&re("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=s,this.current.fontSize=t,s.isType3Font)return;const r=s.loadedName||"sans-serif",a=((d=s.systemFontInfo)==null?void 0:d.css)||`"${r}", ${s.fallbackName}`;let o="normal";s.black?o="900":s.bold&&(o="bold");const l=s.italic?"italic":"normal";let c=t;t<sA?c=sA:t>iA&&(c=iA),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${o} ${c}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,s,i,r,a){this.current.textMatrix=[e,t,s,i,r,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,s,i){const r=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,d=l&jt.FILL_STROKE_MASK,h=!!(l&jt.ADD_TO_PATH_FLAG),p=a.patternFill&&!o.missingFile;let m;(o.disableFontFace||h||p)&&(m=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||p?(r.save(),r.translate(t,s),r.beginPath(),m(r,c),i&&r.setTransform(...i),(d===jt.FILL||d===jt.FILL_STROKE)&&r.fill(),(d===jt.STROKE||d===jt.FILL_STROKE)&&r.stroke(),r.restore()):((d===jt.FILL||d===jt.FILL_STROKE)&&r.fillText(e,t,s),(d===jt.STROKE||d===jt.FILL_STROKE)&&r.strokeText(e,t,s)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Oe(r),x:t,y:s,fontSize:c,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){s=!0;break}return de(this,"isFontSubpixelAAEnabled",s)}showText(e){const t=this.current,s=t.font;if(s.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const r=this.ctx,a=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,d=t.textHScale*c,h=e.length,p=s.vertical,m=p?1:-1,y=s.defaultVMetrics,v=i*t.fontMatrix[0],S=t.textRenderingMode===jt.FILL&&!s.disableFontFace&&!t.patternFill;r.save(),r.transform(...t.textMatrix),r.translate(t.x,t.y+t.textRise),c>0?r.scale(d,-1):r.scale(d,1);let g;if(t.patternFill){r.save();const k=t.fillColor.getPattern(r,this,ti(r),Qt.FILL);g=Oe(r),r.restore(),r.fillStyle=k}let x=t.lineWidth;const w=t.textMatrixScale;if(w===0||x===0){const k=t.textRenderingMode&jt.FILL_STROKE_MASK;(k===jt.STROKE||k===jt.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=w;if(a!==1&&(r.scale(a,a),x/=a),r.lineWidth=x,s.isInvalidPDFjsFont){const k=[];let P=0;for(const N of e)k.push(N.unicode),P+=N.width;r.fillText(k.join(""),0,0),t.x+=P*v*d,r.restore(),this.compose();return}let C=0,_;for(_=0;_<h;++_){const k=e[_];if(typeof k=="number"){C+=m*k*i/1e3;continue}let P=!1;const N=(k.isSpace?l:0)+o,L=k.fontChar,M=k.accent;let D,Y,K=k.width;if(p){const J=k.vmetric||y,q=-(k.vmetric?J[1]:K*.5)*v,I=J[2]*v;K=J?-J[0]:K,D=q/a,Y=(C+I)/a}else D=C/a,Y=0;if(s.remeasure&&K>0){const J=r.measureText(L).width*1e3/i*a;if(K<J&&this.isFontSubpixelAAEnabled){const q=K/J;P=!0,r.save(),r.scale(q,1),D/=q}else K!==J&&(D+=(K-J)/2e3*i/a)}if(this.contentVisible&&(k.isInFont||s.missingFile)){if(S&&!M)r.fillText(L,D,Y);else if(this.paintChar(L,D,Y,g),M){const J=D+i*M.offset.x/a,q=Y-i*M.offset.y/a;this.paintChar(M.fontChar,J,q,g)}}const W=p?K*v-N*c:K*v+N*c;C+=W,P&&r.restore()}p?t.y-=C:t.x+=C*d,r.restore(),this.compose()}showType3Text(e){const t=this.ctx,s=this.current,i=s.font,r=s.fontSize,a=s.fontDirection,o=i.vertical?1:-1,l=s.charSpacing,c=s.wordSpacing,d=s.textHScale*a,h=s.fontMatrix||Zy,p=e.length,m=s.textRenderingMode===jt.INVISIBLE;let y,v,S,g;if(!(m||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...s.textMatrix),t.translate(s.x,s.y),t.scale(d,a),y=0;y<p;++y){if(v=e[y],typeof v=="number"){g=o*v*r/1e3,this.ctx.translate(g,0),s.x+=g*d;continue}const x=(v.isSpace?c:0)+l,w=i.charProcOperatorList[v.operatorListId];if(!w){re(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(r,r),t.transform(...h),this.executeOperatorList(w),this.restore()),S=$.applyTransform([v.width,0],h)[0]*r+x,t.translate(S,0),s.x+=S*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,s,i,r,a){this.ctx.rect(s,i,r-s,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const s=e[1],i=this.baseTransform||Oe(this.ctx),r={createCanvasGraphics:a=>new hw(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new _0(e,s,this.ctx,r,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,s){this.ctx.strokeStyle=this.current.strokeColor=$.makeHexColor(e,t,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,s){this.ctx.fillStyle=this.current.fillColor=$.makeHexColor(e,t,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=RO(this.getObject(e)),this.cachedPatterns.set(e,s)),t&&(s.matrix=t),s}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const s=this._getPattern(e);t.fillStyle=s.getPattern(t,this,ti(t),Qt.SHADING);const i=ti(t);if(i){const{width:r,height:a}=t.canvas,[o,l,c,d]=$.getAxialAlignedBoundingBox([0,0,r,a],i);this.ctx.fillRect(o,l,c-o,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ke("Should not call beginInlineImage")}beginImageData(){ke("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Oe(this.ctx),t)){const s=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],s,i),this.current.updateRectMinMax(Oe(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||jm("TODO: Support non-isolated groups."),e.knockout&&re("Knockout groups not supported.");const s=Oe(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=$.getAxialAlignedBoundingBox(e.bbox,Oe(t));const r=[0,0,t.canvas.width,t.canvas.height];i=$.intersect(i,r)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-a,1),c=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,c),p=h.context;p.translate(-a,-o),p.transform(...s),e.smask?this.smaskStack.push({canvas:h.canvas,context:p,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),qc(t,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Oe(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const r=$.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(e,t,s,i,r){if(A(this,qr,T0).call(this),df(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(r&&this.annotationCanvasMap){s=s.slice(),s[4]-=t[0],s[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[l,c]=$.singularValueDecompose2dScale(Oe(this.ctx)),{viewportScale:d}=this,h=Math.ceil(a*this.outputScaleX*d),p=Math.ceil(o*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,o*c),df(this.ctx)}else df(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new oA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),A(this,qr,k0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const s=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=IO(e)),i.compiled)){i.compiled(s);return}const r=this._createMaskCanvas(e),a=r.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(a,r.offsetX,r.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s=0,i=0,r,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Oe(o);o.transform(t,s,i,r,0,0);const c=this._createMaskCanvas(e);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let d=0,h=a.length;d<h;d+=2){const p=$.transform(l,[t,s,i,r,a[d],a[d+1]]),[m,y]=$.applyTransform([0,0],p);o.drawImage(c.canvas,m,y)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,s=this.current.fillColor,i=this.current.patternFill;for(const r of e){const{data:a,width:o,height:l,transform:c}=r,d=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=d.context;h.save();const p=this.getObject(a,r);cA(h,p),h.globalCompositeOperation="source-in",h.fillStyle=i?s.getPattern(h,this,ti(t),Qt.FILL):s,h.fillRect(0,0,o,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),uf(t,d.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){re("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,s,i){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){re("Dependent image isn't ready yet");return}const a=r.width,o=r.height,l=[];for(let c=0,d=i.length;c<d;c+=2)l.push({transform:[t,0,0,s,i[c],i[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",s,i),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,s=e.height,i=this.ctx;if(this.save(),!$t){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/t,-1/s);let r;if(e.bitmap)r=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)r=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,s).context;lA(l,e),r=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(r,ti(i));i.imageSmoothingEnabled=uA(Oe(i),e.interpolate),uf(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-s,t,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const r=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",r,a).context;lA(l,e),i=this.applyTransferMapsToCanvas(l)}for(const r of t)s.save(),s.transform(...r.transform),s.scale(1,-1),uf(s,i,r.x,r.y,r.w,r.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(t||(this.pendingClip===dA?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Oe(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:i,d:r}=this.ctx.getTransform();let a,o;if(s===0&&i===0){const l=Math.abs(t),c=Math.abs(r);if(l===c)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/c;else{const d=l*e,h=c*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(t*r-s*i),c=Math.hypot(t,s),d=Math.hypot(i,r);if(e===0)a=d/l,o=c/l;else{const h=e*l;a=d>h?d/h:1,o=c>h?c/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:s}=this.current,[i,r]=this.getScaleForStroking();if(t.lineWidth=s||1,i===1&&r===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,r),a.length>0){const o=Math.max(i,r);t.setLineDash(a.map(l=>l/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};qr=new WeakSet,T0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},k0=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let yl=hw;for(const n in os)yl.prototype[n]!==void 0&&(yl.prototype[os[n]]=yl.prototype[n]);var kd,Pd;class Ri{static get workerPort(){return u(this,kd)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");b(this,kd,e)}static get workerSrc(){return u(this,Pd)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");b(this,Pd,e)}}kd=new WeakMap,Pd=new WeakMap,E(Ri,kd,null),E(Ri,Pd,"");const hf={UNKNOWN:0,DATA:1,ERROR:2},et={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function vn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||ke('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new jo(n.message);case"MissingPDFException":return new Mo(n.message);case"PasswordException":return new Jy(n.message,n.code);case"UnexpectedResponseException":return new Dm(n.message,n.status);case"UnknownErrorException":return new e0(n.message,n.details);default:return new e0(n.message,n.toString())}}var Dl,Zn,pT,mT,gT,Of;class du{constructor(e,t,s){E(this,Zn);E(this,Dl,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",A(this,Zn,pT).bind(this),{signal:u(this,Dl).signal})}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},s)}catch(a){r.reject(a)}return r.promise}sendWithStream(e,t,s,i){const r=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const d=Promise.withResolvers();return this.streamControllers[r]={controller:c,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:r,data:t,desiredSize:c.desiredSize},i),d.promise},pull:c=>{const d=Promise.withResolvers();return this.streamControllers[r].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:et.PULL,streamId:r,desiredSize:c.desiredSize}),d.promise},cancel:c=>{ut(c instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[r].cancelCall=d,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:et.CANCEL,streamId:r,reason:vn(c)}),d.promise}},s)}destroy(){var e;(e=u(this,Dl))==null||e.abort(),b(this,Dl,null)}}Dl=new WeakMap,Zn=new WeakSet,pT=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){A(this,Zn,gT).call(this,e);return}if(e.callback){const s=e.callbackId,i=this.callbackCapabilities[s];if(!i)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===hf.DATA)i.resolve(e.data);else if(e.callback===hf.ERROR)i.reject(vn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,i=e.sourceName,r=this.comObj;new Promise(function(a){a(t(e.data))}).then(function(a){r.postMessage({sourceName:s,targetName:i,callback:hf.DATA,callbackId:e.callbackId,data:a})},function(a){r.postMessage({sourceName:s,targetName:i,callback:hf.ERROR,callbackId:e.callbackId,reason:vn(a)})});return}if(e.streamId){A(this,Zn,mT).call(this,e);return}t(e.data)},mT=function(e){const t=e.streamId,s=this.sourceName,i=e.sourceName,r=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,d=1,h){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=d,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:s,targetName:i,stream:et.ENQUEUE,streamId:t,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:i,stream:et.CLOSE,streamId:t}),delete a.streamSinks[t])},error(c){ut(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:i,stream:et.ERROR,streamId:t,reason:vn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(o(e.data,l))}).then(function(){r.postMessage({sourceName:s,targetName:i,stream:et.START_COMPLETE,streamId:t,success:!0})},function(c){r.postMessage({sourceName:s,targetName:i,stream:et.START_COMPLETE,streamId:t,reason:vn(c)})})},gT=function(e){const t=e.streamId,s=this.sourceName,i=e.sourceName,r=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case et.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(vn(e.reason));break;case et.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(vn(e.reason));break;case et.PULL:if(!o){r.postMessage({sourceName:s,targetName:i,stream:et.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=o.onPull)==null?void 0:c.call(o))}).then(function(){r.postMessage({sourceName:s,targetName:i,stream:et.PULL_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:s,targetName:i,stream:et.PULL_COMPLETE,streamId:t,reason:vn(l)})});break;case et.ENQUEUE:if(ut(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case et.CLOSE:if(ut(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),A(this,Zn,Of).call(this,a,t);break;case et.ERROR:ut(a,"error should have stream controller"),a.controller.error(vn(e.reason)),A(this,Zn,Of).call(this,a,t);break;case et.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(vn(e.reason)),A(this,Zn,Of).call(this,a,t);break;case et.CANCEL:if(!o)break;new Promise(function(l){var c;l((c=o.onCancel)==null?void 0:c.call(o,vn(e.reason)))}).then(function(){r.postMessage({sourceName:s,targetName:i,stream:et.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:s,targetName:i,stream:et.CANCEL_COMPLETE,streamId:t,reason:vn(l)})}),o.sinkCapability.reject(vn(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Of=async function(e,t){var s,i,r;await Promise.allSettled([(s=e.startCall)==null?void 0:s.promise,(i=e.pullCall)==null?void 0:i.promise,(r=e.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[t]};var Ia,Nd;class VO{constructor({parsedData:e,rawData:t}){E(this,Ia);E(this,Nd);b(this,Ia,e),b(this,Nd,t)}getRaw(){return u(this,Nd)}get(e){return u(this,Ia).get(e)??null}getAll(){return Qx(u(this,Ia))}has(e){return u(this,Ia).has(e)}}Ia=new WeakMap,Nd=new WeakMap;const Uo=Symbol("INTERNAL");var Rd,Ld,Md,Il;class zO{constructor(e,{name:t,intent:s,usage:i,rbGroups:r}){E(this,Rd,!1);E(this,Ld,!1);E(this,Md,!1);E(this,Il,!0);b(this,Rd,!!(e&Tn.DISPLAY)),b(this,Ld,!!(e&Tn.PRINT)),this.name=t,this.intent=s,this.usage=i,this.rbGroups=r}get visible(){if(u(this,Md))return u(this,Il);if(!u(this,Il))return!1;const{print:e,view:t}=this.usage;return u(this,Rd)?(t==null?void 0:t.viewState)!=="OFF":u(this,Ld)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,s=!1){e!==Uo&&ke("Internal method `_setVisible` called."),b(this,Md,s),b(this,Il,t)}}Rd=new WeakMap,Ld=new WeakMap,Md=new WeakMap,Il=new WeakMap;var pr,ve,Fl,Ol,jd,P0;class HO{constructor(e,t=Tn.DISPLAY){E(this,jd);E(this,pr,null);E(this,ve,new Map);E(this,Fl,null);E(this,Ol,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,b(this,Ol,e.order);for(const s of e.groups)u(this,ve).set(s.id,new zO(t,s));if(e.baseState==="OFF")for(const s of u(this,ve).values())s._setVisible(Uo,!1);for(const s of e.on)u(this,ve).get(s)._setVisible(Uo,!0);for(const s of e.off)u(this,ve).get(s)._setVisible(Uo,!1);b(this,Fl,this.getHash())}}isVisible(e){if(u(this,ve).size===0)return!0;if(!e)return jm("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,ve).has(e.id)?u(this,ve).get(e.id).visible:(re(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return A(this,jd,P0).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,ve).has(t))return re(`Optional content group not found: ${t}`),!0;if(u(this,ve).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,ve).has(t))return re(`Optional content group not found: ${t}`),!0;if(!u(this,ve).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,ve).has(t))return re(`Optional content group not found: ${t}`),!0;if(!u(this,ve).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,ve).has(t))return re(`Optional content group not found: ${t}`),!0;if(u(this,ve).get(t).visible)return!1}return!0}return re(`Unknown optional content policy ${e.policy}.`),!0}return re(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){var r;const i=u(this,ve).get(e);if(!i){re(`Optional content group not found: ${e}`);return}if(s&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((r=u(this,ve).get(o))==null||r._setVisible(Uo,!1,!0));i._setVisible(Uo,!!t,!0),b(this,pr,null)}setOCGState({state:e,preserveRB:t}){let s;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":s=i;continue}const r=u(this,ve).get(i);if(r)switch(s){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!r.visible,t);break}}b(this,pr,null)}get hasInitialVisibility(){return u(this,Fl)===null||this.getHash()===u(this,Fl)}getOrder(){return u(this,ve).size?u(this,Ol)?u(this,Ol).slice():[...u(this,ve).keys()]:null}getGroups(){return u(this,ve).size>0?Qx(u(this,ve)):null}getGroup(e){return u(this,ve).get(e)||null}getHash(){if(u(this,pr)!==null)return u(this,pr);const e=new sT;for(const[t,s]of u(this,ve))e.update(`${t}:${s.visible}`);return b(this,pr,e.hexdigest())}}pr=new WeakMap,ve=new WeakMap,Fl=new WeakMap,Ol=new WeakMap,jd=new WeakSet,P0=function(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let i=1;i<t;i++){const r=e[i];let a;if(Array.isArray(r))a=A(this,jd,P0).call(this,r);else if(u(this,ve).has(r))a=u(this,ve).get(r).visible;else return re(`Optional content group not found: ${r}`),!0;switch(s){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return s==="And"};class UO{constructor(e,{disableRange:t=!1,disableStream:s=!1}){ut(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(r==null?void 0:r.length)>0){const l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const i=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(s),!0)});ut(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,s,i,r;e.total===void 0?(s=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||s.call(t,{loaded:e.loaded}):(r=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||r.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ut(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new $O(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new WO(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class $O{constructor(e,t,s=!1,i=null){this._stream=e,this._done=s||!1,this._filename=ew(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class WO{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function GO(n){let e=!0,t=s("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=c(d),r(d)}if(t=a(n),t){const d=c(t);return r(d)}if(t=s("filename","i").exec(n),t){t=t[1];let d=o(t);return d=c(d),r(d)}function s(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const p=new TextDecoder(d,{fatal:!0}),m=Im(h);h=p.decode(m),e=!1}catch{}}return h}function r(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const h=[];let p;const m=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=m.exec(d))!==null;){let[,v,S,g]=p;if(v=parseInt(v,10),v in h){if(v===0)break;continue}h[v]=[S,g]}const y=[];for(let v=0;v<h.length&&v in h;++v){let[S,g]=h[v];g=o(g),S&&(g=unescape(g),v===0&&(g=l(g))),y.push(g)}return y.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let p=0;p<h.length;++p){const m=h[p].indexOf('"');m!==-1&&(h[p]=h[p].slice(0,m),h.length=p+1),h[p]=h[p].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const p=d.slice(0,h),y=d.slice(h+1).replace(/^[^']*'/,"");return i(p,y)}function c(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,p,m,y){if(m==="q"||m==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,S){return String.fromCharCode(parseInt(S,16))}),i(p,y);try{y=atob(y)}catch{}return i(p,y)})}return""}function rw(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const s in e){const i=e[s];i!==void 0&&t.append(s,i)}return t}function aw({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:s}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n.get("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*t)||s||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function ow(n){const e=n.get("Content-Disposition");if(e){let t=GO(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(ew(t))return t}return null}function Bm(n,e){return n===404||n===0&&e.startsWith("file:")?new Mo('Missing PDF "'+e+'".'):new Dm(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function yT(n){return n===200||n===206}function vT(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function xT(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(re(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class hA{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=rw(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ut(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new KO(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new XO(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class KO{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),i=t.url;fetch(i,vT(s,this._withCredentials,this._abortController)).then(r=>{if(!yT(r.status))throw Bm(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const a=r.headers,{allowRangeRequests:o,suggestedLength:l}=aw({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=ow(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new jo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:xT(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class XO{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${s-1}`);const a=i.url;fetch(a,vT(r,this._withCredentials,this._abortController)).then(o=>{if(!yT(o.status))throw Bm(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:xT(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Fg=200,Og=206;function qO(n){const e=n.response;return typeof e!="string"?e:Im(e).buffer}class YO{constructor({url:e,httpHeaders:t,withCredentials:s}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=rw(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,s){const i={begin:e,end:t};for(const r in s)i[r]=s[r];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,i=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,a]of this.headers)t.setRequestHeader(r,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Og):i.expectedStatus=Fg,t.responseType="arraybuffer",e.onError&&(t.onerror=function(r){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){var i;const s=this.pendingRequests[e];s&&((i=s.onProgress)==null||i.call(s,t))}onStateChange(e,t){var l,c,d;const s=this.pendingRequests[e];if(!s)return;const i=s.xhr;if(i.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=s.onError)==null||l.call(s,i.status);return}const r=i.status||Fg;if(!(r===Fg&&s.expectedStatus===Og)&&r!==s.expectedStatus){(c=s.onError)==null||c.call(s,i.status);return}const o=qO(i);if(r===Og){const h=i.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);s.onDone({begin:parseInt(p[1],10),chunk:o})}else o?s.onDone({begin:0,chunk:o}):(d=s.onError)==null||d.call(s,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class QO{constructor(e){this._source=e,this._manager=new YO(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ut(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ZO(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new JO(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class ZO{constructor(e,t){this._manager=e;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),s=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(a=>{const[o,...l]=a.split(": ");return[o,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:r}=aw({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=ow(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Bm(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class JO{constructor(e,t,s){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,s,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Bm(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const e3=/^[a-z][a-z0-9\-+.]+:/i;function t3(n){if(e3.test(n))return new URL(n);const e=Kr.get("url");return new URL(e.pathToFileURL(n))}function wT(n,e,t){return n.protocol==="http:"?Kr.get("http").request(n,{headers:e},t):Kr.get("https").request(n,{headers:e},t)}class n3{constructor(e){this.source=e,this.url=t3(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=rw(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ut(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new r3(this):new s3(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=this.isFsUrl?new a3(this,e,t):new i3(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class bT{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new jo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class AT{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class s3 extends bT{constructor(e){super(e);const t=Object.fromEntries(e.headers),s=i=>{if(i.statusCode===404){const l=new Mo(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);const r=new Headers(this._readableStream.headers),{allowRangeRequests:a,suggestedLength:o}=aw({responseHeaders:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=ow(r)};this._request=wT(this._url,t,s),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class i3 extends AT{constructor(e,t,s){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${t}-${s-1}`;const r=a=>{if(a.statusCode===404){const o=new Mo(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(a)};this._request=wT(this._url,i,r),this._request.on("error",a=>{this._storedError=a}),this._request.end()}}class r3 extends bT{constructor(e){super(e);const t=Kr.get("fs");t.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Mo(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class a3 extends AT{constructor(e,t,s){super(e);const i=Kr.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:s-1}))}}const o3=1e5,rn=30,l3=.8;var _A,mr,cn,Dd,Id,Fa,fi,Fd,Od,Oa,Bl,Vl,gr,zl,Bd,Hl,Ba,Vd,zd,Ge,Va,za,Hd,yr,Ul,Wi,ST,ET,R0,Mn,Bf,L0,CT,_T;let N0=(Ge=class{constructor({textContentSource:e,container:t,viewport:s}){E(this,Wi);E(this,mr,Promise.withResolvers());E(this,cn,null);E(this,Dd,!1);E(this,Id,!!((_A=globalThis.FontInspector)!=null&&_A.enabled));E(this,Fa,null);E(this,fi,null);E(this,Fd,0);E(this,Od,0);E(this,Oa,null);E(this,Bl,null);E(this,Vl,0);E(this,gr,0);E(this,zl,Object.create(null));E(this,Bd,[]);E(this,Hl,null);E(this,Ba,[]);E(this,Vd,new WeakMap);E(this,zd,null);var l;if(e instanceof ReadableStream)b(this,Hl,e);else if(typeof e=="object")b(this,Hl,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,cn,b(this,Bl,t)),b(this,gr,s.scale*(globalThis.devicePixelRatio||1)),b(this,Vl,s.rotation),b(this,fi,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:r,pageX:a,pageY:o}=s.rawDims;b(this,zd,[1,0,0,-1,-a,o+r]),b(this,Od,i),b(this,Fd,r),A(l=Ge,Mn,CT).call(l),Ao(t,s),u(this,mr).promise.finally(()=>{u(Ge,Ul).delete(this),b(this,fi,null),b(this,zl,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Jt.platform;return de(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,Oa).read().then(({value:t,done:s})=>{if(s){u(this,mr).resolve();return}u(this,Fa)??b(this,Fa,t.lang),Object.assign(u(this,zl),t.styles),A(this,Wi,ST).call(this,t.items),e()},u(this,mr).reject)};return b(this,Oa,u(this,Hl).getReader()),u(Ge,Ul).add(this),e(),u(this,mr).promise}update({viewport:e,onBefore:t=null}){var r;const s=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==u(this,Vl)&&(t==null||t(),b(this,Vl,i),Ao(u(this,Bl),{rotation:i})),s!==u(this,gr)){t==null||t(),b(this,gr,s);const a={div:null,properties:null,ctx:A(r=Ge,Mn,Bf).call(r,u(this,Fa))};for(const o of u(this,Ba))a.properties=u(this,Vd).get(o),a.div=o,A(this,Wi,R0).call(this,a)}}cancel(){var t;const e=new jo("TextLayer task cancelled.");(t=u(this,Oa))==null||t.cancel(e).catch(()=>{}),b(this,Oa,null),u(this,mr).reject(e)}get textDivs(){return u(this,Ba)}get textContentItemsStr(){return u(this,Bd)}static cleanup(){if(!(u(this,Ul).size>0)){u(this,Va).clear();for(const{canvas:e}of u(this,za).values())e.remove();u(this,za).clear()}}},mr=new WeakMap,cn=new WeakMap,Dd=new WeakMap,Id=new WeakMap,Fa=new WeakMap,fi=new WeakMap,Fd=new WeakMap,Od=new WeakMap,Oa=new WeakMap,Bl=new WeakMap,Vl=new WeakMap,gr=new WeakMap,zl=new WeakMap,Bd=new WeakMap,Hl=new WeakMap,Ba=new WeakMap,Vd=new WeakMap,zd=new WeakMap,Va=new WeakMap,za=new WeakMap,Hd=new WeakMap,yr=new WeakMap,Ul=new WeakMap,Wi=new WeakSet,ST=function(e){var i,r;if(u(this,Dd))return;(r=u(this,fi)).ctx??(r.ctx=A(i=Ge,Mn,Bf).call(i,u(this,Fa)));const t=u(this,Ba),s=u(this,Bd);for(const a of e){if(t.length>o3){re("Ignoring additional textDivs for performance reasons."),b(this,Dd,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=u(this,cn);b(this,cn,document.createElement("span")),u(this,cn).classList.add("markedContent"),a.id!==null&&u(this,cn).setAttribute("id",`${a.id}`),o.append(u(this,cn))}else a.type==="endMarkedContent"&&b(this,cn,u(this,cn).parentNode);continue}s.push(a.str),A(this,Wi,ET).call(this,a)}},ET=function(e){var v;const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,Ba).push(t);const i=$.transform(u(this,zd),e.transform);let r=Math.atan2(i[1],i[0]);const a=u(this,zl)[e.fontName];a.vertical&&(r+=Math.PI/2);let o=u(this,Id)&&a.fontSubstitution||a.fontFamily;o=Ge.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*A(v=Ge,Mn,_T).call(v,o,u(this,Fa));let d,h;r===0?(d=i[4],h=i[5]-c):(d=i[4]+c*Math.sin(r),h=i[5]-c*Math.cos(r));const p="calc(var(--scale-factor)*",m=t.style;u(this,cn)===u(this,Bl)?(m.left=`${(100*d/u(this,Od)).toFixed(2)}%`,m.top=`${(100*h/u(this,Fd)).toFixed(2)}%`):(m.left=`${p}${d.toFixed(2)}px)`,m.top=`${p}${h.toFixed(2)}px)`),m.fontSize=`${p}${(u(Ge,yr)*l).toFixed(2)}px)`,m.fontFamily=o,s.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,Id)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),r!==0&&(s.angle=r*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);S!==g&&Math.max(S,g)/Math.min(S,g)>1.5&&(y=!0)}if(y&&(s.canvasWidth=a.vertical?e.height:e.width),u(this,Vd).set(t,s),u(this,fi).div=t,u(this,fi).properties=s,A(this,Wi,R0).call(this,u(this,fi)),s.hasText&&u(this,cn).append(t),s.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),u(this,cn).append(S)}},R0=function(e){var o;const{div:t,properties:s,ctx:i}=e,{style:r}=t;let a="";if(u(Ge,yr)>1&&(a=`scale(${1/u(Ge,yr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:l}=r,{canvasWidth:c,fontSize:d}=s;A(o=Ge,Mn,L0).call(o,i,d*u(this,gr),l);const{width:h}=i.measureText(t.textContent);h>0&&(a=`scaleX(${c*u(this,gr)/h}) ${a}`)}s.angle!==0&&(a=`rotate(${s.angle}deg) ${a}`),a.length>0&&(r.transform=a)},Mn=new WeakSet,Bf=function(e=null){let t=u(this,za).get(e||(e=""));if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,za).set(e,t),u(this,Hd).set(t,{size:0,family:""})}return t},L0=function(e,t,s){const i=u(this,Hd).get(e);t===i.size&&s===i.family||(e.font=`${t}px ${s}`,i.size=t,i.family=s)},CT=function(){if(u(this,yr)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),b(this,yr,e.getBoundingClientRect().height),e.remove()},_T=function(e,t){const s=u(this,Va).get(e);if(s)return s;const i=A(this,Mn,Bf).call(this,t);i.canvas.width=i.canvas.height=rn,A(this,Mn,L0).call(this,i,rn,e);const r=i.measureText("");let a=r.fontBoundingBoxAscent,o=Math.abs(r.fontBoundingBoxDescent);if(a){const d=a/(a+o);return u(this,Va).set(e,d),i.canvas.width=i.canvas.height=0,d}i.strokeStyle="red",i.clearRect(0,0,rn,rn),i.strokeText("g",0,0);let l=i.getImageData(0,0,rn,rn).data;o=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){o=Math.ceil(d/4/rn);break}i.clearRect(0,0,rn,rn),i.strokeText("A",0,rn),l=i.getImageData(0,0,rn,rn).data,a=0;for(let d=0,h=l.length;d<h;d+=4)if(l[d]>0){a=rn-Math.floor(d/4/rn);break}i.canvas.width=i.canvas.height=0;const c=a?a/(a+o):l3;return u(this,Va).set(e,c),c},E(Ge,Mn),E(Ge,Va,new Map),E(Ge,za,new Map),E(Ge,Hd,new WeakMap),E(Ge,yr,null),E(Ge,Ul,new Set),Ge);class ad{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function i(r){var l;if(!r)return;let a=null;const o=r.name;if(o==="#text")a=r.value;else if(ad.shouldBuildText(o))(l=r==null?void 0:r.attributes)!=null&&l.textContent?a=r.attributes.textContent:r.value&&(a=r.value);else return;if(a!==null&&t.push({str:a}),!!r.children)for(const c of r.children)i(c)}return i(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const c3=65536,u3=100,d3=5e3,h3=$t?EO:bO,f3=$t?CO:lT,p3=$t?SO:AO,m3=$t?_O:hT;function g3(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new M0,{docId:t}=e,s=n.url?y3(n.url):null,i=n.data?v3(n.data):null,r=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof TT?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:c3;let d=n.worker instanceof vl?n.worker:null;const h=n.verbosity,p=typeof n.docBaseUrl=="string"&&!Om(n.docBaseUrl)?n.docBaseUrl:null,m=typeof n.cMapUrl=="string"?n.cMapUrl:null,y=n.cMapPacked!==!1,v=n.CMapReaderFactory||f3,S=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,g=n.StandardFontDataFactory||m3,x=n.stopAtErrors!==!0,w=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,C=n.isEvalSupported!==!1,_=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!$t,k=typeof n.isChrome=="boolean"?n.isChrome:!Jt.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),P=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,N=typeof n.disableFontFace=="boolean"?n.disableFontFace:$t,L=n.fontExtraProperties===!0,M=n.enableXfa===!0,D=n.ownerDocument||globalThis.document,Y=n.disableRange===!0,K=n.disableStream===!0,W=n.disableAutoFetch===!0,J=n.pdfBug===!0,q=n.CanvasFactory||h3,I=n.FilterFactory||p3,R=n.enableHWA===!0,H=l?l.length:n.length??NaN,U=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!$t&&!N,ae=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:v===lT&&g===hT&&m&&S&&iu(m,document.baseURI)&&iu(S,document.baseURI);n.canvasFactory&&eA("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&eA("`filterFactory`-instance option, please use `FilterFactory` instead.");const ne=null;ZF(h);const pe={canvasFactory:new q({ownerDocument:D,enableHWA:R}),filterFactory:new I({docId:t,ownerDocument:D}),cMapReaderFactory:ae?null:new v({baseUrl:m,isCompressed:y}),standardFontDataFactory:ae?null:new g({baseUrl:S})};if(!d){const ge={verbosity:h,port:Ri.workerPort};d=ge.port?vl.fromPort(ge):new vl(ge),e._worker=d}const Ue={docId:t,apiVersion:"4.8.69",data:i,password:o,disableAutoFetch:W,rangeChunkSize:c,length:H,docBaseUrl:p,enableXfa:M,evaluatorOptions:{maxImageSize:w,disableFontFace:N,ignoreErrors:x,isEvalSupported:C,isOffscreenCanvasSupported:_,isChrome:k,canvasMaxAreaInBytes:P,fontExtraProperties:L,useSystemFonts:U,cMapUrl:ae?m:null,standardFontDataUrl:ae?S:null}},Gt={disableFontFace:N,fontExtraProperties:L,ownerDocument:D,pdfBug:J,styleElement:ne,loadingParams:{disableAutoFetch:W,enableXfa:M}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ge=d.messageHandler.sendWithPromise("GetDocRequest",Ue,i?[i.buffer]:null);let ue;if(l)ue=new UO(l,{disableRange:Y,disableStream:K});else if(!i){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Ts;$t?Ts=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&iu(s)?hA:n3:Ts=iu(s)?hA:QO,ue=new Ts({url:s,length:H,httpHeaders:r,withCredentials:a,rangeChunkSize:c,disableRange:Y,disableStream:K})}return ge.then(Ts=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ns=new du(t,Ts,d.port),Le=new A3(ns,e,ue,Gt,pe);e._transport=Le,ns.send("Ready",null)})}).catch(e._capability.reject),e}function y3(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if($t&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function v3(n){if($t&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Im(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function fA(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var em;const tm=class tm{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Kt(tm,em)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};em=new WeakMap,E(tm,em,0);let M0=tm,TT=class{constructor(e,t,s=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const s of this._rangeListeners)s(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){ke("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class x3{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return de(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var vr,pi,Xn,$o,Vf;class w3{constructor(e,t,s,i=!1){E(this,Xn);E(this,vr,null);E(this,pi,!1);this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=i?new J1:null,this._pdfBug=i,this.commonObjs=s.commonObjs,this.objs=new kT,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:i=0,dontFlip:r=!1}={}){return new Mh({viewBox:this.view,scale:e,rotation:t,offsetX:s,offsetY:i,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return de(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:s="display",annotationMode:i=nr.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:d=null,isEditing:h=!1}){var C,_;(C=this._stats)==null||C.time("Overall");const p=this._transport.getRenderingIntent(s,i,d,h),{renderingIntent:m,cacheKey:y}=p;b(this,pi,!1),A(this,Xn,Vf).call(this),o||(o=this._transport.getOptionalContentConfig(m));let v=this._intentStates.get(y);v||(v=Object.create(null),this._intentStates.set(y,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const S=!!(m&Tn.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_=this._stats)==null||_.time("Page Request"),this._pumpOperatorList(p));const g=k=>{var P;v.renderTasks.delete(x),(this._maybeCleanupAfterRender||S)&&b(this,pi,!0),A(this,Xn,$o).call(this,!S),k?(x.capability.reject(k),this._abortOperatorList({intentState:v,reason:k instanceof Error?k:new Error(k)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(P=globalThis.Stats)!=null&&P.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new D0({callback:g,params:{canvasContext:e,viewport:t,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:c});(v.renderTasks||(v.renderTasks=new Set)).add(x);const w=x.task;return Promise.all([v.displayReadyCapability.promise,o]).then(([k,P])=>{var N;if(this.destroyed){g();return}if((N=this._stats)==null||N.time("Rendering"),!(P.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:k,optionalContentConfig:P}),x.operatorListChanged()}).catch(g),w}getOperatorList({intent:e="display",annotationMode:t=nr.ENABLE,printAnnotationStorage:s=null,isEditing:i=!1}={}){var c;function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,s,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>ad.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,i){function r(){a.read().then(function({value:l,done:c}){if(c){s(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),r()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),b(this,pi,!1),A(this,Xn,Vf).call(this),Promise.all(e)}cleanup(e=!1){b(this,pi,!0);const t=A(this,Xn,$o).call(this,!1);return e&&t&&this._stats&&(this._stats=new J1),t}_startRenderPage(e,t){var i,r;const s=this._intentStates.get(t);s&&((i=this._stats)==null||i.timeEnd("Page Request"),(r=s.displayReadyCapability)==null||r.resolve(e))}_renderPageChunk(e,t){for(let s=0,i=e.length;s<i;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&A(this,Xn,$o).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:i}){const{map:r,transfer:a}=s,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:i},a).getReader(),c=this._intentStates.get(t);c.streamReader=l;const d=()=>{l.read().then(({value:h,done:p})=>{if(p){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),d())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const p of c.renderTasks)p.operatorListChanged();A(this,Xn,$o).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof Jx){let i=u3;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new jo(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}vr=new WeakMap,pi=new WeakMap,Xn=new WeakSet,$o=function(e=!1){if(A(this,Xn,Vf).call(this),!u(this,pi)||this.destroyed)return!1;if(e)return b(this,vr,setTimeout(()=>{b(this,vr,null),A(this,Xn,$o).call(this,!1)},d3)),!1;for(const{renderTasks:t,operatorList:s}of this._intentStates.values())if(t.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,pi,!1),!0},Vf=function(){u(this,vr)&&(clearTimeout(u(this,vr)),b(this,vr,null))};var mi,nm;class b3{constructor(){E(this,mi,new Map);E(this,nm,Promise.resolve())}postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};u(this,nm).then(()=>{for(const[i]of u(this,mi))i.call(this,s)})}addEventListener(e,t,s=null){let i=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:r}=s;if(r.aborted){re("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}u(this,mi).set(t,i)}removeEventListener(e,t){const s=u(this,mi).get(t);s==null||s(),u(this,mi).delete(t)}terminate(){for(const[,e]of u(this,mi))e==null||e();u(this,mi).clear()}}mi=new WeakMap,nm=new WeakMap;var sm,Ha,Ua,$l,zf,Wl,Hf;const Me=class Me{constructor({name:e=null,port:t=null,verbosity:s=JF()}={}){E(this,$l);var i;if(this.name=e,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=u(Me,Ua))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(u(Me,Ua)||b(Me,Ua,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return $t?Promise.all([Kr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new du("main","worker",e),this._messageHandler.on("ready",function(){}),A(this,$l,zf).call(this)}_initialize(){if(u(Me,Ha)||u(Me,Wl,Hf)){this._setupFakeWorker();return}let{workerSrc:e}=Me;try{Me._isSameOrigin(window.location.href,e)||(e=Me._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new du("main","worker",t),i=()=>{r.abort(),s.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:r.signal}),s.on("test",o=>{if(r.abort(),this.destroyed||!o){i();return}this._messageHandler=s,this._port=t,this._webWorker=t,A(this,$l,zf).call(this)}),s.on("ready",o=>{if(r.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;s.send("test",o,[o.buffer])};a();return}catch{jm("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){u(Me,Ha)||(re("Setting up fake worker."),b(Me,Ha,!0)),Me._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new b3;this._port=t;const s=`fake${Kt(Me,sm)._++}`,i=new du(s+"_worker",s,t);e.setup(i,t),this._messageHandler=new du(s,s+"_worker",t),A(this,$l,zf).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=u(Me,Ua))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var s;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(s=u(this,Ua))==null?void 0:s.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Me(e)}static get workerSrc(){if(Ri.workerSrc)return Ri.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return de(this,"_setupFakeWorkerGlobal",(async()=>u(this,Wl,Hf)?u(this,Wl,Hf):(await import(this.workerSrc)).WorkerMessageHandler)())}};sm=new WeakMap,Ha=new WeakMap,Ua=new WeakMap,$l=new WeakSet,zf=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Wl=new WeakSet,Hf=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},E(Me,Wl),E(Me,sm,0),E(Me,Ha,!1),E(Me,Ua),$t&&(b(Me,Ha,!0),Ri.workerSrc||(Ri.workerSrc="./pdf.worker.mjs")),Me._isSameOrigin=(e,t)=>{let s;try{if(s=new URL(e),!s.origin||s.origin==="null")return!1}catch{return!1}const i=new URL(t,s);return s.origin===i.origin},Me._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let vl=Me;var gi,zs,Gl,Kl,Hs,$a,hu;class A3{constructor(e,t,s,i,r){E(this,$a);E(this,gi,new Map);E(this,zs,new Map);E(this,Gl,new Map);E(this,Kl,new Map);E(this,Hs,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new kT,this.fontLoader=new xO({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return de(this,"annotationStorage",new sw)}getRenderingIntent(e,t=nr.ENABLE,s=null,i=!1,r=!1){let a=Tn.DISPLAY,o=b0;switch(e){case"any":a=Tn.ANY;break;case"display":break;case"print":a=Tn.PRINT;break;default:re(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Tn.PRINT&&s instanceof rT?s:this.annotationStorage;switch(t){case nr.DISABLE:a+=Tn.ANNOTATIONS_DISABLE;break;case nr.ENABLE:break;case nr.ENABLE_FORMS:a+=Tn.ANNOTATIONS_FORMS;break;case nr.ENABLE_STORAGE:a+=Tn.ANNOTATIONS_STORAGE,o=l.serializable;break;default:re(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=Tn.IS_EDITING),r&&(a+=Tn.OPLIST);const{ids:c,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=u(this,Hs))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of u(this,zs).values())e.push(i._destroy());u(this,zs).clear(),u(this,Gl).clear(),u(this,Kl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),u(this,gi).clear(),this.filterFactory.destroy(),N0.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new jo("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,i)=>{ut(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){i.close();return}ut(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async s=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:r,contentLength:a}=this._fullReader;return(!i||!r)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:r,contentLength:a}}),e.on("GetRangeReader",(s,i)=>{ut(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(s.begin,s.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:a,done:o}){if(o){i.close();return}ut(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{r.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new x3(s,this))}),e.on("DocException",function(s){let i;switch(s.name){case"PasswordException":i=new Jy(s.message,s.code);break;case"InvalidPDFException":i=new R_(s.message);break;case"MissingPDFException":i=new Mo(s.message);break;case"UnexpectedResponseException":i=new Dm(s.message,s.status);break;case"UnknownErrorException":i=new e0(s.message,s.details);break;default:ke("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",s=>{if(b(this,Hs,Promise.withResolvers()),t.onPassword){const i=r=>{r instanceof Error?u(this,Hs).reject(r):u(this,Hs).resolve({password:r})};try{t.onPassword(i,s.code)}catch(r){u(this,Hs).reject(r)}}else u(this,Hs).reject(new Jy(s.message,s.code));return u(this,Hs).promise}),e.on("DataLoaded",s=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;u(this,zs).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,i,r])=>{var a;if(this.destroyed||this.commonObjs.has(s))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in r){const m=r.error;re(`Error during font loading: ${m}`),this.commonObjs.resolve(s,m);break}const d=c&&((a=globalThis.FontInspector)!=null&&a.enabled)?(m,y)=>globalThis.FontInspector.fontAdded(m,y):null,h=new wO(r,{disableFontFace:o,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(s,h)});break;case"CopyLocalImage":const{imageRef:p}=r;ut(p,"The imageRef must be defined.");for(const m of u(this,zs).values())for(const[,y]of m.objs)if((y==null?void 0:y.ref)===p)return y.dataLen?(this.commonObjs.resolve(s,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([s,i,r,a])=>{var l;if(this.destroyed)return;const o=u(this,zs).get(i);if(!o.objs.has(s)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(r){case"Image":o.objs.resolve(s,a),(a==null?void 0:a.dataLen)>XF&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(s,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",s=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:s.loaded,total:s.total})}),e.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),e.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&re("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((s=this._fullReader)==null?void 0:s.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=u(this,Gl).get(t);if(s)return s;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&u(this,Kl).set(r.refStr,e);const a=new w3(t,r,this,this._params.pdfBug);return u(this,zs).set(t,a),a});return u(this,Gl).set(t,i),i}getPageIndex(e){return fA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return A(this,$a,hu).call(this,"GetFieldObjects")}hasJSActions(){return A(this,$a,hu).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return A(this,$a,hu).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return A(this,$a,hu).call(this,"GetOptionalContentConfig").then(t=>new HO(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,gi).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(i=>{var r,a;return{info:i[0],metadata:i[1]?new VO(i[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return u(this,gi).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,zs).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,gi).clear(),this.filterFactory.destroy(!0),N0.cleanup()}}cachedPageNumber(e){if(!fA(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,Kl).get(t)??null}}gi=new WeakMap,zs=new WeakMap,Gl=new WeakMap,Kl=new WeakMap,Hs=new WeakMap,$a=new WeakSet,hu=function(e,t=null){const s=u(this,gi).get(e);if(s)return s;const i=this.messageHandler.sendWithPromise(e,t);return u(this,gi).set(e,i),i};const ff=Symbol("INITIAL_DATA");var fs,Ud,j0;class kT{constructor(){E(this,Ud);E(this,fs,Object.create(null))}get(e,t=null){if(t){const i=A(this,Ud,j0).call(this,e);return i.promise.then(()=>t(i.data)),null}const s=u(this,fs)[e];if(!s||s.data===ff)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=u(this,fs)[e];return!!t&&t.data!==ff}resolve(e,t=null){const s=A(this,Ud,j0).call(this,e);s.data=t,s.resolve()}clear(){var e;for(const t in u(this,fs)){const{data:s}=u(this,fs)[t];(e=s==null?void 0:s.bitmap)==null||e.close()}b(this,fs,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,fs)){const{data:t}=u(this,fs)[e];t!==ff&&(yield[e,t])}}}fs=new WeakMap,Ud=new WeakSet,j0=function(e){var t;return(t=u(this,fs))[e]||(t[e]={...Promise.withResolvers(),data:ff})};var xr;class S3{constructor(e){E(this,xr,null);b(this,xr,e),this.onContinue=null}get promise(){return u(this,xr).capability.promise}cancel(e=0){u(this,xr).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,xr).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,xr);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}xr=new WeakMap;var wr,Wa;const ha=class ha{constructor({callback:e,params:t,objs:s,commonObjs:i,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:p=null}){E(this,wr,null);this.callback=e,this.params=t,this.objs=s,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new S3(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,l;if(this.cancelled)return;if(this._canvas){if(u(ha,Wa).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(ha,Wa).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:i,transform:r,background:a}=this.params;this.gfx=new yl(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),u(this,wr)&&(window.cancelAnimationFrame(u(this,wr)),b(this,wr,null)),u(ha,Wa).delete(this._canvas),this.callback(e||new Jx(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,wr,window.requestAnimationFrame(()=>{b(this,wr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(ha,Wa).delete(this._canvas),this.callback())))}};wr=new WeakMap,Wa=new WeakMap,E(ha,Wa,new WeakSet);let D0=ha;const E3="4.8.69",C3="3634dab10";function pA(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Yc(n){return Math.max(0,Math.min(255,255*n))}class mA{static CMYK_G([e,t,s,i]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Yc(e),[e,e,e]}static G_HTML([e]){const t=pA(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(Yc)}static RGB_HTML(e){return`#${e.map(pA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,s+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,s,i]){return[Yc(1-Math.min(1,e+i)),Yc(1-Math.min(1,s+i)),Yc(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const i=1-e,r=1-t,a=1-s,o=Math.min(i,r,a);return["CMYK",i,r,a,o]}}class _3{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),s||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ke("Abstract method `_createSVG` called.")}}class lw extends _3{_createSVG(e){return document.createElementNS(ni,e)}}class PT{static setupStorage(e,t,s,i,r){const a=i.getValue(t,{value:null});switch(s.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),r==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(a.value===s.attributes.xfaOn?e.setAttribute("checked",!0):a.value===s.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),r==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of s.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:i,linkService:r}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&r.addLinkAttributes(e,a.href,a.newWindow),s&&a.dataId&&this.setupStorage(e,a.dataId,t,s)}static render(e){var h,p;const t=e.annotationStorage,s=e.linkService,i=e.xfaHtml,r=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:r,linkService:s});const o=r!=="richText",l=e.div;if(l.append(a),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=m}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);a.append(m),o&&ad.shouldBuildText(i.name)&&c.push(m)}return{textDivs:c}}const d=[[i,-1,a]];for(;d.length>0;){const[m,y,v]=d.at(-1);if(y+1===m.children.length){d.pop();continue}const S=m.children[++d.at(-1)[1]];if(S===null)continue;const{name:g}=S;if(g==="#text"){const w=document.createTextNode(S.value);c.push(w),v.append(w);continue}const x=(h=S==null?void 0:S.attributes)!=null&&h.xmlns?document.createElementNS(S.attributes.xmlns,g):document.createElement(g);if(v.append(x),S.attributes&&this.setAttributes({html:x,element:S,storage:t,intent:r,linkService:s}),((p=S.children)==null?void 0:p.length)>0)d.push([S,-1,x]);else if(S.value){const w=document.createTextNode(S.value);o&&ad.shouldBuildText(g)&&c.push(w),x.append(w)}}for(const m of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Dh=1e3,T3=9,Eo=new WeakSet;function Fi(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class k3{static create(e){switch(e.data.annotationType){case rt.LINK:return new NT(e);case rt.TEXT:return new P3(e);case rt.WIDGET:switch(e.data.fieldType){case"Tx":return new N3(e);case"Btn":return e.data.radioButton?new MT(e):e.data.checkBox?new L3(e):new M3(e);case"Ch":return new j3(e);case"Sig":return new R3(e)}return new Do(e);case rt.POPUP:return new F0(e);case rt.FREETEXT:return new OT(e);case rt.LINE:return new I3(e);case rt.SQUARE:return new F3(e);case rt.CIRCLE:return new O3(e);case rt.POLYLINE:return new BT(e);case rt.CARET:return new V3(e);case rt.INK:return new cw(e);case rt.POLYGON:return new B3(e);case rt.HIGHLIGHT:return new VT(e);case rt.UNDERLINE:return new z3(e);case rt.SQUIGGLY:return new H3(e);case rt.STRIKEOUT:return new U3(e);case rt.STAMP:return new zT(e);case rt.FILEATTACHMENT:return new $3(e);default:return new Ze(e)}}}var Ga,Xl,ql,$d,I0;const fw=class fw{constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:i=!1}={}){E(this,$d);E(this,Ga,null);E(this,Xl,!1);E(this,ql,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:s}){return!!(e!=null&&e.str||t!=null&&t.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return fw._hasPopupData(this.data)}updateEdited(e){var s;if(!this.container)return;u(this,Ga)||b(this,Ga,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&A(this,$d,I0).call(this,t),(s=u(this,ql))==null||s.popup.updateEdited(e)}resetEdited(){var e;u(this,Ga)&&(A(this,$d,I0).call(this,u(this,Ga).rect),(e=u(this,ql))==null||e.popup.resetEdited(),b(this,Ga,null))}_createContainer(e){const{data:t,parent:{page:s,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof Do||(r.tabIndex=Dh);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof F0){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,r),r}const{width:o,height:l}=Fi(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(v>0||S>0){const x=`calc(${v}px * var(--scale-factor)) / calc(${S}px * var(--scale-factor))`;a.borderRadius=x}else if(this instanceof MT){const x=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=x}switch(t.borderStyle.style){case Xc.SOLID:a.borderStyle="solid";break;case Xc.DASHED:a.borderStyle="dashed";break;case Xc.BEVELED:re("Unimplemented border style: beveled");break;case Xc.INSET:re("Unimplemented border style: inset");break;case Xc.UNDERLINE:a.borderBottomStyle="solid";break}const g=t.borderColor||null;g?(b(this,Xl,!0),a.borderColor=$.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):a.borderWidth=0}const c=$.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:d,pageHeight:h,pageX:p,pageY:m}=i.rawDims;a.left=`${100*(c[0]-p)/d}%`,a.top=`${100*(c[1]-m)/h}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(y,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:i}=this.parent.viewport.rawDims,{width:r,height:a}=Fi(this.data.rect);let o,l;e%180===0?(o=100*r/s,l=100*a/i):(o=100*a/s,l=100*r/i),t.style.width=`${o}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,i)=>{const r=i.detail[t],a=r[0],o=r.slice(1);i.target.style[s]=mA[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[s]:mA[`${a}_rgb`](o)})};return de(this,"_commonActions",{display:t=>{const{display:s}=t.detail,i=s%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const i of Object.keys(t.detail)){const r=e[i]||s[i];r==null||r(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[i,r]of Object.entries(t)){const a=s[i];if(a){const o={detail:{[i]:r},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,i,r]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,S,g,x]=e.subarray(2,6);if(i===v&&r===S&&t===g&&s===x)return}const{style:a}=this.container;let o;if(u(this,Xl)){const{borderColor:v,borderWidth:S}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const l=i-t,c=r-s,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const p=d.createElement("defs");h.append(p);const m=d.createElement("clipPath"),y=`clippath_${this.data.id}`;m.setAttribute("id",y),m.setAttribute("clipPathUnits","objectBoundingBox"),p.append(m);for(let v=2,S=e.length;v<S;v+=8){const g=e[v],x=e[v+1],w=e[v+2],C=e[v+3],_=d.createElement("rect"),k=(w-t)/l,P=(r-x)/c,N=(g-w)/l,L=(x-C)/c;_.setAttribute("x",k),_.setAttribute("y",P),_.setAttribute("width",N),_.setAttribute("height",L),m.append(_),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${P}" width="${N}" height="${L}"/>`)}u(this,Xl)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{data:e}=this,t=b(this,ql,new F0({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){ke("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:r,id:a,exportValues:o}of i){if(r===-1||a===t)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!Eo.has(c)){re(`_getElementsByName - element not allowed: ${a}`);continue}s.push({id:a,exportValue:l,domElement:c})}return s}for(const i of document.getElementsByName(e)){const{exportValue:r}=i,a=i.getAttribute("data-element-id");a!==t&&Eo.has(i)&&s.push({id:a,exportValue:r,domElement:i})}return s}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Ga=new WeakMap,Xl=new WeakMap,ql=new WeakMap,$d=new WeakSet,I0=function(e){const{container:{style:t},data:{rect:s,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:o,pageY:l}}}}=this;s==null||s.splice(0,4,...e);const{width:c,height:d}=Fi(e);t.left=`${100*(e[0]-o)/r}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*c/r}%`,t.height=`${100*d/a}%`):this.setRotation(i)};let Ze=fw;var Pn,oa,RT,LT;class NT extends Ze{constructor(t,s=null){super(t,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});E(this,Pn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:s}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(s.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action),r=!0):t.attachment?(A(this,Pn,RT).call(this,i,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(A(this,Pn,LT).call(this,i,t.setOCGState),r=!0):t.dest?(this._bindLink(i,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}_bindLink(t,s){t.href=this.linkService.getDestinationHash(s),t.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&A(this,Pn,oa).call(this)}_bindNamedAction(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(s),!1),A(this,Pn,oa).call(this)}_bindJSAction(t,s){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(s.actions)){const a=i.get(r);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:r}}),!1})}t.onclick||(t.onclick=()=>!1),A(this,Pn,oa).call(this)}_bindResetFormAction(t,s){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),A(this,Pn,oa).call(this),!this._fieldObjects){re('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:r,refs:a,include:o}=s,l=[];if(r.length!==0||a.length!==0){const p=new Set(a);for(const m of r){const y=this._fieldObjects[m]||[];for(const{id:v}of y)p.add(v)}for(const m of Object.values(this._fieldObjects))for(const y of m)p.has(y.id)===o&&l.push(y)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const c=this.annotationStorage,d=[];for(const p of l){const{id:m}=p;switch(d.push(m),p.type){case"text":{const v=p.defaultValue||"";c.setValue(m,{value:v});break}case"checkbox":case"radiobutton":{const v=p.defaultValue===p.exportValues;c.setValue(m,{value:v});break}case"combobox":case"listbox":{const v=p.defaultValue||"";c.setValue(m,{value:v});break}default:continue}const y=document.querySelector(`[data-element-id="${m}"]`);if(y){if(!Eo.has(y)){re(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Pn=new WeakSet,oa=function(){this.container.setAttribute("data-internal-link","")},RT=function(t,s,i=null){t.href=this.linkService.getAnchorUrl(""),s.description&&(t.title=s.description),t.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(s.content,s.filename,i),!1},A(this,Pn,oa).call(this)},LT=function(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(s),!1),A(this,Pn,oa).call(this)};class P3 extends Ze{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Do extends Ze{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Jt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,i,r){s.includes("mouse")?e.addEventListener(s,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(s,a=>{var o;if(s==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}r&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(a)}}))})}_setEventListeners(e,t,s,i){var r,a,o;for(const[l,c]of s)(c==="Action"||(r=this.data.actions)!=null&&r[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":$.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||T3,r=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(c/(Mg*i))||1,h=c/d;a=Math.min(i,l(h/Mg))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/Mg))}r.fontSize=`calc(${a}px * var(--scale-factor))`,r.color=$.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class N3 extends Do{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,i){const r=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=s),r.setValue(a.id,{[i]:s})}render(){var i,r;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=c??o,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",c??o),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Eo.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=Dh,this._setRequired(s,this.data.required),l&&(s.maxLength=l),s.addEventListener("input",p=>{e.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(s,"value",p.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue??"";s.value=d.userValue=m,d.formattedValue=null});let h=p=>{const{formattedValue:m}=d;m!=null&&(p.target.value=m),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",m=>{var v;if(d.focused)return;const{target:y}=m;d.userValue&&(y.value=d.userValue),d.lastCommittedValue=y.value,d.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const y={value(v){d.userValue=v.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),v.target.value=d.userValue},formattedValue(v){const{formattedValue:S}=v.detail;d.formattedValue=S,S!=null&&v.target!==document.activeElement&&(v.target.value=S),e.setValue(t,{formattedValue:S})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var w;const{charLimit:S}=v.detail,{target:g}=v;if(S===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",S);let x=d.userValue;!x||x.length<=S||(x=x.slice(0,S),g.value=d.userValue=x,e.setValue(t,{value:x}),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(y,m)}),s.addEventListener("keydown",m=>{var S;d.commitKey=1;let y=-1;if(m.key==="Escape"?y=0:m.key==="Enter"&&!this.data.multiLine?y=2:m.key==="Tab"&&(d.commitKey=3),y===-1)return;const{value:v}=m.target;d.lastCommittedValue!==v&&(d.lastCommittedValue=v,d.userValue=v,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:y,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const p=h;h=null,s.addEventListener("blur",m=>{var v,S;if(!d.focused||!m.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(d.focused=!1);const{value:y}=m.target;d.userValue=y,d.lastCommittedValue!==y&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:d.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),p(m)}),(r=this.data.actions)!=null&&r.Keystroke&&s.addEventListener("beforeinput",m=>{var _;d.lastCommittedValue=null;const{data:y,target:v}=m,{value:S,selectionStart:g,selectionEnd:x}=v;let w=g,C=x;switch(m.inputType){case"deleteWordBackward":{const k=S.substring(0,g).match(/\w*[^\w]*$/);k&&(w-=k[0].length);break}case"deleteWordForward":{const k=S.substring(g).match(/^[^\w]*\w*/);k&&(C+=k[0].length);break}case"deleteContentBackward":g===x&&(w-=1);break;case"deleteContentForward":g===x&&(C+=1);break}m.preventDefault(),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:y||"",willCommit:!1,selStart:w,selEnd:C}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(h&&s.addEventListener("blur",h),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/l;s.classList.add("comb"),s.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class R3 extends Do{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class L3 extends Do{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let i=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(s,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Eo.add(r),r.setAttribute("data-element-id",s),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=Dh,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,s)){const d=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=d),e.setValue(c.id,{value:d})}e.setValue(s,{value:l})}),r.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(s,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class MT extends Do{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let i=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(s,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,s))e.setValue(a.id,{value:!1});const r=document.createElement("input");if(Eo.add(r),r.setAttribute("data-element-id",s),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=Dh,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,s))e.setValue(c.id,{value:!1});e.setValue(s,{value:l})}),r.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;r.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const d=a===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const p=d&&h.id===s;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class M3 extends NT{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class j3 extends Do{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Eo.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Dh;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const p of i.options)p.selected=p.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,s.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),r=!1),i.append(h)}let a=null;if(r){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:p,multiple:m}=i;return m?Array.prototype.filter.call(p,y=>y.selected).map(y=>y[h]):p.selectedIndex===-1?null:p[p.selectedIndex][h]};let l=o(!1);const c=d=>{const h=d.target.options;return Array.prototype.map.call(h,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(p){a==null||a();const m=p.detail.value,y=new Set(Array.isArray(m)?m:[m]);for(const v of i.options)v.selected=y.has(v.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(p){i.multiple=!0},remove(p){const m=i.options,y=p.detail.remove;m[y].selected=!1,i.remove(y),m.length>0&&Array.prototype.findIndex.call(m,S=>S.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:o(!0),items:c(p)}),l=o(!1)},clear(p){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(p){const{index:m,displayValue:y,exportValue:v}=p.detail.insert,S=i.children[m],g=document.createElement("option");g.textContent=y,g.value=v,S?S.before(g):i.append(g),e.setValue(t,{value:o(!0),items:c(p)}),l=o(!1)},items(p){const{items:m}=p.detail;for(;i.length!==0;)i.remove(0);for(const y of m){const{displayValue:v,exportValue:S}=y,g=document.createElement("option");g.textContent=v,g.value=S,i.append(g)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:c(p)}),l=o(!1)},indices(p){const m=new Set(p.detail.indices);for(const y of p.target.options)y.selected=m.has(y.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var m;const h=o(!0),p=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:p,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class F0 extends Ze{constructor(e){const{data:t,elements:s}=e;super(e,{isRenderable:Ze._hasPopupData(t)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new D3({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",t.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(s=>`${Zx}${s}`).join(",")),this.container}}var Yl,im,rm,Ql,Ka,We,yi,Zl,Wd,Gd,Jl,vi,ps,xi,Kd,wi,Xd,Xa,qa,Ae,Uf,O0,jT,DT,IT,FT,$f,Wf,B0;class D3{constructor({container:e,color:t,elements:s,titleObj:i,modificationDate:r,contentsObj:a,richText:o,parent:l,rect:c,parentRect:d,open:h}){E(this,Ae);E(this,Yl,A(this,Ae,IT).bind(this));E(this,im,A(this,Ae,B0).bind(this));E(this,rm,A(this,Ae,Wf).bind(this));E(this,Ql,A(this,Ae,$f).bind(this));E(this,Ka,null);E(this,We,null);E(this,yi,null);E(this,Zl,null);E(this,Wd,null);E(this,Gd,null);E(this,Jl,null);E(this,vi,!1);E(this,ps,null);E(this,xi,null);E(this,Kd,null);E(this,wi,null);E(this,Xd,null);E(this,Xa,null);E(this,qa,!1);var p;b(this,We,e),b(this,Xd,i),b(this,yi,a),b(this,wi,o),b(this,Gd,l),b(this,Ka,t),b(this,Kd,c),b(this,Jl,d),b(this,Wd,s),b(this,Zl,tw.toDateObject(r)),this.trigger=s.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",u(this,Ql)),m.addEventListener("mouseenter",u(this,rm)),m.addEventListener("mouseleave",u(this,im)),m.classList.add("popupTriggerArea");for(const m of s)(p=m.container)==null||p.addEventListener("keydown",u(this,Yl));u(this,We).hidden=!0,h&&A(this,Ae,$f).call(this)}render(){if(u(this,ps))return;const e=b(this,ps,document.createElement("div"));if(e.className="popup",u(this,Ka)){const r=e.style.outlineColor=$.makeHexColor(...u(this,Ka));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:e.style.backgroundColor=$.makeHexColor(...u(this,Ka).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const s=document.createElement("h1");if(t.append(s),{dir:s.dir,str:s.textContent}=u(this,Xd),e.append(t),u(this,Zl)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,Zl).valueOf()})),t.append(r)}const i=u(this,Ae,Uf);if(i)PT.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(u(this,yi));e.append(r)}u(this,We).append(e)}_formatContents({str:e,dir:t}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let r=0,a=i.length;r<a;++r){const o=i[r];s.append(document.createTextNode(o)),r<a-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:e,popupContent:t}){var s;u(this,Xa)||b(this,Xa,{contentsObj:u(this,yi),richText:u(this,wi)}),e&&b(this,xi,null),t&&(b(this,wi,A(this,Ae,DT).call(this,t)),b(this,yi,null)),(s=u(this,ps))==null||s.remove(),b(this,ps,null)}resetEdited(){var e;u(this,Xa)&&({contentsObj:Kt(this,yi)._,richText:Kt(this,wi)._}=u(this,Xa),b(this,Xa,null),(e=u(this,ps))==null||e.remove(),b(this,ps,null),b(this,xi,null))}forceHide(){b(this,qa,this.isVisible),u(this,qa)&&(u(this,We).hidden=!0)}maybeShow(){u(this,qa)&&(u(this,ps)||A(this,Ae,Wf).call(this),b(this,qa,!1),u(this,We).hidden=!1)}get isVisible(){return u(this,We).hidden===!1}}Yl=new WeakMap,im=new WeakMap,rm=new WeakMap,Ql=new WeakMap,Ka=new WeakMap,We=new WeakMap,yi=new WeakMap,Zl=new WeakMap,Wd=new WeakMap,Gd=new WeakMap,Jl=new WeakMap,vi=new WeakMap,ps=new WeakMap,xi=new WeakMap,Kd=new WeakMap,wi=new WeakMap,Xd=new WeakMap,Xa=new WeakMap,qa=new WeakMap,Ae=new WeakSet,Uf=function(){const e=u(this,wi),t=u(this,yi);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,wi).html||null},O0=function(){var e,t,s;return((s=(t=(e=u(this,Ae,Uf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.fontSize)||0},jT=function(){var e,t,s;return((s=(t=(e=u(this,Ae,Uf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.color)||null},DT=function(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:u(this,Ae,jT),fontSize:u(this,Ae,O0)?`calc(${u(this,Ae,O0)}px * var(--scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:i});return s},IT=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,vi))&&A(this,Ae,$f).call(this)},FT=function(){if(u(this,xi)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:i,pageY:r}}}=u(this,Gd);let a=!!u(this,Jl),o=a?u(this,Jl):u(this,Kd);for(const y of u(this,Wd))if(!o||$.intersect(y.data.rect,o)!==null){o=y.data.rect,a=!0;break}const l=$.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,p=l[1];b(this,xi,[100*(h-i)/t,100*(p-r)/s]);const{style:m}=u(this,We);m.left=`${u(this,xi)[0]}%`,m.top=`${u(this,xi)[1]}%`},$f=function(){b(this,vi,!u(this,vi)),u(this,vi)?(A(this,Ae,Wf).call(this),u(this,We).addEventListener("click",u(this,Ql)),u(this,We).addEventListener("keydown",u(this,Yl))):(A(this,Ae,B0).call(this),u(this,We).removeEventListener("click",u(this,Ql)),u(this,We).removeEventListener("keydown",u(this,Yl)))},Wf=function(){u(this,ps)||this.render(),this.isVisible?u(this,vi)&&u(this,We).classList.add("focused"):(A(this,Ae,FT).call(this),u(this,We).hidden=!1,u(this,We).style.zIndex=parseInt(u(this,We).style.zIndex)+1e3)},B0=function(){u(this,We).classList.remove("focused"),!(u(this,vi)||!this.isVisible)&&(u(this,We).hidden=!0,u(this,We).style.zIndex=parseInt(u(this,We).style.zIndex)-1e3)};class OT extends Ze{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=se.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var qd;class I3 extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,qd,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:s,height:i}=Fi(t.rect),r=this.svgFactory.create(s,i,!0),a=b(this,qd,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,qd)}addHighlightArea(){this.container.classList.add("highlightArea")}}qd=new WeakMap;var Yd;class F3 extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Yd,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:s,height:i}=Fi(t.rect),r=this.svgFactory.create(s,i,!0),a=t.borderStyle.width,o=b(this,Yd,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",s-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Yd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yd=new WeakMap;var Qd;class O3 extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Qd,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:s,height:i}=Fi(t.rect),r=this.svgFactory.create(s,i,!0),a=t.borderStyle.width,o=b(this,Qd,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",s/2),o.setAttribute("cy",i/2),o.setAttribute("rx",s/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Qd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qd=new WeakMap;var Zd;class BT extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Zd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:s,borderStyle:i,popupRef:r}}=this;if(!s)return this.container;const{width:a,height:o}=Fi(t),l=this.svgFactory.create(a,o,!0);let c=[];for(let h=0,p=s.length;h<p;h+=2){const m=s[h]-t[0],y=t[3]-s[h+1];c.push(`${m},${y}`)}c=c.join(" ");const d=b(this,Zd,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Zd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zd=new WeakMap;class B3 extends BT{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class V3 extends Ze{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Jd;class cw extends Ze{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Jd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?se.HIGHLIGHT:se.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:s,borderStyle:i,popupRef:r}}=this,{width:a,height:o}=Fi(t),l=this.svgFactory.create(a,o,!0);for(const c of s){let d=[];for(let p=0,m=c.length;p<m;p+=2){const y=c[p]-t[0],v=t[3]-c[p+1];d.push(`${y},${v}`)}d=d.join(" ");const h=this.svgFactory.createElement(this.svgElementName);u(this,Jd).push(h),h.setAttribute("points",d),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return u(this,Jd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jd=new WeakMap;class VT extends Ze{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=se.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class z3 extends Ze{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class H3 extends Ze{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class U3 extends Ze{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class zT extends Ze{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=se.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var eh,th,V0;class $3 extends Ze{constructor(t){var i;super(t,{isRenderable:!0});E(this,th);E(this,eh,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:s}=this;let i;s.hasAppearance||s.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),i.addEventListener("dblclick",A(this,th,V0).bind(this)),b(this,eh,i);const{isMac:r}=Jt.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&A(this,th,V0).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return u(this,eh)}addHighlightArea(){this.container.classList.add("highlightArea")}}eh=new WeakMap,th=new WeakSet,V0=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var nh,Ya,Qa,sh,_o,HT,z0,TA;let W3=(TA=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:i,page:r,viewport:a,structTreeLayer:o}){E(this,_o);E(this,nh,null);E(this,Ya,null);E(this,Qa,new Map);E(this,sh,null);this.div=e,b(this,nh,t),b(this,Ya,s),b(this,sh,o||null),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return u(this,Qa).size>0}async render(e){var a;const{annotations:t}=e,s=this.div;Ao(s,this.viewport);const i=new Map,r={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new lw,annotationStorage:e.annotationStorage||new sw,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===rt.POPUP;if(l){const h=i.get(o.id);if(!h)continue;r.elements=h}else{const{width:h,height:p}=Fi(o.rect);if(h<=0||p<=0)continue}r.data=o;const c=k3.create(r);if(!c.isRenderable)continue;if(!l&&o.popupRef){const h=i.get(o.popupRef);h?h.push(c):i.set(o.popupRef,[c])}const d=c.render();o.hidden&&(d.style.visibility="hidden"),await A(this,_o,HT).call(this,d,o.id),c._isEditable&&(u(this,Qa).set(c.data.id,c),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(c))}A(this,_o,z0).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Ao(t,{rotation:e.rotation}),A(this,_o,z0).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Qa).values())}getEditableAnnotation(e){return u(this,Qa).get(e)}},nh=new WeakMap,Ya=new WeakMap,Qa=new WeakMap,sh=new WeakMap,_o=new WeakSet,HT=async function(e,t){var a,o;const s=e.firstChild||e,i=s.id=`${Zx}${t}`,r=await((a=u(this,sh))==null?void 0:a.getAriaAttributes(i));if(r)for(const[l,c]of r)s.setAttribute(l,c);this.div.append(e),(o=u(this,nh))==null||o.moveElementInDOM(this.div,e,s,!1)},z0=function(){if(!u(this,Ya))return;const e=this.div;for(const[t,s]of u(this,Ya)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;s.className="annotationContent";const{firstChild:r}=i;r?r.nodeName==="CANVAS"?r.replaceWith(s):r.classList.contains("annotationContent")?r.after(s):r.before(s):i.append(s)}u(this,Ya).clear()},TA);const pf=/\r\n?|\n/g;var ms,bn,ih,Za,An,it,UT,$T,WT,Gf,Bi,Kf,Xf,GT,U0,KT;const Ce=class Ce extends xe{constructor(t){super({...t,name:"freeTextEditor"});E(this,it);E(this,ms);E(this,bn,"");E(this,ih,`${this.id}-editor`);E(this,Za,null);E(this,An);b(this,ms,t.color||Ce._defaultColor||xe._defaultLineColor),b(this,An,t.fontSize||Ce._defaultFontSize)}static get _keyboardManager(){const t=Ce.prototype,s=a=>a.isEmpty(),i=So.TRANSLATE_SMALL,r=So.TRANSLATE_BIG;return de(this,"_keyboardManager",new jh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:s}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:s}]]))}static initialize(t,s){xe.initialize(t,s);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,s){switch(t){case Z.FREETEXT_SIZE:Ce._defaultFontSize=s;break;case Z.FREETEXT_COLOR:Ce._defaultColor=s;break}}updateParams(t,s){switch(t){case Z.FREETEXT_SIZE:A(this,it,UT).call(this,s);break;case Z.FREETEXT_COLOR:A(this,it,$T).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Z.FREETEXT_SIZE,Ce._defaultFontSize],[Z.FREETEXT_COLOR,Ce._defaultColor||xe._defaultLineColor]]}get propertiesToUpdate(){return[[Z.FREETEXT_SIZE,u(this,An)],[Z.FREETEXT_COLOR,u(this,ms)]]}_translateEmpty(t,s){this._uiManager.translateSelectedEditors(t,s,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ce._internalPadding*t,-(Ce._internalPadding+u(this,An))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(se.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,Za,new AbortController);const t=this._uiManager.combinedSignal(u(this,Za));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,ih)),this._isDraggable=!0,(t=u(this,Za))==null||t.abort(),b(this,Za,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,bn),s=b(this,bn,A(this,it,WT).call(this).trimEnd());if(t===s)return;const i=r=>{if(b(this,bn,r),!r){this.remove();return}A(this,it,Xf).call(this),this._uiManager.rebuild(this),A(this,it,Gf).call(this)};this.addCommands({cmd:()=>{i(s)},undo:()=>{i(t)},mustExec:!1}),A(this,it,Gf).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ce._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,s;this.width&&(t=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,ih)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${u(this,An)}px * var(--scale-factor))`,i.color=u(this,ms),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Vp(this,this.div,["dblclick","keydown"]),this.width){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[d,h]=this.pageDimensions,[p,m]=this.pageTranslation;let y,v;switch(this.rotation){case 0:y=t+(o[0]-p)/d,v=s+this.height-(o[1]-m)/h;break;case 90:y=t+(o[0]-p)/d,v=s-(o[1]-m)/h,[l,c]=[c,-l];break;case 180:y=t-this.width+(o[0]-p)/d,v=s-(o[1]-m)/h,[l,c]=[-l,-c];break;case 270:y=t+(o[0]-p-this.height*h)/d,v=s+(o[1]-m-this.width*d)/h,[l,c]=[-c,l];break}this.setAt(y*r,v*a,l,c)}else this.setAt(t*r,s*a,this.width*r,this.height*a);A(this,it,Xf).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,v,S;const s=t.clipboardData||window.clipboardData,{types:i}=s;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=A(y=Ce,Bi,U0).call(y,s.getData("text")||"").replaceAll(pf,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(pf,"")),g!==this.editorDiv){let x=d;for(const w of this.editorDiv.childNodes){if(w===g){x=h;continue}x.push(A(v=Ce,Bi,Kf).call(v,w))}}d.push(l.nodeValue.slice(0,c).replaceAll(pf,""))}else if(l===this.editorDiv){let g=d,x=0;for(const w of this.editorDiv.childNodes)x++===c&&(g=h),g.push(A(S=Ce,Bi,Kf).call(S,w))}b(this,bn,`${d.join(`
`)}${r}${h.join(`
`)}`),A(this,it,Xf).call(this);const p=new Range;let m=d.reduce((g,x)=>g+x.length,0);for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const x=g.nodeValue.length;if(m<=x){p.setStart(g,m),p.setEnd(g,m);break}m-=x}a.removeAllRanges(),a.addRange(p)}get contentDiv(){return this.editorDiv}static async deserialize(t,s,i){var o;let r=null;if(t instanceof OT){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:h,id:p,popupRef:m},textContent:y,textPosition:v,parent:{page:{pageNumber:S}}}=t;if(!y||y.length===0)return null;r=t={annotationType:se.FREETEXT,color:Array.from(c),fontSize:l,value:y.join(`
`),position:v,pageIndex:S-1,rect:d.slice(0),rotation:h,id:p,deleted:!1,popupRef:m}}const a=await super.deserialize(t,s,i);return b(a,An,t.fontSize),b(a,ms,$.makeHexColor(...t.color)),b(a,bn,A(o=Ce,Bi,U0).call(o,t.value)),a.annotationElementId=t.id||null,a._initialData=r,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Ce._internalPadding*this.parentScale,i=this.getRect(s,s),r=xe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,ms)),a={annotationType:se.FREETEXT,color:r,fontSize:u(this,An),value:A(this,it,GT).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!A(this,it,KT).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const s=super.renderAnnotationElement(t);if(this.deleted)return s;const{style:i}=s;i.fontSize=`calc(${u(this,An)}px * var(--scale-factor))`,i.color=u(this,ms),s.replaceChildren();for(const a of u(this,bn).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),s.append(o)}const r=Ce._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:u(this,bn)}),s}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};ms=new WeakMap,bn=new WeakMap,ih=new WeakMap,Za=new WeakMap,An=new WeakMap,it=new WeakSet,UT=function(t){const s=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-u(this,An))*this.parentScale),b(this,An,r),A(this,it,Gf).call(this)},i=u(this,An);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},$T=function(t){const s=r=>{b(this,ms,this.editorDiv.style.color=r)},i=u(this,ms);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},WT=function(){var i;const t=[];this.editorDiv.normalize();let s=null;for(const r of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(t.push(A(i=Ce,Bi,Kf).call(i,r)),s=r);return t.join(`
`)},Gf=function(){const[t,s]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/s):(this.width=i.height/t,this.height=i.width/s),this.fixAndSetPosition()},Bi=new WeakSet,Kf=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(pf,"")},Xf=function(){if(this.editorDiv.replaceChildren(),!!u(this,bn))for(const t of u(this,bn).split(`
`)){const s=document.createElement("div");s.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(s)}},GT=function(){return u(this,bn).replaceAll(""," ")},U0=function(t){return t.replaceAll(" ","")},KT=function(t){const{value:s,fontSize:i,color:r,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==s||t.fontSize!==i||t.color.some((o,l)=>o!==r[l])||t.pageIndex!==a},E(Ce,Bi),Q(Ce,"_freeTextDefaultContent",""),Q(Ce,"_internalPadding",0),Q(Ce,"_defaultColor",null),Q(Ce,"_defaultFontSize",10),Q(Ce,"_type","freetext"),Q(Ce,"_editorType",se.FREETEXT);let H0=Ce;class XT{toSVGPath(){ke("Abstract method `toSVGPath` must be implemented.")}get box(){ke("Abstract getter `box` must be implemented.")}serialize(e,t){ke("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ke("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ke("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Sn,gs,ec,tc,Us,oe,Ja,eo,rh,ah,nc,sc,br,oh,am,om,ht,fu,qT,YT,QT,ZT,JT,ek;const ri=class ri{constructor({x:e,y:t},s,i,r,a,o=0){E(this,ht);E(this,Sn);E(this,gs,[]);E(this,ec);E(this,tc);E(this,Us,[]);E(this,oe,new Float64Array(18));E(this,Ja);E(this,eo);E(this,rh);E(this,ah);E(this,nc);E(this,sc);E(this,br,[]);b(this,Sn,s),b(this,sc,r*i),b(this,tc,a),u(this,oe).set([NaN,NaN,NaN,NaN,e,t],6),b(this,ec,o),b(this,ah,u(ri,oh)*i),b(this,rh,u(ri,om)*i),b(this,nc,i),u(this,br).push(e,t)}isEmpty(){return isNaN(u(this,oe)[8])}add({x:e,y:t}){var L;b(this,Ja,e),b(this,eo,t);const[s,i,r,a]=u(this,Sn);let[o,l,c,d]=u(this,oe).subarray(8,12);const h=e-c,p=t-d,m=Math.hypot(h,p);if(m<u(this,rh))return!1;const y=m-u(this,ah),v=y/m,S=v*h,g=v*p;let x=o,w=l;o=c,l=d,c+=S,d+=g,(L=u(this,br))==null||L.push(e,t);const C=-g/y,_=S/y,k=C*u(this,sc),P=_*u(this,sc);return u(this,oe).set(u(this,oe).subarray(2,8),0),u(this,oe).set([c+k,d+P],4),u(this,oe).set(u(this,oe).subarray(14,18),12),u(this,oe).set([c-k,d-P],16),isNaN(u(this,oe)[6])?(u(this,Us).length===0&&(u(this,oe).set([o+k,l+P],2),u(this,Us).push(NaN,NaN,NaN,NaN,(o+k-s)/r,(l+P-i)/a),u(this,oe).set([o-k,l-P],14),u(this,gs).push(NaN,NaN,NaN,NaN,(o-k-s)/r,(l-P-i)/a)),u(this,oe).set([x,w,o,l,c,d],6),!this.isEmpty()):(u(this,oe).set([x,w,o,l,c,d],6),Math.abs(Math.atan2(w-l,x-o)-Math.atan2(g,S))<Math.PI/2?([o,l,c,d]=u(this,oe).subarray(2,6),u(this,Us).push(NaN,NaN,NaN,NaN,((o+c)/2-s)/r,((l+d)/2-i)/a),[o,l,x,w]=u(this,oe).subarray(14,18),u(this,gs).push(NaN,NaN,NaN,NaN,((x+o)/2-s)/r,((w+l)/2-i)/a),!0):([x,w,o,l,c,d]=u(this,oe).subarray(0,6),u(this,Us).push(((x+5*o)/6-s)/r,((w+5*l)/6-i)/a,((5*o+c)/6-s)/r,((5*l+d)/6-i)/a,((o+c)/2-s)/r,((l+d)/2-i)/a),[c,d,o,l,x,w]=u(this,oe).subarray(12,18),u(this,gs).push(((x+5*o)/6-s)/r,((w+5*l)/6-i)/a,((5*o+c)/6-s)/r,((5*l+d)/6-i)/a,((o+c)/2-s)/r,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,Us),t=u(this,gs);if(isNaN(u(this,oe)[6])&&!this.isEmpty())return A(this,ht,qT).call(this);const s=[];s.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?s.push(`L${e[i+4]} ${e[i+5]}`):s.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);A(this,ht,QT).call(this,s);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?s.push(`L${t[i+4]} ${t[i+5]}`):s.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return A(this,ht,YT).call(this,s),s.join(" ")}newFreeDrawOutline(e,t,s,i,r,a){return new tk(e,t,s,i,r,a)}getOutlines(){var h;const e=u(this,Us),t=u(this,gs),s=u(this,oe),[i,r,a,o]=u(this,Sn),l=new Float64Array((((h=u(this,br))==null?void 0:h.length)??0)+2);for(let p=0,m=l.length-2;p<m;p+=2)l[p]=(u(this,br)[p]-i)/a,l[p+1]=(u(this,br)[p+1]-r)/o;if(l[l.length-2]=(u(this,Ja)-i)/a,l[l.length-1]=(u(this,eo)-r)/o,isNaN(s[6])&&!this.isEmpty())return A(this,ht,ZT).call(this,l);const c=new Float64Array(u(this,Us).length+24+u(this,gs).length);let d=e.length;for(let p=0;p<d;p+=2){if(isNaN(e[p])){c[p]=c[p+1]=NaN;continue}c[p]=e[p],c[p+1]=e[p+1]}d=A(this,ht,ek).call(this,c,d);for(let p=t.length-6;p>=6;p-=6)for(let m=0;m<6;m+=2){if(isNaN(t[p+m])){c[d]=c[d+1]=NaN,d+=2;continue}c[d]=t[p+m],c[d+1]=t[p+m+1],d+=2}return A(this,ht,JT).call(this,c,d),this.newFreeDrawOutline(c,l,u(this,Sn),u(this,nc),u(this,ec),u(this,tc))}};Sn=new WeakMap,gs=new WeakMap,ec=new WeakMap,tc=new WeakMap,Us=new WeakMap,oe=new WeakMap,Ja=new WeakMap,eo=new WeakMap,rh=new WeakMap,ah=new WeakMap,nc=new WeakMap,sc=new WeakMap,br=new WeakMap,oh=new WeakMap,am=new WeakMap,om=new WeakMap,ht=new WeakSet,fu=function(){const e=u(this,oe).subarray(4,6),t=u(this,oe).subarray(16,18),[s,i,r,a]=u(this,Sn);return[(u(this,Ja)+(e[0]-t[0])/2-s)/r,(u(this,eo)+(e[1]-t[1])/2-i)/a,(u(this,Ja)+(t[0]-e[0])/2-s)/r,(u(this,eo)+(t[1]-e[1])/2-i)/a]},qT=function(){const[e,t,s,i]=u(this,Sn),[r,a,o,l]=A(this,ht,fu).call(this);return`M${(u(this,oe)[2]-e)/s} ${(u(this,oe)[3]-t)/i} L${(u(this,oe)[4]-e)/s} ${(u(this,oe)[5]-t)/i} L${r} ${a} L${o} ${l} L${(u(this,oe)[16]-e)/s} ${(u(this,oe)[17]-t)/i} L${(u(this,oe)[14]-e)/s} ${(u(this,oe)[15]-t)/i} Z`},YT=function(e){const t=u(this,gs);e.push(`L${t[4]} ${t[5]} Z`)},QT=function(e){const[t,s,i,r]=u(this,Sn),a=u(this,oe).subarray(4,6),o=u(this,oe).subarray(16,18),[l,c,d,h]=A(this,ht,fu).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-s)/r} L${l} ${c} L${d} ${h} L${(o[0]-t)/i} ${(o[1]-s)/r}`)},ZT=function(e){const t=u(this,oe),[s,i,r,a]=u(this,Sn),[o,l,c,d]=A(this,ht,fu).call(this),h=new Float64Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-s)/r,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-s)/r,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,(t[16]-s)/r,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-s)/r,(t[15]-i)/a],0),this.newFreeDrawOutline(h,e,u(this,Sn),u(this,nc),u(this,ec),u(this,tc))},JT=function(e,t){const s=u(this,gs);return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6},ek=function(e,t){const s=u(this,oe).subarray(4,6),i=u(this,oe).subarray(16,18),[r,a,o,l]=u(this,Sn),[c,d,h,p]=A(this,ht,fu).call(this);return e.set([NaN,NaN,NaN,NaN,(s[0]-r)/o,(s[1]-a)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(i[0]-r)/o,(i[1]-a)/l],t),t+=24},E(ri,oh,8),E(ri,am,2),E(ri,om,u(ri,oh)+u(ri,am));let Hp=ri;var ic,to,bi,lh,En,ch,qe,pn,pu,mu,nk;class tk extends XT{constructor(t,s,i,r,a,o){super();E(this,pn);E(this,ic);E(this,to,null);E(this,bi);E(this,lh);E(this,En);E(this,ch);E(this,qe);b(this,qe,t),b(this,En,s),b(this,ic,i),b(this,ch,r),b(this,bi,a),b(this,lh,o),A(this,pn,nk).call(this,o);const{x:l,y:c,width:d,height:h}=u(this,to);for(let p=0,m=t.length;p<m;p+=2)t[p]=(t[p]-l)/d,t[p+1]=(t[p+1]-c)/h;for(let p=0,m=s.length;p<m;p+=2)s[p]=(s[p]-l)/d,s[p+1]=(s[p+1]-c)/h}toSVGPath(){const t=[`M${u(this,qe)[4]} ${u(this,qe)[5]}`];for(let s=6,i=u(this,qe).length;s<i;s+=6){if(isNaN(u(this,qe)[s])){t.push(`L${u(this,qe)[s+4]} ${u(this,qe)[s+5]}`);continue}t.push(`C${u(this,qe)[s]} ${u(this,qe)[s+1]} ${u(this,qe)[s+2]} ${u(this,qe)[s+3]} ${u(this,qe)[s+4]} ${u(this,qe)[s+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,s,i,r],a){const o=i-t,l=r-s;let c,d;switch(a){case 0:c=A(this,pn,pu).call(this,u(this,qe),t,r,o,-l),d=A(this,pn,pu).call(this,u(this,En),t,r,o,-l);break;case 90:c=A(this,pn,mu).call(this,u(this,qe),t,s,o,l),d=A(this,pn,mu).call(this,u(this,En),t,s,o,l);break;case 180:c=A(this,pn,pu).call(this,u(this,qe),i,s,-o,l),d=A(this,pn,pu).call(this,u(this,En),i,s,-o,l);break;case 270:c=A(this,pn,mu).call(this,u(this,qe),i,r,-o,-l),d=A(this,pn,mu).call(this,u(this,En),i,r,-o,-l);break}return{outline:Array.from(c),points:[Array.from(d)]}}get box(){return u(this,to)}newOutliner(t,s,i,r,a,o=0){return new Hp(t,s,i,r,a,o)}getNewOutline(t,s){const{x:i,y:r,width:a,height:o}=u(this,to),[l,c,d,h]=u(this,ic),p=a*d,m=o*h,y=i*d+l,v=r*h+c,S=this.newOutliner({x:u(this,En)[0]*p+y,y:u(this,En)[1]*m+v},u(this,ic),u(this,ch),t,u(this,lh),s??u(this,bi));for(let g=2;g<u(this,En).length;g+=2)S.add({x:u(this,En)[g]*p+y,y:u(this,En)[g+1]*m+v});return S.getOutlines()}get mustRemoveSelfIntersections(){return!0}}ic=new WeakMap,to=new WeakMap,bi=new WeakMap,lh=new WeakMap,En=new WeakMap,ch=new WeakMap,qe=new WeakMap,pn=new WeakSet,pu=function(t,s,i,r,a){const o=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)o[l]=s+t[l]*r,o[l+1]=i+t[l+1]*a;return o},mu=function(t,s,i,r,a){const o=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)o[l]=s+t[l+1]*r,o[l+1]=i+t[l]*a;return o},nk=function(t){const s=u(this,qe);let i=s[4],r=s[5],a=i,o=r,l=i,c=r,d=i,h=r;const p=t?Math.max:Math.min;for(let g=6,x=s.length;g<x;g+=6){if(isNaN(s[g]))a=Math.min(a,s[g+4]),o=Math.min(o,s[g+5]),l=Math.max(l,s[g+4]),c=Math.max(c,s[g+5]),h<s[g+5]?(d=s[g+4],h=s[g+5]):h===s[g+5]&&(d=p(d,s[g+4]));else{const w=$.bezierBoundingBox(i,r,...s.slice(g,g+6));a=Math.min(a,w[0]),o=Math.min(o,w[1]),l=Math.max(l,w[2]),c=Math.max(c,w[3]),h<w[3]?(d=w[2],h=w[3]):h===w[3]&&(d=p(d,w[2]))}i=s[g+4],r=s[g+5]}const m=a-u(this,bi),y=o-u(this,bi),v=l-a+2*u(this,bi),S=c-o+2*u(this,bi);b(this,to,{x:m,y,width:v,height:S,lastPoint:[d,h]})};var uh,Ar,ys,tn,sk,qf,ik,rk,$0;class gA{constructor(e,t=0,s=0,i=!0){E(this,tn);E(this,uh);E(this,Ar,[]);E(this,ys,[]);let r=1/0,a=-1/0,o=1/0,l=-1/0;const d=10**-4;for(const{x:g,y:x,width:w,height:C}of e){const _=Math.floor((g-t)/d)*d,k=Math.ceil((g+w+t)/d)*d,P=Math.floor((x-t)/d)*d,N=Math.ceil((x+C+t)/d)*d,L=[_,P,N,!0],M=[k,P,N,!1];u(this,Ar).push(L,M),r=Math.min(r,_),a=Math.max(a,k),o=Math.min(o,P),l=Math.max(l,N)}const h=a-r+2*s,p=l-o+2*s,m=r-s,y=o-s,v=u(this,Ar).at(i?-1:-2),S=[v[0],v[2]];for(const g of u(this,Ar)){const[x,w,C]=g;g[0]=(x-m)/h,g[1]=(w-y)/p,g[2]=(C-y)/p}b(this,uh,{x:m,y,width:h,height:p,lastPoint:S})}getOutlines(){u(this,Ar).sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of u(this,Ar))t[3]?(e.push(...A(this,tn,$0).call(this,t)),A(this,tn,ik).call(this,t)):(A(this,tn,rk).call(this,t),e.push(...A(this,tn,$0).call(this,t)));return A(this,tn,sk).call(this,e)}}uh=new WeakMap,Ar=new WeakMap,ys=new WeakMap,tn=new WeakSet,sk=function(e){const t=[],s=new Set;for(const a of e){const[o,l,c]=a;t.push([o,l,a],[o,c,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],c=t[a+1][2];l.push(c),c.push(l),s.add(l),s.add(c)}const i=[];let r;for(;s.size>0;){const a=s.values().next().value;let[o,l,c,d,h]=a;s.delete(a);let p=o,m=l;for(r=[o,c],i.push(r);;){let y;if(s.has(d))y=d;else if(s.has(h))y=h;else break;s.delete(y),[o,l,c,d,h]=y,p!==o&&(r.push(p,m,o,m===l?l:c),p=o),m=m===l?c:l}r.push(p,m)}return new G3(i,u(this,uh))},qf=function(e){const t=u(this,ys);let s=0,i=t.length-1;for(;s<=i;){const r=s+i>>1,a=t[r][0];if(a===e)return r;a<e?s=r+1:i=r-1}return i+1},ik=function([,e,t]){const s=A(this,tn,qf).call(this,e);u(this,ys).splice(s,0,[e,t])},rk=function([,e,t]){const s=A(this,tn,qf).call(this,e);for(let i=s;i<u(this,ys).length;i++){const[r,a]=u(this,ys)[i];if(r!==e)break;if(r===e&&a===t){u(this,ys).splice(i,1);return}}for(let i=s-1;i>=0;i--){const[r,a]=u(this,ys)[i];if(r!==e)break;if(r===e&&a===t){u(this,ys).splice(i,1);return}}},$0=function(e){const[t,s,i]=e,r=[[t,s,i]],a=A(this,tn,qf).call(this,i);for(let o=0;o<a;o++){const[l,c]=u(this,ys)[o];for(let d=0,h=r.length;d<h;d++){const[,p,m]=r[d];if(!(c<=p||m<=l)){if(p>=l){if(m>c)r[d][1]=c;else{if(h===1)return[];r.splice(d,1),d--,h--}continue}r[d][2]=l,m>c&&r.push([t,c,m])}}}return r};var dh,rc;class G3 extends XT{constructor(t,s){super();E(this,dh);E(this,rc);b(this,rc,t),b(this,dh,s)}toSVGPath(){const t=[];for(const s of u(this,rc)){let[i,r]=s;t.push(`M${i} ${r}`);for(let a=2;a<s.length;a+=2){const o=s[a],l=s[a+1];o===i?(t.push(`V${l}`),r=l):l===r&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,s,i,r],a){const o=[],l=i-t,c=r-s;for(const d of u(this,rc)){const h=new Array(d.length);for(let p=0;p<d.length;p+=2)h[p]=t+d[p]*l,h[p+1]=r-d[p+1]*c;o.push(h)}return o}get box(){return u(this,dh)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}dh=new WeakMap,rc=new WeakMap;class W0 extends Hp{newFreeDrawOutline(e,t,s,i,r,a){return new K3(e,t,s,i,r,a)}get classNamesForDrawing(){return["highlight","free"]}}class K3 extends tk{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,s,i,r,a=0){return new W0(e,t,s,i,r,a)}}var vs,no,ac,ot,hh,oc,fh,ph,Sr,xs,lc,mh,be,G0,K0,X0,la,ak,Qi;const on=class on{constructor({editor:e=null,uiManager:t=null}){E(this,be);E(this,vs,null);E(this,no,null);E(this,ac);E(this,ot,null);E(this,hh,!1);E(this,oc,!1);E(this,fh,null);E(this,ph);E(this,Sr,null);E(this,xs,null);E(this,lc);var s;e?(b(this,oc,!1),b(this,lc,Z.HIGHLIGHT_COLOR),b(this,fh,e)):(b(this,oc,!0),b(this,lc,Z.HIGHLIGHT_DEFAULT_COLOR)),b(this,xs,(e==null?void 0:e._uiManager)||t),b(this,ph,u(this,xs)._eventBus),b(this,ac,(e==null?void 0:e.color)||((s=u(this,xs))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),u(on,mh)||b(on,mh,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return de(this,"_keyboardManager",new jh([[["Escape","mac+Escape"],on.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],on.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],on.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],on.prototype._moveToPrevious],[["Home","mac+Home"],on.prototype._moveToBeginning],[["End","mac+End"],on.prototype._moveToEnd]]))}renderButton(){const e=b(this,vs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=u(this,xs)._signal;e.addEventListener("click",A(this,be,la).bind(this),{signal:t}),e.addEventListener("keydown",A(this,be,X0).bind(this),{signal:t});const s=b(this,no,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=u(this,ac),e.append(s),e}renderMainDropdown(){const e=b(this,ot,A(this,be,G0).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===u(this,vs)){A(this,be,la).call(this,e);return}const t=e.target.getAttribute("data-color");t&&A(this,be,K0).call(this,t,e)}_moveToNext(e){var t,s;if(!u(this,be,Qi)){A(this,be,la).call(this,e);return}if(e.target===u(this,vs)){(t=u(this,ot).firstChild)==null||t.focus();return}(s=e.target.nextSibling)==null||s.focus()}_moveToPrevious(e){var t,s;if(e.target===((t=u(this,ot))==null?void 0:t.firstChild)||e.target===u(this,vs)){u(this,be,Qi)&&this._hideDropdownFromKeyboard();return}u(this,be,Qi)||A(this,be,la).call(this,e),(s=e.target.previousSibling)==null||s.focus()}_moveToBeginning(e){var t;if(!u(this,be,Qi)){A(this,be,la).call(this,e);return}(t=u(this,ot).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,be,Qi)){A(this,be,la).call(this,e);return}(t=u(this,ot).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=u(this,ot))==null||e.classList.add("hidden"),(t=u(this,Sr))==null||t.abort(),b(this,Sr,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,oc)){if(!u(this,be,Qi)){(e=u(this,fh))==null||e.unselect();return}this.hideDropdown(),u(this,vs).focus({preventScroll:!0,focusVisible:u(this,hh)})}}updateColor(e){if(u(this,no)&&(u(this,no).style.backgroundColor=e),!u(this,ot))return;const t=u(this,xs).highlightColors.values();for(const s of u(this,ot).children)s.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=u(this,vs))==null||e.remove(),b(this,vs,null),b(this,no,null),(t=u(this,ot))==null||t.remove(),b(this,ot,null)}};vs=new WeakMap,no=new WeakMap,ac=new WeakMap,ot=new WeakMap,hh=new WeakMap,oc=new WeakMap,fh=new WeakMap,ph=new WeakMap,Sr=new WeakMap,xs=new WeakMap,lc=new WeakMap,mh=new WeakMap,be=new WeakSet,G0=function(){const e=document.createElement("div"),t=u(this,xs)._signal;e.addEventListener("contextmenu",ts,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,i]of u(this,xs).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=s,r.setAttribute("data-l10n-id",u(on,mh)[s]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=i,r.setAttribute("aria-selected",i===u(this,ac)),r.addEventListener("click",A(this,be,K0).bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",A(this,be,X0).bind(this),{signal:t}),e},K0=function(e,t){t.stopPropagation(),u(this,ph).dispatch("switchannotationeditorparams",{source:this,type:u(this,lc),value:e})},X0=function(e){on._keyboardManager.exec(this,e)},la=function(e){if(u(this,be,Qi)){this.hideDropdown();return}if(b(this,hh,e.detail===0),u(this,Sr)||(b(this,Sr,new AbortController),window.addEventListener("pointerdown",A(this,be,ak).bind(this),{signal:u(this,xs).combinedSignal(u(this,Sr))})),u(this,ot)){u(this,ot).classList.remove("hidden");return}const t=b(this,ot,A(this,be,G0).call(this));u(this,vs).append(t)},ak=function(e){var t;(t=u(this,ot))!=null&&t.contains(e.target)||this.hideDropdown()},Qi=function(){return u(this,ot)&&!u(this,ot).classList.contains("hidden")},E(on,mh,null);let Up=on;var cc,gh,Ai,so,uc,Un,yh,vh,io,ws,Ot,un,dc,Si,lt,hc,$n,xh,te,q0,Yf,ok,lk,ck,Y0,ca,qn,Wo,uk,Qf,gu,dk,hk,fk,pk,mk;const fe=class fe extends xe{constructor(t){super({...t,name:"highlightEditor"});E(this,te);E(this,cc,null);E(this,gh,0);E(this,Ai);E(this,so,null);E(this,uc,null);E(this,Un,null);E(this,yh,null);E(this,vh,0);E(this,io,null);E(this,ws,null);E(this,Ot,null);E(this,un,!1);E(this,dc,null);E(this,Si);E(this,lt,null);E(this,hc,"");E(this,$n);E(this,xh,"");this.color=t.color||fe._defaultColor,b(this,$n,t.thickness||fe._defaultThickness),b(this,Si,t.opacity||fe._defaultOpacity),b(this,Ai,t.boxes||null),b(this,xh,t.methodOfCreation||""),b(this,hc,t.text||""),this._isDraggable=!1,t.highlightId>-1?(b(this,un,!0),A(this,te,Yf).call(this,t),A(this,te,ca).call(this)):u(this,Ai)&&(b(this,cc,t.anchorNode),b(this,gh,t.anchorOffset),b(this,yh,t.focusNode),b(this,vh,t.focusOffset),A(this,te,q0).call(this),A(this,te,ca).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=fe.prototype;return de(this,"_keyboardManager",new jh([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,un)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,$n),methodOfCreation:u(this,xh)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,s){var i;xe.initialize(t,s),fe._defaultColor||(fe._defaultColor=((i=s.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,s){switch(t){case Z.HIGHLIGHT_DEFAULT_COLOR:fe._defaultColor=s;break;case Z.HIGHLIGHT_THICKNESS:fe._defaultThickness=s;break}}translateInPage(t,s){}get toolbarPosition(){return u(this,dc)}updateParams(t,s){switch(t){case Z.HIGHLIGHT_COLOR:A(this,te,ok).call(this,s);break;case Z.HIGHLIGHT_THICKNESS:A(this,te,lk).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Z.HIGHLIGHT_DEFAULT_COLOR,fe._defaultColor],[Z.HIGHLIGHT_THICKNESS,fe._defaultThickness]]}get propertiesToUpdate(){return[[Z.HIGHLIGHT_COLOR,this.color||fe._defaultColor],[Z.HIGHLIGHT_THICKNESS,u(this,$n)||fe._defaultThickness],[Z.HIGHLIGHT_FREE,u(this,un)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(b(this,uc,new Up({editor:this})),t.addColorPicker(u(this,uc))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,te,gu).call(this))}getBaseTranslation(){return[0,0]}getRect(t,s){return super.getRect(t,s,A(this,te,gu).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){A(this,te,Y0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,te,ca).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let s=!1;this.parent&&!t?A(this,te,Y0).call(this):t&&(A(this,te,ca).call(this,t),s=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),s&&this.select()}rotate(t){var r,a,o;const{drawLayer:s}=this.parent;let i;u(this,un)?(t=(t-this.rotation+360)%360,i=A(r=fe,qn,Wo).call(r,u(this,ws).box,t)):i=A(a=fe,qn,Wo).call(a,this,t),s.rotate(u(this,Ot),t),s.rotate(u(this,lt),t),s.updateBox(u(this,Ot),i),s.updateBox(u(this,lt),A(o=fe,qn,Wo).call(o,u(this,Un).box,t))}render(){if(this.div)return this.div;const t=super.render();u(this,hc)&&(t.setAttribute("aria-label",u(this,hc)),t.setAttribute("role","mark")),u(this,un)?t.classList.add("free"):this.div.addEventListener("keydown",A(this,te,uk).bind(this),{signal:this._uiManager._signal});const s=b(this,io,document.createElement("div"));t.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=u(this,so);const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),Vp(this,u(this,io),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(u(this,lt),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(u(this,lt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:A(this,te,Qf).call(this,!0);break;case 1:case 3:A(this,te,Qf).call(this,!1);break}}select(){var t,s;super.select(),u(this,lt)&&((t=this.parent)==null||t.drawLayer.removeClass(u(this,lt),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(u(this,lt),"selected"))}unselect(){var t;super.unselect(),u(this,lt)&&((t=this.parent)==null||t.drawLayer.removeClass(u(this,lt),"selected"),u(this,un)||A(this,te,Qf).call(this,!1))}get _mustFixPosition(){return!u(this,un)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(u(this,Ot),t),this.parent.drawLayer.show(u(this,lt),t))}static startHighlighting(t,s,{target:i,x:r,y:a}){const{x:o,y:l,width:c,height:d}=i.getBoundingClientRect(),h=new AbortController,p=t.combinedSignal(h),m=v=>{v.preventDefault(),v.stopPropagation()},y=v=>{h.abort(),A(this,qn,pk).call(this,t,v)};window.addEventListener("blur",y,{signal:p}),window.addEventListener("pointerup",y,{signal:p}),window.addEventListener("pointerdown",m,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",ts,{signal:p}),i.addEventListener("pointermove",A(this,qn,fk).bind(this,t),{signal:p}),this._freeHighlight=new W0({x:r,y:a},[o,l,c,d],t.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,s,i){var v,S,g,x;let r=null;if(t instanceof VT){const{data:{quadPoints:w,rect:C,rotation:_,id:k,color:P,opacity:N,popupRef:L},parent:{page:{pageNumber:M}}}=t;r=t={annotationType:se.HIGHLIGHT,color:Array.from(P),opacity:N,quadPoints:w,boxes:null,pageIndex:M-1,rect:C.slice(0),rotation:_,id:k,deleted:!1,popupRef:L}}else if(t instanceof cw){const{data:{inkLists:w,rect:C,rotation:_,id:k,color:P,borderStyle:{rawWidth:N},popupRef:L},parent:{page:{pageNumber:M}}}=t;r=t={annotationType:se.HIGHLIGHT,color:Array.from(P),thickness:N,inkLists:w,boxes:null,pageIndex:M-1,rect:C.slice(0),rotation:_,id:k,deleted:!1,popupRef:L}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=t,d=await super.deserialize(t,s,i);d.color=$.makeHexColor(...a),b(d,Si,c||1),l&&b(d,$n,t.thickness),d.annotationElementId=t.id||null,d._initialData=r;const[h,p]=d.pageDimensions,[m,y]=d.pageTranslation;if(o){const w=b(d,Ai,[]);for(let C=0;C<o.length;C+=8)w.push({x:(o[C]-m)/h,y:1-(o[C+1]-y)/p,width:(o[C+2]-o[C])/h,height:(o[C+1]-o[C+5])/p});A(v=d,te,q0).call(v),A(S=d,te,ca).call(S),d.rotate(d.rotation)}else if(l){b(d,un,!0);const w=l[0],C={x:w[0]-m,y:p-(w[1]-y)},_=new W0(C,[0,0,h,p],1,u(d,$n)/2,!0,.001);for(let N=0,L=w.length;N<L;N+=2)C.x=w[N]-m,C.y=p-(w[N+1]-y),_.add(C);const{id:k,clipPathId:P}=s.drawLayer.draw(_,d.color,d._defaultOpacity,!0);A(g=d,te,Yf).call(g,{highlightOutlines:_.getOutlines(),highlightId:k,clipPathId:P}),A(x=d,te,ca).call(x)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),i=xe._colorManager.convert(this.color),r={annotationType:se.HIGHLIGHT,color:i,opacity:u(this,Si),thickness:u(this,$n),quadPoints:A(this,te,dk).call(this),outlines:A(this,te,hk).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:A(this,te,gu).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!A(this,te,mk).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};cc=new WeakMap,gh=new WeakMap,Ai=new WeakMap,so=new WeakMap,uc=new WeakMap,Un=new WeakMap,yh=new WeakMap,vh=new WeakMap,io=new WeakMap,ws=new WeakMap,Ot=new WeakMap,un=new WeakMap,dc=new WeakMap,Si=new WeakMap,lt=new WeakMap,hc=new WeakMap,$n=new WeakMap,xh=new WeakMap,te=new WeakSet,q0=function(){const t=new gA(u(this,Ai),.001);b(this,ws,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=u(this,ws).box;const s=new gA(u(this,Ai),.0025,.001,this._uiManager.direction==="ltr");b(this,Un,s.getOutlines());const{lastPoint:i}=u(this,Un).box;b(this,dc,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Yf=function({highlightOutlines:t,highlightId:s,clipPathId:i}){var h,p;if(b(this,ws,t),b(this,Un,t.getNewOutline(u(this,$n)/2+1.5,.0025)),s>=0)b(this,Ot,s),b(this,so,i),this.parent.drawLayer.finalizeLine(s,t),b(this,lt,this.parent.drawLayer.drawOutline(u(this,Un)));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(u(this,Ot),t),this.parent.drawLayer.updateBox(u(this,Ot),A(h=fe,qn,Wo).call(h,u(this,ws).box,(m-this.rotation+360)%360)),this.parent.drawLayer.updateLine(u(this,lt),u(this,Un)),this.parent.drawLayer.updateBox(u(this,lt),A(p=fe,qn,Wo).call(p,u(this,Un).box,m))}const{x:a,y:o,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[m,y]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*y/m,this.height=c*m/y;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[m,y]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*y/m,this.height=c*m/y;break}}const{lastPoint:d}=u(this,Un).box;b(this,dc,[(d[0]-a)/l,(d[1]-o)/c])},ok=function(t){const s=(a,o)=>{var l,c,d;this.color=a,(l=this.parent)==null||l.drawLayer.changeColor(u(this,Ot),a),(c=u(this,uc))==null||c.updateColor(a),b(this,Si,o),(d=this.parent)==null||d.drawLayer.changeOpacity(u(this,Ot),o)},i=this.color,r=u(this,Si);this.addCommands({cmd:s.bind(this,t,fe._defaultOpacity),undo:s.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},lk=function(t){const s=u(this,$n),i=r=>{b(this,$n,r),A(this,te,ck).call(this,r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},ck=function(t){if(!u(this,un))return;A(this,te,Yf).call(this,{highlightOutlines:u(this,ws).getNewOutline(t/2)}),this.fixAndSetPosition();const[s,i]=this.parentDimensions;this.setDims(this.width*s,this.height*i)},Y0=function(){u(this,Ot)===null||!this.parent||(this.parent.drawLayer.remove(u(this,Ot)),b(this,Ot,null),this.parent.drawLayer.remove(u(this,lt)),b(this,lt,null))},ca=function(t=this.parent){u(this,Ot)===null&&({id:Kt(this,Ot)._,clipPathId:Kt(this,so)._}=t.drawLayer.draw(u(this,ws),this.color,u(this,Si)),b(this,lt,t.drawLayer.drawOutline(u(this,Un))),u(this,io)&&(u(this,io).style.clipPath=u(this,so)))},qn=new WeakSet,Wo=function({x:t,y:s,width:i,height:r},a){switch(a){case 90:return{x:1-s-r,y:t,width:r,height:i};case 180:return{x:1-t-i,y:1-s-r,width:i,height:r};case 270:return{x:s,y:1-t-i,width:r,height:i}}return{x:t,y:s,width:i,height:r}},uk=function(t){fe._keyboardManager.exec(this,t)},Qf=function(t){if(!u(this,cc))return;const s=window.getSelection();t?s.setPosition(u(this,cc),u(this,gh)):s.setPosition(u(this,yh),u(this,vh))},gu=function(){return u(this,un)?this.rotation:0},dk=function(){if(u(this,un))return null;const[t,s]=this.pageDimensions,[i,r]=this.pageTranslation,a=u(this,Ai),o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:d,width:h,height:p}of a){const m=c*t+i,y=(1-d-p)*s+r;o[l]=o[l+4]=m,o[l+1]=o[l+3]=y,o[l+2]=o[l+6]=m+h*t,o[l+5]=o[l+7]=y+p*s,l+=8}return o},hk=function(t){return u(this,ws).serialize(t,A(this,te,gu).call(this))},fk=function(t,s){this._freeHighlight.add(s)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},pk=function(t,s){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},mk=function(t){const{color:s}=this._initialData;return t.color.some((i,r)=>i!==s[r])},E(fe,qn),Q(fe,"_defaultColor",null),Q(fe,"_defaultOpacity",1),Q(fe,"_defaultThickness",12),Q(fe,"_type","highlight"),Q(fe,"_editorType",se.HIGHLIGHT),Q(fe,"_freeHighlightId",-1),Q(fe,"_freeHighlight",null),Q(fe,"_freeHighlightClipId","");let $p=fe;var ro,ao,$s,Ei,Wn,oo,lo,co,Ci,fc,uo,ho,Er,F,gk,yk,vk,xk,Z0,wk,J0,bk,Ak,Sk,Ek,Ck,ua,ev,tv,nv,Zf,Jf,Go,sv,ep,Gi,_k,iv,Tk,kk,rv,tp,yu;const De=class De extends xe{constructor(t){super({...t,name:"inkEditor"});E(this,F);E(this,ro,0);E(this,ao,0);E(this,$s,null);E(this,Ei,new Path2D);E(this,Wn,!1);E(this,oo,null);E(this,lo,!1);E(this,co,!1);E(this,Ci,null);E(this,fc,null);E(this,uo,0);E(this,ho,0);E(this,Er,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,s){xe.initialize(t,s)}static updateDefaultParams(t,s){switch(t){case Z.INK_THICKNESS:De._defaultThickness=s;break;case Z.INK_COLOR:De._defaultColor=s;break;case Z.INK_OPACITY:De._defaultOpacity=s/100;break}}updateParams(t,s){switch(t){case Z.INK_THICKNESS:A(this,F,gk).call(this,s);break;case Z.INK_COLOR:A(this,F,yk).call(this,s);break;case Z.INK_OPACITY:A(this,F,vk).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Z.INK_THICKNESS,De._defaultThickness],[Z.INK_COLOR,De._defaultColor||xe._defaultLineColor],[Z.INK_OPACITY,Math.round(De._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Z.INK_THICKNESS,this.thickness||De._defaultThickness],[Z.INK_COLOR,this.color||De._defaultColor||xe._defaultLineColor],[Z.INK_OPACITY,Math.round(100*(this.opacity??De._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(A(this,F,Zf).call(this),A(this,F,Jf).call(this)),this.isAttachedToDOM||(this.parent.add(this),A(this,F,Go).call(this)),A(this,F,yu).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,$s)&&(clearTimeout(u(this,$s)),b(this,$s,null)),(t=u(this,Ci))==null||t.disconnect(),b(this,Ci,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,s]=this.parentDimensions,i=this.width*t,r=this.height*s;this.setDimensions(i,r)}enableEditMode(){u(this,Wn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,A(this,F,ev).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),A(this,F,tv).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,Wn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),b(this,Wn,!0),this.div.classList.add("disabled"),A(this,F,yu).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||u(this,Wn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),A(this,F,wk).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),A(this,F,J0).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),A(this,F,nv).call(this,t)}canvasPointerleave(t){A(this,F,nv).call(this,t)}get isResizable(){return!this.isEmpty()&&u(this,Wn)}render(){if(this.div)return this.div;let t,s;this.width&&(t=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,r,a,o]=A(this,F,xk).call(this);if(this.setAt(i,r,0,0),this.setDims(a,o),A(this,F,Zf).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,s*c,this.width*l,this.height*c),b(this,co,!0),A(this,F,Go).call(this),this.setDims(this.width*l,this.height*c),A(this,F,ua).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return A(this,F,Jf).call(this),this.div}setDimensions(t,s){const i=Math.round(t),r=Math.round(s);if(u(this,uo)===i&&u(this,ho)===r)return;b(this,uo,i),b(this,ho,r),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=t/a,this.height=s/o,this.fixAndSetPosition(),u(this,Wn)&&A(this,F,sv).call(this,t,s),A(this,F,Go).call(this),A(this,F,ua).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,s,i){var S,g,x;if(t instanceof cw)return null;const r=await super.deserialize(t,s,i);r.thickness=t.thickness,r.color=$.makeHexColor(...t.color),r.opacity=t.opacity;const[a,o]=r.pageDimensions,l=r.width*a,c=r.height*o,d=r.parentScale,h=t.thickness/2;b(r,Wn,!0),b(r,uo,Math.round(l)),b(r,ho,Math.round(c));const{paths:p,rect:m,rotation:y}=t;for(let{bezier:w}of p){w=A(S=De,Gi,Tk).call(S,w,m,y);const C=[];r.paths.push(C);let _=d*(w[0]-h),k=d*(w[1]-h);for(let N=2,L=w.length;N<L;N+=6){const M=d*(w[N]-h),D=d*(w[N+1]-h),Y=d*(w[N+2]-h),K=d*(w[N+3]-h),W=d*(w[N+4]-h),J=d*(w[N+5]-h);C.push([[_,k],[M,D],[Y,K],[W,J]]),_=W,k=J}const P=A(this,Gi,_k).call(this,C);r.bezierPath2D.push(P)}const v=A(g=r,F,rv).call(g);return b(r,ao,Math.max(xe.MIN_SIZE,v[2]-v[0])),b(r,ro,Math.max(xe.MIN_SIZE,v[3]-v[1])),A(x=r,F,sv).call(x,l,c),r}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),s=xe._colorManager.convert(this.ctx.strokeStyle);return{annotationType:se.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:A(this,F,kk).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ro=new WeakMap,ao=new WeakMap,$s=new WeakMap,Ei=new WeakMap,Wn=new WeakMap,oo=new WeakMap,lo=new WeakMap,co=new WeakMap,Ci=new WeakMap,fc=new WeakMap,uo=new WeakMap,ho=new WeakMap,Er=new WeakMap,F=new WeakSet,gk=function(t){const s=r=>{this.thickness=r,A(this,F,yu).call(this)},i=this.thickness;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},yk=function(t){const s=r=>{this.color=r,A(this,F,ua).call(this)},i=this.color;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},vk=function(t){const s=r=>{this.opacity=r,A(this,F,ua).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},xk=function(){const{parentRotation:t,parentDimensions:[s,i]}=this;switch(t){case 90:return[0,i,i,s];case 180:return[s,i,s,i];case 270:return[s,0,i,s];default:return[0,0,s,i]}},Z0=function(){const{ctx:t,color:s,opacity:i,thickness:r,parentScale:a,scaleFactor:o}=this;t.lineWidth=r*a/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${s}${mO(i)}`},wk=function(t,s){this.canvas.addEventListener("contextmenu",ts,{signal:this._uiManager._signal}),A(this,F,tv).call(this),b(this,oo,new AbortController);const i=this._uiManager.combinedSignal(u(this,oo));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,u(this,co)||(b(this,co,!0),A(this,F,Go).call(this),this.thickness||(this.thickness=De._defaultThickness),this.color||(this.color=De._defaultColor||xe._defaultLineColor),this.opacity??(this.opacity=De._defaultOpacity)),this.currentPath.push([t,s]),b(this,lo,!1),A(this,F,Z0).call(this),b(this,Er,()=>{A(this,F,Sk).call(this),u(this,Er)&&window.requestAnimationFrame(u(this,Er))}),window.requestAnimationFrame(u(this,Er))},J0=function(t,s){const[i,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&s===r)return;const a=this.currentPath;let o=u(this,Ei);if(a.push([t,s]),b(this,lo,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(t,s);return}a.length===3&&(b(this,Ei,o=new Path2D),o.moveTo(...a[0])),A(this,F,Ek).call(this,o,...a.at(-3),...a.at(-2),t,s)},bk=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);u(this,Ei).lineTo(...t)},Ak=function(t,s){b(this,Er,null),t=Math.min(Math.max(t,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),A(this,F,J0).call(this,t,s),A(this,F,bk).call(this);let i;if(this.currentPath.length!==1)i=A(this,F,Ck).call(this);else{const c=[t,s];i=[[c,c.slice(),c.slice(),c]]}const r=u(this,Ei),a=this.currentPath;this.currentPath=[],b(this,Ei,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(i),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(A(this,F,Zf).call(this),A(this,F,Jf).call(this)),A(this,F,yu).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},Sk=function(){if(!u(this,lo))return;b(this,lo,!1);const t=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),i=s.map(o=>o[0]),r=s.map(o=>o[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...r)-t,Math.max(...r)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(u(this,Ei)),a.restore()},Ek=function(t,s,i,r,a,o,l){const c=(s+r)/2,d=(i+a)/2,h=(r+o)/2,p=(a+l)/2;t.bezierCurveTo(c+2*(r-c)/3,d+2*(a-d)/3,h+2*(r-h)/3,p+2*(a-p)/3,h,p)},Ck=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const s=[];let i,[r,a]=t[0];for(i=1;i<t.length-2;i++){const[m,y]=t[i],[v,S]=t[i+1],g=(m+v)/2,x=(y+S)/2,w=[r+2*(m-r)/3,a+2*(y-a)/3],C=[g+2*(m-g)/3,x+2*(y-x)/3];s.push([[r,a],w,C,[g,x]]),[r,a]=[g,x]}const[o,l]=t[i],[c,d]=t[i+1],h=[r+2*(o-r)/3,a+2*(l-a)/3],p=[c+2*(o-c)/3,d+2*(l-d)/3];return s.push([[r,a],h,p,[c,d]]),s},ua=function(){if(this.isEmpty()){A(this,F,ep).call(this);return}A(this,F,Z0).call(this);const{canvas:t,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,t.width,t.height),A(this,F,ep).call(this);for(const i of this.bezierPath2D)s.stroke(i)},ev=function(){if(u(this,fc))return;b(this,fc,new AbortController);const t=this._uiManager.combinedSignal(u(this,fc));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},tv=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},nv=function(t){var s;(s=u(this,oo))==null||s.abort(),b(this,oo,null),A(this,F,ev).call(this),u(this,$s)&&clearTimeout(u(this,$s)),b(this,$s,setTimeout(()=>{b(this,$s,null),this.canvas.removeEventListener("contextmenu",ts)},10)),A(this,F,Ak).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Zf=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Jf=function(){b(this,Ci,new ResizeObserver(t=>{const s=t[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),u(this,Ci).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=u(this,Ci))==null||t.disconnect(),b(this,Ci,null)},{once:!0})},Go=function(){if(!u(this,co))return;const[t,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*s),A(this,F,ep).call(this)},sv=function(t,s){const i=A(this,F,tp).call(this),r=(t-i)/u(this,ao),a=(s-i)/u(this,ro);this.scaleFactor=Math.min(r,a)},ep=function(){const t=A(this,F,tp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Gi=new WeakSet,_k=function(t){const s=new Path2D;for(let i=0,r=t.length;i<r;i++){const[a,o,l,c]=t[i];i===0&&s.moveTo(...a),s.bezierCurveTo(o[0],o[1],l[0],l[1],c[0],c[1])}return s},iv=function(t,s,i){const[r,a,o,l]=s;switch(i){case 0:for(let c=0,d=t.length;c<d;c+=2)t[c]+=r,t[c+1]=l-t[c+1];break;case 90:for(let c=0,d=t.length;c<d;c+=2){const h=t[c];t[c]=t[c+1]+r,t[c+1]=h+a}break;case 180:for(let c=0,d=t.length;c<d;c+=2)t[c]=o-t[c],t[c+1]+=a;break;case 270:for(let c=0,d=t.length;c<d;c+=2){const h=t[c];t[c]=o-t[c+1],t[c+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},Tk=function(t,s,i){const[r,a,o,l]=s;switch(i){case 0:for(let c=0,d=t.length;c<d;c+=2)t[c]-=r,t[c+1]=l-t[c+1];break;case 90:for(let c=0,d=t.length;c<d;c+=2){const h=t[c];t[c]=t[c+1]-a,t[c+1]=h-r}break;case 180:for(let c=0,d=t.length;c<d;c+=2)t[c]=o-t[c],t[c+1]-=a;break;case 270:for(let c=0,d=t.length;c<d;c+=2){const h=t[c];t[c]=l-t[c+1],t[c+1]=o-h}break;default:throw new Error("Invalid rotation")}return t},kk=function(t,s,i,r){var d,h;const a=[],o=this.thickness/2,l=t*s+o,c=t*i+o;for(const p of this.paths){const m=[],y=[];for(let v=0,S=p.length;v<S;v++){const[g,x,w,C]=p[v];if(g[0]===C[0]&&g[1]===C[1]&&S===1){const K=t*g[0]+l,W=t*g[1]+c;m.push(K,W),y.push(K,W);break}const _=t*g[0]+l,k=t*g[1]+c,P=t*x[0]+l,N=t*x[1]+c,L=t*w[0]+l,M=t*w[1]+c,D=t*C[0]+l,Y=t*C[1]+c;v===0&&(m.push(_,k),y.push(_,k)),m.push(P,N,L,M,D,Y),y.push(P,N),v===S-1&&y.push(D,Y)}a.push({bezier:A(d=De,Gi,iv).call(d,m,r,this.rotation),points:A(h=De,Gi,iv).call(h,y,r,this.rotation)})}return a},rv=function(){let t=1/0,s=-1/0,i=1/0,r=-1/0;for(const a of this.paths)for(const[o,l,c,d]of a){const h=$.bezierBoundingBox(...o,...l,...c,...d);t=Math.min(t,h[0]),i=Math.min(i,h[1]),s=Math.max(s,h[2]),r=Math.max(r,h[3])}return[t,i,s,r]},tp=function(){return u(this,Wn)?Math.ceil(this.thickness*this.parentScale):0},yu=function(t=!1){if(this.isEmpty())return;if(!u(this,Wn)){A(this,F,ua).call(this);return}const s=A(this,F,rv).call(this),i=A(this,F,tp).call(this);b(this,ao,Math.max(xe.MIN_SIZE,s[2]-s[0])),b(this,ro,Math.max(xe.MIN_SIZE,s[3]-s[1]));const r=Math.ceil(i+u(this,ao)*this.scaleFactor),a=Math.ceil(i+u(this,ro)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=r/o,this.height=a/l,this.setAspectRatio(r,a);const c=this.translationX,d=this.translationY;this.translationX=-s[0],this.translationY=-s[1],A(this,F,Go).call(this),A(this,F,ua).call(this),b(this,uo,r),b(this,ho,a),this.setDims(r,a);const h=t?i/this.scaleFactor/2:0;this.translate(c-this.translationX-h,d-this.translationY-h)},E(De,Gi),Q(De,"_defaultColor",null),Q(De,"_defaultOpacity",1),Q(De,"_defaultThickness",1),Q(De,"_type","ink"),Q(De,"_editorType",se.INK);let Q0=De;var Fe,Ct,Cr,_i,_r,pc,Ws,Ti,Gs,Cn,mc,ce,vu,xu,np,ov,Pk,sp,lv,ip,Nk,Rk;const Du=class Du extends xe{constructor(t){super({...t,name:"stampEditor"});E(this,ce);E(this,Fe,null);E(this,Ct,null);E(this,Cr,null);E(this,_i,null);E(this,_r,null);E(this,pc,"");E(this,Ws,null);E(this,Ti,null);E(this,Gs,null);E(this,Cn,!1);E(this,mc,!1);b(this,_i,t.bitmapUrl),b(this,_r,t.bitmapFile)}static initialize(t,s){xe.initialize(t,s)}static get supportedTypes(){return de(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return de(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,s){s.pasteEditor(se.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const s=t.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(t=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:r,width:a,height:o,channels:r.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),s&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t,s;u(this,Ct)&&(b(this,Fe,null),this._uiManager.imageManager.deleteId(u(this,Ct)),(t=u(this,Ws))==null||t.remove(),b(this,Ws,null),(s=u(this,Ti))==null||s.disconnect(),b(this,Ti,null),u(this,Gs)&&(clearTimeout(u(this,Gs)),b(this,Gs,null))),super.remove()}rebuild(){if(!this.parent){u(this,Ct)&&A(this,ce,np).call(this);return}super.rebuild(),this.div!==null&&(u(this,Ct)&&u(this,Ws)===null&&A(this,ce,np).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,Cr)||u(this,Fe)||u(this,_i)||u(this,_r)||u(this,Ct))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,s;if(this.width&&(t=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),u(this,Fe)?A(this,ce,ov).call(this):A(this,ce,np).call(this),this.width&&!this.annotationElementId){const[i,r]=this.parentDimensions;this.setAt(t*i,s*r,this.width*i,this.height*r)}return this.div}copyCanvas(t,s,i=!1){var m;t||(t=224);const{width:r,height:a}=u(this,Fe),o=new n0;let l=u(this,Fe),c=r,d=a,h=null;if(s){if(r>s||a>s){const N=Math.min(s/r,s/a);c=Math.floor(r*N),d=Math.floor(a*N)}h=document.createElement("canvas");const y=h.width=Math.ceil(c*o.sx),v=h.height=Math.ceil(d*o.sy);u(this,Cn)||(l=A(this,ce,sp).call(this,y,v));const S=h.getContext("2d");S.filter=this._uiManager.hcmFilter;let g="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(g="#8f8f9d",x="#42414d");const w=15,C=w*o.sx,_=w*o.sy,k=new OffscreenCanvas(C*2,_*2),P=k.getContext("2d");P.fillStyle=g,P.fillRect(0,0,C*2,_*2),P.fillStyle=x,P.fillRect(0,0,C,_),P.fillRect(C,_,C,_),S.fillStyle=S.createPattern(k,"repeat"),S.fillRect(0,0,y,v),S.drawImage(l,0,0,l.width,l.height,0,0,y,v)}let p=null;if(i){let y,v;if(o.symmetric&&l.width<t&&l.height<t)y=l.width,v=l.height;else if(l=u(this,Fe),r>t||a>t){const x=Math.min(t/r,t/a);y=Math.floor(r*x),v=Math.floor(a*x),u(this,Cn)||(l=A(this,ce,sp).call(this,y,v))}const g=new OffscreenCanvas(y,v).getContext("2d",{willReadFrequently:!0});g.drawImage(l,0,0,l.width,l.height,0,0,y,v),p={width:y,height:v,data:g.getImageData(0,0,y,v).data}}return{canvas:h,width:c,height:d,imageData:p}}getImageForAltText(){return u(this,Ws)}static async deserialize(t,s,i){var v;let r=null;if(t instanceof zT){const{data:{rect:S,rotation:g,id:x,structParent:w,popupRef:C},container:_,parent:{page:{pageNumber:k}}}=t,P=_.querySelector("canvas"),N=i.imageManager.getFromCanvas(_.id,P);P.remove();const L=((v=await s._structTree.getAriaAttributes(`${Zx}${x}`))==null?void 0:v.get("aria-label"))||"";r=t={annotationType:se.STAMP,bitmapId:N.id,bitmap:N.bitmap,pageIndex:k-1,rect:S.slice(0),rotation:g,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:L},isSvg:!1,structParent:w,popupRef:C}}const a=await super.deserialize(t,s,i),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:d,isSvg:h,accessibilityData:p}=t;d&&i.imageManager.isValidId(d)?(b(a,Ct,d),l&&b(a,Fe,l)):b(a,_i,c),b(a,Cn,h);const[m,y]=a.pageDimensions;return a.width=(o[2]-o[0])/m,a.height=(o[3]-o[1])/y,a.annotationElementId=t.id||null,p&&(a.altTextData=p),a._initialData=r,b(a,mc,!!r),a}serialize(t=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:se.STAMP,bitmapId:u(this,Ct),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,Cn),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=A(this,ce,ip).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:r,altText:a}=this.serializeAltText(!1);if(!r&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=A(this,ce,Rk).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,s===null)return i;s.stamps||(s.stamps=new Map);const o=u(this,Cn)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!s.stamps.has(u(this,Ct)))s.stamps.set(u(this,Ct),{area:o,serialized:i}),i.bitmap=A(this,ce,ip).call(this,!1);else if(u(this,Cn)){const l=s.stamps.get(u(this,Ct));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=A(this,ce,ip).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Fe=new WeakMap,Ct=new WeakMap,Cr=new WeakMap,_i=new WeakMap,_r=new WeakMap,pc=new WeakMap,Ws=new WeakMap,Ti=new WeakMap,Gs=new WeakMap,Cn=new WeakMap,mc=new WeakMap,ce=new WeakSet,vu=function(t,s=!1){if(!t){this.remove();return}b(this,Fe,t.bitmap),s||(b(this,Ct,t.id),b(this,Cn,t.isSvg)),t.file&&b(this,pc,t.file.name),A(this,ce,ov).call(this)},xu=function(){if(b(this,Cr,null),this._uiManager.enableWaiting(!1),!!u(this,Ws)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Fe)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Fe)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},np=function(){if(u(this,Ct)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,Ct)).then(i=>A(this,ce,vu).call(this,i,!0)).finally(()=>A(this,ce,xu).call(this));return}if(u(this,_i)){const i=u(this,_i);b(this,_i,null),this._uiManager.enableWaiting(!0),b(this,Cr,this._uiManager.imageManager.getFromUrl(i).then(r=>A(this,ce,vu).call(this,r)).finally(()=>A(this,ce,xu).call(this)));return}if(u(this,_r)){const i=u(this,_r);b(this,_r,null),this._uiManager.enableWaiting(!0),b(this,Cr,this._uiManager.imageManager.getFromFile(i).then(r=>A(this,ce,vu).call(this,r)).finally(()=>A(this,ce,xu).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Du.supportedTypesStr;const s=this._uiManager._signal;b(this,Cr,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),A(this,ce,vu).call(this,r)}i()},{signal:s}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:s})}).finally(()=>A(this,ce,xu).call(this))),t.click()},ov=function(){const{div:t}=this;let{width:s,height:i}=u(this,Fe);const[r,a]=this.pageDimensions,o=.75;if(this.width)s=this.width*r,i=this.height*a;else if(s>o*r||i>o*a){const h=Math.min(o*r/s,o*a/i);s*=h,i*=h}const[l,c]=this.parentDimensions;this.setDims(s*l/r,i*c/a),this._uiManager.enableWaiting(!1);const d=b(this,Ws,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),A(this,ce,lv).call(this,s,i),A(this,ce,Nk).call(this),u(this,mc)||(this.parent.addUndoableEditor(this),b(this,mc,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,pc)&&d.setAttribute("aria-label",u(this,pc))},Pk=function(t,s){var o;const[i,r]=this.parentDimensions;this.width=t/i,this.height=s/r,(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,Gs)!==null&&clearTimeout(u(this,Gs)),b(this,Gs,setTimeout(()=>{b(this,Gs,null),A(this,ce,lv).call(this,t,s)},200))},sp=function(t,s){const{width:i,height:r}=u(this,Fe);let a=i,o=r,l=u(this,Fe);for(;a>2*t||o>2*s;){const c=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*s&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,c,d,0,0,a,o),l=h.transferToImageBitmap()}return l},lv=function(t,s){const i=new n0,r=Math.ceil(t*i.sx),a=Math.ceil(s*i.sy),o=u(this,Ws);if(!o||o.width===r&&o.height===a)return;o.width=r,o.height=a;const l=u(this,Cn)?u(this,Fe):A(this,ce,sp).call(this,r,a),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,r,a)},ip=function(t){if(t){if(u(this,Cn)){const r=this._uiManager.imageManager.getSvgUrl(u(this,Ct));if(r)return r}const s=document.createElement("canvas");return{width:s.width,height:s.height}=u(this,Fe),s.getContext("2d").drawImage(u(this,Fe),0,0),s.toDataURL()}if(u(this,Cn)){const[s,i]=this.pageDimensions,r=Math.round(this.width*s*Gr.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Gr.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,a);return o.getContext("2d").drawImage(u(this,Fe),0,0,u(this,Fe).width,u(this,Fe).height,0,0,r,a),o.transferToImageBitmap()}return structuredClone(u(this,Fe))},Nk=function(){this._uiManager._signal&&(b(this,Ti,new ResizeObserver(t=>{const s=t[0].contentRect;s.width&&s.height&&A(this,ce,Pk).call(this,s.width,s.height)})),u(this,Ti).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=u(this,Ti))==null||t.disconnect(),b(this,Ti,null)},{once:!0}))},Rk=function(t){var c;const{rect:s,pageIndex:i,accessibilityData:{altText:r}}=this._initialData,a=t.rect.every((d,h)=>Math.abs(d-s[h])<1),o=t.pageIndex===i,l=(((c=t.accessibilityData)==null?void 0:c.alt)||"")===r;return{isSame:a&&o&&l,isSameAltText:l}},Q(Du,"_type","stamp"),Q(Du,"_editorType",se.STAMP);let av=Du;var fo,gc,Ks,Tr,ki,_n,kr,yc,vc,Bt,Pi,G,Pr,Pt,Lk,uv,dv,hv,rp;const rs=class rs{constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:i,accessibilityManager:r,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:d}){E(this,Pt);E(this,fo);E(this,gc,!1);E(this,Ks,null);E(this,Tr,null);E(this,ki,null);E(this,_n,new Map);E(this,kr,!1);E(this,yc,!1);E(this,vc,!1);E(this,Bt,null);E(this,Pi,null);E(this,G);const h=[...u(rs,Pr).values()];if(!rs._initialized){rs._initialized=!0;for(const p of h)p.initialize(d,e)}e.registerEditorTypes(h),b(this,G,e),this.pageIndex=t,this.div=s,b(this,fo,r),b(this,Ks,a),this.viewport=c,b(this,Bt,l),this.drawLayer=o,this._structTree=i,u(this,G).addLayer(this)}get isEmpty(){return u(this,_n).size===0}get isInvisible(){return this.isEmpty&&u(this,G).getMode()===se.NONE}updateToolbar(e){u(this,G).updateToolbar(e)}updateMode(e=u(this,G).getMode()){switch(A(this,Pt,rp).call(this),e){case se.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case se.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case se.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const s of u(rs,Pr).values())t.toggle(`${s._type}Editing`,e===s._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,Bt))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(u(this,G).getMode()!==se.INK)return;if(!e){for(const s of u(this,_n).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){u(this,G).setEditingState(e)}addCommands(e){u(this,G).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,Ks))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const s of u(this,_n).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(u(this,G).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!u(this,Ks))return;const t=u(this,Ks).getEditableAnnotations();for(const s of t){if(s.hide(),u(this,G).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const i=await this.deserialize(s);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;b(this,vc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const r of u(this,_n).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else t.set(r.annotationElementId,r);(i=this.getEditableAnnotation(r.annotationElementId))==null||i.show(),r.remove()}if(u(this,Ks)){const r=u(this,Ks).getEditableAnnotations();for(const a of r){const{id:o}=a.data;if(u(this,G).isDeletedAnnotationElement(o))continue;let l=t.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(u(this,G).addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}A(this,Pt,rp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const r of u(rs,Pr).values())s.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,vc,!1)}getEditableAnnotation(e){var t;return((t=u(this,Ks))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,G).getActive()!==e&&u(this,G).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,Bt))!=null&&e.div&&!u(this,Pi)){b(this,Pi,new AbortController);const t=u(this,G).combinedSignal(u(this,Pi));u(this,Bt).div.addEventListener("pointerdown",A(this,Pt,Lk).bind(this),{signal:t}),u(this,Bt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,Bt))!=null&&e.div&&u(this,Pi)&&(u(this,Pi).abort(),b(this,Pi,null),u(this,Bt).div.classList.remove("highlighting"))}enableClick(){if(u(this,Tr))return;b(this,Tr,new AbortController);const e=u(this,G).combinedSignal(u(this,Tr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=u(this,Tr))==null||e.abort(),b(this,Tr,null)}attach(e){u(this,_n).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,G).isDeletedAnnotationElement(t)&&u(this,G).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,_n).delete(e.id),(t=u(this,fo))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,vc)&&e.annotationElementId&&u(this,G).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,G).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,u(this,yc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,G).addDeletedAnnotationElement(e.annotationElementId),xe.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,G).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),u(this,G).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var s;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,ki)&&(e._focusEventsAllowed=!1,b(this,ki,setTimeout(()=>{b(this,ki,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,G)._signal}),t.focus())},0))),e._structTreeParentId=(s=u(this,fo))==null?void 0:s.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getNextId(){return u(this,G).getId()}combinedSignal(e){return u(this,G).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,Pt,uv))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){u(this,G).updateToolbar(e),u(this,G).updateMode(e);const{offsetX:s,offsetY:i}=A(this,Pt,hv).call(this),r=this.getNextId(),a=A(this,Pt,dv).call(this,{parent:this,id:r,x:s,y:i,uiManager:u(this,G),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=u(rs,Pr).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,G)))||null}createAndAddNewEditor(e,t,s={}){const i=this.getNextId(),r=A(this,Pt,dv).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:u(this,G),isCentered:t,...s});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(A(this,Pt,hv).call(this),!0)}setSelected(e){u(this,G).setSelected(e)}toggleSelected(e){u(this,G).toggleSelected(e)}unselect(e){u(this,G).unselect(e)}pointerup(e){const{isMac:t}=Jt.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&u(this,kr)){if(b(this,kr,!1),!u(this,gc)){b(this,gc,!0);return}if(u(this,G).getMode()===se.STAMP){u(this,G).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(u(this,G).getMode()===se.HIGHLIGHT&&this.enableTextSelection(),u(this,kr)){b(this,kr,!1);return}const{isMac:t}=Jt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;b(this,kr,!0);const s=u(this,G).getActive();b(this,gc,!s||s.isEmpty())}findNewParent(e,t,s){const i=u(this,G).findParent(t,s);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=u(this,G).getActive())==null?void 0:e.parent)===this&&(u(this,G).commitOrRemove(),u(this,G).setActiveEditor(null)),u(this,ki)&&(clearTimeout(u(this,ki)),b(this,ki,null));for(const s of u(this,_n).values())(t=u(this,fo))==null||t.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,u(this,_n).clear(),u(this,G).removeLayer(this)}render({viewport:e}){this.viewport=e,Ao(this.div,e);for(const t of u(this,G).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,G).commitOrRemove(),A(this,Pt,rp).call(this);const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,Ao(this.div,{rotation:s}),t!==s)for(const i of u(this,_n).values())i.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,G).viewParameters.realScale}};fo=new WeakMap,gc=new WeakMap,Ks=new WeakMap,Tr=new WeakMap,ki=new WeakMap,_n=new WeakMap,kr=new WeakMap,yc=new WeakMap,vc=new WeakMap,Bt=new WeakMap,Pi=new WeakMap,G=new WeakMap,Pr=new WeakMap,Pt=new WeakSet,Lk=function(e){u(this,G).unselectAll();const{target:t}=e;if(t===u(this,Bt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&u(this,Bt).div.contains(t)){const{isMac:s}=Jt.platform;if(e.button!==0||e.ctrlKey&&s)return;u(this,G).showAllEditors("highlight",!0,!0),u(this,Bt).div.classList.add("free"),this.toggleDrawing(),$p.startHighlighting(this,u(this,G).direction==="ltr",{target:u(this,Bt).div,x:e.x,y:e.y}),u(this,Bt).div.addEventListener("pointerup",()=>{u(this,Bt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,G)._signal}),e.preventDefault()}},uv=function(){return u(rs,Pr).get(u(this,G).getMode())},dv=function(e){const t=u(this,Pt,uv);return t?new t.prototype.constructor(e):null},hv=function(){const{x:e,y:t,width:s,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+s),l=Math.min(window.innerHeight,t+i),c=(r+o)/2-e,d=(a+l)/2-t,[h,p]=this.viewport.rotation%180===0?[c,d]:[d,c];return{offsetX:h,offsetY:p}},rp=function(){b(this,yc,!0);for(const e of u(this,_n).values())e.isEmpty()&&e.remove();b(this,yc,!1)},Q(rs,"_initialized",!1),E(rs,Pr,new Map([H0,Q0,av,$p].map(e=>[e._editorType,e])));let cv=rs;var Xs,wh,tt,Ni,bh,pv,To,mv,Mk;const At=class At{constructor({pageIndex:e}){E(this,To);E(this,Xs,null);E(this,wh,0);E(this,tt,new Map);E(this,Ni,new Map);this.pageIndex=e}setParent(e){if(!u(this,Xs)){b(this,Xs,e);return}if(u(this,Xs)!==e){if(u(this,tt).size>0)for(const t of u(this,tt).values())t.remove(),e.append(t);b(this,Xs,e)}}static get _svgFactory(){return de(this,"_svgFactory",new lw)}draw(e,t,s,i=!1){const r=Kt(this,wh)._++,a=A(this,To,mv).call(this,e.box);a.classList.add(...e.classNamesForDrawing);const o=At._svgFactory.createElement("defs");a.append(o);const l=At._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&u(this,Ni).set(r,l);const d=A(this,To,Mk).call(this,o,c),h=At._svgFactory.createElement("use");return a.append(h),a.setAttribute("fill",t),a.setAttribute("fill-opacity",s),h.setAttribute("href",`#${c}`),u(this,tt).set(r,a),{id:r,clipPathId:`url(#${d})`}}drawOutline(e){const t=Kt(this,wh)._++,s=A(this,To,mv).call(this,e.box);s.classList.add(...e.classNamesForOutlining);const i=At._svgFactory.createElement("defs");s.append(i);const r=At._svgFactory.createElement("path");i.append(r);const a=`path_p${this.pageIndex}_${t}`;r.setAttribute("id",a),r.setAttribute("d",e.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.mustRemoveSelfIntersections){const d=At._svgFactory.createElement("mask");i.append(d),o=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",o),d.setAttribute("maskUnits","objectBoundingBox");const h=At._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const p=At._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const l=At._svgFactory.createElement("use");s.append(l),l.setAttribute("href",`#${a}`),o&&l.setAttribute("mask",`url(#${o})`);const c=l.cloneNode();return s.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),u(this,tt).set(t,s),t}finalizeLine(e,t){const s=u(this,Ni).get(e);u(this,Ni).delete(e),this.updateBox(e,t.box),s.setAttribute("d",t.toSVGPath())}updateLine(e,t){u(this,tt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){u(this,Ni).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var s;A(s=At,bh,pv).call(s,u(this,tt).get(e),t)}show(e,t){u(this,tt).get(e).classList.toggle("hidden",!t)}rotate(e,t){u(this,tt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){u(this,tt).get(e).setAttribute("fill",t)}changeOpacity(e,t){u(this,tt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){u(this,tt).get(e).classList.add(t)}removeClass(e,t){u(this,tt).get(e).classList.remove(t)}getSVGRoot(e){return u(this,tt).get(e)}remove(e){u(this,Ni).delete(e),u(this,Xs)!==null&&(u(this,tt).get(e).remove(),u(this,tt).delete(e))}destroy(){b(this,Xs,null);for(const e of u(this,tt).values())e.remove();u(this,tt).clear(),u(this,Ni).clear()}};Xs=new WeakMap,wh=new WeakMap,tt=new WeakMap,Ni=new WeakMap,bh=new WeakSet,pv=function(e,{x:t=0,y:s=0,width:i=1,height:r=1}={}){const{style:a}=e;a.top=`${100*s}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*r}%`},To=new WeakSet,mv=function(e){var s;const t=At._svgFactory.create(1,1,!0);return u(this,Xs).append(t),t.setAttribute("aria-hidden",!0),A(s=At,bh,pv).call(s,t,e),t},Mk=function(e,t){const s=At._svgFactory.createElement("clipPath");e.append(s);const i=`clip_${t}`;s.setAttribute("id",i),s.setAttribute("clipPathUnits","objectBoundingBox");const r=At._svgFactory.createElement("use");return s.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i},E(At,bh);let fv=At;var X3=ee.AbortException,q3=ee.AnnotationEditorLayer,Y3=ee.AnnotationEditorParamsType,Q3=ee.AnnotationEditorType,Z3=ee.AnnotationEditorUIManager,jk=ee.AnnotationLayer,Dk=ee.AnnotationMode,J3=ee.ColorPicker,e4=ee.DOMSVGFactory,t4=ee.DrawLayer,n4=ee.FeatureTest,uw=ee.GlobalWorkerOptions,s4=ee.ImageKind,i4=ee.InvalidPDFException,r4=ee.MissingPDFException,a4=ee.OPS,o4=ee.OutputScale,l4=ee.PDFDataRangeTransport,c4=ee.PDFDateString,u4=ee.PDFWorker,d4=ee.PasswordResponses,h4=ee.PermissionFlag,f4=ee.PixelsPerInch,p4=ee.RenderingCancelledException,Ik=ee.TextLayer,m4=ee.UnexpectedResponseException,g4=ee.Util,y4=ee.VerbosityLevel,v4=ee.XfaLayer,x4=ee.build,w4=ee.createValidAbsoluteUrl,b4=ee.fetchData,Fk=ee.getDocument,A4=ee.getFilenameFromUrl,S4=ee.getPdfFilenameFromUrl,E4=ee.getXfaPageViewport,C4=ee.isDataScheme,_4=ee.isPdfFile,T4=ee.noContextMenu,k4=ee.normalizeUnicode,P4=ee.setLayerDimensions,N4=ee.shadow,Ok=ee.version;const R4=Object.freeze(Object.defineProperty({__proto__:null,AbortException:X3,AnnotationEditorLayer:q3,AnnotationEditorParamsType:Y3,AnnotationEditorType:Q3,AnnotationEditorUIManager:Z3,AnnotationLayer:jk,AnnotationMode:Dk,ColorPicker:J3,DOMSVGFactory:e4,DrawLayer:t4,FeatureTest:n4,GlobalWorkerOptions:uw,ImageKind:s4,InvalidPDFException:i4,MissingPDFException:r4,OPS:a4,OutputScale:o4,PDFDataRangeTransport:l4,PDFDateString:c4,PDFWorker:u4,PasswordResponses:d4,PermissionFlag:h4,PixelsPerInch:f4,RenderingCancelledException:p4,TextLayer:Ik,UnexpectedResponseException:m4,Util:g4,VerbosityLevel:y4,XfaLayer:v4,build:x4,createValidAbsoluteUrl:w4,fetchData:b4,getDocument:Fk,getFilenameFromUrl:A4,getPdfFilenameFromUrl:S4,getXfaPageViewport:E4,isDataScheme:C4,isPdfFile:_4,noContextMenu:T4,normalizeUnicode:k4,setLayerDimensions:P4,shadow:N4,version:Ok},Symbol.toStringTag,{value:"Module"}));var pt=function(n,e,t){if(t||arguments.length===2)for(var s=0,i=e.length,r;s<i;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return n.concat(r||Array.prototype.slice.call(e))},L4=["onCopy","onCut","onPaste"],M4=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],j4=["onFocus","onBlur"],D4=["onInput","onInvalid","onReset","onSubmit"],I4=["onLoad","onError"],F4=["onKeyDown","onKeyPress","onKeyUp"],O4=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],B4=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],V4=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],z4=["onSelect"],H4=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],U4=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],$4=["onScroll"],W4=["onWheel"],G4=["onAnimationStart","onAnimationEnd","onAnimationIteration"],K4=["onTransitionEnd"],X4=["onToggle"],q4=["onChange"],Y4=pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt(pt([],L4,!0),M4,!0),j4,!0),D4,!0),I4,!0),F4,!0),O4,!0),B4,!0),V4,!0),z4,!0),H4,!0),U4,!0),$4,!0),W4,!0),G4,!0),K4,!0),q4,!0),X4,!0);function Bk(n,e){var t={};return Y4.forEach(function(s){var i=n[s];i&&(e?t[s]=function(r){return i(r,e(s))}:t[s]=i)}),t}function Ih(n){var e=!1,t=new Promise(function(s,i){n.then(function(r){return!e&&s(r)}).catch(function(r){return!e&&i(r)})});return{promise:t,cancel:function(){e=!0}}}function Vk(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Vk(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Vm(){for(var n,e,t=0,s="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Vk(n))&&(s&&(s+=" "),s+=e);return s}var Q4="Invariant failed";function Se(n,e){if(!n)throw new Error(Q4)}var Z4=function(){},J4=Z4;const Ht=kA(J4);var yA=Object.prototype.hasOwnProperty;function vA(n,e,t){for(t of n.keys())if(xl(t,e))return t}function xl(n,e){var t,s,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((s=n.length)===e.length)for(;s--&&xl(n[s],e[s]););return s===-1}if(t===Set){if(n.size!==e.size)return!1;for(s of n)if(i=s,i&&typeof i=="object"&&(i=vA(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(s of n)if(i=s[0],i&&typeof i=="object"&&(i=vA(e,i),!i)||!xl(s[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((s=n.byteLength)===e.byteLength)for(;s--&&n.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(n)){if((s=n.byteLength)===e.byteLength)for(;s--&&n[s]===e[s];);return s===-1}if(!t||typeof n=="object"){s=0;for(t in n)if(yA.call(n,t)&&++s&&!yA.call(e,t)||!(t in e)||!xl(n[t],e[t]))return!1;return Object.keys(e).length===s}}return n!==n&&e!==e}const zk=T.createContext(null);function wl({children:n,type:e}){return f.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const e5="noopener noreferrer nofollow";class t5{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Se(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Se(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Se(this.pdfDocument),Se(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Se(Array.isArray(t));const s=t[0];new Promise(i=>{Se(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(r=>{i(r)}).catch(()=>{Se(!1)}):typeof s=="number"?i(s):Se(!1)}).then(i=>{const r=i+1;Se(this.pdfViewer),Se(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:r})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Se(this.pdfViewer),Se(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||e5,e.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const xA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},zm=typeof window<"u",Hk=zm&&window.location.protocol==="file:";function n5(n){return typeof n<"u"}function na(n){return n5(n)&&n!==null}function s5(n){return typeof n=="string"}function i5(n){return n instanceof ArrayBuffer}function r5(n){return Se(zm),n instanceof Blob}function gv(n){return s5(n)&&/^data:/.test(n)}function wA(n){Se(gv(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function a5(){return zm&&window.devicePixelRatio||1}const Uk="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function bA(){Ht(!Hk,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Uk}`)}function o5(){Ht(!Hk,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Uk}`)}function Co(n){n!=null&&n.cancel&&n.cancel()}function yv(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function l5(n){return n.name==="RenderingCancelledException"}function c5(n){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:r}=i.target;if(!r)return t(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(n)})}function u5(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Pc(){return T.useReducer(u5,{value:void 0,error:void 0})}var d5=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function o(d){try{c(s.next(d))}catch(h){a(h)}}function l(d){try{c(s.throw(d))}catch(h){a(h)}}function c(d){d.done?r(d.value):i(d.value).then(o,l)}c((s=s.apply(n,e||[])).next())})},AA=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t};const{PDFDataRangeTransport:h5}=R4,f5=(n,e)=>{switch(e){case xA.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case xA.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function SA(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const p5=T.forwardRef(function(e,t){var{children:s,className:i,error:r="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:h="Loading PDF",noData:p="No PDF file specified.",onItemClick:m,onLoadError:y,onLoadProgress:v,onLoadSuccess:S,onPassword:g=f5,onSourceError:x,onSourceSuccess:w,options:C,renderMode:_,rotate:k}=e,P=AA(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[N,L]=Pc(),{value:M,error:D}=N,[Y,K]=Pc(),{value:W,error:J}=Y,q=T.useRef(new t5),I=T.useRef([]),R=T.useRef(void 0),H=T.useRef(void 0);l&&l!==R.current&&SA(l)&&(Ht(!xl(l,R.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),R.current=l),C&&C!==H.current&&(Ht(!xl(C,H.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),H.current=C);const U=T.useRef({scrollPageIntoView:Ee=>{const{dest:Je,pageNumber:Rt,pageIndex:ft=Rt-1}=Ee;if(m){m({dest:Je,pageIndex:ft,pageNumber:Rt});return}const Io=I.current[ft];if(Io){Io.scrollIntoView();return}Ht(!1,`An internal link leading to page ${Rt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});T.useImperativeHandle(t,()=>({linkService:q,pages:I,viewer:U}),[]);function ae(){w&&w()}function ne(){D&&(Ht(!1,D.toString()),x&&x(D))}function pe(){L({type:"RESET"})}T.useEffect(pe,[l,L]);const Ue=T.useCallback(()=>d5(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return gv(l)?{data:wA(l)}:(bA(),{url:l});if(l instanceof h5)return{range:l};if(i5(l))return{data:l};if(zm&&r5(l))return{data:yield c5(l)};if(Se(typeof l=="object"),Se(SA(l)),"url"in l&&typeof l.url=="string"){if(gv(l.url)){const{url:Ee}=l,Je=AA(l,["url"]),Rt=wA(Ee);return Object.assign({data:Rt},Je)}bA()}return l}),[l]);T.useEffect(()=>{const Ee=Ih(Ue());return Ee.promise.then(Je=>{L({type:"RESOLVE",value:Je})}).catch(Je=>{L({type:"REJECT",error:Je})}),()=>{Co(Ee)}},[Ue,L]),T.useEffect(()=>{if(!(typeof M>"u")){if(M===!1){ne();return}ae()}},[M]);function Gt(){W&&(S&&S(W),I.current=new Array(W.numPages),q.current.setDocument(W))}function ge(){J&&(Ht(!1,J.toString()),y&&y(J))}T.useEffect(function(){K({type:"RESET"})},[K,M]),T.useEffect(function(){if(!M)return;const Je=C?Object.assign(Object.assign({},M),C):M,Rt=Fk(Je);v&&(Rt.onProgress=v),g&&(Rt.onPassword=g);const ft=Rt,Io=ft.promise.then(Oc=>{K({type:"RESOLVE",value:Oc})}).catch(Oc=>{ft.destroyed||K({type:"REJECT",error:Oc})});return()=>{Io.finally(()=>ft.destroy())}},[C,K,M]),T.useEffect(()=>{if(!(typeof W>"u")){if(W===!1){ge();return}Gt()}},[W]),T.useEffect(function(){q.current.setViewer(U.current),q.current.setExternalLinkRel(a),q.current.setExternalLinkTarget(o)},[a,o]);const ue=T.useCallback((Ee,Je)=>{I.current[Ee]=Je},[]),Ts=T.useCallback(Ee=>{delete I.current[Ee]},[]),ns=T.useMemo(()=>({imageResourcesPath:d,linkService:q.current,onItemClick:m,pdf:W,registerPage:ue,renderMode:_,rotate:k,unregisterPage:Ts}),[d,m,W,ue,_,k,Ts]),Le=T.useMemo(()=>Bk(P,()=>W),[P,W]);function Ic(){return f.jsx(zk.Provider,{value:ns,children:s})}function Fc(){return l?W==null?f.jsx(wl,{type:"loading",children:typeof h=="function"?h():h}):W===!1?f.jsx(wl,{type:"error",children:typeof r=="function"?r():r}):Ic():f.jsx(wl,{type:"no-data",children:typeof p=="function"?p():p})}return f.jsx("div",Object.assign({className:Vm("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},Le,{children:Fc()}))});function $k(){return T.useContext(zk)}function Wk(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(r){t.forEach(function(a){typeof a=="function"?a(r):a&&(a.current=r)})}}const Gk=T.createContext(null),Kk={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},m5=/^H(\d+)$/;function g5(n){return n in Kk}function Hm(n){return"children"in n}function Xk(n){return Hm(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function y5(n){const e={};if(Hm(n)){const{role:t}=n,s=t.match(m5);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(g5(t)){const i=Kk[t];i&&(e.role=i)}}return e}function qk(n){const e={};if(Hm(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),Xk(n)){const[t]=n.children;if(t){const s=qk(t);return Object.assign(Object.assign({},e),s)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function v5(n){return n?Object.assign(Object.assign({},y5(n)),qk(n)):null}function Yk({className:n,node:e}){const t=T.useMemo(()=>v5(e),[e]),s=T.useMemo(()=>!Hm(e)||Xk(e)?null:e.children.map((i,r)=>f.jsx(Yk,{node:i},r)),[e]);return f.jsx("span",Object.assign({className:n},t,{children:s}))}function Um(){return T.useContext(Gk)}function x5(){const n=Um();Se(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[s,i]=Pc(),{value:r,error:a}=s,{customTextRenderer:o,page:l}=n;function c(){r&&t&&t(r)}function d(){a&&(Ht(!1,a.toString()),e&&e(a))}return T.useEffect(function(){i({type:"RESET"})},[i,l]),T.useEffect(function(){if(o||!l)return;const p=Ih(l.getStructTree()),m=p;return p.promise.then(y=>{i({type:"RESOLVE",value:y})}).catch(y=>{i({type:"REJECT",error:y})}),()=>Co(m)},[o,l,i]),T.useEffect(()=>{if(r!==void 0){if(r===!1){d();return}c()}},[r]),r?f.jsx(Yk,{className:"react-pdf__Page__structTree structTree",node:r}):null}const EA=Dk;function w5(n){const e=Um();Se(e);const t=Object.assign(Object.assign({},e),n),{_className:s,canvasBackground:i,devicePixelRatio:r=a5(),onRenderError:a,onRenderSuccess:o,page:l,renderForms:c,renderTextLayer:d,rotate:h,scale:p}=t,{canvasRef:m}=n;Se(l);const y=T.useRef(null);function v(){l&&o&&o(yv(l,p))}function S(C){l5(C)||(Ht(!1,C.toString()),a&&a(C))}const g=T.useMemo(()=>l.getViewport({scale:p*r,rotation:h}),[r,l,h,p]),x=T.useMemo(()=>l.getViewport({scale:p,rotation:h}),[l,h,p]);T.useEffect(function(){if(!l)return;l.cleanup();const{current:_}=y;if(!_)return;_.width=g.width,_.height=g.height,_.style.width=`${Math.floor(x.width)}px`,_.style.height=`${Math.floor(x.height)}px`,_.style.visibility="hidden";const k={annotationMode:c?EA.ENABLE_FORMS:EA.ENABLE,canvasContext:_.getContext("2d",{alpha:!1}),viewport:g};i&&(k.background=i);const P=l.render(k),N=P;return P.promise.then(()=>{_.style.visibility="",v()}).catch(S),()=>Co(N)},[i,l,c,g,x]);const w=T.useCallback(()=>{const{current:C}=y;C&&(C.width=0,C.height=0)},[]);return T.useEffect(()=>w,[w]),f.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:Wk(m,y),style:{display:"block",userSelect:"none"},children:d?f.jsx(x5,{}):null})}function b5(n){return"str"in n}function A5(){const n=Um();Se(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:i,onRenderTextLayerSuccess:r,page:a,pageIndex:o,pageNumber:l,rotate:c,scale:d}=n;Se(a);const[h,p]=Pc(),{value:m,error:y}=h,v=T.useRef(null);Ht(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){m&&s&&s(m)}function g(){y&&(Ht(!1,y.toString()),t&&t(y))}T.useEffect(function(){p({type:"RESET"})},[a,p]),T.useEffect(function(){if(!a)return;const N=Ih(a.getTextContent()),L=N;return N.promise.then(M=>{p({type:"RESOLVE",value:M})}).catch(M=>{p({type:"REJECT",error:M})}),()=>Co(L)},[a,p]),T.useEffect(()=>{if(m!==void 0){if(m===!1){g();return}S()}},[m]);const x=T.useCallback(()=>{r&&r()},[r]),w=T.useCallback(P=>{Ht(!1,P.toString()),i&&i(P)},[i]);function C(){const P=v.current;P&&P.classList.add("selecting")}function _(){const P=v.current;P&&P.classList.remove("selecting")}const k=T.useMemo(()=>a.getViewport({scale:d,rotation:c}),[a,c,d]);return T.useLayoutEffect(function(){if(!a||!m)return;const{current:N}=v;if(!N)return;N.innerHTML="";const L=a.streamTextContent({includeMarkedContent:!0}),M={container:N,textContentSource:L,viewport:k},D=new Ik(M),Y=D;return D.render().then(()=>{const K=document.createElement("div");K.className="endOfContent",N.append(K);const W=N.querySelectorAll('[role="presentation"]');if(e){let J=0;m.items.forEach((q,I)=>{if(!b5(q))return;const R=W[J];if(!R)return;const H=e(Object.assign({pageIndex:o,pageNumber:l,itemIndex:I},q));R.innerHTML=H,J+=q.str&&q.hasEOL?2:1})}x()}).catch(w),()=>Co(Y)},[e,w,x,a,o,l,m,k]),f.jsx("div",{className:Vm("react-pdf__Page__textContent","textLayer"),onMouseUp:_,onMouseDown:C,ref:v})}function S5(){const n=$k(),e=Um();Se(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:s,linkService:i,onGetAnnotationsError:r,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:c,pdf:d,renderForms:h,rotate:p,scale:m=1}=t;Se(d),Se(c),Se(i);const[y,v]=Pc(),{value:S,error:g}=y,x=T.useRef(null);Ht(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function w(){S&&a&&a(S)}function C(){g&&(Ht(!1,g.toString()),r&&r(g))}T.useEffect(function(){v({type:"RESET"})},[v,c]),T.useEffect(function(){if(!c)return;const L=Ih(c.getAnnotations()),M=L;return L.promise.then(D=>{v({type:"RESOLVE",value:D})}).catch(D=>{v({type:"REJECT",error:D})}),()=>{Co(M)}},[v,c]),T.useEffect(()=>{if(S!==void 0){if(S===!1){C();return}w()}},[S]);function _(){l&&l()}function k(N){Ht(!1,`${N}`),o&&o(N)}const P=T.useMemo(()=>c.getViewport({scale:m,rotation:p}),[c,p,m]);return T.useEffect(function(){if(!d||!c||!i||!S)return;const{current:L}=x;if(!L)return;const M=P.clone({dontFlip:!0}),D={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:L,l10n:null,page:c,structTreeLayer:null,viewport:M},Y={annotations:S,annotationStorage:d.annotationStorage,div:L,imageResourcesPath:s,linkService:i,page:c,renderForms:h,viewport:M};L.innerHTML="";try{new jk(D).render(Y),_()}catch(K){k(K)}return()=>{}},[S,s,i,c,d,h,P]),f.jsx("div",{className:Vm("react-pdf__Page__annotations","annotationLayer"),ref:x})}var E5=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t};const CA=1;function C5(n){const e=$k(),t=Object.assign(Object.assign({},e),n),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:r,canvasRef:a,children:o,className:l,customRenderer:c,customTextRenderer:d,devicePixelRatio:h,error:p="Failed to load the page.",height:m,inputRef:y,loading:v="Loading page",noData:S="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:x,onGetStructTreeError:w,onGetStructTreeSuccess:C,onGetTextError:_,onGetTextSuccess:k,onLoadError:P,onLoadSuccess:N,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:M,onRenderError:D,onRenderSuccess:Y,onRenderTextLayerError:K,onRenderTextLayerSuccess:W,pageIndex:J,pageNumber:q,pdf:I,registerPage:R,renderAnnotationLayer:H=!0,renderForms:U=!1,renderMode:ae="canvas",renderTextLayer:ne=!0,rotate:pe,scale:Ue=CA,unregisterPage:Gt,width:ge}=t,ue=E5(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ts,ns]=Pc(),{value:Le,error:Ic}=Ts,Fc=T.useRef(null);Se(I);const Ee=na(q)?q-1:J??null,Je=q??(na(J)?J+1:null),Rt=pe??(Le?Le.rotate:null),ft=T.useMemo(()=>{if(!Le)return null;let Fo=1;const Oh=Ue??CA;if(ge||m){const Bh=Le.getViewport({scale:1,rotation:Rt});ge?Fo=ge/Bh.width:m&&(Fo=m/Bh.height)}return Oh*Fo},[m,Le,Rt,Ue,ge]);T.useEffect(function(){return()=>{na(Ee)&&i&&Gt&&Gt(Ee)}},[i,I,Ee,Gt]);function Io(){if(N){if(!Le||!ft)return;N(yv(Le,ft))}if(i&&R){if(!na(Ee)||!Fc.current)return;R(Ee,Fc.current)}}function Oc(){Ic&&(Ht(!1,Ic.toString()),P&&P(Ic))}T.useEffect(function(){ns({type:"RESET"})},[ns,I,Ee]),T.useEffect(function(){if(!I||!Je)return;const Oh=Ih(I.getPage(Je)),Bh=Oh;return Oh.promise.then($m=>{ns({type:"RESOLVE",value:$m})}).catch($m=>{ns({type:"REJECT",error:$m})}),()=>Co(Bh)},[ns,I,Je]),T.useEffect(()=>{if(Le!==void 0){if(Le===!1){Oc();return}Io()}},[Le,ft]);const Zk=T.useMemo(()=>Le&&na(Ee)&&Je&&na(Rt)&&na(ft)?{_className:s,canvasBackground:r,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:g,onGetAnnotationsSuccess:x,onGetStructTreeError:w,onGetStructTreeSuccess:C,onGetTextError:_,onGetTextSuccess:k,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:M,onRenderError:D,onRenderSuccess:Y,onRenderTextLayerError:K,onRenderTextLayerSuccess:W,page:Le,pageIndex:Ee,pageNumber:Je,renderForms:U,renderTextLayer:ne,rotate:Rt,scale:ft}:null,[s,r,d,h,g,x,w,C,_,k,L,M,D,Y,K,W,Le,Ee,Je,U,ne,Rt,ft]),Jk=T.useMemo(()=>Bk(ue,()=>Le&&(ft?yv(Le,ft):void 0)),[ue,Le,ft]),Fh=`${Ee}@${ft}/${Rt}`;function eP(){switch(ae){case"custom":return Se(c),f.jsx(c,{},`${Fh}_custom`);case"none":return null;case"canvas":default:return f.jsx(w5,{canvasRef:a},`${Fh}_canvas`)}}function tP(){return ne?f.jsx(A5,{},`${Fh}_text`):null}function nP(){return H?f.jsx(S5,{},`${Fh}_annotations`):null}function sP(){return f.jsxs(Gk.Provider,{value:Zk,children:[eP(),tP(),nP(),o]})}function iP(){return Je?I===null||Le===void 0||Le===null?f.jsx(wl,{type:"loading",children:typeof v=="function"?v():v}):I===!1||Le===!1?f.jsx(wl,{type:"error",children:typeof p=="function"?p():p}):sP():f.jsx(wl,{type:"no-data",children:typeof S=="function"?S():S})}return f.jsx("div",Object.assign({className:Vm(s,l),"data-page-number":Je,ref:Wk(y,Fc),style:{"--scale-factor":`${ft}`,backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Jk,{children:iP()}))}o5();uw.workerSrc="pdf.worker.mjs";uw.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${Ok}/pdf.worker.min.js`;const _5=({pdfPath:n,title:e,onClose:t,isOpen:s})=>{const[i,r]=T.useState(0),[a,o]=T.useState(1),[l,c]=T.useState(1),[d,h]=T.useState(0),[p,m]=T.useState(!0),[y,v]=T.useState(null);T.useEffect(()=>{if(s){console.log("Opening PDF:",n),o(1),c(1),h(0),m(!0),v(null),fetch(n,{method:"HEAD"}).then(N=>{if(!N.ok)throw new Error(`PDF not accessible: ${N.status} ${N.statusText}`);console.log("PDF is accessible")}).catch(N=>{console.error("PDF accessibility test failed:",N),v(`PDF not accessible: ${N.message}`),m(!1)});const P=setTimeout(()=>{p&&(console.error("PDF loading timeout"),v("PDF took too long to load. Please try again."),m(!1))},15e3);return()=>clearTimeout(P)}},[s,n,p]);function S({numPages:P}){console.log("PDF loaded successfully:",P,"pages"),r(P),m(!1),v(null)}function g(P){console.error("Error loading PDF:",P),console.error("PDF path was:",n),v(`Failed to load PDF: ${P.message}. Please try again or download the file.`),m(!1)}const x=P=>{o(N=>{const L=N+P;return Math.min(Math.max(1,L),i)})},w=P=>{c(Math.min(Math.max(.5,P),2))},C=()=>{h(P=>(P+90)%360)},_=()=>{const P=document.createElement("a");P.href=n,P.download=e||"document.pdf",document.body.appendChild(P),P.click(),document.body.removeChild(P)},k=P=>{if(s)switch(P.key){case"ArrowLeft":P.preventDefault(),x(-1);break;case"ArrowRight":P.preventDefault(),x(1);break;case"Escape":P.preventDefault(),t==null||t();break}};return T.useEffect(()=>(document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)),[s,a,i]),s?f.jsx(Lp,{children:f.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",onClick:t,children:f.jsxs(z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-2xl max-w-7xl w-full max-h-[90vh] flex flex-col",onClick:P=>P.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(fI,{className:"w-6 h-6 text-blue-600"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e||"PDF Document"}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Page ",a," of ",i,"  ",Math.round(l*100),"%"]})]})]}),f.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",title:"Close",children:f.jsx(P_,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b border-gray-200",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>x(-1),disabled:a<=1,className:"p-2 rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",title:"Previous page",children:f.jsx(T_,{className:"w-5 h-5"})}),f.jsxs("span",{className:"text-sm font-medium px-3",children:[a," / ",i]}),f.jsx("button",{onClick:()=>x(1),disabled:a>=i,className:"p-2 rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",title:"Next page",children:f.jsx(k_,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>w(l-.1),disabled:l<=.5,className:"p-2 rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",title:"Zoom out",children:f.jsx(kI,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>w(l+.1),disabled:l>=2,className:"p-2 rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",title:"Zoom in",children:f.jsx(TI,{className:"w-5 h-5"})}),f.jsx("button",{onClick:C,className:"p-2 rounded-md bg-white hover:bg-gray-100 transition-colors border border-gray-200",title:"Rotate",children:f.jsx(AI,{className:"w-5 h-5"})}),f.jsx("button",{onClick:_,className:"p-2 rounded-md bg-blue-100 hover:bg-blue-200 text-blue-700 transition-colors border border-blue-200",title:"Download PDF",children:f.jsx(dI,{className:"w-5 h-5"})})]})]}),f.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[y&&f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-red-600 mb-4",children:y}),f.jsx("button",{onClick:()=>window.open(n,"_blank"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Open in New Tab"})]})}),p&&!y&&f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading PDF..."})]})}),!p&&!y&&f.jsx("div",{className:"flex justify-center",children:f.jsx(p5,{file:n,onLoadSuccess:S,onLoadError:g,loading:f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Rendering PDF..."})]})}),error:f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-red-600 mb-4",children:"Failed to render PDF"}),f.jsx("button",{onClick:()=>window.open(n,"_blank"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Open in New Tab"})]})}),children:f.jsx(C5,{pageNumber:a,scale:l,rotate:d,renderTextLayer:!1,renderAnnotationLayer:!1,className:"shadow-lg",loading:f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),error:f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-red-600 mb-4",children:"Failed to render page"}),f.jsx("button",{onClick:()=>window.open(n,"_blank"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Open in New Tab"})]})})})})})]}),i>1&&!y&&f.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:f.jsx("div",{className:"flex justify-center",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>o(1),disabled:a<=1,className:"px-3 py-1 text-sm rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",children:"First"}),f.jsx("button",{onClick:()=>x(-1),disabled:a<=1,className:"px-3 py-1 text-sm rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",children:"Previous"}),f.jsxs("span",{className:"px-3 py-1 text-sm font-medium",children:["Page ",a," of ",i]}),f.jsx("button",{onClick:()=>x(1),disabled:a>=i,className:"px-3 py-1 text-sm rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",children:"Next"}),f.jsx("button",{onClick:()=>o(i),disabled:a>=i,className:"px-3 py-1 text-sm rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",children:"Last"})]})})})]})})}):null},T5="/canopy-website/assets/Annual2024-BmC07zNV.png",k5="/canopy-website/assets/Annual2023-Zdq1jT3I.png",P5="/canopy-website/assets/Annual2022-DD6O8Oep.png",N5="/canopy-website/assets/AUDIT80_81-CphbK-iE.png",R5="/canopy-website/assets/AUDIT79_80-BP4y_-ID.png",L5="/canopy-website/assets/AUDIT78_79-z6v4GpRi.png",M5="/canopy-website/assets/AUDIT77_78-D4uIrZRH.png",j5="/canopy-website/assets/AUDIT76_77-vae1ukPv.png",D5="/canopy-website/assets/AUDIT75_76-Blzb1Sek.png",I5="/canopy-website/assets/AUDIT74_75-wZE34qJ8.png",F5="/canopy-website/assets/AUDIT73_74-BiZ_QfOD.png",O5="/canopy-website/assets/Magazine1-BMGf2tui.png",B5="/canopy-website/assets/Magazine2-aPzQx13p.png",V5="/canopy-website/assets/Magazine3-lVRxWGI8.png",z5="/canopy-website/assets/Magazine4-CmTUHtDG.png",H5="/canopy-website/assets/Magazine5-qHNovJdk.png",U5="/canopy-website/assets/Magazine6-CI5ZDn1p.png",$5="/canopy-website/assets/Magazine7-2YKXDtV9.png",W5="/canopy-website/assets/Magazine8-D6smLcip.png",G5="/canopy-website/assets/Magazine9-BNm0q7zX.png",K5="/canopy-website/assets/Magazine10-BB4xvKKu.png",X5="/canopy-website/assets/Magazine11-CQlqbkKu.png",q5=()=>{const[n,e]=T.useState("buneka-katha"),[t,s]=T.useState(null),[i,r]=T.useState(!1),a=()=>{switch(n){case"buneka-katha":return"Buneka Katha";case"annual-report":return"Annual Reports";case"financial-report":return"Financial Reports";default:return"Buneka Katha"}},o=(c,d)=>{s({path:c,title:d}),r(!0)},l=()=>{r(!1),s(null)};return f.jsxs("div",{className:"min-h-screen bg-white",children:[f.jsx("div",{className:"relative h-[400px] overflow-hidden",children:f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center",children:[f.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-primary-red mb-8",children:a()}),f.jsxs("div",{className:"flex justify-center space-x-8",children:[f.jsx("button",{onClick:()=>e("buneka-katha"),className:`text-lg pb-2 transition-colors uppercase ${n==="buneka-katha"?"text-primary-cyan border-b-2 border-primary-cyan font-bold":"text-gray-600 hover:text-primary-cyan font-medium"}`,children:"Buneka Katha"}),f.jsx("button",{onClick:()=>e("annual-report"),className:`text-lg pb-2 transition-colors uppercase ${n==="annual-report"?"text-primary-cyan border-b-2 border-primary-cyan font-bold":"text-gray-600 hover:text-primary-cyan font-medium"}`,children:"Annual Report"}),f.jsx("button",{onClick:()=>e("financial-report"),className:`text-lg pb-2 transition-colors uppercase ${n==="financial-report"?"text-primary-cyan border-b-2 border-primary-cyan font-bold":"text-gray-600 hover:text-primary-cyan font-medium"}`,children:"Financial Report"})]})]})}),f.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 -mt-24",children:[n==="buneka-katha"&&f.jsxs("div",{className:"mb-24 animate-in fade-in duration-500",children:[f.jsx("p",{className:"text-center text-lg mb-8 max-w-4xl mx-auto",children:"Our magazine publications featuring stories, insights, and updates from our work in education and community development."}),f.jsx("div",{className:"flex flex-wrap justify-center gap-8 py-4",children:[{id:11,cover:X5,pdf:"magazine-11.pdf"},{id:10,cover:K5,pdf:"magazine-10.pdf"},{id:9,cover:G5,pdf:"magazine-9.pdf"},{id:8,cover:W5,pdf:"magazine-8.pdf"},{id:7,cover:$5,pdf:"magazine-7.pdf"},{id:6,cover:U5,pdf:"magazine-6.pdf"},{id:5,cover:H5,pdf:"magazine-5.pdf"},{id:4,cover:z5,pdf:"magazine-4.pdf"},{id:3,cover:V5,pdf:"magazine-3.pdf"},{id:2,cover:B5,pdf:"magazine-2.pdf"},{id:1,cover:O5,pdf:"magazine-1.pdf"}].map(c=>f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o(`/pdfs/${c.pdf}`,`Buneka Katha Magazine ${c.id}`),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:c.cover,alt:`Buneka Katha Magazine ${c.id}`,className:"w-72 h-96 object-cover shadow-md rounded-lg bg-white"})})},c.id))})]}),n==="annual-report"&&f.jsxs("div",{className:"mb-24 animate-in fade-in duration-500",children:[f.jsx("p",{className:"text-center text-lg mb-8 max-w-4xl mx-auto",children:"Every year, we highlight our work and achievements to share with our supporters  individuals, multinational corporations, international organizations, and local allies  who make our work possible."}),f.jsxs("div",{className:"flex justify-center space-x-8 py-4",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("button",{onClick:()=>o("/pdfs/annualreport2024.pdf","Annual Report 2024"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:T5,alt:"2024 Annual Report",className:"w-72 h-96 object-cover shadow-md rounded-lg bg-white"})}),f.jsx("p",{className:"mt-4 font-semibold text-gray-800",children:"2024"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("button",{onClick:()=>o("/pdfs/annualreport2023.pdf","Annual Report 2023"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:k5,alt:"2023 Annual Report",className:"w-72 h-96 object-cover shadow-md rounded-lg bg-white"})}),f.jsx("p",{className:"mt-4 font-semibold text-gray-800",children:"2023"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("button",{onClick:()=>o("/pdfs/annualreport2022.pdf","Annual Report 2022"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:P5,alt:"2022 Annual Report",className:"w-72 h-96 object-cover shadow-md rounded-lg bg-white"})}),f.jsx("p",{className:"mt-4 font-semibold text-gray-800",children:"2022"})]})]})]}),n==="financial-report"&&f.jsxs("div",{className:"mb-24 animate-in fade-in duration-500",children:[f.jsx("p",{className:"text-center text-lg mb-8 max-w-4xl mx-auto",children:"Our comprehensive financial statements and audit reports ensuring transparency and accountability in our operations."}),f.jsxs("div",{className:"flex flex-wrap justify-center gap-8 py-4",children:[f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2080-81.pdf","Audit Report 2080/81"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:N5,alt:"Audit Report 2080/81",className:"w-72 h-96 object-cover shadow-md rounded-lg bg-white"})})}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2079-80.pdf","Audit Report 2079/80"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:R5,alt:"Audit Report 2079/80",className:"w-72 h-96 object-cover shadow-md rounded-lg bg-white"})})}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2078-79.pdf","Audit Report 2078/79"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:L5,alt:"Audit Report 2078/79",className:"w-72 h-96 object-cover shadow-md rounded-lg bg-white"})})}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2077-78.pdf","Audit Report 2077/78"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:M5,alt:"Audit Report 2077/78",className:"w-72 h-96 object-cover shadow-md rounded-lg bg-white"})})}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2076-77.pdf","Audit Report 2076/77"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:j5,alt:"Audit Report 2076/77",className:"w-72 h-96 object-cover shadow-md rounded-lg bg-white"})})}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2075-76.pdf","Audit Report 2075/76"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:D5,alt:"Audit Report 2075/76",className:"w-72 h-96 object-cover shadow-md rounded-lg bg-white"})})}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2074-75.pdf","Audit Report 2074/75"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:I5,alt:"Audit Report 2074/75",className:"w-72 h-96 object-cover shadow-md rounded-lg bg-white"})})}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2073-74.pdf","Audit Report 2073/74"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:F5,alt:"Audit Report 2073/74",className:"w-72 h-96 object-cover shadow-md rounded-lg bg-white"})})})]})]})]}),t&&f.jsx(_5,{pdfPath:t.path,title:t.title,isOpen:i,onClose:l})]})},Y5=()=>{const n="https://canopynepal.us18.list-manage.com/subscribe/post-json",e="458803be3c6c443caf7b7d870",t="d09382c729",[s,i]=T.useState(""),[r,a]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(!1),[h,p]=T.useState(""),[m,y]=T.useState("");T.useEffect(()=>{if(o){const S=setTimeout(()=>{l("")},5e3);return()=>clearTimeout(S)}},[o]);const v=S=>{if(S.preventDefault(),d(!0),l("sending"),p(""),y(""),!s){l("error"),p("Please enter your email address"),y("error"),d(!1);return}const g=new URL(n);g.searchParams.append("u",e),g.searchParams.append("id",t),g.searchParams.append("EMAIL",s),r&&g.searchParams.append("FNAME",r),g.searchParams.append("f_id","00feaae6f0"),g.searchParams.append("c","callback");const x=document.createElement("script");x.src=g.toString(),x.id="mailchimp-jsonp",window.callback=w=>{delete window.callback,document.body.removeChild(x),d(!1),w.result==="success"?(l("success"),p("Thank you for subscribing to our newsletter!"),y("success"),i(""),a("")):(l("error"),w.msg.includes("already subscribed")?(p("You're already subscribed to our newsletter."),y("info")):(p(w.msg||"An error occurred. Please try again."),y("error")))},document.body.appendChild(x)};return f.jsx("section",{className:"bg-primary-red/5 py-16 px-6 rounded-2xl",children:f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary-red mb-4",children:"Join Our Community"}),f.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"Subscribe to our newsletter for updates on student stories, impact reports, and opportunities to support education in Nepal."})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 md:p-8",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{htmlFor:"newsletter-name",className:"sr-only",children:"First Name"}),f.jsx("input",{id:"newsletter-name",type:"text",value:r,onChange:S=>a(S.target.value),placeholder:"Your first name",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:c})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{htmlFor:"newsletter-email",className:"sr-only",children:"Email address"}),f.jsx("input",{id:"newsletter-email",type:"email",value:s,onChange:S=>i(S.target.value),placeholder:"Your email address",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0,disabled:c})]}),f.jsx("button",{onClick:v,disabled:c,className:`px-8 py-3 rounded-lg font-medium text-white transition-colors duration-300 ${c?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 hover:shadow-md"}`,children:c?f.jsxs("span",{className:"flex items-center justify-center",children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subscribing"]}):"Subscribe"})]}),h&&f.jsx("div",{className:`mt-4 p-3 rounded-lg ${m==="success"?"bg-green-100 text-green-800":m==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:h}),f.jsx("div",{className:"text-center text-sm text-gray-500 mt-6",children:"We respect your privacy. Your information will never be shared with third parties."})]})]})})},Q5="/canopy-website/assets/ourwork-BPacZRO-.png",Z5=()=>{const n=mx();return f.jsxs("div",{className:"bg-white min-h-screen w-full flex flex-col items-center mt-28 font-sans",children:[f.jsx("img",{src:Q5,alt:"Our Work Hero",className:"w-full h-auto object-cover object-center mb-4",style:{maxHeight:"500px"}}),f.jsx("div",{className:"w-full"}),f.jsxs("div",{className:"w-full max-w-5xl mx-auto text-center px-4 mt-8",children:[f.jsxs("h1",{className:"text-2xl md:text-2xl lg:text-2xl font-bold text-primary-blue leading-snug mb-8",children:["We directly solve the two major issues for the alarming dropout rate in Nepal",f.jsx("br",{}),f.jsx("span",{className:"text-primary-blue underline underline-offset-2",children:"cost"})," and",f.jsx("span",{className:"text-primary-blue underline underline-offset-2",children:" poor-quality education."})]}),f.jsxs("p",{className:"text-base md:text-lg text-gray-700 mb-8",children:["Every year, millions of students in Nepal face a tough choicedrop out of school or keep showing up to classrooms that fail to engage or support them.",f.jsx("span",{className:"text-primary-red font-bold",children:" At Canopy Nepal, we're doing something about both."})]}),f.jsx("p",{className:"text-base md:text-lg text-black mb-8",children:"Through CANSHIP and Katha Bunaun, our two flagship programs, we remove financial barriers and reimagine how education feels in the classroom."})]}),f.jsxs("div",{className:"w-full text-center mb-8",children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-[#2386B6] mb-8",children:"Our Programs"}),f.jsxs("div",{className:"flex justify-center gap-12",children:[f.jsx("button",{className:"bg-[#FFF3D1] text-[#F6B800] font-bold text-xl px-8 py-2 rounded-xl shadow-sm transition-transform hover:scale-105",onClick:()=>n("/canship"),children:"CANSHIP"}),f.jsx("button",{className:"bg-[#FFF3D1] text-[#F6B800] font-bold text-xl px-8 py-2 rounded-xl shadow-sm transition-transform hover:scale-105",onClick:()=>n("/katha-bunaun"),children:"Katha Bunaun"})]})]}),f.jsx("div",{className:"w-full text-center mt-4 mb-8",children:f.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-[#2386B6] mb-4",children:"Our Ecosystem"})})]})},J5="/canopy-website/assets/canship-DE44gviV.jpeg",eB="/canopy-website/assets/ow2-D9SfHwqp.png",tB="/canopy-website/assets/canshiplifecycle-CVsc7kdI.png",nB="/canopy-website/assets/canshipbottom-bLPtMPsS.png",Qk="/canopy-website/assets/canshipImpact-BlkNppq1.png",sB=()=>f.jsxs("div",{className:"min-h-screen bg-white mt-28",children:[f.jsx("img",{src:J5,alt:"Canopy Nepal Scholarship Hero",className:"w-full h-[500px] object-cover mb-8"}),f.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-12",children:[f.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-blue mb-2",children:"Canopy Nepal Scholarship Program"}),f.jsxs("div",{className:"mt-4",children:[f.jsx("p",{className:"text-gray-700 text-xl leading-relaxed mb-6",children:"CANSHIP, short for Canopy Scholarship Program, is our long-term commitment to supporting students through their entire educational journey."}),f.jsxs("p",{className:"text-gray-700 text-xl leading-relaxed",children:["At Canopy, we believe scholarships should do more than cover fees. That's why CANSHIP offers holistic support: school materials, nutritious meals, mentorship, psychosocial care, and hands-on learning opportunities. ",f.jsx("span",{className:"font-semibold text-primary-blue",children:"It's a program built not just to help students stay in school, but to help them grow, lead, and thrive."})]})]})]}),f.jsx("img",{src:eB,alt:"CANSHIP Section Divider",className:"w-full h-[400px] object-cover object-center",style:{maxHeight:"400px"}}),f.jsx("div",{className:"bg-white px-6 py-8",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsx("div",{className:"flex flex-col items-center gap-12",children:f.jsxs("div",{className:"w-full text-center",children:[f.jsx("p",{className:"text-gray-700 text-xl leading-relaxed mb-8",children:"With our long-term support and mentorship, CANSHIP helps break the cycle of poverty, empowering young people with the skills, confidence, and choices they need to shape their futures."}),f.jsxs("p",{className:" text-xl leading-relaxed",children:[f.jsx("span",{className:"text-primary-blue font-semibold text-xl",children:"And it doesn't end at graduation."})," Many of our scholars go on to pursue higher education, launch careers, and land jobs that allow them to support themselves and their families, creating real change in their lives and communities."]})]})})})}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-primary-blue text-center",children:"Canopy Scholar Lifecycle"}),f.jsx("div",{className:"flex justify-center",children:f.jsx("img",{src:tB,alt:"Canopy Scholar Lifecycle Flowchart",className:"w-full max-w-6xl h-auto"})})]})}),f.jsx("div",{className:" px-6 py-8",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch gap-12",children:[f.jsxs("div",{className:"lg:w-1/2 flex flex-col justify-center",children:[f.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-primary-blue mb-8",children:"Impact"}),f.jsxs("ul",{className:"space-y-6 text-gray-700",children:[f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-blue mr-3 mt-1",children:""}),f.jsxs("div",{className:"text-xl",children:[f.jsx("span",{className:"font-semibold text-xl",children:"Retention and Completion:"})," Scholars stay in school year after year, even when many of their peers drop out."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-blue mr-3 mt-1 text-xl",children:""}),f.jsxs("div",{className:"text-xl",children:[f.jsx("span",{className:"font-semibold text-xl",children:"Academic Progress:"})," Improved test scores, grade promotions, and graduation rates."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-blue mr-3 mt-1 text-xl",children:""}),f.jsxs("div",{className:"text-xl",children:[f.jsx("span",{className:"font-semibold text-xl",children:"Wellbeing:"})," Increased confidence, better mental health, improved attendance due to meals and psychosocial support."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-blue mr-3 mt-1 text-xl",children:""}),f.jsxs("div",{className:"text-xl",children:[f.jsx("span",{className:"font-semibold text-xl",children:"Skills Development:"})," Public speaking, critical thinking, digital literacy, storytelling, leadership, etc."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-blue mr-3 mt-1 text-xl",children:""}),f.jsxs("div",{className:"text-xl",children:[f.jsx("span",{className:"font-semibold text-xl",children:"Post-Program Outcomes:"})," Scholars pursuing higher education, vocational training, or entering the job market with readiness."]})]})]})]}),f.jsx("div",{className:"lg:w-1/2 flex justify-end items-stretch",children:f.jsx("img",{src:Qk,alt:"Student and mentor interaction",className:"rounded-lg h-auto object-cover",style:{}})})]})})}),f.jsx("div",{className:"bg-white px-6 py-12",children:f.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6",children:[f.jsx("div",{children:f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-blue mb-2",children:"100% employed within one year of graduation"})}),f.jsx("div",{children:f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-blue mb-2",children:"Avg. increase in family income after student enters workforce"})}),f.jsx("div",{children:f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-blue mb-2",children:"X scholars have joined Canopy as mentors for younger scholars"})})]})}),f.jsx("img",{src:nB,alt:"CANSHIP Section Divider",className:"w-full h-[400px] object-cover object-center",style:{maxHeight:"400px"}})]}),iB="/canopy-website/assets/kbtop-BKF58M4_.png",rB="/canopy-website/assets/kbmiddle-Btr9iSUG.png",aB="/canopy-website/assets/kblifecycle-D3cos6cz.png",oB=()=>f.jsxs("div",{className:"min-h-screen bg-white mt-28",children:[f.jsx("img",{src:iB,alt:"Canopy Nepal Scholarship Hero",className:"w-full h-[500px] object-cover object-bottom mb-8"}),f.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-12",children:[f.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-red mb-2",children:"Katha Bunaun"}),f.jsxs("div",{className:"mt-4",children:[f.jsxs("p",{className:"text-gray-700 text-xl leading-relaxed mb-4",children:['Katha Bunaun, which translates to "Weaving Stories," is ',f.jsx("span",{className:"text-primary-red font-semibold",children:"Canopy Nepal's signature story-based learning program"})," that brings classrooms to life."]}),f.jsx("p",{className:"text-gray-700 text-xl leading-relaxed",children:"Through interactive sessions, students explore language, identity, values, creativity, self-expression and critical thinking by crafting and sharing stories. Whether it's a tale about their village, a dream for the future, or a social issue they care about, students learn to express themselves with confidence and curiosity."})]})]}),f.jsx("img",{src:rB,alt:"CANSHIP Section Divider",className:"w-full h-[400px] object-cover object-center",style:{maxHeight:"400px"}}),f.jsx("div",{className:"bg-white px-6 py-8",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsx("div",{className:"flex flex-col items-center gap-12",children:f.jsxs("div",{className:"w-full text-center",children:[f.jsx("p",{className:"text-primary-red font-semibold text-xl leading-relaxed mb-8",children:"Katha Bunaun isn't just about storytelling, it's about building the foundational skills that traditional classrooms often overlook: empathy, communication, collaboration, and voice."}),f.jsxs("p",{className:" text-xl leading-relaxed",children:["Designed to align with local curriculum and",f.jsx("span",{className:"text-primary-red font-semibold text-xl",children:" delivered in partnership with teachers and local governments, Katha Bunaun is Nepal's only storytelling program"})," that creates a new kind of classroom, one where every child has the space to imagine, reflect, and speak up."]}),f.jsx("p",{className:"mt-4 text-xl leading-relaxed",children:"Because when students tell their own stories, they start to believe in their own power."})]})})})}),f.jsx("div",{className:"px-6 py-8",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-primary-red text-center",children:"Katha Bunaun Incorporation in the System"}),f.jsx("div",{className:"flex justify-center",children:f.jsx("img",{src:aB,alt:"Canopy Scholar Lifecycle Flowchart",className:"w-full max-w-6xl h-[300px]"})})]})}),f.jsx("div",{className:"px-6 py-8",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch gap-12",children:[f.jsxs("div",{className:"lg:w-1/2 flex flex-col justify-center",children:[f.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-primary-red mb-8",children:"Impact"}),f.jsxs("ul",{className:"space-y-6 text-gray-700 text-xl",children:[f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Engagement & Expression:"})," Students who were once shy or disengaged now speak up, participate actively, and take pride in their ideas and identities."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Foundational Skills:"})," Improvements in communication, empathy, creativity, and critical thinking, skills rarely prioritized in traditional classrooms."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Academic Improvement:"})," Increased classroom participation, engagement in extracurricular activities, comprehension, and retention by connecting curriculum with personal experiences and imagination."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Wellbeing & Confidence:"})," Students report feeling more confident, seen, and heard. Teachers observe better peer relationships and expression."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Leadership & Collaboration:"})," Students learn to listen and collaborate while leading group discussions and projects, often guiding their friends in shared storytelling activities."]})]})]})]}),f.jsx("div",{className:"lg:w-1/2 flex justify-end items-stretch",children:f.jsx("img",{src:Qk,alt:"Student and mentor interaction",className:"rounded-lg h-auto object-cover",style:{}})})]})})}),f.jsx("div",{className:"bg-white px-6 py-8",children:f.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6",children:[f.jsx("div",{children:f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-red mb-2",children:"Local governments have increased their budget by XX on average to incorporate storytelling into their curriculum."})}),f.jsx("div",{children:f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-red mb-2",children:"XXX schools have adapted interactive learning and child-centered learning values."})}),f.jsx("div",{children:f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-red mb-2",children:"Students have increased engagement in school activities by XXX%."})})]})}),f.jsx("div",{className:"text-center mx-auto max-w-2xl my-4",children:f.jsxs("p",{className:"text-2xl leading-relaxed",children:["And by 2030, we aim to bring this program to",f.jsx("span",{className:"text-primary-red font-semibold text-2xl",children:" half a million students, "}),"making storytelling not an extra but an essential part of every Nepali classroom."]})})]});function lB(){return f.jsx(NR,{children:f.jsxs("div",{className:"min-h-screen bg-white",children:[f.jsx(NI,{}),f.jsx(Lp,{mode:"wait",children:f.jsxs(SR,{children:[f.jsx(an,{path:"/",element:f.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[f.jsx(RI,{}),f.jsx(HI,{}),f.jsx(VI,{}),f.jsx(OI,{}),f.jsx(UI,{}),f.jsx($I,{}),f.jsx(GI,{}),f.jsx(tF,{}),f.jsx(Y5,{})]})}),f.jsx(an,{path:"/missions",element:f.jsx(lF,{})}),f.jsx(an,{path:"/story",element:f.jsx(iF,{})}),f.jsx(an,{path:"/meet-the-team",element:f.jsx(wF,{})}),f.jsx(an,{path:"/board-of-directors",element:f.jsx(UF,{})}),f.jsx(an,{path:"/ourimpact",element:f.jsx(Y1,{})}),f.jsx(an,{path:"/canopyfrance",element:f.jsx($F,{})}),f.jsx(an,{path:"/canopyusa",element:f.jsx(WF,{})}),f.jsx(an,{path:"/publications",element:f.jsx(q5,{})}),f.jsx(an,{path:"/ourimpact",element:f.jsx(Y1,{})}),f.jsx(an,{path:"/ourwork",element:f.jsx(Z5,{})}),f.jsx(an,{path:"/canship",element:f.jsx(sB,{})}),f.jsx(an,{path:"/katha-bunaun",element:f.jsx(oB,{})})]})}),f.jsx(zI,{})]})})}zE(document.getElementById("root")).render(f.jsx(T.StrictMode,{children:f.jsx(lB,{})}));
