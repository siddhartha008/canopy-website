var bN=Object.defineProperty;var bw=n=>{throw TypeError(n)};var AN=(n,e,t)=>e in n?bN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Q=(n,e,t)=>AN(n,typeof e!="symbol"?e+"":e,t),Ym=(n,e,t)=>e.has(n)||bw("Cannot "+t);var u=(n,e,t)=>(Ym(n,e,"read from private field"),t?t.call(n):e.get(n)),E=(n,e,t)=>e.has(n)?bw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),b=(n,e,t,s)=>(Ym(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),A=(n,e,t)=>(Ym(n,e,"access private method"),t);var qt=(n,e,t,s)=>({set _(i){b(n,e,i,t)},get _(){return u(n,e,s)}});function SN(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in n)){const r=Object.getOwnPropertyDescriptor(s,i);r&&Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function BA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var VA={exports:{}},pm={},UA={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh=Symbol.for("react.element"),EN=Symbol.for("react.portal"),CN=Symbol.for("react.fragment"),_N=Symbol.for("react.strict_mode"),TN=Symbol.for("react.profiler"),kN=Symbol.for("react.provider"),NN=Symbol.for("react.context"),PN=Symbol.for("react.forward_ref"),RN=Symbol.for("react.suspense"),jN=Symbol.for("react.memo"),MN=Symbol.for("react.lazy"),Aw=Symbol.iterator;function LN(n){return n===null||typeof n!="object"?null:(n=Aw&&n[Aw]||n["@@iterator"],typeof n=="function"?n:null)}var zA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HA=Object.assign,$A={};function Dc(n,e,t){this.props=n,this.context=e,this.refs=$A,this.updater=t||zA}Dc.prototype.isReactComponent={};Dc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Dc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function WA(){}WA.prototype=Dc.prototype;function A0(n,e,t){this.props=n,this.context=e,this.refs=$A,this.updater=t||zA}var S0=A0.prototype=new WA;S0.constructor=A0;HA(S0,Dc.prototype);S0.isPureReactComponent=!0;var Sw=Array.isArray,GA=Object.prototype.hasOwnProperty,E0={current:null},KA={key:!0,ref:!0,__self:!0,__source:!0};function XA(n,e,t){var s,i={},r=null,a=null;if(e!=null)for(s in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(r=""+e.key),e)GA.call(e,s)&&!KA.hasOwnProperty(s)&&(i[s]=e[s]);var o=arguments.length-2;if(o===1)i.children=t;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(s in o=n.defaultProps,o)i[s]===void 0&&(i[s]=o[s]);return{$$typeof:Nh,type:n,key:r,ref:a,props:i,_owner:E0.current}}function DN(n,e){return{$$typeof:Nh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function C0(n){return typeof n=="object"&&n!==null&&n.$$typeof===Nh}function IN(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Ew=/\/+/g;function Qm(n,e){return typeof n=="object"&&n!==null&&n.key!=null?IN(""+n.key):e.toString(36)}function bf(n,e,t,s,i){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Nh:case EN:a=!0}}if(a)return a=n,i=i(a),n=s===""?"."+Qm(a,0):s,Sw(i)?(t="",n!=null&&(t=n.replace(Ew,"$&/")+"/"),bf(i,e,t,"",function(c){return c})):i!=null&&(C0(i)&&(i=DN(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ew,"$&/")+"/")+n)),e.push(i)),1;if(a=0,s=s===""?".":s+":",Sw(n))for(var o=0;o<n.length;o++){r=n[o];var l=s+Qm(r,o);a+=bf(r,e,t,l,i)}else if(l=LN(n),typeof l=="function")for(n=l.call(n),o=0;!(r=n.next()).done;)r=r.value,l=s+Qm(r,o++),a+=bf(r,e,t,l,i);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Gh(n,e,t){if(n==null)return n;var s=[],i=0;return bf(n,s,"","",function(r){return e.call(t,r,i++)}),s}function FN(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var rn={current:null},Af={transition:null},ON={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Af,ReactCurrentOwner:E0};function qA(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Gh,forEach:function(n,e,t){Gh(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Gh(n,function(){e++}),e},toArray:function(n){return Gh(n,function(e){return e})||[]},only:function(n){if(!C0(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};le.Component=Dc;le.Fragment=CN;le.Profiler=TN;le.PureComponent=A0;le.StrictMode=_N;le.Suspense=RN;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ON;le.act=qA;le.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=HA({},n.props),i=n.key,r=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,a=E0.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)GA.call(e,l)&&!KA.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];s.children=o}return{$$typeof:Nh,type:n.type,key:i,ref:r,props:s,_owner:a}};le.createContext=function(n){return n={$$typeof:NN,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:kN,_context:n},n.Consumer=n};le.createElement=XA;le.createFactory=function(n){var e=XA.bind(null,n);return e.type=n,e};le.createRef=function(){return{current:null}};le.forwardRef=function(n){return{$$typeof:PN,render:n}};le.isValidElement=C0;le.lazy=function(n){return{$$typeof:MN,_payload:{_status:-1,_result:n},_init:FN}};le.memo=function(n,e){return{$$typeof:jN,type:n,compare:e===void 0?null:e}};le.startTransition=function(n){var e=Af.transition;Af.transition={};try{n()}finally{Af.transition=e}};le.unstable_act=qA;le.useCallback=function(n,e){return rn.current.useCallback(n,e)};le.useContext=function(n){return rn.current.useContext(n)};le.useDebugValue=function(){};le.useDeferredValue=function(n){return rn.current.useDeferredValue(n)};le.useEffect=function(n,e){return rn.current.useEffect(n,e)};le.useId=function(){return rn.current.useId()};le.useImperativeHandle=function(n,e,t){return rn.current.useImperativeHandle(n,e,t)};le.useInsertionEffect=function(n,e){return rn.current.useInsertionEffect(n,e)};le.useLayoutEffect=function(n,e){return rn.current.useLayoutEffect(n,e)};le.useMemo=function(n,e){return rn.current.useMemo(n,e)};le.useReducer=function(n,e,t){return rn.current.useReducer(n,e,t)};le.useRef=function(n){return rn.current.useRef(n)};le.useState=function(n){return rn.current.useState(n)};le.useSyncExternalStore=function(n,e,t){return rn.current.useSyncExternalStore(n,e,t)};le.useTransition=function(){return rn.current.useTransition()};le.version="18.3.1";UA.exports=le;var T=UA.exports;const vo=BA(T),BN=SN({__proto__:null,default:vo},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VN=T,UN=Symbol.for("react.element"),zN=Symbol.for("react.fragment"),HN=Object.prototype.hasOwnProperty,$N=VN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WN={key:!0,ref:!0,__self:!0,__source:!0};function YA(n,e,t){var s,i={},r=null,a=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)HN.call(e,s)&&!WN.hasOwnProperty(s)&&(i[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:UN,type:n,key:r,ref:a,props:i,_owner:$N.current}}pm.Fragment=zN;pm.jsx=YA;pm.jsxs=YA;VA.exports=pm;var f=VA.exports,QA={exports:{}},On={},JA={exports:{}},ZA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(R,U){var W=R.length;R.push(U);e:for(;0<W;){var ae=W-1>>>1,ne=R[ae];if(0<i(ne,U))R[ae]=U,R[W]=ne,W=ae;else break e}}function t(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var U=R[0],W=R.pop();if(W!==U){R[0]=W;e:for(var ae=0,ne=R.length,pe=ne>>>1;ae<pe;){var $e=2*(ae+1)-1,Xt=R[$e],ge=$e+1,ue=R[ge];if(0>i(Xt,W))ge<ne&&0>i(ue,Xt)?(R[ae]=ue,R[ge]=W,ae=ge):(R[ae]=Xt,R[$e]=W,ae=$e);else if(ge<ne&&0>i(ue,W))R[ae]=ue,R[ge]=W,ae=ge;else break e}}return U}function i(R,U){var W=R.sortIndex-U.sortIndex;return W!==0?W:R.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,p=3,m=!1,y=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var U=t(c);U!==null;){if(U.callback===null)s(c);else if(U.startTime<=R)s(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(c)}}function C(R){if(x=!1,w(R),!y)if(t(l)!==null)y=!0,Y(_);else{var U=t(c);U!==null&&I(C,U.startTime-R)}}function _(R,U){y=!1,x&&(x=!1,g(P),P=-1),m=!0;var W=p;try{for(w(U),h=t(l);h!==null&&(!(h.expirationTime>U)||R&&!D());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var ne=ae(h.expirationTime<=U);U=n.unstable_now(),typeof ne=="function"?h.callback=ne:h===t(l)&&s(l),w(U)}else s(l);h=t(l)}if(h!==null)var pe=!0;else{var $e=t(c);$e!==null&&I(C,$e.startTime-U),pe=!1}return pe}finally{h=null,p=W,m=!1}}var k=!1,N=null,P=-1,j=5,M=-1;function D(){return!(n.unstable_now()-M<j)}function q(){if(N!==null){var R=n.unstable_now();M=R;var U=!0;try{U=N(!0,R)}finally{U?H():(k=!1,N=null)}}else k=!1}var H;if(typeof v=="function")H=function(){v(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Z=$.port2;$.port1.onmessage=q,H=function(){Z.postMessage(null)}}else H=function(){S(q,0)};function Y(R){N=R,k||(k=!0,H())}function I(R,U){P=S(function(){R(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,Y(_))},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(R){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var W=p;p=U;try{return R()}finally{p=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=p;p=R;try{return U()}finally{p=W}},n.unstable_scheduleCallback=function(R,U,W){var ae=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,R){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=W+ne,R={id:d++,callback:U,priorityLevel:R,startTime:W,expirationTime:ne,sortIndex:-1},W>ae?(R.sortIndex=W,e(c,R),t(l)===null&&R===t(c)&&(x?(g(P),P=-1):x=!0,I(C,W-ae))):(R.sortIndex=ne,e(l,R),y||m||(y=!0,Y(_))),R},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(R){var U=p;return function(){var W=p;p=U;try{return R.apply(this,arguments)}finally{p=W}}}})(ZA);JA.exports=ZA;var GN=JA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KN=T,In=GN;function L(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eS=new Set,zu={};function Mo(n,e){Ec(n,e),Ec(n+"Capture",e)}function Ec(n,e){for(zu[n]=e,n=0;n<e.length;n++)eS.add(e[n])}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hg=Object.prototype.hasOwnProperty,XN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cw={},_w={};function qN(n){return Hg.call(_w,n)?!0:Hg.call(Cw,n)?!1:XN.test(n)?_w[n]=!0:(Cw[n]=!0,!1)}function YN(n,e,t,s){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function QN(n,e,t,s){if(e===null||typeof e>"u"||YN(n,e,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(n,e,t,s,i,r,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Rt[n]=new an(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Rt[e]=new an(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Rt[n]=new an(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Rt[n]=new an(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Rt[n]=new an(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Rt[n]=new an(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Rt[n]=new an(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Rt[n]=new an(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Rt[n]=new an(n,5,!1,n.toLowerCase(),null,!1,!1)});var _0=/[\-:]([a-z])/g;function T0(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(_0,T0);Rt[e]=new an(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(_0,T0);Rt[e]=new an(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(_0,T0);Rt[e]=new an(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Rt[n]=new an(n,1,!1,n.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Rt[n]=new an(n,1,!1,n.toLowerCase(),null,!0,!0)});function k0(n,e,t,s){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QN(e,t,i,s)&&(t=null),s||i===null?qN(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,s=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,s?n.setAttributeNS(s,e,t):n.setAttribute(e,t))))}var qi=KN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kh=Symbol.for("react.element"),Jo=Symbol.for("react.portal"),Zo=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),$g=Symbol.for("react.profiler"),tS=Symbol.for("react.provider"),nS=Symbol.for("react.context"),P0=Symbol.for("react.forward_ref"),Wg=Symbol.for("react.suspense"),Gg=Symbol.for("react.suspense_list"),R0=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),sS=Symbol.for("react.offscreen"),Tw=Symbol.iterator;function Wc(n){return n===null||typeof n!="object"?null:(n=Tw&&n[Tw]||n["@@iterator"],typeof n=="function"?n:null)}var He=Object.assign,Jm;function su(n){if(Jm===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Jm=e&&e[1]||""}return`
`+Jm+n}var Zm=!1;function eg(n,e){if(!n||Zm)return"";Zm=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){s=c}n.call(e.prototype)}else{try{throw Error()}catch(c){s=c}n()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),r=s.stack.split(`
`),a=i.length-1,o=r.length-1;1<=a&&0<=o&&i[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==r[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==r[o]){var l=`
`+i[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{Zm=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?su(n):""}function JN(n){switch(n.tag){case 5:return su(n.type);case 16:return su("Lazy");case 13:return su("Suspense");case 19:return su("SuspenseList");case 0:case 2:case 15:return n=eg(n.type,!1),n;case 11:return n=eg(n.type.render,!1),n;case 1:return n=eg(n.type,!0),n;default:return""}}function Kg(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Zo:return"Fragment";case Jo:return"Portal";case $g:return"Profiler";case N0:return"StrictMode";case Wg:return"Suspense";case Gg:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case nS:return(n.displayName||"Context")+".Consumer";case tS:return(n._context.displayName||"Context")+".Provider";case P0:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R0:return e=n.displayName||null,e!==null?e:Kg(n.type)||"Memo";case er:e=n._payload,n=n._init;try{return Kg(n(e))}catch{}}return null}function ZN(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kg(e);case 8:return e===N0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wr(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function iS(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eP(n){var e=iS(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),s=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){s=""+a,r.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Xh(n){n._valueTracker||(n._valueTracker=eP(n))}function rS(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return n&&(s=iS(n)?n.checked?"true":"false":n.value),n=s,n!==t?(e.setValue(n),!0):!1}function hp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Xg(n,e){var t=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function kw(n,e){var t=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;t=Wr(e.value!=null?e.value:t),n._wrapperState={initialChecked:s,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aS(n,e){e=e.checked,e!=null&&k0(n,"checked",e,!1)}function qg(n,e){aS(n,e);var t=Wr(e.value),s=e.type;if(t!=null)s==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Yg(n,e.type,t):e.hasOwnProperty("defaultValue")&&Yg(n,e.type,Wr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Nw(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Yg(n,e,t){(e!=="number"||hp(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var iu=Array.isArray;function gl(n,e,t,s){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&s&&(n[t].defaultSelected=!0)}else{for(t=""+Wr(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,s&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Qg(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Pw(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(L(92));if(iu(t)){if(1<t.length)throw Error(L(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Wr(t)}}function oS(n,e){var t=Wr(e.value),s=Wr(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),s!=null&&(n.defaultValue=""+s)}function Rw(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function lS(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jg(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?lS(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qh,cS=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,s,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,s,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(qh=qh||document.createElement("div"),qh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qh.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Hu(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var _u={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tP=["Webkit","ms","Moz","O"];Object.keys(_u).forEach(function(n){tP.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),_u[e]=_u[n]})});function uS(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||_u.hasOwnProperty(n)&&_u[n]?(""+e).trim():e+"px"}function dS(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var s=t.indexOf("--")===0,i=uS(t,e[t],s);t==="float"&&(t="cssFloat"),s?n.setProperty(t,i):n[t]=i}}var nP=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zg(n,e){if(e){if(nP[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function ey(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ty=null;function j0(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ny=null,yl=null,vl=null;function jw(n){if(n=jh(n)){if(typeof ny!="function")throw Error(L(280));var e=n.stateNode;e&&(e=xm(e),ny(n.stateNode,n.type,e))}}function hS(n){yl?vl?vl.push(n):vl=[n]:yl=n}function fS(){if(yl){var n=yl,e=vl;if(vl=yl=null,jw(n),e)for(n=0;n<e.length;n++)jw(e[n])}}function pS(n,e){return n(e)}function mS(){}var tg=!1;function gS(n,e,t){if(tg)return n(e,t);tg=!0;try{return pS(n,e,t)}finally{tg=!1,(yl!==null||vl!==null)&&(mS(),fS())}}function $u(n,e){var t=n.stateNode;if(t===null)return null;var s=xm(t);if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(L(231,e,typeof t));return t}var sy=!1;if(zi)try{var Gc={};Object.defineProperty(Gc,"passive",{get:function(){sy=!0}}),window.addEventListener("test",Gc,Gc),window.removeEventListener("test",Gc,Gc)}catch{sy=!1}function sP(n,e,t,s,i,r,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var Tu=!1,fp=null,pp=!1,iy=null,iP={onError:function(n){Tu=!0,fp=n}};function rP(n,e,t,s,i,r,a,o,l){Tu=!1,fp=null,sP.apply(iP,arguments)}function aP(n,e,t,s,i,r,a,o,l){if(rP.apply(this,arguments),Tu){if(Tu){var c=fp;Tu=!1,fp=null}else throw Error(L(198));pp||(pp=!0,iy=c)}}function Lo(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function yS(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Mw(n){if(Lo(n)!==n)throw Error(L(188))}function oP(n){var e=n.alternate;if(!e){if(e=Lo(n),e===null)throw Error(L(188));return e!==n?null:n}for(var t=n,s=e;;){var i=t.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){t=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===t)return Mw(i),n;if(r===s)return Mw(i),e;r=r.sibling}throw Error(L(188))}if(t.return!==s.return)t=i,s=r;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,s=r;break}if(o===s){a=!0,s=i,t=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===t){a=!0,t=r,s=i;break}if(o===s){a=!0,s=r,t=i;break}o=o.sibling}if(!a)throw Error(L(189))}}if(t.alternate!==s)throw Error(L(190))}if(t.tag!==3)throw Error(L(188));return t.stateNode.current===t?n:e}function vS(n){return n=oP(n),n!==null?xS(n):null}function xS(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=xS(n);if(e!==null)return e;n=n.sibling}return null}var wS=In.unstable_scheduleCallback,Lw=In.unstable_cancelCallback,lP=In.unstable_shouldYield,cP=In.unstable_requestPaint,Qe=In.unstable_now,uP=In.unstable_getCurrentPriorityLevel,M0=In.unstable_ImmediatePriority,bS=In.unstable_UserBlockingPriority,mp=In.unstable_NormalPriority,dP=In.unstable_LowPriority,AS=In.unstable_IdlePriority,mm=null,Js=null;function hP(n){if(Js&&typeof Js.onCommitFiberRoot=="function")try{Js.onCommitFiberRoot(mm,n,void 0,(n.current.flags&128)===128)}catch{}}var _s=Math.clz32?Math.clz32:mP,fP=Math.log,pP=Math.LN2;function mP(n){return n>>>=0,n===0?32:31-(fP(n)/pP|0)|0}var Yh=64,Qh=4194304;function ru(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function gp(n,e){var t=n.pendingLanes;if(t===0)return 0;var s=0,i=n.suspendedLanes,r=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~i;o!==0?s=ru(o):(r&=a,r!==0&&(s=ru(r)))}else a=t&~i,a!==0?s=ru(a):r!==0&&(s=ru(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=s;0<e;)t=31-_s(e),i=1<<t,s|=n[t],e&=~i;return s}function gP(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yP(n,e){for(var t=n.suspendedLanes,s=n.pingedLanes,i=n.expirationTimes,r=n.pendingLanes;0<r;){var a=31-_s(r),o=1<<a,l=i[a];l===-1?(!(o&t)||o&s)&&(i[a]=gP(o,e)):l<=e&&(n.expiredLanes|=o),r&=~o}}function ry(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function SS(){var n=Yh;return Yh<<=1,!(Yh&4194240)&&(Yh=64),n}function ng(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ph(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-_s(e),n[e]=t}function vP(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-_s(t),r=1<<i;e[i]=0,s[i]=-1,n[i]=-1,t&=~r}}function L0(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var s=31-_s(t),i=1<<s;i&e|n[s]&e&&(n[s]|=e),t&=~i}}var we=0;function ES(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var CS,D0,_S,TS,kS,ay=!1,Jh=[],Dr=null,Ir=null,Fr=null,Wu=new Map,Gu=new Map,nr=[],xP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dw(n,e){switch(n){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Wu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(e.pointerId)}}function Kc(n,e,t,s,i,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=jh(e),e!==null&&D0(e)),n):(n.eventSystemFlags|=s,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function wP(n,e,t,s,i){switch(e){case"focusin":return Dr=Kc(Dr,n,e,t,s,i),!0;case"dragenter":return Ir=Kc(Ir,n,e,t,s,i),!0;case"mouseover":return Fr=Kc(Fr,n,e,t,s,i),!0;case"pointerover":var r=i.pointerId;return Wu.set(r,Kc(Wu.get(r)||null,n,e,t,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Gu.set(r,Kc(Gu.get(r)||null,n,e,t,s,i)),!0}return!1}function NS(n){var e=ga(n.target);if(e!==null){var t=Lo(e);if(t!==null){if(e=t.tag,e===13){if(e=yS(t),e!==null){n.blockedOn=e,kS(n.priority,function(){_S(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Sf(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=oy(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var s=new t.constructor(t.type,t);ty=s,t.target.dispatchEvent(s),ty=null}else return e=jh(t),e!==null&&D0(e),n.blockedOn=t,!1;e.shift()}return!0}function Iw(n,e,t){Sf(n)&&t.delete(e)}function bP(){ay=!1,Dr!==null&&Sf(Dr)&&(Dr=null),Ir!==null&&Sf(Ir)&&(Ir=null),Fr!==null&&Sf(Fr)&&(Fr=null),Wu.forEach(Iw),Gu.forEach(Iw)}function Xc(n,e){n.blockedOn===e&&(n.blockedOn=null,ay||(ay=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,bP)))}function Ku(n){function e(i){return Xc(i,n)}if(0<Jh.length){Xc(Jh[0],n);for(var t=1;t<Jh.length;t++){var s=Jh[t];s.blockedOn===n&&(s.blockedOn=null)}}for(Dr!==null&&Xc(Dr,n),Ir!==null&&Xc(Ir,n),Fr!==null&&Xc(Fr,n),Wu.forEach(e),Gu.forEach(e),t=0;t<nr.length;t++)s=nr[t],s.blockedOn===n&&(s.blockedOn=null);for(;0<nr.length&&(t=nr[0],t.blockedOn===null);)NS(t),t.blockedOn===null&&nr.shift()}var xl=qi.ReactCurrentBatchConfig,yp=!0;function AP(n,e,t,s){var i=we,r=xl.transition;xl.transition=null;try{we=1,I0(n,e,t,s)}finally{we=i,xl.transition=r}}function SP(n,e,t,s){var i=we,r=xl.transition;xl.transition=null;try{we=4,I0(n,e,t,s)}finally{we=i,xl.transition=r}}function I0(n,e,t,s){if(yp){var i=oy(n,e,t,s);if(i===null)hg(n,e,s,vp,t),Dw(n,s);else if(wP(i,n,e,t,s))s.stopPropagation();else if(Dw(n,s),e&4&&-1<xP.indexOf(n)){for(;i!==null;){var r=jh(i);if(r!==null&&CS(r),r=oy(n,e,t,s),r===null&&hg(n,e,s,vp,t),r===i)break;i=r}i!==null&&s.stopPropagation()}else hg(n,e,s,null,t)}}var vp=null;function oy(n,e,t,s){if(vp=null,n=j0(s),n=ga(n),n!==null)if(e=Lo(n),e===null)n=null;else if(t=e.tag,t===13){if(n=yS(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return vp=n,null}function PS(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uP()){case M0:return 1;case bS:return 4;case mp:case dP:return 16;case AS:return 536870912;default:return 16}default:return 16}}var jr=null,F0=null,Ef=null;function RS(){if(Ef)return Ef;var n,e=F0,t=e.length,s,i="value"in jr?jr.value:jr.textContent,r=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(s=1;s<=a&&e[t-s]===i[r-s];s++);return Ef=i.slice(n,1<s?1-s:void 0)}function Cf(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Zh(){return!0}function Fw(){return!1}function Bn(n){function e(t,s,i,r,a){this._reactName=t,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Zh:Fw,this.isPropagationStopped=Fw,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Zh)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Zh)},persist:function(){},isPersistent:Zh}),e}var Ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},O0=Bn(Ic),Rh=He({},Ic,{view:0,detail:0}),EP=Bn(Rh),sg,ig,qc,gm=He({},Rh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B0,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qc&&(qc&&n.type==="mousemove"?(sg=n.screenX-qc.screenX,ig=n.screenY-qc.screenY):ig=sg=0,qc=n),sg)},movementY:function(n){return"movementY"in n?n.movementY:ig}}),Ow=Bn(gm),CP=He({},gm,{dataTransfer:0}),_P=Bn(CP),TP=He({},Rh,{relatedTarget:0}),rg=Bn(TP),kP=He({},Ic,{animationName:0,elapsedTime:0,pseudoElement:0}),NP=Bn(kP),PP=He({},Ic,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),RP=Bn(PP),jP=He({},Ic,{data:0}),Bw=Bn(jP),MP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IP(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=DP[n])?!!e[n]:!1}function B0(){return IP}var FP=He({},Rh,{key:function(n){if(n.key){var e=MP[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Cf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?LP[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B0,charCode:function(n){return n.type==="keypress"?Cf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),OP=Bn(FP),BP=He({},gm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vw=Bn(BP),VP=He({},Rh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B0}),UP=Bn(VP),zP=He({},Ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),HP=Bn(zP),$P=He({},gm,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),WP=Bn($P),GP=[9,13,27,32],V0=zi&&"CompositionEvent"in window,ku=null;zi&&"documentMode"in document&&(ku=document.documentMode);var KP=zi&&"TextEvent"in window&&!ku,jS=zi&&(!V0||ku&&8<ku&&11>=ku),Uw=" ",zw=!1;function MS(n,e){switch(n){case"keyup":return GP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LS(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var el=!1;function XP(n,e){switch(n){case"compositionend":return LS(e);case"keypress":return e.which!==32?null:(zw=!0,Uw);case"textInput":return n=e.data,n===Uw&&zw?null:n;default:return null}}function qP(n,e){if(el)return n==="compositionend"||!V0&&MS(n,e)?(n=RS(),Ef=F0=jr=null,el=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jS&&e.locale!=="ko"?null:e.data;default:return null}}var YP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!YP[n.type]:e==="textarea"}function DS(n,e,t,s){hS(s),e=xp(e,"onChange"),0<e.length&&(t=new O0("onChange","change",null,t,s),n.push({event:t,listeners:e}))}var Nu=null,Xu=null;function QP(n){GS(n,0)}function ym(n){var e=sl(n);if(rS(e))return n}function JP(n,e){if(n==="change")return e}var IS=!1;if(zi){var ag;if(zi){var og="oninput"in document;if(!og){var $w=document.createElement("div");$w.setAttribute("oninput","return;"),og=typeof $w.oninput=="function"}ag=og}else ag=!1;IS=ag&&(!document.documentMode||9<document.documentMode)}function Ww(){Nu&&(Nu.detachEvent("onpropertychange",FS),Xu=Nu=null)}function FS(n){if(n.propertyName==="value"&&ym(Xu)){var e=[];DS(e,Xu,n,j0(n)),gS(QP,e)}}function ZP(n,e,t){n==="focusin"?(Ww(),Nu=e,Xu=t,Nu.attachEvent("onpropertychange",FS)):n==="focusout"&&Ww()}function e2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ym(Xu)}function t2(n,e){if(n==="click")return ym(e)}function n2(n,e){if(n==="input"||n==="change")return ym(e)}function s2(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ks=typeof Object.is=="function"?Object.is:s2;function qu(n,e){if(ks(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++){var i=t[s];if(!Hg.call(e,i)||!ks(n[i],e[i]))return!1}return!0}function Gw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Kw(n,e){var t=Gw(n);n=0;for(var s;t;){if(t.nodeType===3){if(s=n+t.textContent.length,n<=e&&s>=e)return{node:t,offset:e-n};n=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Gw(t)}}function OS(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?OS(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function BS(){for(var n=window,e=hp();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=hp(n.document)}return e}function U0(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function i2(n){var e=BS(),t=n.focusedElem,s=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&OS(t.ownerDocument.documentElement,t)){if(s!==null&&U0(t)){if(e=s.start,n=s.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!n.extend&&r>s&&(i=s,s=r,r=i),i=Kw(t,r);var a=Kw(t,s);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),r>s?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var r2=zi&&"documentMode"in document&&11>=document.documentMode,tl=null,ly=null,Pu=null,cy=!1;function Xw(n,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;cy||tl==null||tl!==hp(s)||(s=tl,"selectionStart"in s&&U0(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Pu&&qu(Pu,s)||(Pu=s,s=xp(ly,"onSelect"),0<s.length&&(e=new O0("onSelect","select",null,e,t),n.push({event:e,listeners:s}),e.target=tl)))}function ef(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var nl={animationend:ef("Animation","AnimationEnd"),animationiteration:ef("Animation","AnimationIteration"),animationstart:ef("Animation","AnimationStart"),transitionend:ef("Transition","TransitionEnd")},lg={},VS={};zi&&(VS=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function vm(n){if(lg[n])return lg[n];if(!nl[n])return n;var e=nl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in VS)return lg[n]=e[t];return n}var US=vm("animationend"),zS=vm("animationiteration"),HS=vm("animationstart"),$S=vm("transitionend"),WS=new Map,qw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(n,e){WS.set(n,e),Mo(e,[n])}for(var cg=0;cg<qw.length;cg++){var ug=qw[cg],a2=ug.toLowerCase(),o2=ug[0].toUpperCase()+ug.slice(1);Zr(a2,"on"+o2)}Zr(US,"onAnimationEnd");Zr(zS,"onAnimationIteration");Zr(HS,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr($S,"onTransitionEnd");Ec("onMouseEnter",["mouseout","mouseover"]);Ec("onMouseLeave",["mouseout","mouseover"]);Ec("onPointerEnter",["pointerout","pointerover"]);Ec("onPointerLeave",["pointerout","pointerover"]);Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("cancel close invalid load scroll toggle".split(" ").concat(au));function Yw(n,e,t){var s=n.type||"unknown-event";n.currentTarget=t,aP(s,e,void 0,n),n.currentTarget=null}function GS(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var s=n[t],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&i.isPropagationStopped())break e;Yw(i,o,c),r=l}else for(a=0;a<s.length;a++){if(o=s[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==r&&i.isPropagationStopped())break e;Yw(i,o,c),r=l}}}if(pp)throw n=iy,pp=!1,iy=null,n}function ke(n,e){var t=e[py];t===void 0&&(t=e[py]=new Set);var s=n+"__bubble";t.has(s)||(KS(e,n,2,!1),t.add(s))}function dg(n,e,t){var s=0;e&&(s|=4),KS(t,n,s,e)}var tf="_reactListening"+Math.random().toString(36).slice(2);function Yu(n){if(!n[tf]){n[tf]=!0,eS.forEach(function(t){t!=="selectionchange"&&(l2.has(t)||dg(t,!1,n),dg(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[tf]||(e[tf]=!0,dg("selectionchange",!1,e))}}function KS(n,e,t,s){switch(PS(e)){case 1:var i=AP;break;case 4:i=SP;break;default:i=I0}t=i.bind(null,e,t,n),i=void 0,!sy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function hg(n,e,t,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=s.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ga(o),a===null)return;if(l=a.tag,l===5||l===6){s=r=a;continue e}o=o.parentNode}}s=s.return}gS(function(){var c=r,d=j0(t),h=[];e:{var p=WS.get(n);if(p!==void 0){var m=O0,y=n;switch(n){case"keypress":if(Cf(t)===0)break e;case"keydown":case"keyup":m=OP;break;case"focusin":y="focus",m=rg;break;case"focusout":y="blur",m=rg;break;case"beforeblur":case"afterblur":m=rg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ow;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=_P;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=UP;break;case US:case zS:case HS:m=NP;break;case $S:m=HP;break;case"scroll":m=EP;break;case"wheel":m=WP;break;case"copy":case"cut":case"paste":m=RP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Vw}var x=(e&4)!==0,S=!x&&n==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var v=c,w;v!==null;){w=v;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,g!==null&&(C=$u(v,g),C!=null&&x.push(Qu(v,C,w)))),S)break;v=v.return}0<x.length&&(p=new m(p,y,null,t,d),h.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==ty&&(y=t.relatedTarget||t.fromElement)&&(ga(y)||y[Hi]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=c,y=y?ga(y):null,y!==null&&(S=Lo(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(x=Ow,C="onMouseLeave",g="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(x=Vw,C="onPointerLeave",g="onPointerEnter",v="pointer"),S=m==null?p:sl(m),w=y==null?p:sl(y),p=new x(C,v+"leave",m,t,d),p.target=S,p.relatedTarget=w,C=null,ga(d)===c&&(x=new x(g,v+"enter",y,t,d),x.target=w,x.relatedTarget=S,C=x),S=C,m&&y)t:{for(x=m,g=y,v=0,w=x;w;w=Ho(w))v++;for(w=0,C=g;C;C=Ho(C))w++;for(;0<v-w;)x=Ho(x),v--;for(;0<w-v;)g=Ho(g),w--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=Ho(x),g=Ho(g)}x=null}else x=null;m!==null&&Qw(h,p,m,x,!1),y!==null&&S!==null&&Qw(h,S,y,x,!0)}}e:{if(p=c?sl(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=JP;else if(Hw(p))if(IS)_=n2;else{_=e2;var k=ZP}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=t2);if(_&&(_=_(n,c))){DS(h,_,t,d);break e}k&&k(n,p,c),n==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Yg(p,"number",p.value)}switch(k=c?sl(c):window,n){case"focusin":(Hw(k)||k.contentEditable==="true")&&(tl=k,ly=c,Pu=null);break;case"focusout":Pu=ly=tl=null;break;case"mousedown":cy=!0;break;case"contextmenu":case"mouseup":case"dragend":cy=!1,Xw(h,t,d);break;case"selectionchange":if(r2)break;case"keydown":case"keyup":Xw(h,t,d)}var N;if(V0)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else el?MS(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(jS&&t.locale!=="ko"&&(el||P!=="onCompositionStart"?P==="onCompositionEnd"&&el&&(N=RS()):(jr=d,F0="value"in jr?jr.value:jr.textContent,el=!0)),k=xp(c,P),0<k.length&&(P=new Bw(P,n,null,t,d),h.push({event:P,listeners:k}),N?P.data=N:(N=LS(t),N!==null&&(P.data=N)))),(N=KP?XP(n,t):qP(n,t))&&(c=xp(c,"onBeforeInput"),0<c.length&&(d=new Bw("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:c}),d.data=N))}GS(h,e)})}function Qu(n,e,t){return{instance:n,listener:e,currentTarget:t}}function xp(n,e){for(var t=e+"Capture",s=[];n!==null;){var i=n,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=$u(n,t),r!=null&&s.unshift(Qu(n,r,i)),r=$u(n,e),r!=null&&s.push(Qu(n,r,i))),n=n.return}return s}function Ho(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Qw(n,e,t,s,i){for(var r=e._reactName,a=[];t!==null&&t!==s;){var o=t,l=o.alternate,c=o.stateNode;if(l!==null&&l===s)break;o.tag===5&&c!==null&&(o=c,i?(l=$u(t,r),l!=null&&a.unshift(Qu(t,l,o))):i||(l=$u(t,r),l!=null&&a.push(Qu(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var c2=/\r\n?/g,u2=/\u0000|\uFFFD/g;function Jw(n){return(typeof n=="string"?n:""+n).replace(c2,`
`).replace(u2,"")}function nf(n,e,t){if(e=Jw(e),Jw(n)!==e&&t)throw Error(L(425))}function wp(){}var uy=null,dy=null;function hy(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fy=typeof setTimeout=="function"?setTimeout:void 0,d2=typeof clearTimeout=="function"?clearTimeout:void 0,Zw=typeof Promise=="function"?Promise:void 0,h2=typeof queueMicrotask=="function"?queueMicrotask:typeof Zw<"u"?function(n){return Zw.resolve(null).then(n).catch(f2)}:fy;function f2(n){setTimeout(function(){throw n})}function fg(n,e){var t=e,s=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(s===0){n.removeChild(i),Ku(e);return}s--}else t!=="$"&&t!=="$?"&&t!=="$!"||s++;t=i}while(t);Ku(e)}function Or(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function eb(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Fc=Math.random().toString(36).slice(2),Qs="__reactFiber$"+Fc,Ju="__reactProps$"+Fc,Hi="__reactContainer$"+Fc,py="__reactEvents$"+Fc,p2="__reactListeners$"+Fc,m2="__reactHandles$"+Fc;function ga(n){var e=n[Qs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Hi]||t[Qs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=eb(n);n!==null;){if(t=n[Qs])return t;n=eb(n)}return e}n=t,t=n.parentNode}return null}function jh(n){return n=n[Qs]||n[Hi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function sl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(L(33))}function xm(n){return n[Ju]||null}var my=[],il=-1;function ea(n){return{current:n}}function Pe(n){0>il||(n.current=my[il],my[il]=null,il--)}function _e(n,e){il++,my[il]=n.current,n.current=e}var Gr={},Kt=ea(Gr),yn=ea(!1),Ao=Gr;function Cc(n,e){var t=n.type.contextTypes;if(!t)return Gr;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in t)i[r]=e[r];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function vn(n){return n=n.childContextTypes,n!=null}function bp(){Pe(yn),Pe(Kt)}function tb(n,e,t){if(Kt.current!==Gr)throw Error(L(168));_e(Kt,e),_e(yn,t)}function XS(n,e,t){var s=n.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(L(108,ZN(n)||"Unknown",i));return He({},t,s)}function Ap(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Gr,Ao=Kt.current,_e(Kt,n),_e(yn,yn.current),!0}function nb(n,e,t){var s=n.stateNode;if(!s)throw Error(L(169));t?(n=XS(n,e,Ao),s.__reactInternalMemoizedMergedChildContext=n,Pe(yn),Pe(Kt),_e(Kt,n)):Pe(yn),_e(yn,t)}var li=null,wm=!1,pg=!1;function qS(n){li===null?li=[n]:li.push(n)}function g2(n){wm=!0,qS(n)}function ta(){if(!pg&&li!==null){pg=!0;var n=0,e=we;try{var t=li;for(we=1;n<t.length;n++){var s=t[n];do s=s(!0);while(s!==null)}li=null,wm=!1}catch(i){throw li!==null&&(li=li.slice(n+1)),wS(M0,ta),i}finally{we=e,pg=!1}}return null}var rl=[],al=0,Sp=null,Ep=0,Xn=[],qn=0,So=null,Li=1,Di="";function aa(n,e){rl[al++]=Ep,rl[al++]=Sp,Sp=n,Ep=e}function YS(n,e,t){Xn[qn++]=Li,Xn[qn++]=Di,Xn[qn++]=So,So=n;var s=Li;n=Di;var i=32-_s(s)-1;s&=~(1<<i),t+=1;var r=32-_s(e)+i;if(30<r){var a=i-i%5;r=(s&(1<<a)-1).toString(32),s>>=a,i-=a,Li=1<<32-_s(e)+i|t<<i|s,Di=r+n}else Li=1<<r|t<<i|s,Di=n}function z0(n){n.return!==null&&(aa(n,1),YS(n,1,0))}function H0(n){for(;n===Sp;)Sp=rl[--al],rl[al]=null,Ep=rl[--al],rl[al]=null;for(;n===So;)So=Xn[--qn],Xn[qn]=null,Di=Xn[--qn],Xn[qn]=null,Li=Xn[--qn],Xn[qn]=null}var Mn=null,jn=null,De=!1,Es=null;function QS(n,e){var t=Jn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function sb(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Mn=n,jn=Or(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Mn=n,jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=So!==null?{id:Li,overflow:Di}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Jn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Mn=n,jn=null,!0):!1;default:return!1}}function gy(n){return(n.mode&1)!==0&&(n.flags&128)===0}function yy(n){if(De){var e=jn;if(e){var t=e;if(!sb(n,e)){if(gy(n))throw Error(L(418));e=Or(t.nextSibling);var s=Mn;e&&sb(n,e)?QS(s,t):(n.flags=n.flags&-4097|2,De=!1,Mn=n)}}else{if(gy(n))throw Error(L(418));n.flags=n.flags&-4097|2,De=!1,Mn=n}}}function ib(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Mn=n}function sf(n){if(n!==Mn)return!1;if(!De)return ib(n),De=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!hy(n.type,n.memoizedProps)),e&&(e=jn)){if(gy(n))throw JS(),Error(L(418));for(;e;)QS(n,e),e=Or(e.nextSibling)}if(ib(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(L(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){jn=Or(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}jn=null}}else jn=Mn?Or(n.stateNode.nextSibling):null;return!0}function JS(){for(var n=jn;n;)n=Or(n.nextSibling)}function _c(){jn=Mn=null,De=!1}function $0(n){Es===null?Es=[n]:Es.push(n)}var y2=qi.ReactCurrentBatchConfig;function Yc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(L(309));var s=t.stateNode}if(!s)throw Error(L(147,n));var i=s,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(a){var o=i.refs;a===null?delete o[r]:o[r]=a},e._stringRef=r,e)}if(typeof n!="string")throw Error(L(284));if(!t._owner)throw Error(L(290,n))}return n}function rf(n,e){throw n=Object.prototype.toString.call(e),Error(L(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function rb(n){var e=n._init;return e(n._payload)}function ZS(n){function e(g,v){if(n){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function t(g,v){if(!n)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function s(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=zr(g,v),g.index=0,g.sibling=null,g}function r(g,v,w){return g.index=w,n?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return n&&g.alternate===null&&(g.flags|=2),g}function o(g,v,w,C){return v===null||v.tag!==6?(v=bg(w,g.mode,C),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,C){var _=w.type;return _===Zo?d(g,v,w.props.children,C,w.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===er&&rb(_)===v.type)?(C=i(v,w.props),C.ref=Yc(g,v,w),C.return=g,C):(C=jf(w.type,w.key,w.props,null,g.mode,C),C.ref=Yc(g,v,w),C.return=g,C)}function c(g,v,w,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Ag(w,g.mode,C),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function d(g,v,w,C,_){return v===null||v.tag!==7?(v=wo(w,g.mode,C,_),v.return=g,v):(v=i(v,w),v.return=g,v)}function h(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=bg(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Kh:return w=jf(v.type,v.key,v.props,null,g.mode,w),w.ref=Yc(g,null,v),w.return=g,w;case Jo:return v=Ag(v,g.mode,w),v.return=g,v;case er:var C=v._init;return h(g,C(v._payload),w)}if(iu(v)||Wc(v))return v=wo(v,g.mode,w,null),v.return=g,v;rf(g,v)}return null}function p(g,v,w,C){var _=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(g,v,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kh:return w.key===_?l(g,v,w,C):null;case Jo:return w.key===_?c(g,v,w,C):null;case er:return _=w._init,p(g,v,_(w._payload),C)}if(iu(w)||Wc(w))return _!==null?null:d(g,v,w,C,null);rf(g,w)}return null}function m(g,v,w,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(w)||null,o(v,g,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Kh:return g=g.get(C.key===null?w:C.key)||null,l(v,g,C,_);case Jo:return g=g.get(C.key===null?w:C.key)||null,c(v,g,C,_);case er:var k=C._init;return m(g,v,w,k(C._payload),_)}if(iu(C)||Wc(C))return g=g.get(w)||null,d(v,g,C,_,null);rf(v,C)}return null}function y(g,v,w,C){for(var _=null,k=null,N=v,P=v=0,j=null;N!==null&&P<w.length;P++){N.index>P?(j=N,N=null):j=N.sibling;var M=p(g,N,w[P],C);if(M===null){N===null&&(N=j);break}n&&N&&M.alternate===null&&e(g,N),v=r(M,v,P),k===null?_=M:k.sibling=M,k=M,N=j}if(P===w.length)return t(g,N),De&&aa(g,P),_;if(N===null){for(;P<w.length;P++)N=h(g,w[P],C),N!==null&&(v=r(N,v,P),k===null?_=N:k.sibling=N,k=N);return De&&aa(g,P),_}for(N=s(g,N);P<w.length;P++)j=m(N,g,P,w[P],C),j!==null&&(n&&j.alternate!==null&&N.delete(j.key===null?P:j.key),v=r(j,v,P),k===null?_=j:k.sibling=j,k=j);return n&&N.forEach(function(D){return e(g,D)}),De&&aa(g,P),_}function x(g,v,w,C){var _=Wc(w);if(typeof _!="function")throw Error(L(150));if(w=_.call(w),w==null)throw Error(L(151));for(var k=_=null,N=v,P=v=0,j=null,M=w.next();N!==null&&!M.done;P++,M=w.next()){N.index>P?(j=N,N=null):j=N.sibling;var D=p(g,N,M.value,C);if(D===null){N===null&&(N=j);break}n&&N&&D.alternate===null&&e(g,N),v=r(D,v,P),k===null?_=D:k.sibling=D,k=D,N=j}if(M.done)return t(g,N),De&&aa(g,P),_;if(N===null){for(;!M.done;P++,M=w.next())M=h(g,M.value,C),M!==null&&(v=r(M,v,P),k===null?_=M:k.sibling=M,k=M);return De&&aa(g,P),_}for(N=s(g,N);!M.done;P++,M=w.next())M=m(N,g,P,M.value,C),M!==null&&(n&&M.alternate!==null&&N.delete(M.key===null?P:M.key),v=r(M,v,P),k===null?_=M:k.sibling=M,k=M);return n&&N.forEach(function(q){return e(g,q)}),De&&aa(g,P),_}function S(g,v,w,C){if(typeof w=="object"&&w!==null&&w.type===Zo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Kh:e:{for(var _=w.key,k=v;k!==null;){if(k.key===_){if(_=w.type,_===Zo){if(k.tag===7){t(g,k.sibling),v=i(k,w.props.children),v.return=g,g=v;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===er&&rb(_)===k.type){t(g,k.sibling),v=i(k,w.props),v.ref=Yc(g,k,w),v.return=g,g=v;break e}t(g,k);break}else e(g,k);k=k.sibling}w.type===Zo?(v=wo(w.props.children,g.mode,C,w.key),v.return=g,g=v):(C=jf(w.type,w.key,w.props,null,g.mode,C),C.ref=Yc(g,v,w),C.return=g,g=C)}return a(g);case Jo:e:{for(k=w.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){t(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{t(g,v);break}else e(g,v);v=v.sibling}v=Ag(w,g.mode,C),v.return=g,g=v}return a(g);case er:return k=w._init,S(g,v,k(w._payload),C)}if(iu(w))return y(g,v,w,C);if(Wc(w))return x(g,v,w,C);rf(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(t(g,v.sibling),v=i(v,w),v.return=g,g=v):(t(g,v),v=bg(w,g.mode,C),v.return=g,g=v),a(g)):t(g,v)}return S}var Tc=ZS(!0),eE=ZS(!1),Cp=ea(null),_p=null,ol=null,W0=null;function G0(){W0=ol=_p=null}function K0(n){var e=Cp.current;Pe(Cp),n._currentValue=e}function vy(n,e,t){for(;n!==null;){var s=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),n===t)break;n=n.return}}function wl(n,e){_p=n,W0=ol=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(mn=!0),n.firstContext=null)}function ts(n){var e=n._currentValue;if(W0!==n)if(n={context:n,memoizedValue:e,next:null},ol===null){if(_p===null)throw Error(L(308));ol=n,_p.dependencies={lanes:0,firstContext:n}}else ol=ol.next=n;return e}var ya=null;function X0(n){ya===null?ya=[n]:ya.push(n)}function tE(n,e,t,s){var i=e.interleaved;return i===null?(t.next=t,X0(e)):(t.next=i.next,i.next=t),e.interleaved=t,$i(n,s)}function $i(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var tr=!1;function q0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nE(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ii(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Br(n,e,t){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,he&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,$i(n,t)}return i=s.interleaved,i===null?(e.next=e,X0(s)):(e.next=i.next,i.next=e),s.interleaved=e,$i(n,t)}function _f(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,L0(n,t)}}function ab(n,e){var t=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var i=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?i=r=a:r=r.next=a,t=t.next}while(t!==null);r===null?i=r=e:r=r.next=e}else i=r=e;t={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Tp(n,e,t,s){var i=n.updateQueue;tr=!1;var r=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?r=c:a.next=c,a=l;var d=n.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(r!==null){var h=i.baseState;a=0,d=c=l=null,o=r;do{var p=o.lane,m=o.eventTime;if((s&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=n,x=o;switch(p=e,m=t,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=He({},h,p);break e;case 2:tr=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);Co|=a,n.lanes=a,n.memoizedState=h}}function ob(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var s=n[e],i=s.callback;if(i!==null){if(s.callback=null,s=t,typeof i!="function")throw Error(L(191,i));i.call(s)}}}var Mh={},Zs=ea(Mh),Zu=ea(Mh),ed=ea(Mh);function va(n){if(n===Mh)throw Error(L(174));return n}function Y0(n,e){switch(_e(ed,e),_e(Zu,n),_e(Zs,Mh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jg(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Jg(e,n)}Pe(Zs),_e(Zs,e)}function kc(){Pe(Zs),Pe(Zu),Pe(ed)}function sE(n){va(ed.current);var e=va(Zs.current),t=Jg(e,n.type);e!==t&&(_e(Zu,n),_e(Zs,t))}function Q0(n){Zu.current===n&&(Pe(Zs),Pe(Zu))}var Ve=ea(0);function kp(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mg=[];function J0(){for(var n=0;n<mg.length;n++)mg[n]._workInProgressVersionPrimary=null;mg.length=0}var Tf=qi.ReactCurrentDispatcher,gg=qi.ReactCurrentBatchConfig,Eo=0,ze=null,ut=null,bt=null,Np=!1,Ru=!1,td=0,v2=0;function Mt(){throw Error(L(321))}function Z0(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ks(n[t],e[t]))return!1;return!0}function ex(n,e,t,s,i,r){if(Eo=r,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tf.current=n===null||n.memoizedState===null?A2:S2,n=t(s,i),Ru){r=0;do{if(Ru=!1,td=0,25<=r)throw Error(L(301));r+=1,bt=ut=null,e.updateQueue=null,Tf.current=E2,n=t(s,i)}while(Ru)}if(Tf.current=Pp,e=ut!==null&&ut.next!==null,Eo=0,bt=ut=ze=null,Np=!1,e)throw Error(L(300));return n}function tx(){var n=td!==0;return td=0,n}function js(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?ze.memoizedState=bt=n:bt=bt.next=n,bt}function ns(){if(ut===null){var n=ze.alternate;n=n!==null?n.memoizedState:null}else n=ut.next;var e=bt===null?ze.memoizedState:bt.next;if(e!==null)bt=e,ut=n;else{if(n===null)throw Error(L(310));ut=n,n={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},bt===null?ze.memoizedState=bt=n:bt=bt.next=n}return bt}function nd(n,e){return typeof e=="function"?e(n):e}function yg(n){var e=ns(),t=e.queue;if(t===null)throw Error(L(311));t.lastRenderedReducer=n;var s=ut,i=s.baseQueue,r=t.pending;if(r!==null){if(i!==null){var a=i.next;i.next=r.next,r.next=a}s.baseQueue=i=r,t.pending=null}if(i!==null){r=i.next,s=s.baseState;var o=a=null,l=null,c=r;do{var d=c.lane;if((Eo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:n(s,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=s):l=l.next=h,ze.lanes|=d,Co|=d}c=c.next}while(c!==null&&c!==r);l===null?a=s:l.next=o,ks(s,e.memoizedState)||(mn=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=l,t.lastRenderedState=s}if(n=t.interleaved,n!==null){i=n;do r=i.lane,ze.lanes|=r,Co|=r,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function vg(n){var e=ns(),t=e.queue;if(t===null)throw Error(L(311));t.lastRenderedReducer=n;var s=t.dispatch,i=t.pending,r=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do r=n(r,a.action),a=a.next;while(a!==i);ks(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,s]}function iE(){}function rE(n,e){var t=ze,s=ns(),i=e(),r=!ks(s.memoizedState,i);if(r&&(s.memoizedState=i,mn=!0),s=s.queue,nx(lE.bind(null,t,s,n),[n]),s.getSnapshot!==e||r||bt!==null&&bt.memoizedState.tag&1){if(t.flags|=2048,sd(9,oE.bind(null,t,s,i,e),void 0,null),At===null)throw Error(L(349));Eo&30||aE(t,e,i)}return i}function aE(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function oE(n,e,t,s){e.value=t,e.getSnapshot=s,cE(e)&&uE(n)}function lE(n,e,t){return t(function(){cE(e)&&uE(n)})}function cE(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ks(n,t)}catch{return!0}}function uE(n){var e=$i(n,1);e!==null&&Ts(e,n,1,-1)}function lb(n){var e=js();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nd,lastRenderedState:n},e.queue=n,n=n.dispatch=b2.bind(null,ze,n),[e.memoizedState,n]}function sd(n,e,t,s){return n={tag:n,create:e,destroy:t,deps:s,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(s=t.next,t.next=n,n.next=s,e.lastEffect=n)),n}function dE(){return ns().memoizedState}function kf(n,e,t,s){var i=js();ze.flags|=n,i.memoizedState=sd(1|e,t,void 0,s===void 0?null:s)}function bm(n,e,t,s){var i=ns();s=s===void 0?null:s;var r=void 0;if(ut!==null){var a=ut.memoizedState;if(r=a.destroy,s!==null&&Z0(s,a.deps)){i.memoizedState=sd(e,t,r,s);return}}ze.flags|=n,i.memoizedState=sd(1|e,t,r,s)}function cb(n,e){return kf(8390656,8,n,e)}function nx(n,e){return bm(2048,8,n,e)}function hE(n,e){return bm(4,2,n,e)}function fE(n,e){return bm(4,4,n,e)}function pE(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function mE(n,e,t){return t=t!=null?t.concat([n]):null,bm(4,4,pE.bind(null,e,n),t)}function sx(){}function gE(n,e){var t=ns();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Z0(e,s[1])?s[0]:(t.memoizedState=[n,e],n)}function yE(n,e){var t=ns();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Z0(e,s[1])?s[0]:(n=n(),t.memoizedState=[n,e],n)}function vE(n,e,t){return Eo&21?(ks(t,e)||(t=SS(),ze.lanes|=t,Co|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,mn=!0),n.memoizedState=t)}function x2(n,e){var t=we;we=t!==0&&4>t?t:4,n(!0);var s=gg.transition;gg.transition={};try{n(!1),e()}finally{we=t,gg.transition=s}}function xE(){return ns().memoizedState}function w2(n,e,t){var s=Ur(n);if(t={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null},wE(n))bE(e,t);else if(t=tE(n,e,t,s),t!==null){var i=en();Ts(t,n,s,i),AE(t,e,s)}}function b2(n,e,t){var s=Ur(n),i={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null};if(wE(n))bE(e,i);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,o=r(a,t);if(i.hasEagerState=!0,i.eagerState=o,ks(o,a)){var l=e.interleaved;l===null?(i.next=i,X0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=tE(n,e,i,s),t!==null&&(i=en(),Ts(t,n,s,i),AE(t,e,s))}}function wE(n){var e=n.alternate;return n===ze||e!==null&&e===ze}function bE(n,e){Ru=Np=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function AE(n,e,t){if(t&4194240){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,L0(n,t)}}var Pp={readContext:ts,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},A2={readContext:ts,useCallback:function(n,e){return js().memoizedState=[n,e===void 0?null:e],n},useContext:ts,useEffect:cb,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,kf(4194308,4,pE.bind(null,e,n),t)},useLayoutEffect:function(n,e){return kf(4194308,4,n,e)},useInsertionEffect:function(n,e){return kf(4,2,n,e)},useMemo:function(n,e){var t=js();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var s=js();return e=t!==void 0?t(e):e,s.memoizedState=s.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},s.queue=n,n=n.dispatch=w2.bind(null,ze,n),[s.memoizedState,n]},useRef:function(n){var e=js();return n={current:n},e.memoizedState=n},useState:lb,useDebugValue:sx,useDeferredValue:function(n){return js().memoizedState=n},useTransition:function(){var n=lb(!1),e=n[0];return n=x2.bind(null,n[1]),js().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var s=ze,i=js();if(De){if(t===void 0)throw Error(L(407));t=t()}else{if(t=e(),At===null)throw Error(L(349));Eo&30||aE(s,e,t)}i.memoizedState=t;var r={value:t,getSnapshot:e};return i.queue=r,cb(lE.bind(null,s,r,n),[n]),s.flags|=2048,sd(9,oE.bind(null,s,r,t,e),void 0,null),t},useId:function(){var n=js(),e=At.identifierPrefix;if(De){var t=Di,s=Li;t=(s&~(1<<32-_s(s)-1)).toString(32)+t,e=":"+e+"R"+t,t=td++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=v2++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},S2={readContext:ts,useCallback:gE,useContext:ts,useEffect:nx,useImperativeHandle:mE,useInsertionEffect:hE,useLayoutEffect:fE,useMemo:yE,useReducer:yg,useRef:dE,useState:function(){return yg(nd)},useDebugValue:sx,useDeferredValue:function(n){var e=ns();return vE(e,ut.memoizedState,n)},useTransition:function(){var n=yg(nd)[0],e=ns().memoizedState;return[n,e]},useMutableSource:iE,useSyncExternalStore:rE,useId:xE,unstable_isNewReconciler:!1},E2={readContext:ts,useCallback:gE,useContext:ts,useEffect:nx,useImperativeHandle:mE,useInsertionEffect:hE,useLayoutEffect:fE,useMemo:yE,useReducer:vg,useRef:dE,useState:function(){return vg(nd)},useDebugValue:sx,useDeferredValue:function(n){var e=ns();return ut===null?e.memoizedState=n:vE(e,ut.memoizedState,n)},useTransition:function(){var n=vg(nd)[0],e=ns().memoizedState;return[n,e]},useMutableSource:iE,useSyncExternalStore:rE,useId:xE,unstable_isNewReconciler:!1};function ls(n,e){if(n&&n.defaultProps){e=He({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function xy(n,e,t,s){e=n.memoizedState,t=t(s,e),t=t==null?e:He({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Am={isMounted:function(n){return(n=n._reactInternals)?Lo(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var s=en(),i=Ur(n),r=Ii(s,i);r.payload=e,t!=null&&(r.callback=t),e=Br(n,r,i),e!==null&&(Ts(e,n,i,s),_f(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var s=en(),i=Ur(n),r=Ii(s,i);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=Br(n,r,i),e!==null&&(Ts(e,n,i,s),_f(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=en(),s=Ur(n),i=Ii(t,s);i.tag=2,e!=null&&(i.callback=e),e=Br(n,i,s),e!==null&&(Ts(e,n,s,t),_f(e,n,s))}};function ub(n,e,t,s,i,r,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,r,a):e.prototype&&e.prototype.isPureReactComponent?!qu(t,s)||!qu(i,r):!0}function SE(n,e,t){var s=!1,i=Gr,r=e.contextType;return typeof r=="object"&&r!==null?r=ts(r):(i=vn(e)?Ao:Kt.current,s=e.contextTypes,r=(s=s!=null)?Cc(n,i):Gr),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Am,n.stateNode=e,e._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=r),e}function db(n,e,t,s){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==n&&Am.enqueueReplaceState(e,e.state,null)}function wy(n,e,t,s){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},q0(n);var r=e.contextType;typeof r=="object"&&r!==null?i.context=ts(r):(r=vn(e)?Ao:Kt.current,i.context=Cc(n,r)),i.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(xy(n,e,r,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Am.enqueueReplaceState(i,i.state,null),Tp(n,t,i,s),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Nc(n,e){try{var t="",s=e;do t+=JN(s),s=s.return;while(s);var i=t}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:i,digest:null}}function xg(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function by(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var C2=typeof WeakMap=="function"?WeakMap:Map;function EE(n,e,t){t=Ii(-1,t),t.tag=3,t.payload={element:null};var s=e.value;return t.callback=function(){jp||(jp=!0,Ry=s),by(n,e)},t}function CE(n,e,t){t=Ii(-1,t),t.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;t.payload=function(){return s(i)},t.callback=function(){by(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){by(n,e),typeof s!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function hb(n,e,t){var s=n.pingCache;if(s===null){s=n.pingCache=new C2;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(t)||(i.add(t),n=B2.bind(null,n,e,t),e.then(n,n))}function fb(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function pb(n,e,t,s,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ii(-1,1),e.tag=2,Br(t,e,1))),t.lanes|=1),n)}var _2=qi.ReactCurrentOwner,mn=!1;function Jt(n,e,t,s){e.child=n===null?eE(e,null,t,s):Tc(e,n.child,t,s)}function mb(n,e,t,s,i){t=t.render;var r=e.ref;return wl(e,i),s=ex(n,e,t,s,r,i),t=tx(),n!==null&&!mn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Wi(n,e,i)):(De&&t&&z0(e),e.flags|=1,Jt(n,e,s,i),e.child)}function gb(n,e,t,s,i){if(n===null){var r=t.type;return typeof r=="function"&&!dx(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,_E(n,e,r,s,i)):(n=jf(t.type,null,s,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&i)){var a=r.memoizedProps;if(t=t.compare,t=t!==null?t:qu,t(a,s)&&n.ref===e.ref)return Wi(n,e,i)}return e.flags|=1,n=zr(r,s),n.ref=e.ref,n.return=e,e.child=n}function _E(n,e,t,s,i){if(n!==null){var r=n.memoizedProps;if(qu(r,s)&&n.ref===e.ref)if(mn=!1,e.pendingProps=s=r,(n.lanes&i)!==0)n.flags&131072&&(mn=!0);else return e.lanes=n.lanes,Wi(n,e,i)}return Ay(n,e,t,s,i)}function TE(n,e,t){var s=e.pendingProps,i=s.children,r=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(cl,Pn),Pn|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,_e(cl,Pn),Pn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:t,_e(cl,Pn),Pn|=s}else r!==null?(s=r.baseLanes|t,e.memoizedState=null):s=t,_e(cl,Pn),Pn|=s;return Jt(n,e,i,t),e.child}function kE(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Ay(n,e,t,s,i){var r=vn(t)?Ao:Kt.current;return r=Cc(e,r),wl(e,i),t=ex(n,e,t,s,r,i),s=tx(),n!==null&&!mn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Wi(n,e,i)):(De&&s&&z0(e),e.flags|=1,Jt(n,e,t,i),e.child)}function yb(n,e,t,s,i){if(vn(t)){var r=!0;Ap(e)}else r=!1;if(wl(e,i),e.stateNode===null)Nf(n,e),SE(e,t,s),wy(e,t,s,i),s=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=ts(c):(c=vn(t)?Ao:Kt.current,c=Cc(e,c));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==s||l!==c)&&db(e,a,s,c),tr=!1;var p=e.memoizedState;a.state=p,Tp(e,s,a,i),l=e.memoizedState,o!==s||p!==l||yn.current||tr?(typeof d=="function"&&(xy(e,t,d,s),l=e.memoizedState),(o=tr||ub(e,t,o,s,p,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),a.props=s,a.state=l,a.context=c,s=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,nE(n,e),o=e.memoizedProps,c=e.type===e.elementType?o:ls(e.type,o),a.props=c,h=e.pendingProps,p=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=ts(l):(l=vn(t)?Ao:Kt.current,l=Cc(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||p!==l)&&db(e,a,s,l),tr=!1,p=e.memoizedState,a.state=p,Tp(e,s,a,i);var y=e.memoizedState;o!==h||p!==y||yn.current||tr?(typeof m=="function"&&(xy(e,t,m,s),y=e.memoizedState),(c=tr||ub(e,t,c,s,p,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),a.props=s,a.state=y,a.context=l,s=c):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),s=!1)}return Sy(n,e,t,s,r,i)}function Sy(n,e,t,s,i,r){kE(n,e);var a=(e.flags&128)!==0;if(!s&&!a)return i&&nb(e,t,!1),Wi(n,e,r);s=e.stateNode,_2.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,n!==null&&a?(e.child=Tc(e,n.child,null,r),e.child=Tc(e,null,o,r)):Jt(n,e,o,r),e.memoizedState=s.state,i&&nb(e,t,!0),e.child}function NE(n){var e=n.stateNode;e.pendingContext?tb(n,e.pendingContext,e.pendingContext!==e.context):e.context&&tb(n,e.context,!1),Y0(n,e.containerInfo)}function vb(n,e,t,s,i){return _c(),$0(i),e.flags|=256,Jt(n,e,t,s),e.child}var Ey={dehydrated:null,treeContext:null,retryLane:0};function Cy(n){return{baseLanes:n,cachePool:null,transitions:null}}function PE(n,e,t){var s=e.pendingProps,i=Ve.current,r=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!==0),o?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),_e(Ve,i&1),n===null)return yy(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=s.children,n=s.fallback,r?(s=e.mode,r=e.child,a={mode:"hidden",children:a},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=a):r=Cm(a,s,0,null),n=wo(n,s,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=Cy(t),e.memoizedState=Ey,n):ix(e,a));if(i=n.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return T2(n,e,a,s,o,i,t);if(r){r=s.fallback,a=e.mode,i=n.child,o=i.sibling;var l={mode:"hidden",children:s.children};return!(a&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=zr(i,l),s.subtreeFlags=i.subtreeFlags&14680064),o!==null?r=zr(o,r):(r=wo(r,a,t,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,a=n.child.memoizedState,a=a===null?Cy(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},r.memoizedState=a,r.childLanes=n.childLanes&~t,e.memoizedState=Ey,s}return r=n.child,n=r.sibling,s=zr(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=t),s.return=e,s.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=s,e.memoizedState=null,s}function ix(n,e){return e=Cm({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function af(n,e,t,s){return s!==null&&$0(s),Tc(e,n.child,null,t),n=ix(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function T2(n,e,t,s,i,r,a){if(t)return e.flags&256?(e.flags&=-257,s=xg(Error(L(422))),af(n,e,a,s)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=Cm({mode:"visible",children:s.children},i,0,null),r=wo(r,i,a,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&Tc(e,n.child,null,a),e.child.memoizedState=Cy(a),e.memoizedState=Ey,r);if(!(e.mode&1))return af(n,e,a,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var o=s.dgst;return s=o,r=Error(L(419)),s=xg(r,s,void 0),af(n,e,a,s)}if(o=(a&n.childLanes)!==0,mn||o){if(s=At,s!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|a)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,$i(n,i),Ts(s,n,i,-1))}return ux(),s=xg(Error(L(421))),af(n,e,a,s)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=V2.bind(null,n),i._reactRetry=e,null):(n=r.treeContext,jn=Or(i.nextSibling),Mn=e,De=!0,Es=null,n!==null&&(Xn[qn++]=Li,Xn[qn++]=Di,Xn[qn++]=So,Li=n.id,Di=n.overflow,So=e),e=ix(e,s.children),e.flags|=4096,e)}function xb(n,e,t){n.lanes|=e;var s=n.alternate;s!==null&&(s.lanes|=e),vy(n.return,e,t)}function wg(n,e,t,s,i){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=t,r.tailMode=i)}function RE(n,e,t){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(Jt(n,e,s.children,t),s=Ve.current,s&2)s=s&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&xb(n,t,e);else if(n.tag===19)xb(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(_e(Ve,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&kp(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),wg(e,!1,i,t,r);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&kp(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}wg(e,!0,t,null,r);break;case"together":wg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nf(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Wi(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Co|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(L(153));if(e.child!==null){for(n=e.child,t=zr(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=zr(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function k2(n,e,t){switch(e.tag){case 3:NE(e),_c();break;case 5:sE(e);break;case 1:vn(e.type)&&Ap(e);break;case 4:Y0(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;_e(Cp,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(_e(Ve,Ve.current&1),e.flags|=128,null):t&e.child.childLanes?PE(n,e,t):(_e(Ve,Ve.current&1),n=Wi(n,e,t),n!==null?n.sibling:null);_e(Ve,Ve.current&1);break;case 19:if(s=(t&e.childLanes)!==0,n.flags&128){if(s)return RE(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Ve,Ve.current),s)break;return null;case 22:case 23:return e.lanes=0,TE(n,e,t)}return Wi(n,e,t)}var jE,_y,ME,LE;jE=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};_y=function(){};ME=function(n,e,t,s){var i=n.memoizedProps;if(i!==s){n=e.stateNode,va(Zs.current);var r=null;switch(t){case"input":i=Xg(n,i),s=Xg(n,s),r=[];break;case"select":i=He({},i,{value:void 0}),s=He({},s,{value:void 0}),r=[];break;case"textarea":i=Qg(n,i),s=Qg(n,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=wp)}Zg(t,s);var a;t=null;for(c in i)if(!s.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zu.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in s){var l=s[c];if(o=i!=null?i[c]:void 0,s.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(r||(r=[]),r.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ke("scroll",n),r||o===l||(r=[])):(r=r||[]).push(c,l))}t&&(r=r||[]).push("style",t);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};LE=function(n,e,t,s){t!==s&&(e.flags|=4)};function Qc(n,e){if(!De)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function Lt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,s=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=s,n.childLanes=t,e}function N2(n,e,t){var s=e.pendingProps;switch(H0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return vn(e.type)&&bp(),Lt(e),null;case 3:return s=e.stateNode,kc(),Pe(yn),Pe(Kt),J0(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(sf(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Es!==null&&(Ly(Es),Es=null))),_y(n,e),Lt(e),null;case 5:Q0(e);var i=va(ed.current);if(t=e.type,n!==null&&e.stateNode!=null)ME(n,e,t,s,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(L(166));return Lt(e),null}if(n=va(Zs.current),sf(e)){s=e.stateNode,t=e.type;var r=e.memoizedProps;switch(s[Qs]=e,s[Ju]=r,n=(e.mode&1)!==0,t){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(i=0;i<au.length;i++)ke(au[i],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":kw(s,r),ke("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},ke("invalid",s);break;case"textarea":Pw(s,r),ke("invalid",s)}Zg(t,r),i=null;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];a==="children"?typeof o=="string"?s.textContent!==o&&(r.suppressHydrationWarning!==!0&&nf(s.textContent,o,n),i=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(r.suppressHydrationWarning!==!0&&nf(s.textContent,o,n),i=["children",""+o]):zu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ke("scroll",s)}switch(t){case"input":Xh(s),Nw(s,r,!0);break;case"textarea":Xh(s),Rw(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=wp)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=lS(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=a.createElement(t,{is:s.is}):(n=a.createElement(t),t==="select"&&(a=n,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):n=a.createElementNS(n,t),n[Qs]=e,n[Ju]=s,jE(n,e,!1,!1),e.stateNode=n;e:{switch(a=ey(t,s),t){case"dialog":ke("cancel",n),ke("close",n),i=s;break;case"iframe":case"object":case"embed":ke("load",n),i=s;break;case"video":case"audio":for(i=0;i<au.length;i++)ke(au[i],n);i=s;break;case"source":ke("error",n),i=s;break;case"img":case"image":case"link":ke("error",n),ke("load",n),i=s;break;case"details":ke("toggle",n),i=s;break;case"input":kw(n,s),i=Xg(n,s),ke("invalid",n);break;case"option":i=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},i=He({},s,{value:void 0}),ke("invalid",n);break;case"textarea":Pw(n,s),i=Qg(n,s),ke("invalid",n);break;default:i=s}Zg(t,i),o=i;for(r in o)if(o.hasOwnProperty(r)){var l=o[r];r==="style"?dS(n,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cS(n,l)):r==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Hu(n,l):typeof l=="number"&&Hu(n,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(zu.hasOwnProperty(r)?l!=null&&r==="onScroll"&&ke("scroll",n):l!=null&&k0(n,r,l,a))}switch(t){case"input":Xh(n),Nw(n,s,!1);break;case"textarea":Xh(n),Rw(n);break;case"option":s.value!=null&&n.setAttribute("value",""+Wr(s.value));break;case"select":n.multiple=!!s.multiple,r=s.value,r!=null?gl(n,!!s.multiple,r,!1):s.defaultValue!=null&&gl(n,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=wp)}switch(t){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(n&&e.stateNode!=null)LE(n,e,n.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(L(166));if(t=va(ed.current),va(Zs.current),sf(e)){if(s=e.stateNode,t=e.memoizedProps,s[Qs]=e,(r=s.nodeValue!==t)&&(n=Mn,n!==null))switch(n.tag){case 3:nf(s.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&nf(s.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[Qs]=e,e.stateNode=s}return Lt(e),null;case 13:if(Pe(Ve),s=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(De&&jn!==null&&e.mode&1&&!(e.flags&128))JS(),_c(),e.flags|=98560,r=!1;else if(r=sf(e),s!==null&&s.dehydrated!==null){if(n===null){if(!r)throw Error(L(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[Qs]=e}else _c(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),r=!1}else Es!==null&&(Ly(Es),Es=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(n===null||Ve.current&1?ht===0&&(ht=3):ux())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return kc(),_y(n,e),n===null&&Yu(e.stateNode.containerInfo),Lt(e),null;case 10:return K0(e.type._context),Lt(e),null;case 17:return vn(e.type)&&bp(),Lt(e),null;case 19:if(Pe(Ve),r=e.memoizedState,r===null)return Lt(e),null;if(s=(e.flags&128)!==0,a=r.rendering,a===null)if(s)Qc(r,!1);else{if(ht!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=kp(n),a!==null){for(e.flags|=128,Qc(r,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=t,t=e.child;t!==null;)r=t,n=s,r.flags&=14680066,a=r.alternate,a===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,n=a.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return _e(Ve,Ve.current&1|2),e.child}n=n.sibling}r.tail!==null&&Qe()>Pc&&(e.flags|=128,s=!0,Qc(r,!1),e.lanes=4194304)}else{if(!s)if(n=kp(a),n!==null){if(e.flags|=128,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Qc(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!De)return Lt(e),null}else 2*Qe()-r.renderingStartTime>Pc&&t!==1073741824&&(e.flags|=128,s=!0,Qc(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Qe(),e.sibling=null,t=Ve.current,_e(Ve,s?t&1|2:t&1),e):(Lt(e),null);case 22:case 23:return cx(),s=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Pn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function P2(n,e){switch(H0(e),e.tag){case 1:return vn(e.type)&&bp(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return kc(),Pe(yn),Pe(Kt),J0(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Q0(e),null;case 13:if(Pe(Ve),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(L(340));_c()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Pe(Ve),null;case 4:return kc(),null;case 10:return K0(e.type._context),null;case 22:case 23:return cx(),null;case 24:return null;default:return null}}var of=!1,Ht=!1,R2=typeof WeakSet=="function"?WeakSet:Set,V=null;function ll(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(s){Xe(n,e,s)}else t.current=null}function Ty(n,e,t){try{t()}catch(s){Xe(n,e,s)}}var wb=!1;function j2(n,e){if(uy=yp,n=BS(),U0(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var s=t.getSelection&&t.getSelection();if(s&&s.rangeCount!==0){t=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(o=a+i),h!==r||s!==0&&h.nodeType!==3||(l=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++c===i&&(o=a),p===r&&++d===s&&(l=a),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(dy={focusedElem:n,selectionRange:t},yp=!1,V=e;V!==null;)if(e=V,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,V=n;else for(;V!==null;){e=V;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,S=y.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:ls(e.type,x),S);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(C){Xe(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}return y=wb,wb=!1,y}function ju(n,e,t){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&n)===n){var r=i.destroy;i.destroy=void 0,r!==void 0&&Ty(e,t,r)}i=i.next}while(i!==s)}}function Sm(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}}function ky(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function DE(n){var e=n.alternate;e!==null&&(n.alternate=null,DE(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Qs],delete e[Ju],delete e[py],delete e[p2],delete e[m2])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function IE(n){return n.tag===5||n.tag===3||n.tag===4}function bb(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||IE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ny(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=wp));else if(s!==4&&(n=n.child,n!==null))for(Ny(n,e,t),n=n.sibling;n!==null;)Ny(n,e,t),n=n.sibling}function Py(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(Py(n,e,t),n=n.sibling;n!==null;)Py(n,e,t),n=n.sibling}var Tt=null,Ss=!1;function Yi(n,e,t){for(t=t.child;t!==null;)FE(n,e,t),t=t.sibling}function FE(n,e,t){if(Js&&typeof Js.onCommitFiberUnmount=="function")try{Js.onCommitFiberUnmount(mm,t)}catch{}switch(t.tag){case 5:Ht||ll(t,e);case 6:var s=Tt,i=Ss;Tt=null,Yi(n,e,t),Tt=s,Ss=i,Tt!==null&&(Ss?(n=Tt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Tt.removeChild(t.stateNode));break;case 18:Tt!==null&&(Ss?(n=Tt,t=t.stateNode,n.nodeType===8?fg(n.parentNode,t):n.nodeType===1&&fg(n,t),Ku(n)):fg(Tt,t.stateNode));break;case 4:s=Tt,i=Ss,Tt=t.stateNode.containerInfo,Ss=!0,Yi(n,e,t),Tt=s,Ss=i;break;case 0:case 11:case 14:case 15:if(!Ht&&(s=t.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,a=r.destroy;r=r.tag,a!==void 0&&(r&2||r&4)&&Ty(t,e,a),i=i.next}while(i!==s)}Yi(n,e,t);break;case 1:if(!Ht&&(ll(t,e),s=t.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=t.memoizedProps,s.state=t.memoizedState,s.componentWillUnmount()}catch(o){Xe(t,e,o)}Yi(n,e,t);break;case 21:Yi(n,e,t);break;case 22:t.mode&1?(Ht=(s=Ht)||t.memoizedState!==null,Yi(n,e,t),Ht=s):Yi(n,e,t);break;default:Yi(n,e,t)}}function Ab(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new R2),e.forEach(function(s){var i=U2.bind(null,n,s);t.has(s)||(t.add(s),s.then(i,i))})}}function rs(n,e){var t=e.deletions;if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];try{var r=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Tt=o.stateNode,Ss=!1;break e;case 3:Tt=o.stateNode.containerInfo,Ss=!0;break e;case 4:Tt=o.stateNode.containerInfo,Ss=!0;break e}o=o.return}if(Tt===null)throw Error(L(160));FE(r,a,i),Tt=null,Ss=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Xe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OE(e,n),e=e.sibling}function OE(n,e){var t=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(rs(e,n),Ps(n),s&4){try{ju(3,n,n.return),Sm(3,n)}catch(x){Xe(n,n.return,x)}try{ju(5,n,n.return)}catch(x){Xe(n,n.return,x)}}break;case 1:rs(e,n),Ps(n),s&512&&t!==null&&ll(t,t.return);break;case 5:if(rs(e,n),Ps(n),s&512&&t!==null&&ll(t,t.return),n.flags&32){var i=n.stateNode;try{Hu(i,"")}catch(x){Xe(n,n.return,x)}}if(s&4&&(i=n.stateNode,i!=null)){var r=n.memoizedProps,a=t!==null?t.memoizedProps:r,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&r.type==="radio"&&r.name!=null&&aS(i,r),ey(o,a);var c=ey(o,r);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?dS(i,h):d==="dangerouslySetInnerHTML"?cS(i,h):d==="children"?Hu(i,h):k0(i,d,h,c)}switch(o){case"input":qg(i,r);break;case"textarea":oS(i,r);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var m=r.value;m!=null?gl(i,!!r.multiple,m,!1):p!==!!r.multiple&&(r.defaultValue!=null?gl(i,!!r.multiple,r.defaultValue,!0):gl(i,!!r.multiple,r.multiple?[]:"",!1))}i[Ju]=r}catch(x){Xe(n,n.return,x)}}break;case 6:if(rs(e,n),Ps(n),s&4){if(n.stateNode===null)throw Error(L(162));i=n.stateNode,r=n.memoizedProps;try{i.nodeValue=r}catch(x){Xe(n,n.return,x)}}break;case 3:if(rs(e,n),Ps(n),s&4&&t!==null&&t.memoizedState.isDehydrated)try{Ku(e.containerInfo)}catch(x){Xe(n,n.return,x)}break;case 4:rs(e,n),Ps(n);break;case 13:rs(e,n),Ps(n),i=n.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(ox=Qe())),s&4&&Ab(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Ht=(c=Ht)||d,rs(e,n),Ht=c):rs(e,n),Ps(n),s&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(V=n,d=n.child;d!==null;){for(h=V=d;V!==null;){switch(p=V,m=p.child,p.tag){case 0:case 11:case 14:case 15:ju(4,p,p.return);break;case 1:ll(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){s=p,t=p.return;try{e=s,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Xe(s,t,x)}}break;case 5:ll(p,p.return);break;case 22:if(p.memoizedState!==null){Eb(h);continue}}m!==null?(m.return=p,V=m):Eb(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=uS("display",a))}catch(x){Xe(n,n.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){Xe(n,n.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:rs(e,n),Ps(n),s&4&&Ab(n);break;case 21:break;default:rs(e,n),Ps(n)}}function Ps(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(IE(t)){var s=t;break e}t=t.return}throw Error(L(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Hu(i,""),s.flags&=-33);var r=bb(n);Py(n,r,i);break;case 3:case 4:var a=s.stateNode.containerInfo,o=bb(n);Ny(n,o,a);break;default:throw Error(L(161))}}catch(l){Xe(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function M2(n,e,t){V=n,BE(n)}function BE(n,e,t){for(var s=(n.mode&1)!==0;V!==null;){var i=V,r=i.child;if(i.tag===22&&s){var a=i.memoizedState!==null||of;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ht;o=of;var c=Ht;if(of=a,(Ht=l)&&!c)for(V=i;V!==null;)a=V,l=a.child,a.tag===22&&a.memoizedState!==null?Cb(i):l!==null?(l.return=a,V=l):Cb(i);for(;r!==null;)V=r,BE(r),r=r.sibling;V=i,of=o,Ht=c}Sb(n)}else i.subtreeFlags&8772&&r!==null?(r.return=i,V=r):Sb(n)}}function Sb(n){for(;V!==null;){var e=V;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Sm(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Ht)if(t===null)s.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ls(e.type,t.memoizedProps);s.componentDidUpdate(i,t.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&ob(e,r,s);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}ob(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ku(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ht||e.flags&512&&ky(e)}catch(p){Xe(e,e.return,p)}}if(e===n){V=null;break}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}}function Eb(n){for(;V!==null;){var e=V;if(e===n){V=null;break}var t=e.sibling;if(t!==null){t.return=e.return,V=t;break}V=e.return}}function Cb(n){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Sm(4,e)}catch(l){Xe(e,t,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(l){Xe(e,i,l)}}var r=e.return;try{ky(e)}catch(l){Xe(e,r,l)}break;case 5:var a=e.return;try{ky(e)}catch(l){Xe(e,a,l)}}}catch(l){Xe(e,e.return,l)}if(e===n){V=null;break}var o=e.sibling;if(o!==null){o.return=e.return,V=o;break}V=e.return}}var L2=Math.ceil,Rp=qi.ReactCurrentDispatcher,rx=qi.ReactCurrentOwner,Zn=qi.ReactCurrentBatchConfig,he=0,At=null,st=null,Nt=0,Pn=0,cl=ea(0),ht=0,id=null,Co=0,Em=0,ax=0,Mu=null,pn=null,ox=0,Pc=1/0,ri=null,jp=!1,Ry=null,Vr=null,lf=!1,Mr=null,Mp=0,Lu=0,jy=null,Pf=-1,Rf=0;function en(){return he&6?Qe():Pf!==-1?Pf:Pf=Qe()}function Ur(n){return n.mode&1?he&2&&Nt!==0?Nt&-Nt:y2.transition!==null?(Rf===0&&(Rf=SS()),Rf):(n=we,n!==0||(n=window.event,n=n===void 0?16:PS(n.type)),n):1}function Ts(n,e,t,s){if(50<Lu)throw Lu=0,jy=null,Error(L(185));Ph(n,t,s),(!(he&2)||n!==At)&&(n===At&&(!(he&2)&&(Em|=t),ht===4&&sr(n,Nt)),xn(n,s),t===1&&he===0&&!(e.mode&1)&&(Pc=Qe()+500,wm&&ta()))}function xn(n,e){var t=n.callbackNode;yP(n,e);var s=gp(n,n===At?Nt:0);if(s===0)t!==null&&Lw(t),n.callbackNode=null,n.callbackPriority=0;else if(e=s&-s,n.callbackPriority!==e){if(t!=null&&Lw(t),e===1)n.tag===0?g2(_b.bind(null,n)):qS(_b.bind(null,n)),h2(function(){!(he&6)&&ta()}),t=null;else{switch(ES(s)){case 1:t=M0;break;case 4:t=bS;break;case 16:t=mp;break;case 536870912:t=AS;break;default:t=mp}t=KE(t,VE.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function VE(n,e){if(Pf=-1,Rf=0,he&6)throw Error(L(327));var t=n.callbackNode;if(bl()&&n.callbackNode!==t)return null;var s=gp(n,n===At?Nt:0);if(s===0)return null;if(s&30||s&n.expiredLanes||e)e=Lp(n,s);else{e=s;var i=he;he|=2;var r=zE();(At!==n||Nt!==e)&&(ri=null,Pc=Qe()+500,xo(n,e));do try{F2();break}catch(o){UE(n,o)}while(!0);G0(),Rp.current=r,he=i,st!==null?e=0:(At=null,Nt=0,e=ht)}if(e!==0){if(e===2&&(i=ry(n),i!==0&&(s=i,e=My(n,i))),e===1)throw t=id,xo(n,0),sr(n,s),xn(n,Qe()),t;if(e===6)sr(n,s);else{if(i=n.current.alternate,!(s&30)&&!D2(i)&&(e=Lp(n,s),e===2&&(r=ry(n),r!==0&&(s=r,e=My(n,r))),e===1))throw t=id,xo(n,0),sr(n,s),xn(n,Qe()),t;switch(n.finishedWork=i,n.finishedLanes=s,e){case 0:case 1:throw Error(L(345));case 2:oa(n,pn,ri);break;case 3:if(sr(n,s),(s&130023424)===s&&(e=ox+500-Qe(),10<e)){if(gp(n,0)!==0)break;if(i=n.suspendedLanes,(i&s)!==s){en(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=fy(oa.bind(null,n,pn,ri),e);break}oa(n,pn,ri);break;case 4:if(sr(n,s),(s&4194240)===s)break;for(e=n.eventTimes,i=-1;0<s;){var a=31-_s(s);r=1<<a,a=e[a],a>i&&(i=a),s&=~r}if(s=i,s=Qe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*L2(s/1960))-s,10<s){n.timeoutHandle=fy(oa.bind(null,n,pn,ri),s);break}oa(n,pn,ri);break;case 5:oa(n,pn,ri);break;default:throw Error(L(329))}}}return xn(n,Qe()),n.callbackNode===t?VE.bind(null,n):null}function My(n,e){var t=Mu;return n.current.memoizedState.isDehydrated&&(xo(n,e).flags|=256),n=Lp(n,e),n!==2&&(e=pn,pn=t,e!==null&&Ly(e)),n}function Ly(n){pn===null?pn=n:pn.push.apply(pn,n)}function D2(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var s=0;s<t.length;s++){var i=t[s],r=i.getSnapshot;i=i.value;try{if(!ks(r(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sr(n,e){for(e&=~ax,e&=~Em,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-_s(e),s=1<<t;n[t]=-1,e&=~s}}function _b(n){if(he&6)throw Error(L(327));bl();var e=gp(n,0);if(!(e&1))return xn(n,Qe()),null;var t=Lp(n,e);if(n.tag!==0&&t===2){var s=ry(n);s!==0&&(e=s,t=My(n,s))}if(t===1)throw t=id,xo(n,0),sr(n,e),xn(n,Qe()),t;if(t===6)throw Error(L(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,oa(n,pn,ri),xn(n,Qe()),null}function lx(n,e){var t=he;he|=1;try{return n(e)}finally{he=t,he===0&&(Pc=Qe()+500,wm&&ta())}}function _o(n){Mr!==null&&Mr.tag===0&&!(he&6)&&bl();var e=he;he|=1;var t=Zn.transition,s=we;try{if(Zn.transition=null,we=1,n)return n()}finally{we=s,Zn.transition=t,he=e,!(he&6)&&ta()}}function cx(){Pn=cl.current,Pe(cl)}function xo(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,d2(t)),st!==null)for(t=st.return;t!==null;){var s=t;switch(H0(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&bp();break;case 3:kc(),Pe(yn),Pe(Kt),J0();break;case 5:Q0(s);break;case 4:kc();break;case 13:Pe(Ve);break;case 19:Pe(Ve);break;case 10:K0(s.type._context);break;case 22:case 23:cx()}t=t.return}if(At=n,st=n=zr(n.current,null),Nt=Pn=e,ht=0,id=null,ax=Em=Co=0,pn=Mu=null,ya!==null){for(e=0;e<ya.length;e++)if(t=ya[e],s=t.interleaved,s!==null){t.interleaved=null;var i=s.next,r=t.pending;if(r!==null){var a=r.next;r.next=i,s.next=a}t.pending=s}ya=null}return n}function UE(n,e){do{var t=st;try{if(G0(),Tf.current=Pp,Np){for(var s=ze.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Np=!1}if(Eo=0,bt=ut=ze=null,Ru=!1,td=0,rx.current=null,t===null||t.return===null){ht=1,id=e,st=null;break}e:{var r=n,a=t.return,o=t,l=e;if(e=Nt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=fb(a);if(m!==null){m.flags&=-257,pb(m,a,o,r,e),m.mode&1&&hb(r,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){hb(r,c,e),ux();break e}l=Error(L(426))}}else if(De&&o.mode&1){var S=fb(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),pb(S,a,o,r,e),$0(Nc(l,o));break e}}r=l=Nc(l,o),ht!==4&&(ht=2),Mu===null?Mu=[r]:Mu.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=EE(r,l,e);ab(r,g);break e;case 1:o=l;var v=r.type,w=r.stateNode;if(!(r.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Vr===null||!Vr.has(w)))){r.flags|=65536,e&=-e,r.lanes|=e;var C=CE(r,o,e);ab(r,C);break e}}r=r.return}while(r!==null)}$E(t)}catch(_){e=_,st===t&&t!==null&&(st=t=t.return);continue}break}while(!0)}function zE(){var n=Rp.current;return Rp.current=Pp,n===null?Pp:n}function ux(){(ht===0||ht===3||ht===2)&&(ht=4),At===null||!(Co&268435455)&&!(Em&268435455)||sr(At,Nt)}function Lp(n,e){var t=he;he|=2;var s=zE();(At!==n||Nt!==e)&&(ri=null,xo(n,e));do try{I2();break}catch(i){UE(n,i)}while(!0);if(G0(),he=t,Rp.current=s,st!==null)throw Error(L(261));return At=null,Nt=0,ht}function I2(){for(;st!==null;)HE(st)}function F2(){for(;st!==null&&!lP();)HE(st)}function HE(n){var e=GE(n.alternate,n,Pn);n.memoizedProps=n.pendingProps,e===null?$E(n):st=e,rx.current=null}function $E(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=P2(t,e),t!==null){t.flags&=32767,st=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ht=6,st=null;return}}else if(t=N2(t,e,Pn),t!==null){st=t;return}if(e=e.sibling,e!==null){st=e;return}st=e=n}while(e!==null);ht===0&&(ht=5)}function oa(n,e,t){var s=we,i=Zn.transition;try{Zn.transition=null,we=1,O2(n,e,t,s)}finally{Zn.transition=i,we=s}return null}function O2(n,e,t,s){do bl();while(Mr!==null);if(he&6)throw Error(L(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(L(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if(vP(n,r),n===At&&(st=At=null,Nt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||lf||(lf=!0,KE(mp,function(){return bl(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=Zn.transition,Zn.transition=null;var a=we;we=1;var o=he;he|=4,rx.current=null,j2(n,t),OE(t,n),i2(dy),yp=!!uy,dy=uy=null,n.current=t,M2(t),cP(),he=o,we=a,Zn.transition=r}else n.current=t;if(lf&&(lf=!1,Mr=n,Mp=i),r=n.pendingLanes,r===0&&(Vr=null),hP(t.stateNode),xn(n,Qe()),e!==null)for(s=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],s(i.value,{componentStack:i.stack,digest:i.digest});if(jp)throw jp=!1,n=Ry,Ry=null,n;return Mp&1&&n.tag!==0&&bl(),r=n.pendingLanes,r&1?n===jy?Lu++:(Lu=0,jy=n):Lu=0,ta(),null}function bl(){if(Mr!==null){var n=ES(Mp),e=Zn.transition,t=we;try{if(Zn.transition=null,we=16>n?16:n,Mr===null)var s=!1;else{if(n=Mr,Mr=null,Mp=0,he&6)throw Error(L(331));var i=he;for(he|=4,V=n.current;V!==null;){var r=V,a=r.child;if(V.flags&16){var o=r.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(V=c;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:ju(8,d,r)}var h=d.child;if(h!==null)h.return=d,V=h;else for(;V!==null;){d=V;var p=d.sibling,m=d.return;if(DE(d),d===c){V=null;break}if(p!==null){p.return=m,V=p;break}V=m}}}var y=r.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}V=r}}if(r.subtreeFlags&2064&&a!==null)a.return=r,V=a;else e:for(;V!==null;){if(r=V,r.flags&2048)switch(r.tag){case 0:case 11:case 15:ju(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,V=g;break e}V=r.return}}var v=n.current;for(V=v;V!==null;){a=V;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,V=w;else e:for(a=v;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Sm(9,o)}}catch(_){Xe(o,o.return,_)}if(o===a){V=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,V=C;break e}V=o.return}}if(he=i,ta(),Js&&typeof Js.onPostCommitFiberRoot=="function")try{Js.onPostCommitFiberRoot(mm,n)}catch{}s=!0}return s}finally{we=t,Zn.transition=e}}return!1}function Tb(n,e,t){e=Nc(t,e),e=EE(n,e,1),n=Br(n,e,1),e=en(),n!==null&&(Ph(n,1,e),xn(n,e))}function Xe(n,e,t){if(n.tag===3)Tb(n,n,t);else for(;e!==null;){if(e.tag===3){Tb(e,n,t);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Vr===null||!Vr.has(s))){n=Nc(t,n),n=CE(e,n,1),e=Br(e,n,1),n=en(),e!==null&&(Ph(e,1,n),xn(e,n));break}}e=e.return}}function B2(n,e,t){var s=n.pingCache;s!==null&&s.delete(e),e=en(),n.pingedLanes|=n.suspendedLanes&t,At===n&&(Nt&t)===t&&(ht===4||ht===3&&(Nt&130023424)===Nt&&500>Qe()-ox?xo(n,0):ax|=t),xn(n,e)}function WE(n,e){e===0&&(n.mode&1?(e=Qh,Qh<<=1,!(Qh&130023424)&&(Qh=4194304)):e=1);var t=en();n=$i(n,e),n!==null&&(Ph(n,e,t),xn(n,t))}function V2(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),WE(n,t)}function U2(n,e){var t=0;switch(n.tag){case 13:var s=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(L(314))}s!==null&&s.delete(e),WE(n,t)}var GE;GE=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||yn.current)mn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return mn=!1,k2(n,e,t);mn=!!(n.flags&131072)}else mn=!1,De&&e.flags&1048576&&YS(e,Ep,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Nf(n,e),n=e.pendingProps;var i=Cc(e,Kt.current);wl(e,t),i=ex(null,e,s,n,i,t);var r=tx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vn(s)?(r=!0,Ap(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,q0(e),i.updater=Am,e.stateNode=i,i._reactInternals=e,wy(e,s,n,t),e=Sy(null,e,s,!0,r,t)):(e.tag=0,De&&r&&z0(e),Jt(null,e,i,t),e=e.child),e;case 16:s=e.elementType;e:{switch(Nf(n,e),n=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=H2(s),n=ls(s,n),i){case 0:e=Ay(null,e,s,n,t);break e;case 1:e=yb(null,e,s,n,t);break e;case 11:e=mb(null,e,s,n,t);break e;case 14:e=gb(null,e,s,ls(s.type,n),t);break e}throw Error(L(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:ls(s,i),Ay(n,e,s,i,t);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:ls(s,i),yb(n,e,s,i,t);case 3:e:{if(NE(e),n===null)throw Error(L(387));s=e.pendingProps,r=e.memoizedState,i=r.element,nE(n,e),Tp(e,s,null,t);var a=e.memoizedState;if(s=a.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=Nc(Error(L(423)),e),e=vb(n,e,s,t,i);break e}else if(s!==i){i=Nc(Error(L(424)),e),e=vb(n,e,s,t,i);break e}else for(jn=Or(e.stateNode.containerInfo.firstChild),Mn=e,De=!0,Es=null,t=eE(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(_c(),s===i){e=Wi(n,e,t);break e}Jt(n,e,s,t)}e=e.child}return e;case 5:return sE(e),n===null&&yy(e),s=e.type,i=e.pendingProps,r=n!==null?n.memoizedProps:null,a=i.children,hy(s,i)?a=null:r!==null&&hy(s,r)&&(e.flags|=32),kE(n,e),Jt(n,e,a,t),e.child;case 6:return n===null&&yy(e),null;case 13:return PE(n,e,t);case 4:return Y0(e,e.stateNode.containerInfo),s=e.pendingProps,n===null?e.child=Tc(e,null,s,t):Jt(n,e,s,t),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:ls(s,i),mb(n,e,s,i,t);case 7:return Jt(n,e,e.pendingProps,t),e.child;case 8:return Jt(n,e,e.pendingProps.children,t),e.child;case 12:return Jt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,a=i.value,_e(Cp,s._currentValue),s._currentValue=a,r!==null)if(ks(r.value,a)){if(r.children===i.children&&!yn.current){e=Wi(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var o=r.dependencies;if(o!==null){a=r.child;for(var l=o.firstContext;l!==null;){if(l.context===s){if(r.tag===1){l=Ii(-1,t&-t),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}r.lanes|=t,l=r.alternate,l!==null&&(l.lanes|=t),vy(r.return,t,e),o.lanes|=t;break}l=l.next}}else if(r.tag===10)a=r.type===e.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(L(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),vy(a,t,e),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}Jt(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,wl(e,t),i=ts(i),s=s(i),e.flags|=1,Jt(n,e,s,t),e.child;case 14:return s=e.type,i=ls(s,e.pendingProps),i=ls(s.type,i),gb(n,e,s,i,t);case 15:return _E(n,e,e.type,e.pendingProps,t);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:ls(s,i),Nf(n,e),e.tag=1,vn(s)?(n=!0,Ap(e)):n=!1,wl(e,t),SE(e,s,i),wy(e,s,i,t),Sy(null,e,s,!0,n,t);case 19:return RE(n,e,t);case 22:return TE(n,e,t)}throw Error(L(156,e.tag))};function KE(n,e){return wS(n,e)}function z2(n,e,t,s){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(n,e,t,s){return new z2(n,e,t,s)}function dx(n){return n=n.prototype,!(!n||!n.isReactComponent)}function H2(n){if(typeof n=="function")return dx(n)?1:0;if(n!=null){if(n=n.$$typeof,n===P0)return 11;if(n===R0)return 14}return 2}function zr(n,e){var t=n.alternate;return t===null?(t=Jn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function jf(n,e,t,s,i,r){var a=2;if(s=n,typeof n=="function")dx(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Zo:return wo(t.children,i,r,e);case N0:a=8,i|=8;break;case $g:return n=Jn(12,t,e,i|2),n.elementType=$g,n.lanes=r,n;case Wg:return n=Jn(13,t,e,i),n.elementType=Wg,n.lanes=r,n;case Gg:return n=Jn(19,t,e,i),n.elementType=Gg,n.lanes=r,n;case sS:return Cm(t,i,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case tS:a=10;break e;case nS:a=9;break e;case P0:a=11;break e;case R0:a=14;break e;case er:a=16,s=null;break e}throw Error(L(130,n==null?n:typeof n,""))}return e=Jn(a,t,e,i),e.elementType=n,e.type=s,e.lanes=r,e}function wo(n,e,t,s){return n=Jn(7,n,s,e),n.lanes=t,n}function Cm(n,e,t,s){return n=Jn(22,n,s,e),n.elementType=sS,n.lanes=t,n.stateNode={isHidden:!1},n}function bg(n,e,t){return n=Jn(6,n,null,e),n.lanes=t,n}function Ag(n,e,t){return e=Jn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function $2(n,e,t,s,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ng(0),this.expirationTimes=ng(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ng(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hx(n,e,t,s,i,r,a,o,l){return n=new $2(n,e,t,o,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Jn(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:s,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},q0(r),n}function W2(n,e,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jo,key:s==null?null:""+s,children:n,containerInfo:e,implementation:t}}function XE(n){if(!n)return Gr;n=n._reactInternals;e:{if(Lo(n)!==n||n.tag!==1)throw Error(L(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(n.tag===1){var t=n.type;if(vn(t))return XS(n,t,e)}return e}function qE(n,e,t,s,i,r,a,o,l){return n=hx(t,s,!0,n,i,r,a,o,l),n.context=XE(null),t=n.current,s=en(),i=Ur(t),r=Ii(s,i),r.callback=e??null,Br(t,r,i),n.current.lanes=i,Ph(n,i,s),xn(n,s),n}function _m(n,e,t,s){var i=e.current,r=en(),a=Ur(i);return t=XE(t),e.context===null?e.context=t:e.pendingContext=t,e=Ii(r,a),e.payload={element:n},s=s===void 0?null:s,s!==null&&(e.callback=s),n=Br(i,e,a),n!==null&&(Ts(n,i,a,r),_f(n,i,a)),a}function Dp(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function kb(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function fx(n,e){kb(n,e),(n=n.alternate)&&kb(n,e)}function G2(){return null}var YE=typeof reportError=="function"?reportError:function(n){console.error(n)};function px(n){this._internalRoot=n}Tm.prototype.render=px.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(L(409));_m(n,e,null,null)};Tm.prototype.unmount=px.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;_o(function(){_m(null,n,null,null)}),e[Hi]=null}};function Tm(n){this._internalRoot=n}Tm.prototype.unstable_scheduleHydration=function(n){if(n){var e=TS();n={blockedOn:null,target:n,priority:e};for(var t=0;t<nr.length&&e!==0&&e<nr[t].priority;t++);nr.splice(t,0,n),t===0&&NS(n)}};function mx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function km(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Nb(){}function K2(n,e,t,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var c=Dp(a);r.call(c)}}var a=qE(e,s,n,0,null,!1,!1,"",Nb);return n._reactRootContainer=a,n[Hi]=a.current,Yu(n.nodeType===8?n.parentNode:n),_o(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof s=="function"){var o=s;s=function(){var c=Dp(l);o.call(c)}}var l=hx(n,0,!1,null,null,!1,!1,"",Nb);return n._reactRootContainer=l,n[Hi]=l.current,Yu(n.nodeType===8?n.parentNode:n),_o(function(){_m(e,l,t,s)}),l}function Nm(n,e,t,s,i){var r=t._reactRootContainer;if(r){var a=r;if(typeof i=="function"){var o=i;i=function(){var l=Dp(a);o.call(l)}}_m(e,a,n,i)}else a=K2(t,e,n,i,s);return Dp(a)}CS=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ru(e.pendingLanes);t!==0&&(L0(e,t|1),xn(e,Qe()),!(he&6)&&(Pc=Qe()+500,ta()))}break;case 13:_o(function(){var s=$i(n,1);if(s!==null){var i=en();Ts(s,n,1,i)}}),fx(n,1)}};D0=function(n){if(n.tag===13){var e=$i(n,134217728);if(e!==null){var t=en();Ts(e,n,134217728,t)}fx(n,134217728)}};_S=function(n){if(n.tag===13){var e=Ur(n),t=$i(n,e);if(t!==null){var s=en();Ts(t,n,e,s)}fx(n,e)}};TS=function(){return we};kS=function(n,e){var t=we;try{return we=n,e()}finally{we=t}};ny=function(n,e,t){switch(e){case"input":if(qg(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==n&&s.form===n.form){var i=xm(s);if(!i)throw Error(L(90));rS(s),qg(s,i)}}}break;case"textarea":oS(n,t);break;case"select":e=t.value,e!=null&&gl(n,!!t.multiple,e,!1)}};pS=lx;mS=_o;var X2={usingClientEntryPoint:!1,Events:[jh,sl,xm,hS,fS,lx]},Jc={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q2={bundleType:Jc.bundleType,version:Jc.version,rendererPackageName:Jc.rendererPackageName,rendererConfig:Jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=vS(n),n===null?null:n.stateNode},findFiberByHostInstance:Jc.findFiberByHostInstance||G2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cf.isDisabled&&cf.supportsFiber)try{mm=cf.inject(q2),Js=cf}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X2;On.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mx(e))throw Error(L(200));return W2(n,e,null,t)};On.createRoot=function(n,e){if(!mx(n))throw Error(L(299));var t=!1,s="",i=YE;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hx(n,1,!1,null,null,t,!1,s,i),n[Hi]=e.current,Yu(n.nodeType===8?n.parentNode:n),new px(e)};On.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(L(188)):(n=Object.keys(n).join(","),Error(L(268,n)));return n=vS(e),n=n===null?null:n.stateNode,n};On.flushSync=function(n){return _o(n)};On.hydrate=function(n,e,t){if(!km(e))throw Error(L(200));return Nm(null,n,e,!0,t)};On.hydrateRoot=function(n,e,t){if(!mx(n))throw Error(L(405));var s=t!=null&&t.hydratedSources||null,i=!1,r="",a=YE;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=qE(e,null,n,1,t??null,i,!1,r,a),n[Hi]=e.current,Yu(n),s)for(n=0;n<s.length;n++)t=s[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Tm(e)};On.render=function(n,e,t){if(!km(e))throw Error(L(200));return Nm(null,n,e,!1,t)};On.unmountComponentAtNode=function(n){if(!km(n))throw Error(L(40));return n._reactRootContainer?(_o(function(){Nm(null,null,n,!1,function(){n._reactRootContainer=null,n[Hi]=null})}),!0):!1};On.unstable_batchedUpdates=lx;On.unstable_renderSubtreeIntoContainer=function(n,e,t,s){if(!km(t))throw Error(L(200));if(n==null||n._reactInternals===void 0)throw Error(L(38));return Nm(n,e,t,!1,s)};On.version="18.3.1-next-f1338f8080-20240426";function QE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QE)}catch(n){console.error(n)}}QE(),QA.exports=On;var Y2=QA.exports,JE,Pb=Y2;JE=Pb.createRoot,Pb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},rd.apply(this,arguments)}var Lr;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Lr||(Lr={}));const Rb="popstate";function Q2(n){n===void 0&&(n={});function e(s,i){let{pathname:r,search:a,hash:o}=s.location;return Dy("",{pathname:r,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){return typeof i=="string"?i:Ip(i)}return Z2(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ZE(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J2(){return Math.random().toString(36).substr(2,8)}function jb(n,e){return{usr:n.state,key:n.key,idx:e}}function Dy(n,e,t,s){return t===void 0&&(t=null),rd({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Oc(e):e,{state:t,key:e&&e.key||s||J2()})}function Ip(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Oc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function Z2(n,e,t,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:r=!1}=s,a=i.history,o=Lr.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(rd({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Lr.Pop;let S=d(),g=S==null?null:S-c;c=S,l&&l({action:o,location:x.location,delta:g})}function p(S,g){o=Lr.Push;let v=Dy(x.location,S,g);c=d()+1;let w=jb(v,c),C=x.createHref(v);try{a.pushState(w,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(C)}r&&l&&l({action:o,location:x.location,delta:1})}function m(S,g){o=Lr.Replace;let v=Dy(x.location,S,g);c=d();let w=jb(v,c),C=x.createHref(v);a.replaceState(w,"",C),r&&l&&l({action:o,location:x.location,delta:0})}function y(S){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof S=="string"?S:Ip(S);return v=v.replace(/ $/,"%20"),it(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let x={get action(){return o},get location(){return n(i,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Rb,h),l=S,()=>{i.removeEventListener(Rb,h),l=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let g=y(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(S){return a.go(S)}};return x}var Mb;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Mb||(Mb={}));function eR(n,e,t){return t===void 0&&(t="/"),tR(n,e,t,!1)}function tR(n,e,t,s){let i=typeof e=="string"?Oc(e):e,r=gx(i.pathname||"/",t);if(r==null)return null;let a=eC(n);nR(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=fR(r);o=dR(a[l],c,s)}return o}function eC(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let i=(r,a,o)=>{let l={relativePath:o===void 0?r.path||"":o,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};l.relativePath.startsWith("/")&&(it(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=Hr([s,l.relativePath]),d=t.concat(l);r.children&&r.children.length>0&&(it(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),eC(r.children,e,d,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:cR(c,r.index),routesMeta:d})};return n.forEach((r,a)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))i(r,a);else for(let l of tC(r.path))i(r,a,l)}),e}function tC(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,i=t.endsWith("?"),r=t.replace(/\?$/,"");if(s.length===0)return i?[r,""]:[r];let a=tC(s.join("/")),o=[];return o.push(...a.map(l=>l===""?r:[r,l].join("/"))),i&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function nR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const sR=/^:[\w-]+$/,iR=3,rR=2,aR=1,oR=10,lR=-2,Lb=n=>n==="*";function cR(n,e){let t=n.split("/"),s=t.length;return t.some(Lb)&&(s+=lR),e&&(s+=rR),t.filter(i=>!Lb(i)).reduce((i,r)=>i+(sR.test(r)?iR:r===""?aR:oR),s)}function uR(n,e){return n.length===e.length&&n.slice(0,-1).every((s,i)=>s===e[i])?n[n.length-1]-e[e.length-1]:0}function dR(n,e,t){let{routesMeta:s}=n,i={},r="/",a=[];for(let o=0;o<s.length;++o){let l=s[o],c=o===s.length-1,d=r==="/"?e:e.slice(r.length)||"/",h=Db({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&t&&!s[s.length-1].route.index&&(h=Db({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Hr([r,h.pathname]),pathnameBase:yR(Hr([r,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(r=Hr([r,h.pathnameBase]))}return a}function Db(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=hR(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let r=i[0],a=r.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:s.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let x=o[h]||"";a=r.slice(0,r.length-x.length).replace(/(.)\/+$/,"$1")}const y=o[h];return m&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:a,pattern:n}}function hR(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ZE(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(s.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function fR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ZE(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function gx(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function pR(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:i=""}=typeof n=="string"?Oc(n):n;return{pathname:t?t.startsWith("/")?t:mR(t,e):e,search:vR(s),hash:xR(i)}}function mR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Sg(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nC(n,e){let t=gR(n);return e?t.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function sC(n,e,t,s){s===void 0&&(s=!1);let i;typeof n=="string"?i=Oc(n):(i=rd({},n),it(!i.pathname||!i.pathname.includes("?"),Sg("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),Sg("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),Sg("#","search","hash",i)));let r=n===""||i.pathname==="",a=r?"/":i.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!s&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}o=h>=0?e[h]:"/"}let l=pR(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(r||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Hr=n=>n.join("/").replace(/\/\/+/g,"/"),yR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function wR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const iC=["post","put","patch","delete"];new Set(iC);const bR=["get",...iC];new Set(bR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ad.apply(this,arguments)}const yx=T.createContext(null),AR=T.createContext(null),Do=T.createContext(null),Pm=T.createContext(null),Io=T.createContext({outlet:null,matches:[],isDataRoute:!1}),rC=T.createContext(null);function SR(n,e){let{relative:t}=e===void 0?{}:e;Lh()||it(!1);let{basename:s,navigator:i}=T.useContext(Do),{hash:r,pathname:a,search:o}=oC(n,{relative:t}),l=a;return s!=="/"&&(l=a==="/"?s:Hr([s,a])),i.createHref({pathname:l,search:o,hash:r})}function Lh(){return T.useContext(Pm)!=null}function Bc(){return Lh()||it(!1),T.useContext(Pm).location}function aC(n){T.useContext(Do).static||T.useLayoutEffect(n)}function vx(){let{isDataRoute:n}=T.useContext(Io);return n?IR():ER()}function ER(){Lh()||it(!1);let n=T.useContext(yx),{basename:e,future:t,navigator:s}=T.useContext(Do),{matches:i}=T.useContext(Io),{pathname:r}=Bc(),a=JSON.stringify(nC(i,t.v7_relativeSplatPath)),o=T.useRef(!1);return aC(()=>{o.current=!0}),T.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){s.go(c);return}let h=sC(c,JSON.parse(a),r,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Hr([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,a,r,n])}function oC(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=T.useContext(Do),{matches:i}=T.useContext(Io),{pathname:r}=Bc(),a=JSON.stringify(nC(i,s.v7_relativeSplatPath));return T.useMemo(()=>sC(n,JSON.parse(a),r,t==="path"),[n,a,r,t])}function CR(n,e){return _R(n,e)}function _R(n,e,t,s){Lh()||it(!1);let{navigator:i}=T.useContext(Do),{matches:r}=T.useContext(Io),a=r[r.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Bc(),d;if(e){var h;let S=typeof e=="string"?Oc(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||it(!1),d=S}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=eR(n,{pathname:m}),x=RR(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:Hr([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Hr([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),r,t,s);return e&&x?T.createElement(Pm.Provider,{value:{location:ad({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Lr.Pop}},x):x}function TR(){let n=DR(),e=wR(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:i},t):null,null)}const kR=T.createElement(TR,null);class NR extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(Io.Provider,{value:this.props.routeContext},T.createElement(rC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PR(n){let{routeContext:e,match:t,children:s}=n,i=T.useContext(yx);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Io.Provider,{value:e},s)}function RR(n,e,t,s){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var r;if(!t)return null;if(t.errors)n=t.matches;else if((r=s)!=null&&r.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(i=t)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||it(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(t&&s&&s.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=t,y=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let m,y=!1,x=null,S=null;t&&(m=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||kR,l&&(c<0&&p===0?(y=!0,S=null):c===p&&(y=!0,S=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,p+1)),v=()=>{let w;return m?w=x:y?w=S:h.route.Component?w=T.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,T.createElement(PR,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:t!=null},children:w})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?T.createElement(NR,{location:t.location,revalidation:t.revalidation,component:x,error:m,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var lC=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(lC||{}),Fp=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Fp||{});function jR(n){let e=T.useContext(yx);return e||it(!1),e}function MR(n){let e=T.useContext(AR);return e||it(!1),e}function LR(n){let e=T.useContext(Io);return e||it(!1),e}function cC(n){let e=LR(),t=e.matches[e.matches.length-1];return t.route.id||it(!1),t.route.id}function DR(){var n;let e=T.useContext(rC),t=MR(Fp.UseRouteError),s=cC(Fp.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function IR(){let{router:n}=jR(lC.UseNavigateStable),e=cC(Fp.UseNavigateStable),t=T.useRef(!1);return aC(()=>{t.current=!0}),T.useCallback(function(i,r){r===void 0&&(r={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,ad({fromRouteId:e},r)))},[n,e])}function FR(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Dt(n){it(!1)}function OR(n){let{basename:e="/",children:t=null,location:s,navigationType:i=Lr.Pop,navigator:r,static:a=!1,future:o}=n;Lh()&&it(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:r,static:a,future:ad({v7_relativeSplatPath:!1},o)}),[l,o,r,a]);typeof s=="string"&&(s=Oc(s));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:y="default"}=s,x=T.useMemo(()=>{let S=gx(d,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:m,key:y},navigationType:i}},[l,d,h,p,m,y,i]);return x==null?null:T.createElement(Do.Provider,{value:c},T.createElement(Pm.Provider,{children:t,value:x}))}function BR(n){let{children:e,location:t}=n;return CR(Iy(e),t)}new Promise(()=>{});function Iy(n,e){e===void 0&&(e=[]);let t=[];return T.Children.forEach(n,(s,i)=>{if(!T.isValidElement(s))return;let r=[...e,i];if(s.type===T.Fragment){t.push.apply(t,Iy(s.props.children,r));return}s.type!==Dt&&it(!1),!s.props.index||!s.props.children||it(!1);let a={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=Iy(s.props.children,r)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fy(){return Fy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Fy.apply(this,arguments)}function VR(n,e){if(n==null)return{};var t={},s=Object.keys(n),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function UR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zR(n,e){return n.button===0&&(!e||e==="_self")&&!UR(n)}const HR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$R="6";try{window.__reactRouterVersion=$R}catch{}const WR="startTransition",Ib=BN[WR];function GR(n){let{basename:e,children:t,future:s,window:i}=n,r=T.useRef();r.current==null&&(r.current=Q2({window:i,v5Compat:!0}));let a=r.current,[o,l]=T.useState({action:a.action,location:a.location}),{v7_startTransition:c}=s||{},d=T.useCallback(h=>{c&&Ib?Ib(()=>l(h)):l(h)},[l,c]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.useEffect(()=>FR(s),[s]),T.createElement(OR,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:s})}const KR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qR=T.forwardRef(function(e,t){let{onClick:s,relative:i,reloadDocument:r,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=VR(e,HR),{basename:m}=T.useContext(Do),y,x=!1;if(typeof c=="string"&&XR.test(c)&&(y=c,KR))try{let w=new URL(window.location.href),C=c.startsWith("//")?new URL(w.protocol+c):new URL(c),_=gx(C.pathname,m);C.origin===w.origin&&_!=null?c=_+C.search+C.hash:x=!0}catch{}let S=SR(c,{relative:i}),g=YR(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(w){s&&s(w),w.defaultPrevented||g(w)}return T.createElement("a",Fy({},p,{href:y||S,onClick:x||r?s:v,ref:t,target:l}))});var Fb;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Fb||(Fb={}));var Ob;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Ob||(Ob={}));function YR(n,e){let{target:t,replace:s,state:i,preventScrollReset:r,relative:a,viewTransition:o}=e===void 0?{}:e,l=vx(),c=Bc(),d=oC(n,{relative:a});return T.useCallback(h=>{if(zR(h,t)){h.preventDefault();let p=s!==void 0?s:Ip(c)===Ip(d);l(n,{replace:p,state:i,preventScrollReset:r,relative:a,viewTransition:o})}},[c,l,d,s,i,t,n,r,a,o])}const xx=T.createContext({});function wx(n){const e=T.useRef(null);return e.current===null&&(e.current=n()),e.current}const Rm=T.createContext(null),bx=T.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class QR extends T.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function JR({children:n,isPresent:e}){const t=T.useId(),s=T.useRef(null),i=T.useRef({width:0,height:0,top:0,left:0}),{nonce:r}=T.useContext(bx);return T.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(e||!s.current||!a||!o)return;s.current.dataset.motionPopId=t;const d=document.createElement("style");return r&&(d.nonce=r),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),f.jsx(QR,{isPresent:e,childRef:s,sizeRef:i,children:T.cloneElement(n,{ref:s})})}const ZR=({children:n,initial:e,isPresent:t,onExitComplete:s,custom:i,presenceAffectsLayout:r,mode:a})=>{const o=wx(ej),l=T.useId(),c=T.useCallback(h=>{o.set(h,!0);for(const p of o.values())if(!p)return;s&&s()},[o,s]),d=T.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:c,register:h=>(o.set(h,!1),()=>o.delete(h))}),r?[Math.random(),c]:[t,c]);return T.useMemo(()=>{o.forEach((h,p)=>o.set(p,!1))},[t]),T.useEffect(()=>{!t&&!o.size&&s&&s()},[t]),a==="popLayout"&&(n=f.jsx(JR,{isPresent:t,children:n})),f.jsx(Rm.Provider,{value:d,children:n})};function ej(){return new Map}function uC(n=!0){const e=T.useContext(Rm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:i}=e,r=T.useId();T.useEffect(()=>{n&&i(r)},[n]);const a=T.useCallback(()=>n&&s&&s(r),[r,s,n]);return!t&&s?[!1,a]:[!0]}const uf=n=>n.key||"";function Bb(n){const e=[];return T.Children.forEach(n,t=>{T.isValidElement(t)&&e.push(t)}),e}const Ax=typeof window<"u",dC=Ax?T.useLayoutEffect:T.useEffect,Op=({children:n,custom:e,initial:t=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:r="sync",propagate:a=!1})=>{const[o,l]=uC(a),c=T.useMemo(()=>Bb(n),[n]),d=a&&!o?[]:c.map(uf),h=T.useRef(!0),p=T.useRef(c),m=wx(()=>new Map),[y,x]=T.useState(c),[S,g]=T.useState(c);dC(()=>{h.current=!1,p.current=c;for(let C=0;C<S.length;C++){const _=uf(S[C]);d.includes(_)?m.delete(_):m.get(_)!==!0&&m.set(_,!1)}},[S,d.length,d.join("-")]);const v=[];if(c!==y){let C=[...c];for(let _=0;_<S.length;_++){const k=S[_],N=uf(k);d.includes(N)||(C.splice(_,0,k),v.push(k))}r==="wait"&&v.length&&(C=v),g(Bb(C)),x(c);return}const{forceRender:w}=T.useContext(xx);return f.jsx(f.Fragment,{children:S.map(C=>{const _=uf(C),k=a&&!o?!1:c===S||d.includes(_),N=()=>{if(m.has(_))m.set(_,!0);else return;let P=!0;m.forEach(j=>{j||(P=!1)}),P&&(w==null||w(),g(p.current),a&&(l==null||l()),s&&s())};return f.jsx(ZR,{isPresent:k,initial:!h.current||t?void 0:!1,custom:k?void 0:e,presenceAffectsLayout:i,mode:r,onExitComplete:k?void 0:N,children:C},_)})})},Ln=n=>n;let Oy=Ln;function Sx(n){let e;return()=>(e===void 0&&(e=n()),e)}const Rc=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s},Fi=n=>n*1e3,Oi=n=>n/1e3,tj={skipAnimations:!1,useManualTiming:!1};function nj(n){let e=new Set,t=new Set,s=!1,i=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){r.has(c)&&(l.schedule(c),n()),c(a)}const l={schedule:(c,d=!1,h=!1)=>{const m=h&&s?e:t;return d&&r.add(c),m.has(c)||m.add(c),c},cancel:c=>{t.delete(c),r.delete(c)},process:c=>{if(a=c,s){i=!0;return}s=!0,[e,t]=[t,e],e.forEach(o),e.clear(),s=!1,i&&(i=!1,l.process(c))}};return l}const df=["read","resolveKeyframes","update","preRender","render","postRender"],sj=40;function hC(n,e){let t=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,a=df.reduce((g,v)=>(g[v]=nj(r),g),{}),{read:o,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:p}=a,m=()=>{const g=performance.now();t=!1,i.delta=s?1e3/60:Math.max(Math.min(g-i.timestamp,sj),1),i.timestamp=g,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),h.process(i),p.process(i),i.isProcessing=!1,t&&e&&(s=!1,n(m))},y=()=>{t=!0,s=!0,i.isProcessing||n(m)};return{schedule:df.reduce((g,v)=>{const w=a[v];return g[v]=(C,_=!1,k=!1)=>(t||y(),w.schedule(C,_,k)),g},{}),cancel:g=>{for(let v=0;v<df.length;v++)a[df[v]].cancel(g)},state:i,steps:a}}const{schedule:Re,cancel:Kr,state:kt,steps:Eg}=hC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ln,!0),fC=T.createContext({strict:!1}),Vb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jc={};for(const n in Vb)jc[n]={isEnabled:e=>Vb[n].some(t=>!!e[t])};function ij(n){for(const e in n)jc[e]={...jc[e],...n[e]}}const rj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bp(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||rj.has(n)}let pC=n=>!Bp(n);function aj(n){n&&(pC=e=>e.startsWith("on")?!Bp(e):n(e))}try{aj(require("@emotion/is-prop-valid").default)}catch{}function oj(n,e,t){const s={};for(const i in n)i==="values"&&typeof n.values=="object"||(pC(i)||t===!0&&Bp(i)||!e&&!Bp(i)||n.draggable&&i.startsWith("onDrag"))&&(s[i]=n[i]);return s}function lj(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...s)=>n(...s);return new Proxy(t,{get:(s,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const jm=T.createContext({});function od(n){return typeof n=="string"||Array.isArray(n)}function Mm(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Ex=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cx=["initial",...Ex];function Lm(n){return Mm(n.animate)||Cx.some(e=>od(n[e]))}function mC(n){return!!(Lm(n)||n.variants)}function cj(n,e){if(Lm(n)){const{initial:t,animate:s}=n;return{initial:t===!1||od(t)?t:void 0,animate:od(s)?s:void 0}}return n.inherit!==!1?e:{}}function uj(n){const{initial:e,animate:t}=cj(n,T.useContext(jm));return T.useMemo(()=>({initial:e,animate:t}),[Ub(e),Ub(t)])}function Ub(n){return Array.isArray(n)?n.join(" "):n}const dj=Symbol.for("motionComponentSymbol");function ul(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function hj(n,e,t){return T.useCallback(s=>{s&&n.onMount&&n.onMount(s),e&&(s?e.mount(s):e.unmount()),t&&(typeof t=="function"?t(s):ul(t)&&(t.current=s))},[e])}const _x=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fj="framerAppearId",gC="data-"+_x(fj),{schedule:Tx,cancel:k6}=hC(queueMicrotask,!1),yC=T.createContext({});function pj(n,e,t,s,i){var r,a;const{visualElement:o}=T.useContext(jm),l=T.useContext(fC),c=T.useContext(Rm),d=T.useContext(bx).reducedMotion,h=T.useRef(null);s=s||l.renderer,!h.current&&s&&(h.current=s(n,{visualState:e,parent:o,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,m=T.useContext(yC);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&mj(h.current,t,i,m);const y=T.useRef(!1);T.useInsertionEffect(()=>{p&&y.current&&p.update(t,c)});const x=t[gC],S=T.useRef(!!x&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,x))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,x)));return dC(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Tx.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),T.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,x)}),S.current=!1))}),p}function mj(n,e,t,s){const{layoutId:i,layout:r,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:vC(n.parent)),n.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!a||o&&ul(o),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,layoutScroll:l,layoutRoot:c})}function vC(n){if(n)return n.options.allowProjection!==!1?n.projection:vC(n.parent)}function gj({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:s,Component:i}){var r,a;n&&ij(n);function o(c,d){let h;const p={...T.useContext(bx),...c,layoutId:yj(c)},{isStatic:m}=p,y=uj(c),x=s(c,m);if(!m&&Ax){vj();const S=xj(p);h=S.MeasureLayout,y.visualElement=pj(i,x,p,e,S.ProjectionNode)}return f.jsxs(jm.Provider,{value:y,children:[h&&y.visualElement?f.jsx(h,{visualElement:y.visualElement,...p}):null,t(i,c,hj(x,y.visualElement,d),x,m,y.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(a=(r=i.displayName)!==null&&r!==void 0?r:i.name)!==null&&a!==void 0?a:""})`}`;const l=T.forwardRef(o);return l[dj]=i,l}function yj({layoutId:n}){const e=T.useContext(xx).id;return e&&n!==void 0?e+"-"+n:n}function vj(n,e){T.useContext(fC).strict}function xj(n){const{drag:e,layout:t}=jc;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const wj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kx(n){return typeof n!="string"||n.includes("-")?!1:!!(wj.indexOf(n)>-1||/[A-Z]/u.test(n))}function zb(n){const e=[{},{}];return n==null||n.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function Nx(n,e,t,s){if(typeof e=="function"){const[i,r]=zb(s);e=e(t!==void 0?t:n.custom,i,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,r]=zb(s);e=e(t!==void 0?t:n.custom,i,r)}return e}const By=n=>Array.isArray(n),bj=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Aj=n=>By(n)?n[n.length-1]||0:n,Wt=n=>!!(n&&n.getVelocity);function Mf(n){const e=Wt(n)?n.get():n;return bj(e)?e.toValue():e}function Sj({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},s,i,r){const a={latestValues:Ej(s,i,r,n),renderState:e()};return t&&(a.onMount=o=>t({props:s,current:o,...a}),a.onUpdate=o=>t(o)),a}const xC=n=>(e,t)=>{const s=T.useContext(jm),i=T.useContext(Rm),r=()=>Sj(n,e,s,i);return t?r():wx(r)};function Ej(n,e,t,s){const i={},r=s(n,{});for(const p in r)i[p]=Mf(r[p]);let{initial:a,animate:o}=n;const l=Lm(n),c=mC(n);e&&c&&!l&&n.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=t?t.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!Mm(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const y=Nx(n,p[m]);if(y){const{transitionEnd:x,transition:S,...g}=y;for(const v in g){let w=g[v];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(i[v]=w)}for(const v in x)i[v]=x[v]}}}return i}const Vc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fo=new Set(Vc),wC=n=>e=>typeof e=="string"&&e.startsWith(n),bC=wC("--"),Cj=wC("var(--"),Px=n=>Cj(n)?_j.test(n.split("/*")[0].trim()):!1,_j=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,AC=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Gi=(n,e,t)=>t>e?e:t<n?n:t,Uc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ld={...Uc,transform:n=>Gi(0,1,n)},hf={...Uc,default:1},Dh=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Qi=Dh("deg"),ei=Dh("%"),X=Dh("px"),Tj=Dh("vh"),kj=Dh("vw"),Hb={...ei,parse:n=>ei.parse(n)/100,transform:n=>ei.transform(n*100)},Nj={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,backgroundPositionX:X,backgroundPositionY:X},Pj={rotate:Qi,rotateX:Qi,rotateY:Qi,rotateZ:Qi,scale:hf,scaleX:hf,scaleY:hf,scaleZ:hf,skew:Qi,skewX:Qi,skewY:Qi,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:ld,originX:Hb,originY:Hb,originZ:X},$b={...Uc,transform:Math.round},Rx={...Nj,...Pj,zIndex:$b,size:X,fillOpacity:ld,strokeOpacity:ld,numOctaves:$b},Rj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jj=Vc.length;function Mj(n,e,t){let s="",i=!0;for(let r=0;r<jj;r++){const a=Vc[r],o=n[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const c=AC(o,Rx[a]);if(!l){i=!1;const d=Rj[a]||a;s+=`${d}(${c}) `}t&&(e[a]=c)}}return s=s.trim(),t?s=t(e,i?"":s):i&&(s="none"),s}function jx(n,e,t){const{style:s,vars:i,transformOrigin:r}=n;let a=!1,o=!1;for(const l in e){const c=e[l];if(Fo.has(l)){a=!0;continue}else if(bC(l)){i[l]=c;continue}else{const d=AC(c,Rx[l]);l.startsWith("origin")?(o=!0,r[l]=d):s[l]=d}}if(e.transform||(a||t?s.transform=Mj(e,n.transform,t):s.transform&&(s.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=r;s.transformOrigin=`${l} ${c} ${d}`}}const Lj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Dj={offset:"strokeDashoffset",array:"strokeDasharray"};function Ij(n,e,t=1,s=0,i=!0){n.pathLength=1;const r=i?Lj:Dj;n[r.offset]=X.transform(-s);const a=X.transform(e),o=X.transform(t);n[r.array]=`${a} ${o}`}function Wb(n,e,t){return typeof n=="string"?n:X.transform(e+t*n)}function Fj(n,e,t){const s=Wb(e,n.x,n.width),i=Wb(t,n.y,n.height);return`${s} ${i}`}function Mx(n,{attrX:e,attrY:t,attrScale:s,originX:i,originY:r,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},d,h){if(jx(n,c,h),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:y}=n;p.transform&&(y&&(m.transform=p.transform),delete p.transform),y&&(i!==void 0||r!==void 0||m.transform)&&(m.transformOrigin=Fj(y,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),s!==void 0&&(p.scale=s),a!==void 0&&Ij(p,a,o,l,!1)}const Lx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),SC=()=>({...Lx(),attrs:{}}),Dx=n=>typeof n=="string"&&n.toLowerCase()==="svg";function EC(n,{style:e,vars:t},s,i){Object.assign(n.style,e,i&&i.getProjectionStyles(s));for(const r in t)n.style.setProperty(r,t[r])}const CC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _C(n,e,t,s){EC(n,e,void 0,s);for(const i in e.attrs)n.setAttribute(CC.has(i)?i:_x(i),e.attrs[i])}const Vp={};function Oj(n){Object.assign(Vp,n)}function TC(n,{layout:e,layoutId:t}){return Fo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Vp[n]||n==="opacity")}function Ix(n,e,t){var s;const{style:i}=n,r={};for(const a in i)(Wt(i[a])||e.style&&Wt(e.style[a])||TC(a,n)||((s=t==null?void 0:t.getValue(a))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(r[a]=i[a]);return r}function kC(n,e,t){const s=Ix(n,e,t);for(const i in n)if(Wt(n[i])||Wt(e[i])){const r=Vc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=n[i]}return s}function Bj(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Gb=["x","y","width","height","cx","cy","r"],Vj={useVisualState:xC({scrapeMotionValuesFromProps:kC,createRenderState:SC,onUpdate:({props:n,prevProps:e,current:t,renderState:s,latestValues:i})=>{if(!t)return;let r=!!n.drag;if(!r){for(const o in i)if(Fo.has(o)){r=!0;break}}if(!r)return;let a=!e;if(e)for(let o=0;o<Gb.length;o++){const l=Gb[o];n[l]!==e[l]&&(a=!0)}a&&Re.read(()=>{Bj(t,s),Re.render(()=>{Mx(s,i,Dx(t.tagName),n.transformTemplate),_C(t,s)})})}})},Uj={useVisualState:xC({scrapeMotionValuesFromProps:Ix,createRenderState:Lx})};function NC(n,e,t){for(const s in e)!Wt(e[s])&&!TC(s,t)&&(n[s]=e[s])}function zj({transformTemplate:n},e){return T.useMemo(()=>{const t=Lx();return jx(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Hj(n,e){const t=n.style||{},s={};return NC(s,t,n),Object.assign(s,zj(n,e)),s}function $j(n,e){const t={},s=Hj(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=s,t}function Wj(n,e,t,s){const i=T.useMemo(()=>{const r=SC();return Mx(r,e,Dx(s),n.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};NC(r,n.style,n),i.style={...r,...i.style}}return i}function Gj(n=!1){return(t,s,i,{latestValues:r},a)=>{const l=(kx(t)?Wj:$j)(s,r,a,t),c=oj(s,typeof t=="string",n),d=t!==T.Fragment?{...c,...l,ref:i}:{},{children:h}=s,p=T.useMemo(()=>Wt(h)?h.get():h,[h]);return T.createElement(t,{...d,children:p})}}function Kj(n,e){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...kx(s)?Vj:Uj,preloadedFeatures:n,useRender:Gj(i),createVisualElement:e,Component:s};return gj(a)}}function PC(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}function Dm(n,e,t){const s=n.getProps();return Nx(s,e,t!==void 0?t:s.custom,n)}const Xj=Sx(()=>window.ScrollTimeline!==void 0);class qj{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=t}attachTimeline(e,t){const s=this.animations.map(i=>{if(Xj()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{s.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Yj extends qj{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Fx(n,e){return n?n[e]||n.default||n:void 0}const Vy=2e4;function RC(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<Vy;)e+=t,s=n.next(e);return e>=Vy?1/0:e}function Ox(n){return typeof n=="function"}function Kb(n,e){n.timeline=e,n.onfinish=null}const Bx=n=>Array.isArray(n)&&typeof n[0]=="number",Qj={linearEasing:void 0};function Jj(n,e){const t=Sx(n);return()=>{var s;return(s=Qj[e])!==null&&s!==void 0?s:t()}}const Up=Jj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jC=(n,e,t=10)=>{let s="";const i=Math.max(Math.round(e/t),2);for(let r=0;r<i;r++)s+=n(Rc(0,i-1,r))+", ";return`linear(${s.substring(0,s.length-2)})`};function MC(n){return!!(typeof n=="function"&&Up()||!n||typeof n=="string"&&(n in Uy||Up())||Bx(n)||Array.isArray(n)&&n.every(MC))}const ou=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,Uy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ou([0,.65,.55,1]),circOut:ou([.55,0,1,.45]),backIn:ou([.31,.01,.66,-.59]),backOut:ou([.33,1.53,.69,.99])};function LC(n,e){if(n)return typeof n=="function"&&Up()?jC(n,e):Bx(n)?ou(n):Array.isArray(n)?n.map(t=>LC(t,e)||Uy.easeOut):Uy[n]}const as={x:!1,y:!1};function DC(){return as.x||as.y}function Zj(n,e,t){var s;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const r=(s=void 0)!==null&&s!==void 0?s:i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}function IC(n,e){const t=Zj(n),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[t,i,()=>s.abort()]}function Xb(n){return e=>{e.pointerType==="touch"||DC()||n(e)}}function eM(n,e,t={}){const[s,i,r]=IC(n,t),a=Xb(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const d=Xb(h=>{c(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return s.forEach(o=>{o.addEventListener("pointerenter",a,i)}),r}const FC=(n,e)=>e?n===e?!0:FC(n,e.parentElement):!1,Vx=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,tM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nM(n){return tM.has(n.tagName)||n.tabIndex!==-1}const lu=new WeakSet;function qb(n){return e=>{e.key==="Enter"&&n(e)}}function Cg(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const sM=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=qb(()=>{if(lu.has(t))return;Cg(t,"down");const i=qb(()=>{Cg(t,"up")}),r=()=>Cg(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function Yb(n){return Vx(n)&&!DC()}function iM(n,e,t={}){const[s,i,r]=IC(n,t),a=o=>{const l=o.currentTarget;if(!Yb(o)||lu.has(l))return;lu.add(l);const c=e(o),d=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!Yb(m)||!lu.has(l))&&(lu.delete(l),typeof c=="function"&&c(m,{success:y}))},h=m=>{d(m,t.useGlobalTarget||FC(l,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return s.forEach(o=>{!nM(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(t.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",c=>sM(c,i),i)}),r}function rM(n){return n==="x"||n==="y"?as[n]?null:(as[n]=!0,()=>{as[n]=!1}):as.x||as.y?null:(as.x=as.y=!0,()=>{as.x=as.y=!1})}const OC=new Set(["width","height","top","left","right","bottom",...Vc]);let Lf;function aM(){Lf=void 0}const ti={now:()=>(Lf===void 0&&ti.set(kt.isProcessing||tj.useManualTiming?kt.timestamp:performance.now()),Lf),set:n=>{Lf=n,queueMicrotask(aM)}};function Ux(n,e){n.indexOf(e)===-1&&n.push(e)}function zx(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Hx{constructor(){this.subscriptions=[]}add(e){return Ux(this.subscriptions,e),()=>zx(this.subscriptions,e)}notify(e,t,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,s);else for(let r=0;r<i;r++){const a=this.subscriptions[r];a&&a(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function BC(n,e){return e?n*(1e3/e):0}const Qb=30,oM=n=>!isNaN(parseFloat(n));class lM{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{const r=ti.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ti.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=oM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Hx);const s=this.events[e].add(t);return e==="change"?()=>{s(),Re.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ti.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Qb)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Qb);return BC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cd(n,e){return new lM(n,e)}function cM(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,cd(t))}function uM(n,e){const t=Dm(n,e);let{transitionEnd:s={},transition:i={},...r}=t||{};r={...r,...s};for(const a in r){const o=Aj(r[a]);cM(n,a,o)}}function dM(n){return!!(Wt(n)&&n.add)}function zy(n,e){const t=n.getValue("willChange");if(dM(t))return t.add(e)}function VC(n){return n.props[gC]}const UC=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,hM=1e-7,fM=12;function pM(n,e,t,s,i){let r,a,o=0;do a=e+(t-e)/2,r=UC(a,s,i)-n,r>0?t=a:e=a;while(Math.abs(r)>hM&&++o<fM);return a}function Ih(n,e,t,s){if(n===e&&t===s)return Ln;const i=r=>pM(r,0,1,n,t);return r=>r===0||r===1?r:UC(i(r),e,s)}const zC=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,HC=n=>e=>1-n(1-e),$C=Ih(.33,1.53,.69,.99),$x=HC($C),WC=zC($x),GC=n=>(n*=2)<1?.5*$x(n):.5*(2-Math.pow(2,-10*(n-1))),Wx=n=>1-Math.sin(Math.acos(n)),KC=HC(Wx),XC=zC(Wx),qC=n=>/^0[^.\s]+$/u.test(n);function mM(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||qC(n):!0}const Du=n=>Math.round(n*1e5)/1e5,Gx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gM(n){return n==null}const yM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kx=(n,e)=>t=>!!(typeof t=="string"&&yM.test(t)&&t.startsWith(n)||e&&!gM(t)&&Object.prototype.hasOwnProperty.call(t,e)),YC=(n,e,t)=>s=>{if(typeof s!="string")return s;const[i,r,a,o]=s.match(Gx);return{[n]:parseFloat(i),[e]:parseFloat(r),[t]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},vM=n=>Gi(0,255,n),_g={...Uc,transform:n=>Math.round(vM(n))},xa={test:Kx("rgb","red"),parse:YC("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+_g.transform(n)+", "+_g.transform(e)+", "+_g.transform(t)+", "+Du(ld.transform(s))+")"};function xM(n){let e="",t="",s="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Hy={test:Kx("#"),parse:xM,transform:xa.transform},dl={test:Kx("hsl","hue"),parse:YC("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+ei.transform(Du(e))+", "+ei.transform(Du(t))+", "+Du(ld.transform(s))+")"},zt={test:n=>xa.test(n)||Hy.test(n)||dl.test(n),parse:n=>xa.test(n)?xa.parse(n):dl.test(n)?dl.parse(n):Hy.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?xa.transform(n):dl.transform(n)},wM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bM(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Gx))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(wM))===null||t===void 0?void 0:t.length)||0)>0}const QC="number",JC="color",AM="var",SM="var(",Jb="${}",EM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ud(n){const e=n.toString(),t=[],s={color:[],number:[],var:[]},i=[];let r=0;const o=e.replace(EM,l=>(zt.test(l)?(s.color.push(r),i.push(JC),t.push(zt.parse(l))):l.startsWith(SM)?(s.var.push(r),i.push(AM),t.push(l)):(s.number.push(r),i.push(QC),t.push(parseFloat(l))),++r,Jb)).split(Jb);return{values:t,split:o,indexes:s,types:i}}function ZC(n){return ud(n).values}function e_(n){const{split:e,types:t}=ud(n),s=e.length;return i=>{let r="";for(let a=0;a<s;a++)if(r+=e[a],i[a]!==void 0){const o=t[a];o===QC?r+=Du(i[a]):o===JC?r+=zt.transform(i[a]):r+=i[a]}return r}}const CM=n=>typeof n=="number"?0:n;function _M(n){const e=ZC(n);return e_(n)(e.map(CM))}const Xr={test:bM,parse:ZC,createTransformer:e_,getAnimatableNone:_M},TM=new Set(["brightness","contrast","saturate","opacity"]);function kM(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(Gx)||[];if(!s)return n;const i=t.replace(s,"");let r=TM.has(e)?1:0;return s!==t&&(r*=100),e+"("+r+i+")"}const NM=/\b([a-z-]*)\(.*?\)/gu,$y={...Xr,getAnimatableNone:n=>{const e=n.match(NM);return e?e.map(kM).join(" "):n}},PM={...Rx,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:$y,WebkitFilter:$y},Xx=n=>PM[n];function t_(n,e){let t=Xx(n);return t!==$y&&(t=Xr),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const RM=new Set(["auto","none","0"]);function jM(n,e,t){let s=0,i;for(;s<n.length&&!i;){const r=n[s];typeof r=="string"&&!RM.has(r)&&ud(r).values.length&&(i=n[s]),s++}if(i&&t)for(const r of e)n[r]=t_(t,i)}const Zb=n=>n===Uc||n===X,e1=(n,e)=>parseFloat(n.split(", ")[e]),t1=(n,e)=>(t,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/u);if(i)return e1(i[1],e);{const r=s.match(/^matrix\((.+)\)$/u);return r?e1(r[1],n):0}},MM=new Set(["x","y","z"]),LM=Vc.filter(n=>!MM.has(n));function DM(n){const e=[];return LM.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const Mc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:t1(4,13),y:t1(5,14)};Mc.translateX=Mc.x;Mc.translateY=Mc.y;const bo=new Set;let Wy=!1,Gy=!1;function n_(){if(Gy){const n=Array.from(bo).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),t=new Map;e.forEach(s=>{const i=DM(s);i.length&&(t.set(s,i),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=t.get(s);i&&i.forEach(([r,a])=>{var o;(o=s.getValue(r))===null||o===void 0||o.set(a)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Gy=!1,Wy=!1,bo.forEach(n=>n.complete()),bo.clear()}function s_(){bo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Gy=!0)})}function IM(){s_(),n_()}class qx{constructor(e,t,s,i,r,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=i,this.element=r,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bo.add(this),Wy||(Wy=!0,Re.read(s_),Re.resolveKeyframes(n_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:i}=this;for(let r=0;r<e.length;r++)if(e[r]===null)if(r===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&t){const l=s.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const i_=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),FM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OM(n){const e=FM.exec(n);if(!e)return[,];const[,t,s,i]=e;return[`--${t??s}`,i]}function r_(n,e,t=1){const[s,i]=OM(n);if(!s)return;const r=window.getComputedStyle(e).getPropertyValue(s);if(r){const a=r.trim();return i_(a)?parseFloat(a):a}return Px(i)?r_(i,e,t+1):i}const a_=n=>e=>e.test(n),BM={test:n=>n==="auto",parse:n=>n},o_=[Uc,X,ei,Qi,kj,Tj,BM],n1=n=>o_.find(a_(n));class l_ extends qx{constructor(e,t,s,i,r){super(e,t,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Px(c))){const d=r_(c,t.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!OC.has(s)||e.length!==2)return;const[i,r]=e,a=n1(i),o=n1(r);if(a!==o)if(Zb(a)&&Zb(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let i=0;i<e.length;i++)mM(e[i])&&s.push(i);s.length&&jM(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mc[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:s,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(s);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=Mc[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const s1=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Xr.test(n)||n==="0")&&!n.startsWith("url("));function VM(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function UM(n,e,t,s){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],a=s1(i,e),o=s1(r,e);return!a||!o?!1:VM(n)||(t==="spring"||Ox(t))&&s}const zM=n=>n!==null;function Im(n,{repeat:e,repeatType:t="loop"},s){const i=n.filter(zM),r=e&&t!=="loop"&&e%2===1?0:i.length-1;return!r||s===void 0?i[r]:s}const HM=40;class c_{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ti.now(),this.options={autoplay:e,delay:t,type:s,repeat:i,repeatDelay:r,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>HM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&IM(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ti.now(),this.hasAttemptedResolve=!0;const{name:s,type:i,velocity:r,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!UM(e,s,i,r))if(a)this.options.duration=0;else{l&&l(Im(e,this.options,t)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,t);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...d},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ue=(n,e,t)=>n+(e-n)*t;function Tg(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function $M({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let i=0,r=0,a=0;if(!e)i=r=a=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=Tg(l,o,n+1/3),r=Tg(l,o,n),a=Tg(l,o,n-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:s}}function zp(n,e){return t=>t>0?e:n}const kg=(n,e,t)=>{const s=n*n,i=t*(e*e-s)+s;return i<0?0:Math.sqrt(i)},WM=[Hy,xa,dl],GM=n=>WM.find(e=>e.test(n));function i1(n){const e=GM(n);if(!e)return!1;let t=e.parse(n);return e===dl&&(t=$M(t)),t}const r1=(n,e)=>{const t=i1(n),s=i1(e);if(!t||!s)return zp(n,e);const i={...t};return r=>(i.red=kg(t.red,s.red,r),i.green=kg(t.green,s.green,r),i.blue=kg(t.blue,s.blue,r),i.alpha=Ue(t.alpha,s.alpha,r),xa.transform(i))},KM=(n,e)=>t=>e(n(t)),Fh=(...n)=>n.reduce(KM),Ky=new Set(["none","hidden"]);function XM(n,e){return Ky.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function qM(n,e){return t=>Ue(n,e,t)}function Yx(n){return typeof n=="number"?qM:typeof n=="string"?Px(n)?zp:zt.test(n)?r1:JM:Array.isArray(n)?u_:typeof n=="object"?zt.test(n)?r1:YM:zp}function u_(n,e){const t=[...n],s=t.length,i=n.map((r,a)=>Yx(r)(r,e[a]));return r=>{for(let a=0;a<s;a++)t[a]=i[a](r);return t}}function YM(n,e){const t={...n,...e},s={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(s[i]=Yx(n[i])(n[i],e[i]));return i=>{for(const r in s)t[r]=s[r](i);return t}}function QM(n,e){var t;const s=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],o=n.indexes[a][i[a]],l=(t=n.values[o])!==null&&t!==void 0?t:0;s[r]=l,i[a]++}return s}const JM=(n,e)=>{const t=Xr.createTransformer(e),s=ud(n),i=ud(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Ky.has(n)&&!i.values.length||Ky.has(e)&&!s.values.length?XM(n,e):Fh(u_(QM(s,i),i.values),t):zp(n,e)};function d_(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Ue(n,e,t):Yx(n)(n,e)}const ZM=5;function h_(n,e,t){const s=Math.max(e-ZM,0);return BC(t-n(s),e-s)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ng=.001;function eL({duration:n=Ke.duration,bounce:e=Ke.bounce,velocity:t=Ke.velocity,mass:s=Ke.mass}){let i,r,a=1-e;a=Gi(Ke.minDamping,Ke.maxDamping,a),n=Gi(Ke.minDuration,Ke.maxDuration,Oi(n)),a<1?(i=c=>{const d=c*a,h=d*n,p=d-t,m=Xy(c,a),y=Math.exp(-h);return Ng-p/m*y},r=c=>{const h=c*a*n,p=h*t+t,m=Math.pow(a,2)*Math.pow(c,2)*n,y=Math.exp(-h),x=Xy(Math.pow(c,2),a);return(-i(c)+Ng>0?-1:1)*((p-m)*y)/x}):(i=c=>{const d=Math.exp(-c*n),h=(c-t)*n+1;return-Ng+d*h},r=c=>{const d=Math.exp(-c*n),h=(t-c)*(n*n);return d*h});const o=5/n,l=nL(i,r,o);if(n=Fi(n),isNaN(l))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:n};{const c=Math.pow(l,2)*s;return{stiffness:c,damping:a*2*Math.sqrt(s*c),duration:n}}}const tL=12;function nL(n,e,t){let s=t;for(let i=1;i<tL;i++)s=s-n(s)/e(s);return s}function Xy(n,e){return n*Math.sqrt(1-e*e)}const sL=["duration","bounce"],iL=["stiffness","damping","mass"];function a1(n,e){return e.some(t=>n[t]!==void 0)}function rL(n){let e={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...n};if(!a1(n,iL)&&a1(n,sL))if(n.visualDuration){const t=n.visualDuration,s=2*Math.PI/(t*1.2),i=s*s,r=2*Gi(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Ke.mass,stiffness:i,damping:r}}else{const t=eL(n);e={...e,...t,mass:Ke.mass},e.isResolvedFromDuration=!0}return e}function f_(n=Ke.visualDuration,e=Ke.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:i}=t;const r=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=rL({...t,velocity:-Oi(t.velocity||0)}),y=p||0,x=c/(2*Math.sqrt(l*d)),S=a-r,g=Oi(Math.sqrt(l/d)),v=Math.abs(S)<5;s||(s=v?Ke.restSpeed.granular:Ke.restSpeed.default),i||(i=v?Ke.restDelta.granular:Ke.restDelta.default);let w;if(x<1){const _=Xy(g,x);w=k=>{const N=Math.exp(-x*g*k);return a-N*((y+x*g*S)/_*Math.sin(_*k)+S*Math.cos(_*k))}}else if(x===1)w=_=>a-Math.exp(-g*_)*(S+(y+g*S)*_);else{const _=g*Math.sqrt(x*x-1);w=k=>{const N=Math.exp(-x*g*k),P=Math.min(_*k,300);return a-N*((y+x*g*S)*Math.sinh(P)+_*S*Math.cosh(P))/_}}const C={calculatedDuration:m&&h||null,next:_=>{const k=w(_);if(m)o.done=_>=h;else{let N=0;x<1&&(N=_===0?Fi(y):h_(w,_,k));const P=Math.abs(N)<=s,j=Math.abs(a-k)<=i;o.done=P&&j}return o.value=o.done?a:k,o},toString:()=>{const _=Math.min(RC(C),Vy),k=jC(N=>C.next(_*N).value,_,30);return _+"ms "+k}};return C}function o1({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const h=n[0],p={done:!1,value:h},m=P=>o!==void 0&&P<o||l!==void 0&&P>l,y=P=>o===void 0?l:l===void 0||Math.abs(o-P)<Math.abs(l-P)?o:l;let x=t*e;const S=h+x,g=a===void 0?S:a(S);g!==S&&(x=g-h);const v=P=>-x*Math.exp(-P/s),w=P=>g+v(P),C=P=>{const j=v(P),M=w(P);p.done=Math.abs(j)<=c,p.value=p.done?g:M};let _,k;const N=P=>{m(p.value)&&(_=P,k=f_({keyframes:[p.value,y(p.value)],velocity:h_(w,P,p.value),damping:i,stiffness:r,restDelta:c,restSpeed:d}))};return N(0),{calculatedDuration:null,next:P=>{let j=!1;return!k&&_===void 0&&(j=!0,C(P),N(P)),_!==void 0&&P>=_?k.next(P-_):(!j&&C(P),p)}}}const aL=Ih(.42,0,1,1),oL=Ih(0,0,.58,1),p_=Ih(.42,0,.58,1),lL=n=>Array.isArray(n)&&typeof n[0]!="number",l1={linear:Ln,easeIn:aL,easeInOut:p_,easeOut:oL,circIn:Wx,circInOut:XC,circOut:KC,backIn:$x,backInOut:WC,backOut:$C,anticipate:GC},c1=n=>{if(Bx(n)){Oy(n.length===4);const[e,t,s,i]=n;return Ih(e,t,s,i)}else if(typeof n=="string")return Oy(l1[n]!==void 0),l1[n];return n};function cL(n,e,t){const s=[],i=t||d_,r=n.length-1;for(let a=0;a<r;a++){let o=i(n[a],n[a+1]);if(e){const l=Array.isArray(e)?e[a]||Ln:e;o=Fh(l,o)}s.push(o)}return s}function uL(n,e,{clamp:t=!0,ease:s,mixer:i}={}){const r=n.length;if(Oy(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=cL(e,s,i),l=o.length,c=d=>{if(a&&d<n[0])return e[0];let h=0;if(l>1)for(;h<n.length-2&&!(d<n[h+1]);h++);const p=Rc(n[h],n[h+1],d);return o[h](p)};return t?d=>c(Gi(n[0],n[r-1],d)):c}function dL(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const i=Rc(0,e,s);n.push(Ue(t,1,i))}}function hL(n){const e=[0];return dL(e,n.length-1),e}function fL(n,e){return n.map(t=>t*e)}function pL(n,e){return n.map(()=>e||p_).splice(0,n.length-1)}function Hp({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const i=lL(s)?s.map(c1):c1(s),r={done:!1,value:e[0]},a=fL(t&&t.length===e.length?t:hL(e),n),o=uL(a,e,{ease:Array.isArray(i)?i:pL(e,i)});return{calculatedDuration:n,next:l=>(r.value=o(l),r.done=l>=n,r)}}const mL=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Re.update(e,!0),stop:()=>Kr(e),now:()=>kt.isProcessing?kt.timestamp:ti.now()}},gL={decay:o1,inertia:o1,tween:Hp,keyframes:Hp,spring:f_},yL=n=>n/100;class Qx extends c_{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:s,element:i,keyframes:r}=this.options,a=(i==null?void 0:i.KeyframeResolver)||qx,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(r,o,t,s,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:a=0}=this.options,o=Ox(t)?t:gL[t]||Hp;let l,c;o!==Hp&&typeof e[0]!="number"&&(l=Fh(yL,d_(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});r==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=RC(d));const{calculatedDuration:h}=d,p=h+i,m=p*(s+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:s}=this;if(!s){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:r,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=s;if(this.startTime===null)return r.next(0);const{delay:p,repeat:m,repeatType:y,repeatDelay:x,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-p*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,C=r;if(m){const P=Math.min(this.currentTime,d)/h;let j=Math.floor(P),M=P%1;!M&&P>=1&&(M=1),M===1&&j--,j=Math.min(j,m+1),!!(j%2)&&(y==="reverse"?(M=1-M,x&&(M-=x/h)):y==="mirror"&&(C=a)),w=Gi(0,1,M)*h}const _=v?{done:!1,value:l[0]}:C.next(w);o&&(_.value=o(_.value));let{done:k}=_;!v&&c!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return N&&i!==void 0&&(_.value=Im(l,this.options,i)),S&&S(_.value),N&&this.finish(),_}get duration(){const{resolved:e}=this;return e?Oi(e.calculatedDuration):0}get time(){return Oi(this.currentTime)}set time(e){e=Fi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Oi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=mL,onPlay:t,startTime:s}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const vL=new Set(["opacity","clipPath","filter","transform"]);function xL(n,e,t,{delay:s=0,duration:i=300,repeat:r=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:t};l&&(c.offset=l);const d=LC(o,i);return Array.isArray(d)&&(c.easing=d),n.animate(c,{delay:s,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"})}const wL=Sx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$p=10,bL=2e4;function AL(n){return Ox(n.type)||n.type==="spring"||!MC(n.ease)}function SL(n,e){const t=new Qx({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:n[0]};const i=[];let r=0;for(;!s.done&&r<bL;)s=t.sample(r),i.push(s.value),r+=$p;return{times:void 0,keyframes:i,duration:r-$p,ease:"linear"}}const m_={anticipate:GC,backInOut:WC,circInOut:XC};function EL(n){return n in m_}class u1 extends c_{constructor(e){super(e);const{name:t,motionValue:s,element:i,keyframes:r}=this.options;this.resolver=new l_(r,(a,o)=>this.onKeyframesResolved(a,o),t,s,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:s=300,times:i,ease:r,type:a,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof r=="string"&&Up()&&EL(r)&&(r=m_[r]),AL(this.options)){const{onComplete:h,onUpdate:p,motionValue:m,element:y,...x}=this.options,S=SL(e,x);e=S.keyframes,e.length===1&&(e[1]=e[0]),s=S.duration,i=S.times,r=S.ease,a="keyframes"}const d=xL(o.owner.current,l,e,{...this.options,duration:s,times:i,ease:r});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(Kb(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(Im(e,this.options,t)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:i,type:a,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Oi(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Oi(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.currentTime=Fi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Ln;const{animation:s}=t;Kb(s,e)}return Ln}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:s,duration:i,type:r,ease:a,times:o}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:p,...m}=this.options,y=new Qx({...m,keyframes:s,duration:i,type:r,ease:a,times:o,isGenerator:!0}),x=Fi(this.time);c.setWithVelocity(y.sample(x-$p).value,y.sample(x).value,$p)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:s,repeatDelay:i,repeatType:r,damping:a,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return wL()&&s&&vL.has(s)&&!l&&!c&&!i&&r!=="mirror"&&a!==0&&o!=="inertia"}}const CL={type:"spring",stiffness:500,damping:25,restSpeed:10},_L=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),TL={type:"keyframes",duration:.8},kL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NL=(n,{keyframes:e})=>e.length>2?TL:Fo.has(n)?n.startsWith("scale")?_L(e[1]):CL:kL;function PL({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Jx=(n,e,t,s={},i,r)=>a=>{const o=Fx(s,n)||{},l=o.delay||s.delay||0;let{elapsed:c=0}=s;c=c-Fi(l);let d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:r?void 0:i};PL(o)||(d={...d,...NL(n,d)}),d.duration&&(d.duration=Fi(d.duration)),d.repeatDelay&&(d.repeatDelay=Fi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!r&&e.get()!==void 0){const p=Im(d.keyframes,o);if(p!==void 0)return Re.update(()=>{d.onUpdate(p),d.onComplete()}),new Yj([])}return!r&&u1.supports(d)?new u1(d):new Qx(d)};function RL({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function g_(n,e,{delay:t=0,transitionOverride:s,type:i}={}){var r;let{transition:a=n.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(a=s);const c=[],d=i&&n.animationState&&n.animationState.getState()[i];for(const h in l){const p=n.getValue(h,(r=n.latestValues[h])!==null&&r!==void 0?r:null),m=l[h];if(m===void 0||d&&RL(d,h))continue;const y={delay:t,...Fx(a||{},h)};let x=!1;if(window.MotionHandoffAnimation){const g=VC(n);if(g){const v=window.MotionHandoffAnimation(g,h,Re);v!==null&&(y.startTime=v,x=!0)}}zy(n,h),p.start(Jx(h,p,m,n.shouldReduceMotion&&OC.has(h)?{type:!1}:y,n,x));const S=p.animation;S&&c.push(S)}return o&&Promise.all(c).then(()=>{Re.update(()=>{o&&uM(n,o)})}),c}function qy(n,e,t={}){var s;const i=Dm(n,e,t.type==="exit"?(s=n.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(g_(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=r;return jL(n,e,d+c,h,p,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(t.delay)])}function jL(n,e,t=0,s=0,i=1,r){const a=[],o=(n.variantChildren.size-1)*s,l=i===1?(c=0)=>c*s:(c=0)=>o-c*s;return Array.from(n.variantChildren).sort(ML).forEach((c,d)=>{c.notify("AnimationStart",e),a.push(qy(c,e,{...r,delay:t+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function ML(n,e){return n.sortNodePosition(e)}function LL(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(r=>qy(n,r,t));s=Promise.all(i)}else if(typeof e=="string")s=qy(n,e,t);else{const i=typeof e=="function"?Dm(n,e,t.custom):e;s=Promise.all(g_(n,i,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}const DL=Cx.length;function y_(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?y_(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<DL;t++){const s=Cx[t],i=n.props[s];(od(i)||i===!1)&&(e[s]=i)}return e}const IL=[...Ex].reverse(),FL=Ex.length;function OL(n){return e=>Promise.all(e.map(({animation:t,options:s})=>LL(n,t,s)))}function BL(n){let e=OL(n),t=d1(),s=!0;const i=l=>(c,d)=>{var h;const p=Dm(n,d,l==="exit"?(h=n.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:y,...x}=p;c={...c,...x,...y}}return c};function r(l){e=l(n)}function a(l){const{props:c}=n,d=y_(n.parent)||{},h=[],p=new Set;let m={},y=1/0;for(let S=0;S<FL;S++){const g=IL[S],v=t[g],w=c[g]!==void 0?c[g]:d[g],C=od(w),_=g===l?v.isActive:null;_===!1&&(y=S);let k=w===d[g]&&w!==c[g]&&C;if(k&&s&&n.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...m},!v.isActive&&_===null||!w&&!v.prevProp||Mm(w)||typeof w=="boolean")continue;const N=VL(v.prevProp,w);let P=N||g===l&&v.isActive&&!k&&C||S>y&&C,j=!1;const M=Array.isArray(w)?w:[w];let D=M.reduce(i(g),{});_===!1&&(D={});const{prevResolvedValues:q={}}=v,H={...q,...D},$=I=>{P=!0,p.has(I)&&(j=!0,p.delete(I)),v.needsAnimating[I]=!0;const R=n.getValue(I);R&&(R.liveStyle=!1)};for(const I in H){const R=D[I],U=q[I];if(m.hasOwnProperty(I))continue;let W=!1;By(R)&&By(U)?W=!PC(R,U):W=R!==U,W?R!=null?$(I):p.add(I):R!==void 0&&p.has(I)?$(I):v.protectedKeys[I]=!0}v.prevProp=w,v.prevResolvedValues=D,v.isActive&&(m={...m,...D}),s&&n.blockInitialAnimation&&(P=!1),P&&(!(k&&N)||j)&&h.push(...M.map(I=>({animation:I,options:{type:g}})))}if(p.size){const S={};p.forEach(g=>{const v=n.getBaseTarget(g),w=n.getValue(g);w&&(w.liveStyle=!0),S[g]=v??null}),h.push({animation:S})}let x=!!h.length;return s&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(h):Promise.resolve()}function o(l,c){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),t[l].isActive=c;const h=a(l);for(const p in t)t[p].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>t,reset:()=>{t=d1(),s=!0}}}function VL(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!PC(e,n):!1}function ia(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function d1(){return{animate:ia(!0),whileInView:ia(),whileHover:ia(),whileTap:ia(),whileDrag:ia(),whileFocus:ia(),exit:ia()}}class na{constructor(e){this.isMounted=!1,this.node=e}update(){}}class UL extends na{constructor(e){super(e),e.animationState||(e.animationState=BL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let zL=0;class HL extends na{constructor(){super(...arguments),this.id=zL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const $L={animation:{Feature:UL},exit:{Feature:HL}};function dd(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}function Oh(n){return{point:{x:n.pageX,y:n.pageY}}}const WL=n=>e=>Vx(e)&&n(e,Oh(e));function Iu(n,e,t,s){return dd(n,e,WL(t),s)}const h1=(n,e)=>Math.abs(n-e);function GL(n,e){const t=h1(n.x,e.x),s=h1(n.y,e.y);return Math.sqrt(t**2+s**2)}class v_{constructor(e,t,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Rg(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=GL(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=h,{timestamp:x}=kt;this.history.push({...y,timestamp:x});const{onStart:S,onMove:g}=this.handlers;p||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Pg(p,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Rg(h.type==="pointercancel"?this.lastMoveEventInfo:Pg(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,S),y&&y(h,S)},!Vx(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=s,this.contextWindow=i||window;const a=Oh(e),o=Pg(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=kt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=t;d&&d(e,Rg(o,this.history)),this.removeListeners=Fh(Iu(this.contextWindow,"pointermove",this.handlePointerMove),Iu(this.contextWindow,"pointerup",this.handlePointerUp),Iu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Kr(this.updatePoint)}}function Pg(n,e){return e?{point:e(n.point)}:n}function f1(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Rg({point:n},e){return{point:n,delta:f1(n,x_(e)),offset:f1(n,KL(e)),velocity:XL(e,.1)}}function KL(n){return n[0]}function x_(n){return n[n.length-1]}function XL(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const i=x_(n);for(;t>=0&&(s=n[t],!(i.timestamp-s.timestamp>Fi(e)));)t--;if(!s)return{x:0,y:0};const r=Oi(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const a={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const w_=1e-4,qL=1-w_,YL=1+w_,b_=.01,QL=0-b_,JL=0+b_;function Fn(n){return n.max-n.min}function ZL(n,e,t){return Math.abs(n-e)<=t}function p1(n,e,t,s=.5){n.origin=s,n.originPoint=Ue(e.min,e.max,n.origin),n.scale=Fn(t)/Fn(e),n.translate=Ue(t.min,t.max,n.origin)-n.originPoint,(n.scale>=qL&&n.scale<=YL||isNaN(n.scale))&&(n.scale=1),(n.translate>=QL&&n.translate<=JL||isNaN(n.translate))&&(n.translate=0)}function Fu(n,e,t,s){p1(n.x,e.x,t.x,s?s.originX:void 0),p1(n.y,e.y,t.y,s?s.originY:void 0)}function m1(n,e,t){n.min=t.min+e.min,n.max=n.min+Fn(e)}function eD(n,e,t){m1(n.x,e.x,t.x),m1(n.y,e.y,t.y)}function g1(n,e,t){n.min=e.min-t.min,n.max=n.min+Fn(e)}function Ou(n,e,t){g1(n.x,e.x,t.x),g1(n.y,e.y,t.y)}function tD(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?Ue(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?Ue(t,n,s.max):Math.min(n,t)),n}function y1(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function nD(n,{top:e,left:t,bottom:s,right:i}){return{x:y1(n.x,t,i),y:y1(n.y,e,s)}}function v1(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function sD(n,e){return{x:v1(n.x,e.x),y:v1(n.y,e.y)}}function iD(n,e){let t=.5;const s=Fn(n),i=Fn(e);return i>s?t=Rc(e.min,e.max-s,n.min):s>i&&(t=Rc(n.min,n.max-i,e.min)),Gi(0,1,t)}function rD(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Yy=.35;function aD(n=Yy){return n===!1?n=0:n===!0&&(n=Yy),{x:x1(n,"left","right"),y:x1(n,"top","bottom")}}function x1(n,e,t){return{min:w1(n,e),max:w1(n,t)}}function w1(n,e){return typeof n=="number"?n:n[e]||0}const b1=()=>({translate:0,scale:1,origin:0,originPoint:0}),hl=()=>({x:b1(),y:b1()}),A1=()=>({min:0,max:0}),Ye=()=>({x:A1(),y:A1()});function zn(n){return[n("x"),n("y")]}function A_({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function oD({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function lD(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function jg(n){return n===void 0||n===1}function Qy({scale:n,scaleX:e,scaleY:t}){return!jg(n)||!jg(e)||!jg(t)}function la(n){return Qy(n)||S_(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function S_(n){return S1(n.x)||S1(n.y)}function S1(n){return n&&n!=="0%"}function Wp(n,e,t){const s=n-t,i=e*s;return t+i}function E1(n,e,t,s,i){return i!==void 0&&(n=Wp(n,i,s)),Wp(n,t,s)+e}function Jy(n,e=0,t=1,s,i){n.min=E1(n.min,e,t,s,i),n.max=E1(n.max,e,t,s,i)}function E_(n,{x:e,y:t}){Jy(n.x,e.translate,e.scale,e.originPoint),Jy(n.y,t.translate,t.scale,t.originPoint)}const C1=.999999999999,_1=1.0000000000001;function cD(n,e,t,s=!1){const i=t.length;if(!i)return;e.x=e.y=1;let r,a;for(let o=0;o<i;o++){r=t[o],a=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&pl(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,E_(n,a)),s&&la(r.latestValues)&&pl(n,r.latestValues))}e.x<_1&&e.x>C1&&(e.x=1),e.y<_1&&e.y>C1&&(e.y=1)}function fl(n,e){n.min=n.min+e,n.max=n.max+e}function T1(n,e,t,s,i=.5){const r=Ue(n.min,n.max,i);Jy(n,e,t,r,s)}function pl(n,e){T1(n.x,e.x,e.scaleX,e.scale,e.originX),T1(n.y,e.y,e.scaleY,e.scale,e.originY)}function C_(n,e){return A_(lD(n.getBoundingClientRect(),e))}function uD(n,e,t){const s=C_(n,t),{scroll:i}=e;return i&&(fl(s.x,i.offset.x),fl(s.y,i.offset.y)),s}const __=({current:n})=>n?n.ownerDocument.defaultView:null,dD=new WeakMap;class hD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Oh(d).point)},r=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rM(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(S=>{let g=this.getAxisMotionValue(S).get()||0;if(ei.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[S];w&&(g=Fn(w)*(parseFloat(g)/100))}}this.originPoint[S]=g}),y&&Re.postRender(()=>y(d,h)),zy(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:x}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=h;if(m&&this.currentDirection===null){this.currentDirection=fD(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),x&&x(d,h)},o=(d,h)=>this.stop(d,h),l=()=>zn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new v_(e,{onSessionStart:i,onStart:r,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:__(this.visualElement)})}stop(e,t){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&Re.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:i}=this.getProps();if(!s||!ff(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=tD(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,r=this.constraints;t&&ul(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=nD(i.layoutBox,t):this.constraints=!1,this.elastic=aD(s),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&zn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=rD(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ul(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=uD(s,i.root,this.visualElement.getTransformPagePoint());let a=sD(i.layout.layoutBox,r);if(t){const o=t(oD(a));this.hasMutatedConstraints=!!o,o&&(a=A_(o))}return a}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=zn(d=>{if(!ff(d,t,this.currentDirection))return;let h=l&&l[d]||{};a&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:s?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return zy(this.visualElement,e),s.start(Jx(e,s,0,t,this.visualElement,!1))}stopAnimation(){zn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[t];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){zn(t=>{const{drag:s}=this.getProps();if(!ff(t,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[t];r.set(e[t]-Ue(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!ul(t)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};zn(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=iD({min:l,max:l},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),zn(a=>{if(!ff(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Ue(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;dD.set(this.visualElement,this);const e=this.visualElement.current,t=Iu(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();ul(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Re.read(s);const a=dd(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(zn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),t(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:a=Yy,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function ff(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function fD(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class pD extends na{constructor(e){super(e),this.removeGroupControls=Ln,this.removeListeners=Ln,this.controls=new hD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const k1=n=>(e,t)=>{n&&Re.postRender(()=>n(e,t))};class mD extends na{constructor(){super(...arguments),this.removePointerDownListener=Ln}onPointerDown(e){this.session=new v_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:__(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:k1(e),onStart:k1(t),onMove:s,onEnd:(r,a)=>{delete this.session,i&&Re.postRender(()=>i(r,a))}}}mount(){this.removePointerDownListener=Iu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Df={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Zc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(X.test(n))n=parseFloat(n);else return n;const t=N1(n,e.target.x),s=N1(n,e.target.y);return`${t}% ${s}%`}},gD={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,i=Xr.parse(n);if(i.length>5)return s;const r=Xr.createTransformer(n),a=typeof i[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Ue(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),r(i)}};class yD extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=e;Oj(vD),r&&(t.group&&t.group.add(r),s&&s.register&&i&&s.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Df.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:i,isPresent:r}=this.props,a=s.projection;return a&&(a.isPresent=r,i||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||Re.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Tx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function T_(n){const[e,t]=uC(),s=T.useContext(xx);return f.jsx(yD,{...n,layoutGroup:s,switchLayoutGroup:T.useContext(yC),isPresent:e,safeToRemove:t})}const vD={borderRadius:{...Zc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zc,borderTopRightRadius:Zc,borderBottomLeftRadius:Zc,borderBottomRightRadius:Zc,boxShadow:gD};function xD(n,e,t){const s=Wt(n)?n:cd(n);return s.start(Jx("",s,e,t)),s.animation}function wD(n){return n instanceof SVGElement&&n.tagName!=="svg"}const bD=(n,e)=>n.depth-e.depth;class AD{constructor(){this.children=[],this.isDirty=!1}add(e){Ux(this.children,e),this.isDirty=!0}remove(e){zx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bD),this.isDirty=!1,this.children.forEach(e)}}function SD(n,e){const t=ti.now(),s=({timestamp:i})=>{const r=i-t;r>=e&&(Kr(s),n(r-e))};return Re.read(s,!0),()=>Kr(s)}const k_=["TopLeft","TopRight","BottomLeft","BottomRight"],ED=k_.length,P1=n=>typeof n=="string"?parseFloat(n):n,R1=n=>typeof n=="number"||X.test(n);function CD(n,e,t,s,i,r){i?(n.opacity=Ue(0,t.opacity!==void 0?t.opacity:1,_D(s)),n.opacityExit=Ue(e.opacity!==void 0?e.opacity:1,0,TD(s))):r&&(n.opacity=Ue(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,s));for(let a=0;a<ED;a++){const o=`border${k_[a]}Radius`;let l=j1(e,o),c=j1(t,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||R1(l)===R1(c)?(n[o]=Math.max(Ue(P1(l),P1(c),s),0),(ei.test(c)||ei.test(l))&&(n[o]+="%")):n[o]=c}(e.rotate||t.rotate)&&(n.rotate=Ue(e.rotate||0,t.rotate||0,s))}function j1(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const _D=N_(0,.5,KC),TD=N_(.5,.95,Ln);function N_(n,e,t){return s=>s<n?0:s>e?1:t(Rc(n,e,s))}function M1(n,e){n.min=e.min,n.max=e.max}function Vn(n,e){M1(n.x,e.x),M1(n.y,e.y)}function L1(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function D1(n,e,t,s,i){return n-=e,n=Wp(n,1/t,s),i!==void 0&&(n=Wp(n,1/i,s)),n}function kD(n,e=0,t=1,s=.5,i,r=n,a=n){if(ei.test(e)&&(e=parseFloat(e),e=Ue(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Ue(r.min,r.max,s);n===r&&(o-=e),n.min=D1(n.min,e,t,o,i),n.max=D1(n.max,e,t,o,i)}function I1(n,e,[t,s,i],r,a){kD(n,e[t],e[s],e[i],e.scale,r,a)}const ND=["x","scaleX","originX"],PD=["y","scaleY","originY"];function F1(n,e,t,s){I1(n.x,e,ND,t?t.x:void 0,s?s.x:void 0),I1(n.y,e,PD,t?t.y:void 0,s?s.y:void 0)}function O1(n){return n.translate===0&&n.scale===1}function P_(n){return O1(n.x)&&O1(n.y)}function B1(n,e){return n.min===e.min&&n.max===e.max}function RD(n,e){return B1(n.x,e.x)&&B1(n.y,e.y)}function V1(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function R_(n,e){return V1(n.x,e.x)&&V1(n.y,e.y)}function U1(n){return Fn(n.x)/Fn(n.y)}function z1(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class jD{constructor(){this.members=[]}add(e){Ux(this.members,e),e.scheduleRender()}remove(e){if(zx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let s;for(let i=t;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MD(n,e,t){let s="";const i=n.x.translate/e.x,r=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((i||r||a)&&(s=`translate3d(${i}px, ${r}px, ${a}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:y}=t;c&&(s=`perspective(${c}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),p&&(s+=`rotateY(${p}deg) `),m&&(s+=`skewX(${m}deg) `),y&&(s+=`skewY(${y}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const ca={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},cu=typeof window<"u"&&window.MotionDebug!==void 0,Mg=["","X","Y","Z"],LD={visibility:"hidden"},H1=1e3;let DD=0;function Lg(n,e,t,s){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),s&&(s[n]=0))}function j_(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=VC(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Re,!(i||r))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&j_(s)}function M_({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=DD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cu&&(ca.totalNodes=ca.resolvedTargetDeltas=ca.recalculatedProjection=0),this.nodes.forEach(OD),this.nodes.forEach(HD),this.nodes.forEach($D),this.nodes.forEach(BD),cu&&window.MotionDebug.record(ca)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new AD)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Hx),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=wD(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),n){let h;const p=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=SD(p,250),Df.hasAnimatedSinceResize&&(Df.hasAnimatedSinceResize=!1,this.nodes.forEach(W1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||qD,{onLayoutAnimationStart:S,onLayoutAnimationComplete:g}=d.getProps(),v=!this.targetLayout||!R_(this.targetLayout,y)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const C={...Fx(x,"layout"),onPlay:S,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||W1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WD),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&j_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($1);return}this.isUpdating||this.nodes.forEach(UD),this.isUpdating=!1,this.nodes.forEach(zD),this.nodes.forEach(ID),this.nodes.forEach(FD),this.clearAllSnapshots();const o=ti.now();kt.delta=Gi(0,1e3/60,o-kt.timestamp),kt.timestamp=o,kt.isProcessing=!0,Eg.update.process(kt),Eg.preRender.process(kt),Eg.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VD),this.sharedNodes.forEach(GD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!P_(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&(o||la(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),YD(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Ye();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(QD))){const{scroll:d}=this.root;d&&(fl(l.x,d.offset.x),fl(l.y,d.offset.y))}return l}removeElementScroll(a){var o;const l=Ye();if(Vn(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Vn(l,a),fl(l.x,h.offset.x),fl(l.y,h.offset.y))}return l}applyTransform(a,o=!1){const l=Ye();Vn(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&pl(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),la(d.latestValues)&&pl(l,d.latestValues)}return la(this.latestValues)&&pl(l,this.latestValues),l}removeTransform(a){const o=Ye();Vn(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!la(c.latestValues))continue;Qy(c.latestValues)&&c.updateSnapshot();const d=Ye(),h=c.measurePageBox();Vn(d,h),F1(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return la(this.latestValues)&&F1(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=kt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Ou(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),E_(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Ou(this.relativeTargetOrigin,this.target,m.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cu&&ca.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Qy(this.parent.latestValues)||S_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Vn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;cD(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ye());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(L1(this.prevProjectionDelta.x,this.projectionDelta.x),L1(this.prevProjectionDelta.y,this.projectionDelta.y)),Fu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!z1(this.projectionDelta.x,this.prevProjectionDelta.x)||!z1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),cu&&ca.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hl(),this.projectionDelta=hl(),this.projectionDeltaWithTransform=hl()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=hl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=Ye(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,S=this.getStack(),g=!S||S.members.length<=1,v=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(XD));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const _=C/1e3;G1(h.x,a.x,_),G1(h.y,a.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ou(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KD(this.relativeTarget,this.relativeTargetOrigin,p,_),w&&RD(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ye()),Vn(w,this.relativeTarget)),x&&(this.animationValues=d,CD(d,c,this.latestValues,_,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update(()=>{Df.hasAnimatedSinceResize=!0,this.currentAnimation=xD(0,H1,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(H1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&L_(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ye();const h=Fn(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const p=Fn(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+p}Vn(o,l),pl(o,d),Fu(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new jD),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Lg("z",a,c,this.animationValues);for(let d=0;d<Mg.length;d++)Lg(`rotate${Mg[d]}`,a,c,this.animationValues),Lg(`skew${Mg[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return LD;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Mf(a==null?void 0:a.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Mf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!la(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=MD(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(o=p.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in Vp){if(p[x]===void 0)continue;const{correct:S,applyTo:g}=Vp[x],v=c.transform==="none"?p[x]:S(p[x],h);if(g){const w=g.length;for(let C=0;C<w;C++)c[g[C]]=v}else c[x]=v}return this.options.layoutId&&(c.pointerEvents=h===this?Mf(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach($1),this.root.sharedNodes.clear()}}}function ID(n){n.updateLayout()}function FD(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=n.layout,{animationType:r}=n.options,a=t.source!==n.layout.source;r==="size"?zn(h=>{const p=a?t.measuredBox[h]:t.layoutBox[h],m=Fn(p);p.min=s[h].min,p.max=p.min+m}):L_(r,t.layoutBox,s)&&zn(h=>{const p=a?t.measuredBox[h]:t.layoutBox[h],m=Fn(s[h]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+m)});const o=hl();Fu(o,s,t.layoutBox);const l=hl();a?Fu(l,n.applyTransform(i,!0),t.measuredBox):Fu(l,s,t.layoutBox);const c=!P_(o);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const y=Ye();Ou(y,t.layoutBox,p.layoutBox);const x=Ye();Ou(x,s,m.layoutBox),R_(y,x)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=y,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function OD(n){cu&&ca.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function BD(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function VD(n){n.clearSnapshot()}function $1(n){n.clearMeasurements()}function UD(n){n.isLayoutDirty=!1}function zD(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function W1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function HD(n){n.resolveTargetDelta()}function $D(n){n.calcProjection()}function WD(n){n.resetSkewAndRotation()}function GD(n){n.removeLeadSnapshot()}function G1(n,e,t){n.translate=Ue(e.translate,0,t),n.scale=Ue(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function K1(n,e,t,s){n.min=Ue(e.min,t.min,s),n.max=Ue(e.max,t.max,s)}function KD(n,e,t,s){K1(n.x,e.x,t.x,s),K1(n.y,e.y,t.y,s)}function XD(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const qD={duration:.45,ease:[.4,0,.1,1]},X1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),q1=X1("applewebkit/")&&!X1("chrome/")?Math.round:Ln;function Y1(n){n.min=q1(n.min),n.max=q1(n.max)}function YD(n){Y1(n.x),Y1(n.y)}function L_(n,e,t){return n==="position"||n==="preserve-aspect"&&!ZL(U1(e),U1(t),.2)}function QD(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const JD=M_({attachResizeListener:(n,e)=>dd(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dg={current:void 0},D_=M_({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Dg.current){const n=new JD({});n.mount(window),n.setOptions({layoutScroll:!0}),Dg.current=n}return Dg.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),ZD={pan:{Feature:mD},drag:{Feature:pD,ProjectionNode:D_,MeasureLayout:T_}};function Q1(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,r=s[i];r&&Re.postRender(()=>r(e,Oh(e)))}class eI extends na{mount(){const{current:e}=this.node;e&&(this.unmount=eM(e,t=>(Q1(this.node,t,"Start"),s=>Q1(this.node,s,"End"))))}unmount(){}}class tI extends na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fh(dd(this.node.current,"focus",()=>this.onFocus()),dd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function J1(n,e,t){const{props:s}=n;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),r=s[i];r&&Re.postRender(()=>r(e,Oh(e)))}class nI extends na{mount(){const{current:e}=this.node;e&&(this.unmount=iM(e,t=>(J1(this.node,t,"Start"),(s,{success:i})=>J1(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zy=new WeakMap,Ig=new WeakMap,sI=n=>{const e=Zy.get(n.target);e&&e(n)},iI=n=>{n.forEach(sI)};function rI({root:n,...e}){const t=n||document;Ig.has(t)||Ig.set(t,{});const s=Ig.get(t),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(iI,{root:n,...e})),s[i]}function aI(n,e,t){const s=rI(e);return Zy.set(n,t),s.observe(n),()=>{Zy.delete(n),s.unobserve(n)}}const oI={some:0,all:1};class lI extends na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:i="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:oI[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return aI(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(cI(e,t))&&this.startObserver()}unmount(){}}function cI({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const uI={inView:{Feature:lI},tap:{Feature:nI},focus:{Feature:tI},hover:{Feature:eI}},dI={layout:{ProjectionNode:D_,MeasureLayout:T_}},ev={current:null},I_={current:!1};function hI(){if(I_.current=!0,!!Ax)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>ev.current=n.matches;n.addListener(e),e()}else ev.current=!1}const fI=[...o_,zt,Xr],pI=n=>fI.find(a_(n)),Z1=new WeakMap;function mI(n,e,t){for(const s in e){const i=e[s],r=t[s];if(Wt(i))n.addValue(s,i);else if(Wt(r))n.addValue(s,cd(i,{owner:n}));else if(r!==i)if(n.hasValue(s)){const a=n.getValue(s);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=n.getStaticValue(s);n.addValue(s,cd(a!==void 0?a:i,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const eA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gI{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=ti.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Re.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=a;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=Lm(t),this.isVariantNode=mC(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const m in p){const y=p[m];l[m]!==void 0&&Wt(y)&&y.set(l[m],!1)}}mount(e){this.current=e,Z1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),I_.current||hI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ev.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Z1.delete(this.current),this.projection&&this.projection.unmount(),Kr(this.notifyUpdate),Kr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Fo.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Re.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jc){const t=jc[e];if(!t)continue;const{isEnabled:s,Feature:i}=t;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<eA.length;s++){const i=eA[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,a=e[r];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=mI(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=cd(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){var s;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(i_(i)||qC(i))?i=parseFloat(i):!pI(i)&&Xr.test(t)&&(i=t_(e,t)),this.setBaseTarget(e,Wt(i)?i.get():i)),Wt(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const a=Nx(this.props,s,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(i=a[e])}if(s&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Wt(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Hx),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class F_ extends gI{constructor(){super(...arguments),this.KeyframeResolver=l_}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function yI(n){return window.getComputedStyle(n)}class vI extends F_{constructor(){super(...arguments),this.type="html",this.renderInstance=EC}readValueFromInstance(e,t){if(Fo.has(t)){const s=Xx(t);return s&&s.default||0}else{const s=yI(e),i=(bC(t)?s.getPropertyValue(t):s[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return C_(e,t)}build(e,t,s){jx(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return Ix(e,t,s)}}class xI extends F_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ye}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Fo.has(t)){const s=Xx(t);return s&&s.default||0}return t=CC.has(t)?t:_x(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return kC(e,t,s)}build(e,t,s){Mx(e,t,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,s,i){_C(e,t,s,i)}mount(e){this.isSVGTag=Dx(e.tagName),super.mount(e)}}const wI=(n,e)=>kx(n)?new xI(e):new vI(e,{allowProjection:n!==T.Fragment}),bI=Kj({...$L,...uI,...ZD,...dI},wI),z=lj(bI);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Te=(n,e)=>{const t=T.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>T.createElement("svg",{ref:d,...AI,width:i,height:i,stroke:s,strokeWidth:a?Number(r)*24/Number(i):r,className:["lucide",`lucide-${SI(n)}`,o].join(" "),...c},[...e.map(([h,p])=>T.createElement(h,p)),...Array.isArray(l)?l:[l]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=Te("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=Te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=Te("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=Te("Group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=Te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=Te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Te("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Te("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Te("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Te("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Te("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Te("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),GI="/canopy-website/assets/logo-C6brOt1P.svg",KI=()=>{const[n,e]=T.useState(!1),[t,s]=T.useState(!1),[i,r]=T.useState(null),a=vx(),o=Bc();T.useEffect(()=>{const h=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]),T.useEffect(()=>{s(!1),r(null)},[o.pathname]);const l=[{name:"About Us",href:"#",submenu:[{name:"Our Mission",href:"/missions",isRoute:!0},{name:"Our Story",href:"/story",isRoute:!0},{name:"Meet the Team",href:"/meet-the-team",isRoute:!0},{name:"Board of Directors",href:"/board-of-directors",isRoute:!0}]},{name:"Our Work",href:"/ourwork",isRoute:!0,submenu:[{name:"CANSHIP",href:"/canship",isRoute:!0},{name:"Katha Bunaun",href:"/katha-bunaun",isRoute:!0}]},{name:"Our Impact",href:"/ourimpact",isRoute:!0},{name:"Publications",href:"/publications",isRoute:!0},{name:"Chapters",href:"#",submenu:[{name:"Canopy France",href:"/canopyfrance",isRoute:!0},{name:"Canopy USA",href:"/canopyusa",isRoute:!0}]},{name:"Get Involved",href:"/getinvolved",isRoute:!0}],c=(h,p)=>{if(p)a(h);else if(o.pathname==="/"){const m=document.querySelector(h);m&&m.scrollIntoView({behavior:"smooth"})}else a("/"),setTimeout(()=>{const m=document.querySelector(h);m&&m.scrollIntoView({behavior:"smooth"})},100);s(!1),r(null)},d=h=>{if(o.pathname==="/"){const p=document.querySelector(h);p&&p.scrollIntoView({behavior:"smooth"})}else a("/"),setTimeout(()=>{const p=document.querySelector(h);p&&p.scrollIntoView({behavior:"smooth"})},100);s(!1),r(null)};return f.jsx(z.nav,{className:`fixed inset-x-0 top-0 z-50 transition-all duration-300 ${n?"bg-white/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,initial:{y:-100},animate:{y:0},transition:{duration:.6},children:f.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 mt-3",children:[f.jsxs("div",{className:"flex items-center h-24",children:[f.jsx(z.div,{className:"flex-shrink-0",whileHover:{scale:1.05},transition:{duration:.2},children:f.jsx(qR,{to:"/",children:f.jsx("img",{src:GI,alt:"Canopy Nepal Logo",className:"h-24 w-auto"})})}),f.jsx("div",{className:"hidden md:flex flex-1 justify-center space-x-10",children:l.map((h,p)=>f.jsxs("div",{className:"relative",onMouseEnter:()=>h.submenu&&r(p),onMouseLeave:()=>r(null),children:[f.jsxs(z.button,{onClick:()=>{h.href==="#"?r(m=>m===p?null:p):h.isRoute?a(h.href):h.href&&h.href!=="#"&&d(h.href)},className:`
                    flex items-center space-x-1 font-medium
                    transition-colors duration-300 hover:text-primary-cyan
                    ${n?"text-primary-gray":"text-primary-gray drop-shadow-lg"}
                    ${o.pathname===h.href?"text-primary-cyan":""}
                  `,whileHover:{scale:1.05},transition:{duration:.2},children:[f.jsx("span",{children:h.name}),h.submenu&&f.jsx(z.div,{animate:{rotate:i===p?180:0},transition:{duration:.2},children:f.jsx(tA,{size:14})})]}),f.jsx(Op,{children:h.submenu&&i===p&&f.jsx(z.div,{className:"absolute top-full left-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-100 overflow-hidden",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:h.submenu.map((m,y)=>f.jsx(z.button,{onClick:()=>c(m.href,m.isRoute),className:`
                            w-full text-left px-4 py-2 text-sm 
                            hover:bg-gray-50 hover:text-primary-cyan transition-colors duration-200
                            ${o.pathname===m.href?"text-primary-cyan bg-gray-50":"text-black"}
                          `,initial:{opacity:0},animate:{opacity:1},transition:{delay:y*.05},children:m.name},m.name))})})]},h.name))}),f.jsxs("div",{className:"flex items-center flex-shrink-0 space-x-4 ml-auto",children:[f.jsx(z.button,{onClick:()=>a("/donate"),className:"hidden md:inline-block bg-primary-cyan text-white px-6 py-2 rounded-lg font-medium hover:bg-primary-cyan/90 transition-colors duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Donate Now"}),f.jsx(z.button,{onClick:()=>s(h=>!h),className:`
                md:hidden p-2 rounded-md transition-colors duration-300
                text-primary-gray
              `,whileTap:{scale:.95},children:t?f.jsx(Zx,{size:24}):f.jsx(FI,{size:24})})]})]}),f.jsx(z.div,{className:`md:hidden overflow-hidden ${t?"block":"hidden"}`,initial:{height:0,opacity:0},animate:{height:t?"auto":0,opacity:t?1:0},transition:{duration:.3},children:f.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-white/95 backdrop-blur-md rounded-lg mt-2",children:[l.map((h,p)=>f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>{h.href==="#"?r(m=>m===p?null:p):h.isRoute?a(h.href):h.href&&h.href!=="#"&&d(h.href)},className:`
                    flex items-center justify-between w-full px-3 py-2 
                    font-medium hover:text-primary-cyan hover:bg-primary-cyan/10 rounded-md 
                    transition-colors duration-300
                    ${o.pathname===h.href?"text-primary-cyan bg-primary-cyan/10":"text-primary-gray"}
                  `,children:[f.jsx("span",{children:h.name}),h.submenu&&f.jsx(z.div,{animate:{rotate:i===p?180:0},transition:{duration:.2},children:f.jsx(tA,{size:14})})]}),f.jsx(Op,{children:h.submenu&&i===p&&f.jsx(z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden ml-4",children:h.submenu.map(m=>f.jsx("button",{onClick:()=>c(m.href,m.isRoute),className:`
                            block w-full px-3 py-2 text-sm 
                            hover:text-primary-cyan rounded-md transition-colors duration-300
                            ${o.pathname===m.href?"text-primary-cyan bg-gray-50":"text-gray-600"}
                          `,children:m.name},m.name))})})]},h.name)),f.jsx("button",{onClick:()=>a("/donate"),className:"block w-full px-3 py-2 bg-primary-cyan text-white font-medium rounded-md hover:bg-primary-cyan/90 transition-colors duration-300",children:"Donate Now"})]})})]})})},XI="/canopy-website/assets/hero-BA7B76Xp.png",qI=()=>f.jsxs("section",{id:"home",className:"relative h-screen flex items-center justify-center overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 mt-14 ",children:f.jsx("img",{src:XI,alt:"Hero",className:"w-full h-full object-contain"})}),f.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:f.jsx(z.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-12",children:f.jsxs(z.h1,{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white leading-tight",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[f.jsx("span",{className:"text-primary-orange",children:"Reshaping"})," Education"]})})})]});var tv=new Map,pf=new WeakMap,nA=0,YI=void 0;function QI(n){return n?(pf.has(n)||(nA+=1,pf.set(n,nA.toString())),pf.get(n)):"0"}function JI(n){return Object.keys(n).sort().filter(e=>n[e]!==void 0).map(e=>`${e}_${e==="root"?QI(n.root):n[e]}`).toString()}function ZI(n){const e=JI(n);let t=tv.get(e);if(!t){const s=new Map;let i;const r=new IntersectionObserver(a=>{a.forEach(o=>{var l;const c=o.isIntersecting&&i.some(d=>o.intersectionRatio>=d);n.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=c),(l=s.get(o.target))==null||l.forEach(d=>{d(c,o)})})},n);i=r.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:r,elements:s},tv.set(e,t)}return t}function eF(n,e,t={},s=YI){if(typeof window.IntersectionObserver>"u"&&s!==void 0){const l=n.getBoundingClientRect();return e(s,{isIntersecting:s,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:r,elements:a}=ZI(t),o=a.get(n)||[];return a.has(n)||a.set(n,o),o.push(e),r.observe(n),function(){o.splice(o.indexOf(e),1),o.length===0&&(a.delete(n),r.unobserve(n)),a.size===0&&(r.disconnect(),tv.delete(i))}}function ew({threshold:n,delay:e,trackVisibility:t,rootMargin:s,root:i,triggerOnce:r,skip:a,initialInView:o,fallbackInView:l,onChange:c}={}){var d;const[h,p]=T.useState(null),m=T.useRef(c),[y,x]=T.useState({inView:!!o,entry:void 0});m.current=c,T.useEffect(()=>{if(a||!h)return;let w;return w=eF(h,(C,_)=>{x({inView:C,entry:_}),m.current&&m.current(C,_),_.isIntersecting&&r&&w&&(w(),w=void 0)},{root:i,rootMargin:s,threshold:n,trackVisibility:t,delay:e},l),()=>{w&&w()}},[Array.isArray(n)?n.toString():n,h,i,s,r,a,t,l,e]);const S=(d=y.entry)==null?void 0:d.target,g=T.useRef(void 0);!h&&S&&!r&&!a&&g.current!==S&&(g.current=S,x({inView:!!o,entry:void 0}));const v=[p,y.inView,y.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}const tF=({end:n,duration:e=2e3,suffix:t="",prefix:s=""})=>{const[i,r]=T.useState(0),{ref:a,inView:o,entry:l}=ew({threshold:.3,triggerOnce:!0});return T.useEffect(()=>{if(o){let c,d;const h=p=>{c||(c=p);const m=Math.min((p-c)/e,1);r(Math.floor(m*n)),m<1&&(d=requestAnimationFrame(h))};return d=requestAnimationFrame(h),()=>{d&&cancelAnimationFrame(d)}}},[o,n,e]),f.jsxs("span",{ref:a,children:[s,i.toLocaleString(),t]})},nF=()=>{const[n,e]=ew({threshold:.3,triggerOnce:!0}),t=[{icon:CI,value:21e3,suffix:"+",title:"Students worked with",color:"text-primary-blue"},{icon:zI,title:"Scholarships Awarded",value:227,color:"text-primary-cyan"},{icon:MI,title:"Schools Reached",value:245,color:"text-primary-orange"},{icon:jI,title:"Sessions Conducted",value:2500,suffix:"+",color:"text-primary-red"},{icon:TI,title:"millions Funds Raised",value:1.2,color:"text-primary-red"},{icon:RI,title:"Curriculum Adapted By XXX Governments/ Municipalities",value:7,color:"text-primary-red"}];return f.jsx("section",{id:"impact",className:"bg-gray-50",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs(z.div,{ref:n,initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},className:"text-center mb-16",children:[f.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-primary-gray mb-6",children:["Our Work ",f.jsx("span",{className:"text-primary-cyan",children:"in Numbers"})]}),f.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Through dedicated programs and community partnerships, we're creating lasting change across Nepal's most underserved regions."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-20",children:t.map((s,i)=>f.jsxs(z.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.6,delay:i*.1},className:"bg-primary-gray/20 rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow duration-300 text-center group hover:-translate-y-2 transform transition-transform",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(s.icon,{className:`w-8 h-8 ${s.color}`})}),f.jsx("div",{className:"text-3xl font-bold text-primary-gray mb-2",children:f.jsx(tF,{end:s.value,suffix:s.suffix})}),f.jsx("h3",{className:"text-lg font-semibold text-primary-gray mb-2",children:s.title})]},s.title))})]})})},sF="/canopy-website/assets/l2-D6SL5BJg.png",iF=()=>{const[n,e]=ew({threshold:.3,triggerOnce:!0});return f.jsx("section",{id:"about",className:"py-16 bg-gray-50",children:f.jsxs("div",{className:"mx-auto sm:px-6 ",children:[f.jsx(z.div,{ref:n,initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},className:"text-center mb-12",children:f.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary-gray",children:f.jsx("span",{className:"text-primary-red",children:"What We Do"})})}),f.jsxs(z.div,{ref:n,initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.8,delay:.2},className:"flex flex-col md:flex-row overflow-hidden",children:[f.jsx("img",{src:sF,alt:"what-we-do-image",className:"w-full md:w-1/2 object-cover"}),f.jsxs("div",{className:"w-full md:w-1/2 bg-gray-50 text-primary-gray p-8 text-xl flex flex-col justify-center",children:[f.jsx("p",{className:"text-black leading-relaxed",children:"Canopy Nepal is working to improve access to quality education for underserved students across Nepal. We provide long-term scholarships and deliver story-based learning in public schools to reduce drop out rates and break cycles of poverty."}),f.jsx("br",{}),f.jsx("p",{className:"text-black leading-relaxed",children:"By combining academic support with creativity, mentorship, and collaboration with local governments, we help students stay in school, build critical life skills, and shape their own futures."}),f.jsx("button",{onClick:()=>{},className:"mt-8 w-1/4 bg-primary-cyan text-white px-6 py-2 rounded-xl font-medium hover:bg-primary-red/90 transition-colors duration-300",children:"Our Work"})]})]})]})})},rF=()=>{const n={"About Us":["Our Mission","Our Team","Annual Reports","Partnerships","Careers"],Programs:["Education","Healthcare","Skills Training","Women Empowerment","Infrastructure"],"Get Involved":["Donate","Volunteer","Fundraise","Corporate Partnership","Newsletter"],Resources:["Impact Stories","News & Updates","Research","FAQs","Contact Us"]},e=[{icon:NI,href:"#",label:"Facebook"},{icon:UI,href:"#",label:"Twitter"},{icon:LI,href:"#",label:"Instagram"},{icon:HI,href:"#",label:"YouTube"}];return f.jsx("footer",{className:"bg-primary-gray text-white",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2",children:[f.jsxs(z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center space-x-2 mb-6",children:[f.jsx(VI,{className:"h-8 w-8 text-primary-cyan"}),f.jsx("span",{className:"text-2xl font-bold",children:"Canopy Nepal"})]}),f.jsx(z.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-gray-300 mb-6 leading-relaxed",children:"Transforming lives in Nepal through sustainable education, healthcare, and community development programs. Together, we're building a brighter future."}),f.jsxs(z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(DI,{className:"w-5 h-5 text-primary-cyan"}),f.jsx("span",{className:"text-gray-300",children:"info@canopynepal.com"})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(OI,{className:"w-5 h-5 text-primary-cyan"}),f.jsx("span",{className:"text-gray-300",children:"+977 1-234-5678"})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(II,{className:"w-5 h-5 text-primary-cyan"}),f.jsx("span",{className:"text-gray-300",children:"Kathmandu, Nepal"})]})]})]}),Object.entries(n).map(([t,s],i)=>f.jsxs(z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*(i+3)},children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),f.jsx("ul",{className:"space-y-2",children:s.map(r=>f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-300 hover:text-primary-cyan transition-colors duration-300",children:r})},r))})]},t))]}),f.jsx(z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mt-12 pt-8 border-t border-gray-600",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[f.jsxs("div",{className:"mb-6 md:mb-0",children:[f.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Stay Updated"}),f.jsx("p",{className:"text-gray-300",children:"Get the latest news and impact stories delivered to your inbox."})]}),f.jsxs("div",{className:"flex w-full md:w-auto",children:[f.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 md:w-64 px-4 py-3 bg-gray-700 border border-gray-600 rounded-l-xl focus:outline-none focus:ring-2 focus:ring-primary-cyan focus:border-transparent text-white placeholder-gray-400"}),f.jsx(z.button,{className:"px-6 py-3 bg-primary-cyan text-white rounded-r-xl font-medium hover:bg-primary-cyan/90 transition-colors duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Subscribe"})]})]})}),f.jsxs(z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mt-8 pt-8 border-t border-gray-600 flex flex-col md:flex-row items-center justify-between",children:[f.jsx("div",{className:"flex space-x-6 mb-4 md:mb-0",children:e.map(({icon:t,href:s,label:i})=>f.jsx(z.a,{href:s,className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center hover:bg-primary-cyan transition-colors duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":i,children:f.jsx(t,{className:"w-5 h-5"})},i))}),f.jsxs("div",{className:"text-center md:text-right",children:[f.jsx("p",{className:"text-gray-300 mb-2",children:" 2024 Canopy Nepal. All rights reserved."}),f.jsxs("div",{className:"flex flex-wrap justify-center md:justify-end space-x-4 text-sm",children:[f.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary-cyan transition-colors duration-300",children:"Privacy Policy"}),f.jsx("span",{className:"text-gray-500",children:""}),f.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary-cyan transition-colors duration-300",children:"Terms of Service"}),f.jsx("span",{className:"text-gray-500",children:""}),f.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary-cyan transition-colors duration-300",children:"Cookie Policy"})]})]})]})]})})},aF=()=>f.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative mb-24",children:[f.jsx(z.div,{animate:{y:[-8,8,-8]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-10 right-20 w-3 h-3 bg-orange-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[10,-10,10]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-20 left-16 w-2 h-2 bg-green-400 rounded-full opacity-50"}),f.jsx(z.div,{animate:{y:[-6,6,-6]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute top-32 left-10 w-2 h-2 bg-blue-400 rounded-full opacity-45"}),f.jsx(z.div,{animate:{y:[12,-12,12]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-20 left-1/3 w-2.5 h-2.5 bg-red-400 rounded-full opacity-35"}),f.jsx(z.div,{animate:{y:[-10,10,-10]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:1.5},className:"absolute bottom-32 right-32 w-3 h-3 bg-yellow-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[8,-8,8]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:.8},className:"absolute top-40 right-1/4 w-2 h-2 bg-purple-400 rounded-full opacity-30"}),f.jsx(z.div,{animate:{y:[-14,14,-14]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:2.5},className:"absolute bottom-40 left-1/4 w-2.5 h-2.5 bg-pink-400 rounded-full opacity-45"}),f.jsx(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center space-y-6",children:f.jsx("div",{className:"space-y-1",children:f.jsx(z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},className:"inline-block",children:f.jsxs("p",{className:"text-2xl text-gray-700",children:["In Nepal,",f.jsx("span",{className:"text-4xl md:text-4xl font-black text-primary-orangered",children:" 73% "}),"of students drop out before completing secondary school  due to cost and poor-quality education.",f.jsx("span",{className:"text-3xl md:text-3xl font-black text-primary-red",children:"  Canopy Nepal is changing that. "}),f.jsx("br",{}),f.jsx("br",{}),"Canopy Nepal empowers students to stay in school and thrive by combining scholarships with creative, story-based learning that builds confidence, critical thinking, and lifelong skills.",f.jsx("br",{}),f.jsx("br",{}),"With Canopy, students dont just stay in school.  ",f.jsx("span",{className:"text-4xl md:text-4xl font-black text-primary-red",children:"100% "})," remain motivated, supported, and on track to graduate, and with local governments adapting our curriculum, our impact is sustainable and systemic."]})})})})]}),oF="/canopy-website/assets/tg-D0X4R9ht.png",lF="/canopy-website/assets/tg1-CR4wiIai.png",cF="/canopy-website/assets/tg2-DqdbvBCm.png",uF=()=>{const[n,e]=T.useState(0),[t,s]=T.useState(!1),i=[{id:1,text:"I never knew imagining my own story with new characters and plot of my choice would be possible before Canopy's session. I always had a difficult time expressing myself to my teachers and in exams. But, after Katha Bunaun, not only have I learned how to write my own story but also communicate with others.",image:oF},{id:2,text:"My daughter was about to leave school because I simply couldn't afford it anymore. As a father, it broke my heart but there was nothing I could do. But then Canopy stepped in and helped her stay in school. Now, she's not only in school, she's talking about becoming a banker! She tells me she'll earn enough so I don't have to worry anymore.",image:cF},{id:3,text:"What stands out the most about Canopy Nepal is the compassion, dedication, and professionalism of every person involved with the organization. We all share the belief that education is the key to empowering children, families, and communities to break free from the cycle of poverty and pursue a brighter future. Thanks to the Canopy team we see stories every day of how this belief is in action.",image:lF}];T.useEffect(()=>{if(t)return;const l=setInterval(()=>{e(c=>(c+1)%i.length)},5e3);return()=>clearInterval(l)},[i.length,t]);const r=l=>{e(l)},a=()=>{e(l=>(l+1)%i.length)},o=()=>{e(l=>(l-1+i.length)%i.length)};return f.jsxs("section",{className:"relative w-full overflow-hidden h-96 sm:h-[500px] lg:h-[600px] xl:h-[700px]",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[i.map((l,c)=>f.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ease-in-out ${c===n?"opacity-100":"opacity-0"}`,children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${l.image})`}}),f.jsx("div",{className:"absolute inset-0 bg-black/30"})]},l.id)),f.jsx("div",{className:"relative z-10 flex h-full items-center justify-start px-4 sm:px-6 lg:px-8",children:f.jsx("div",{className:`w-full flex ${n===1?"flex-row":"flex-row-reverse"}`,children:f.jsx("div",{className:`w-full max-w-4xl ${n===1?"text-left mr-auto pl-0 lg:pl-20":"text-right ml-auto pr-0 lg:pr-20"}`,children:f.jsxs("blockquote",{className:"text-lg text-white font-light sm:text-2xl lg:text-3xl",children:['"',i[n].text,'"']})})})}),f.jsx("div",{className:"absolute left-6 top-1/2 z-20 -translate-y-1/2",children:f.jsx("button",{onClick:o,className:"group rounded-full bg-white/20 p-3 backdrop-blur-sm transition-all duration-300 hover:bg-white/30","aria-label":"Previous testimonial",children:f.jsx(O_,{className:"h-6 w-6 text-white transition-transform group-hover:scale-110"})})}),f.jsx("div",{className:"absolute right-6 top-1/2 z-20 -translate-y-1/2",children:f.jsx("button",{onClick:a,className:"group rounded-full bg-white/20 p-3 backdrop-blur-sm transition-all duration-300 hover:bg-white/30","aria-label":"Next testimonial",children:f.jsx(B_,{className:"h-6 w-6 text-white transition-transform group-hover:scale-110"})})}),f.jsx("div",{className:"absolute bottom-8 left-1/2 z-20 flex -translate-x-1/2 space-x-3",children:i.map((l,c)=>f.jsx("button",{onClick:()=>r(c),className:`h-3 w-3 rounded-full transition-all duration-300 ${c===n?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to testimonial ${c+1}`},c))}),f.jsx("div",{className:"absolute bottom-0 left-0 z-20 h-1 w-full bg-white/20",children:f.jsx("div",{className:"h-full bg-white transition-all duration-300 ease-linear",style:{width:`${(n+1)/i.length*100}%`}})})]})},dF=()=>f.jsx("section",{className:"bg-#eeeeee py-8",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[f.jsx("h2",{className:"text-neutral-900 text-lg font-semibold uppercase tracking-wider mb-8",children:"SUPPORT US"}),f.jsx("div",{className:"mb-12",children:f.jsxs("h3",{className:"text-neutral-900 text-4xl md:text-5xl lg:text-6xl font-bold mb-8 leading-tight",children:[f.jsx("span",{className:"text-primary-red",children:"73%"})," of students are out of school and stuck in cycles of ",f.jsx("span",{className:"text-primary-orange",children:"generational poverty"})]})}),f.jsx("p",{className:"text-neutral-900 text-xl md:text-2xl font-medium mb-12 leading-relaxed",children:"Our work to reduce the drop out rate needs your support. You can help by providing support to child's education, school sessions, or operational cost."}),f.jsxs("button",{className:"group bg-primary-orange hover:bg-primary-red text-white text-xl font-bold py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105 flex items-center gap-3 mx-auto",children:["Donate Now",f.jsx(EI,{className:"w-6 h-6 transition-transform group-hover:translate-x-1"})]})]})}),hF="/canopy-website/assets/l3-DL12SoWQ.png",fF=()=>f.jsxs("section",{className:"bg-primary-gray/5 py-4 lg:py-8",children:[f.jsx("div",{className:"max-w-6xl mx-auto px-6",children:f.jsx("div",{className:"text-center",children:f.jsx("h2",{className:"text-4xl md:text-5xl text-primary-red font-bold",children:"We Are Thankful To"})})}),f.jsx("div",{className:"w-full overflow-hidden px-16 -mt-24 -mb-24",children:f.jsx("img",{src:hF,alt:"Canopy Nepal Partners - including Nepal Government, Harvard Kennedy School, hundredED, NCEP, Alaya, International Literacy Learning, Friends of Nepal Adelaide, Milken Penn GSE, International Literacy Association, US Embassy Youth Council, UN Women Asia Pacific, Global Citizen, World Literacy Foundation, Little Big Fund, and YO",className:"w-full h-auto"})})]}),pF="/canopy-website/assets/hi-B9mccGx2.png",mF="/canopy-website/assets/hk-h9EHtADy.png",gF="/canopy-website/assets/hun-Y1hCrKi4.png",yF="/canopy-website/assets/ila-gFbFCJsZ.png",vF="/canopy-website/assets/ktmp-oXGp5-5_.png",xF="/canopy-website/assets/mit-B_37LLHm.png",wF="/canopy-website/assets/res-CH_EVpX6.png",bF="/canopy-website/assets/wef-CCGJ66KQ.png",AF=()=>{const n=[{src:pF,alt:"Harvard Innovation Lab"},{src:mF,alt:"Harvard Kennedy School"},{src:gF,alt:"HundrED"},{src:yF,alt:"International Literacy Association"},{src:vF,alt:"The Kathmandu Post"},{src:xF,alt:"MIT Solve"},{src:wF,alt:"Resolution Project"},{src:bF,alt:"World Economic Forum"}];return f.jsxs("section",{className:"bg-white py-12 overflow-hidden",children:[f.jsxs("div",{className:"w-full text-center relative overflow-hidden pt-5",children:[f.jsx("div",{className:"absolute inset-0 opacity-5",children:f.jsx("div",{className:"grid grid-cols-8 h-full",children:[...Array(32)].map((e,t)=>f.jsx("div",{className:"border border-white"},t))})}),f.jsx("div",{className:"relative z-10",children:f.jsx("h3",{className:"text-primary-orange text-2xl md:text-3xl lg:text-4xl font-bold mb-2 tracking-wide",children:"Featured In"})})]}),f.jsx("div",{className:"w-full overflow-hidden py-8",children:f.jsxs("div",{className:"flex items-center animate-infinite-scroll",children:[n.map((e,t)=>f.jsx("div",{className:"flex-shrink-0 mx-8 md:mx-12",children:f.jsx("img",{src:e.src,alt:e.alt,className:"h-16 md:h-24 object-contain",loading:"lazy"})},`first-${t}`)),n.map((e,t)=>f.jsx("div",{className:"flex-shrink-0 mx-8 md:mx-12",children:f.jsx("img",{src:e.src,alt:e.alt,className:"h-16 md:h-24 object-contain",loading:"lazy"})},`second-${t}`)),n.map((e,t)=>f.jsx("div",{className:"flex-shrink-0 mx-8 md:mx-12",children:f.jsx("img",{src:e.src,alt:e.alt,className:"h-16 md:h-24 object-contain",loading:"lazy"})},`third-${t}`))]})}),f.jsx("div",{className:"max-w-6xl mx-auto px-6 flex flex-col items-center text-center mt-8 mb-4",children:f.jsxs("button",{className:"inline-flex items-center bg-primary-orange text-white px-4 py-2 text-lg rounded-lg font-bold hover:bg-primary-red transition-all duration-300 hover:shadow-lg",onClick:()=>{},children:["Read More",f.jsx("svg",{className:"w-5 h-5 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),f.jsx("style",{children:`
        @keyframes infinite-scroll {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-33.33%);
          }
        }

        .animate-infinite-scroll {
          animation: infinite-scroll 40s linear infinite;
          width: max-content;
        }

        /* Ensure smooth performance */
        .animate-infinite-scroll {
          will-change: transform;
          backface-visibility: hidden;
          perspective: 1000px;
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
          .animate-infinite-scroll {
            animation-duration: 30s;
          }
        }

        /* Reduced motion preference */
        @media (prefers-reduced-motion: reduce) {
          .animate-infinite-scroll {
            animation: none;
          }
          .animate-infinite-scroll {
            overflow-x: auto;
            scroll-snap-type: x mandatory;
          }
          .animate-infinite-scroll > div {
            scroll-snap-align: center;
          }
        }
      `})]})},SF="/canopy-website/assets/oos-C0ySdRBH.png",EF="/canopy-website/assets/os2-C3HrzxCY.jpg",CF=()=>f.jsxs("div",{className:"bg-gray-50 text-gray-800 mt-28",children:[f.jsx("div",{className:"mb-0",children:f.jsx("img",{src:SF,alt:"Group of students with balloons",className:"w-full h-auto object-contain block"})}),f.jsxs("div",{className:"relative w-full mx-auto px-6 pt-8 pb-8 text-center bg-gray-50 lg:mt-0 overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[f.jsx("div",{className:"absolute top-20 right-10 w-32 h-32 bg-orange-500/10 rounded-full blur-2xl"}),f.jsx("div",{className:"absolute bottom-32 left-16 w-40 h-40 bg-orange-600/8 rounded-full blur-3xl"}),f.jsx("div",{className:"absolute top-40 left-10 w-20 h-20 bg-red-400/12 rounded-full blur-xl"}),f.jsx("div",{className:"absolute bottom-16 right-20 w-24 h-24 bg-red-500/10 rounded-full blur-2xl"}),f.jsx("div",{className:"absolute top-60 right-1/3 w-28 h-28 bg-cyan-400/8 rounded-full blur-2xl"}),f.jsx("div",{className:"absolute bottom-40 left-1/4 w-36 h-36 bg-cyan-300/6 rounded-full blur-3xl"}),f.jsx(z.div,{animate:{y:[-8,8,-8]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-32 right-20 w-3 h-3 bg-orange-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[10,-10,10]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute top-96 left-16 w-2 h-2 bg-green-400 rounded-full opacity-50"}),f.jsx(z.div,{animate:{y:[-6,6,-6]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute top-48 left-10 w-2 h-2 bg-blue-400 rounded-full opacity-45"}),f.jsx(z.div,{animate:{y:[12,-12,12]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-24 left-1/3 w-2.5 h-2.5 bg-red-400 rounded-full opacity-35"}),f.jsx(z.div,{animate:{y:[-10,10,-10]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:1.5},className:"absolute top-80 right-32 w-3 h-3 bg-yellow-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[8,-8,8]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:.8},className:"absolute top-64 right-1/4 w-2 h-2 bg-purple-400 rounded-full opacity-30"}),f.jsx(z.div,{animate:{y:[-14,14,-14]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:2.5},className:"absolute bottom-40 left-1/4 w-2.5 h-2.5 bg-pink-400 rounded-full opacity-45"}),f.jsx(z.div,{animate:{y:[-12,12,-12]},transition:{duration:5.2,repeat:1/0,ease:"easeInOut",delay:3},className:"absolute top-16 right-1/2 w-2 h-2 bg-orange-500 rounded-full opacity-35"}),f.jsx(z.div,{animate:{y:[15,-15,15]},transition:{duration:6.5,repeat:1/0,ease:"easeInOut",delay:1.8},className:"absolute bottom-28 right-16 w-2.5 h-2.5 bg-cyan-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[-7,7,-7]},transition:{duration:4.2,repeat:1/0,ease:"easeInOut",delay:.3},className:"absolute top-72 right-12 w-2 h-2 bg-indigo-400 rounded-full opacity-35"}),f.jsx(z.div,{animate:{y:[9,-9,9]},transition:{duration:3.8,repeat:1/0,ease:"easeInOut",delay:2.2},className:"absolute bottom-16 left-8 w-2 h-2 bg-emerald-400 rounded-full opacity-45"}),f.jsx(z.div,{animate:{y:[-11,11,-11]},transition:{duration:5.8,repeat:1/0,ease:"easeInOut",delay:1.2},className:"absolute top-40 right-2/3 w-2.5 h-2.5 bg-amber-400 rounded-full opacity-38"}),f.jsx(z.div,{animate:{y:[13,-13,13]},transition:{duration:6.2,repeat:1/0,ease:"easeInOut",delay:.7},className:"absolute bottom-36 left-1/3 w-2 h-2 bg-rose-400 rounded-full opacity-42"}),f.jsx(z.div,{animate:{y:[-9,9,-9]},transition:{duration:4.8,repeat:1/0,ease:"easeInOut",delay:3.5},className:"absolute top-56 left-20 w-2 h-2 bg-teal-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[-5,5,-5]},transition:{duration:4.3,repeat:1/0,ease:"easeInOut",delay:1.1},className:"absolute top-36 left-3/4 w-2 h-2 bg-lime-400 rounded-full opacity-35"}),f.jsx(z.div,{animate:{y:[11,-11,11]},transition:{duration:5.7,repeat:1/0,ease:"easeInOut",delay:2.8},className:"absolute bottom-52 right-1/3 w-2.5 h-2.5 bg-violet-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[-8,8,-8]},transition:{duration:3.9,repeat:1/0,ease:"easeInOut",delay:.9},className:"absolute top-88 left-2/3 w-2 h-2 bg-sky-400 rounded-full opacity-45"}),f.jsx(z.div,{animate:{y:[6,-6,6]},transition:{duration:4.6,repeat:1/0,ease:"easeInOut",delay:1.4},className:"absolute top-44 left-4 w-2 h-2 bg-emerald-500 rounded-full opacity-35"}),f.jsx(z.div,{animate:{y:[-10,10,-10]},transition:{duration:5.3,repeat:1/0,ease:"easeInOut",delay:2.1},className:"absolute top-68 right-4 w-2 h-2 bg-fuchsia-400 rounded-full opacity-40"})]}),f.jsx("div",{className:"relative z-10",children:f.jsxs("div",{className:"space-y-4 text-xl leading-relaxed text-justify text-gray-700  max-w-4xl mx-auto",children:[f.jsx("p",{className:"font-bold text-2xl text-center text-primary-red",children:"Canopy Nepal didn't begin with a perfect plan. It began with frustration!"}),f.jsx("p",{children:"Our founder, Mohit Rauniyar, grew up in a school system that didn't allow him to question, create, or think critically. Classrooms were rigid and memorization was rewarded. Creativity was treated like a distraction. That frustration stayed with him, not as resentment, but as fuel."}),f.jsx("p",{children:"In 2010, while working with the Nepal Children's Education Project (NCEP), Mohit saw firsthand how deep the crisis went. Public schools were overcrowded, under-resourced, and often inaccessible to the very children who needed them most. He began to understand the scale of the challenge, how access was only half the battle."}),f.jsx("p",{children:"By 2012, he joined the Bloom Nepal School as a teacher, working to build a school where learning was joyful and curiosity led the way. Those five years taught him something critical: even the best schools couldn't fix the system alone. If Nepal's education system was to change, it had to be done from the ground up and from the top down."}),f.jsx("p",{children:"So in 2015, Canopy Nepal was born, built on the belief that true educational equity means giving every child not just a seat in the classroom, but a reason to stay. Canopy combined scholarships to increase access with a bold idea: story-based learning that brings education to life and puts students at the center of their narrative. Education platforms, NCEP and Bloom, where Mohit started his educator journey from, are now some of Canopy's biggest partners."}),f.jsx("p",{className:"font-medium text-gray-800",children:"For Mohit, it was never just about fixing the system; it was about building the kind of education he wished he had."})]})})]}),f.jsx("div",{children:f.jsx("img",{src:EF,alt:"Mohit Rauniyar speaking",className:"w-full h-[70vh] object-cover"})}),f.jsx("style",{children:`
        /* Clean, minimal styles only */
      `})]}),_F="/canopy-website/assets/mv0-Bsd90ABI.png",TF="/canopy-website/assets/mv1-DxNtMXYF.png",kF="/canopy-website/assets/mv2-BfCy-0GD.png",NF=()=>f.jsxs("div",{className:"bg-gray-50 text-gray-800 mt-28",children:[f.jsxs("div",{className:"relative w-full overflow-hidden",children:[f.jsx("div",{className:"relative",children:f.jsx("img",{src:_F,alt:"Smiling student in classroom",className:"w-full h-80 lg:h-96 object-cover"})}),f.jsx("div",{className:"text-center px-6 max-w-5xl mx-auto mt-8",children:f.jsx("p",{className:"text-3xl md:text-3xl leading-relaxed font-extrabold text-primary-blue",children:"With more than 73% of students not completing upper secondary education, we're reshaping the education system to ensure all students complete education."})})]}),f.jsxs("div",{className:"relative w-full overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 pointer-events-none z-10",children:[f.jsx(z.div,{animate:{y:[-8,8,-8]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-10 right-20 w-3 h-3 bg-orange-400 rounded-full opacity-30"}),f.jsx(z.div,{animate:{y:[10,-10,10]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-20 left-16 w-2 h-2 bg-blue-400 rounded-full opacity-40"}),f.jsx(z.div,{animate:{y:[-6,6,-6]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute top-32 left-10 w-2 h-2 bg-green-400 rounded-full opacity-35"})]}),f.jsx("div",{className:"w-full mt-8",children:f.jsx("img",{src:TF,alt:"Student studying",className:"w-full h-96 object-cover"})}),f.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8 text-center",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-8 text-primary-red",children:"Why Education?"}),f.jsx("p",{className:"text-2xl leading-relaxed text-gray-700 max-w-4xl mx-auto",children:"In Nepal, only 27% of students complete the upper secondary level, and the rest 73% drop out before their final year because of affordability and poor-quality schooling (UNICEF, 2022). The students impacted are disproportionately low-income, perpetuating the cycle of poverty by hindering their opportunities to become financially and socially independent (Devkota & Bagale, 2015)."})]})]}),f.jsxs("div",{className:"relative w-full py-8 overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[f.jsx(z.div,{animate:{y:[-12,12,-12]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-24 left-1/4 w-2.5 h-2.5 bg-red-400 rounded-full opacity-25"}),f.jsx(z.div,{animate:{y:[8,-8,8]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:1.5},className:"absolute bottom-32 right-1/3 w-3 h-3 bg-cyan-400 rounded-full opacity-30"})]}),f.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-8 text-primary-red",children:"Our Mission"}),f.jsx("p",{className:"text-2xl leading-relaxed text-gray-700 mb-8",children:"Canopy Nepal empowers underserved students to stay in school and thrive by combining scholarships with story-based learning that nurtures confidence, critical thinking, and lifelong skills. Through inclusive education and strategic government partnerships, we reduce dropout rates, break cycles of generational poverty, and build a future shaped by empowered thinkers and doers."})]})]}),f.jsxs("div",{className:"relative w-full overflow-hidden",children:[f.jsxs("div",{className:"max-w-4xl mx-auto px-6 pb-8 text-center",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-8 text-primary-red",children:"Our Vision"}),f.jsx("p",{className:"text-2xl leading-relaxed text-gray-700",children:"We envision a Nepal where every child, regardless of background, has access to quality education, the freedom to express themselves, and the tools to shape their own future."})]}),f.jsxs("div",{className:"relative w-full",children:[f.jsx("img",{src:kF,alt:"Group of happy students",className:"w-full h-96 lg:h-[500px] object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full",children:f.jsx("div",{className:"max-w-5xl mx-auto px-6 text-center",children:f.jsx("div",{className:"bg-white/10 rounded-2xl p-8 border border-white/20",children:f.jsx("p",{className:"text-xl md:text-2xl font-semibold leading-relaxed text-white",children:"By 2030, we aim to reach over half a million students and integrate story-based learning into classrooms across Nepal, making storytelling a foundational part of how children learn, grow, and connect."})})})})})]})]})]}),PF="/canopy-website/assets/Siddhartha-BGRB7XYH.png",RF="/canopy-website/assets/Anusuya-z2wi0HNk.png",jF="/canopy-website/assets/Pratima-dNg8ofqX.png",tw="/canopy-website/assets/Mohit-fkKpBvok.png",nw="/canopy-website/assets/Monal-Mfp8qpQw.png",Me="/canopy-website/assets/Angirash-COWkOsmJ.png",MF="/canopy-website/assets/Anjula-HQsBfb8I.png",LF="/canopy-website/assets/Monika-6cVZEgo0.png",DF="/canopy-website/assets/Wangmo-WjD8o559.png",IF="/canopy-website/assets/Yamuna-DaSUlFqe.png",FF="/canopy-website/assets/Raghav-DAhLjtAr.png",OF="/canopy-website/assets/Tanisha-DDLqQdqk.png",BF=()=>{const[n,e]=T.useState("CORE TEAM"),t=["CORE TEAM","FACILATORS AND FIELD VOLUNTEERS","VOLUNTEERS"],s=[{id:1,name:"Mohit Rauniyar",title:"Founder",category:"CORE TEAM",image:tw,description:"Established Canopy Nepal and leads its global vision, actively overseeing international chapters in the USA and France while driving strategic fundraising to expand impact and ensure long-term sustainability.",linkedin:"https://www.linkedin.com/in/mohitrauniyar/"},{id:2,name:"Monal Bhattarai",title:"Managing Director",category:"CORE TEAM",image:nw,description:"Leads Canopy's vision, partnerships, and fundraising strategysteering growth, building global relationships, and amplifying the organization's voice through thought leadership, board support, and international representation.",linkedin:"http://www.linkedin.com/in/monal-bhattarai-bb3261194"},{id:3,name:"Angirash Karki",title:"Executive Director",category:"CORE TEAM",image:Me,description:"Ensures Canopy operates smoothly by overseeing compliance, HR, finance, and risk management while building strong government partnerships and driving internal systems for staff performance and operational excellence.",linkedin:"https://www.linkedin.com/in/angirash-karki/"},{id:4,name:"Pratima Wosti",title:"Finance & Legal Officer",category:"CORE TEAM",image:jF,description:"Manages budgets, payments, and reports, ensuring Canopy's financial integrity with timely reconciliations, audit readiness, and clear communication of budget performance across all departments and proposals.",linkedin:"https://www.linkedin.com/in/pratima-wosti-005b72239/"},{id:5,name:"Anjula Joshi",title:"Program Coordinator",category:"CORE TEAM",image:MF,description:"Oversees the execution of Katha Bunaun and CANSHIP programs, ensuring sessions run smoothly, logistics are managed, and participants' feedback and program data are regularly reviewed and reported.",linkedin:"https://www.linkedin.com/in/anjula-joshi-she-her-352974217/"},{id:6,name:"Tanisha Agarwal",title:"Development Assistant",category:"CORE TEAM",image:OF,description:"Drives fundraising efforts by writing grant proposals, managing donor communications, organizing campaigns, and aligning program and finance teams to secure funding and report impact.",linkedin:"https://www.linkedin.com/in/tanisha-agarwal-a65585240/"},{id:7,name:"Wangmo Lama",title:"Communication Officer",category:"CORE TEAM",image:DF,description:"Leads Canopy's digital storytelling and branding, managing content creation, press outreach, and engagement strategies to increase visibility, share success stories, and build a strong online presence.",linkedin:"https://www.linkedin.com/in/wangmo-lama-b08688273/"},{id:8,name:"Abhishek Pradhan",title:"Monitoring and Evaluation Trainee",category:"CORE TEAM",image:Me,description:"Tracks program impact through assessments, reporting, and data tools, ensuring that insights guide decision-making, drive improvement, and reflect the voices of students and communities.",linkedin:null},{id:9,name:"Anusuya Dahal",title:"Facilitator Officer",category:"CORE TEAM",image:RF,description:"Supports and trains facilitators, ensures quality program delivery, manages performance reviews, and maintains a strong support system to foster facilitator growth and retention.",linkedin:"https://www.linkedin.com/in/anusuya-dahal-3b5884223/"},{id:10,name:"Siddhartha Guvaju",title:"Facilitator Officer",category:"CORE TEAM",image:PF,description:"Supports and trains facilitators, ensures quality program delivery, manages performance reviews, and maintains a strong support system to foster facilitator growth and retention.",linkedin:null},{id:11,name:"Monika Limbu",title:"School Liaison Officer",category:"CORE TEAM",image:LF,description:"Builds strong relationships with schools, conduct regular visits, coordinate events, monitor student well-being, and ensure timely feedback and collaboration with parents and teachers to support scholars holistically.",linkedin:"https://www.linkedin.com/in/monika-limbu-43119723r/"},{id:12,name:"Raghav Devkota",title:"Finance Intern",category:"CORE TEAM",image:FF,description:"Supports day-to-day accounting tasks, helps maintain organized records, assists with budget tracking, and learns nonprofit finance systems.",linkedin:null},{id:13,name:"Yamuna Thapa Didi",title:"Cook and Cleaner",category:"CORE TEAM",image:IF,description:"Ensures a welcoming, hygienic, and well-fed environment by preparing nutritious meals, maintaining cleanliness, and supporting daily office upkeep, helping the team stay energized and focused on their work.",linkedin:null},{id:14,name:"Anala Shrestha",title:"Field Volunteer",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:"https://www.linkedin.com/in/analashrestha1830/"},{id:15,name:"Aviska Upadhyaya",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:"https://np.linkedin.com/in/aaviska-upadhayaya-741755370"},{id:16,name:"Bimala Dahal",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:null},{id:17,name:"Biraj Poudel",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:null},{id:18,name:"Deepasha Maharjan",title:"Field Volunteer",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:"https://www.linkedin.com/in/deepasha-maharjan-b30229206/"},{id:19,name:"Himshikha Dahal",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:null},{id:20,name:"Janvi Subedi",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:null},{id:21,name:"Mamata Shah",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:null},{id:22,name:"Manila Magar",title:"Field Volunteer & Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:null},{id:23,name:"Megha Bhattarai",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:"https://www.linkedin.com/in/megha-bhattarai-73350a261/"},{id:24,name:"Mohit Muni Bajracharya",title:"Field Volunteer & Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:null},{id:25,name:"Nandita Ghimire",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:"https://www.linkedin.com/in/nandita-ghimire/"},{id:26,name:"Ojashwi Pun",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:null},{id:27,name:"Prarthana Sharma",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:"https://www.linkedin.com/in/prarthana-sharma-268a81330/"},{id:28,name:"Prastuti Chaulagain",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:null},{id:29,name:"Pratikshya Poudel",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:null},{id:30,name:"Puspa kala Rai",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:"https://www.linkedin.com/in/puspa-kala-rai-226090353/"},{id:31,name:"Sobika Shrestha",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:null},{id:32,name:"Sristy Khadka",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:null},{id:33,name:"Sujal Adhikari",title:"Facilitator",category:"FACILATORS AND FIELD VOLUNTEERS",image:Me,description:"",linkedin:null}],i=n==="ALL"?s:s.filter(a=>a.category===n),r="bg-gray-50";return f.jsxs("div",{className:"bg-primary-orange/5 text-gray-800 mt-28 min-h-screen",children:[f.jsxs("div",{className:"py-16 text-center",children:[f.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-primary-orange mb-12",children:"Meet Our Team"}),f.jsx("div",{className:"flex flex-wrap justify-center items-center gap-4 md:gap-8 text-sm md:text-base font-medium text-gray-600",children:t.map((a,o)=>f.jsxs(vo.Fragment,{children:[f.jsx("button",{onClick:()=>e(a),className:`hover:text-gray-900 transition-colors duration-200 ${n===a?"text-gray-900 font-semibold":""}`,children:a}),o<t.length-1&&f.jsx("span",{className:"text-gray-400",children:"|"})]},a))})]}),f.jsxs("div",{className:"max-w-7xl mx-auto px-6 pb-20",children:[n==="FACILATORS AND FIELD VOLUNTEERS"&&f.jsx("div",{className:"mb-12 text-center",children:f.jsx("p",{className:"text-gray-700 text-lg max-w-3xl mx-auto",children:"Facilitators and Field Volunteers run engaging storytelling sessions, mentor students, track progress, and provide on-the-ground supportensuring students thrive both inside and outside the classroom."})}),f.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:i.map(a=>f.jsxs("div",{className:`${r} shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden w-full max-w-sm md:w-[calc(50%-12px)] lg:w-[calc(33.333%-16px)]`,children:[f.jsx("div",{className:"relative aspect-square overflow-hidden",children:f.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:`${r} p-6`,children:[f.jsxs("div",{className:"flex items-center mb-1",children:[f.jsx("h3",{className:"text-2xl font-bold text-primary-orange mr-2",children:a.name}),a.linkedin&&f.jsx("a",{href:a.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-primary-blue hover:text-primary-gray",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]}),f.jsx("p",{className:"text-m uppercase text-gray-600 tracking-wide",children:a.title}),n!=="FACILATORS AND FIELD VOLUNTEERS"&&f.jsx("p",{className:"mt-4 text-gray-700 text-base leading-relaxed",children:a.description})]})]},a.id))})]})]})},VF="/canopy-website/assets/Angirash-C5DqmfA6.png",UF="/canopy-website/assets/Mohit-qzP_MaJ4.png",zF="/canopy-website/assets/Roshan-B4dNNMCc.png",HF="/canopy-website/assets/Shreya-DU40YmMn.png",$F="/canopy-website/assets/Srishti-D1UDJci9.png",WF="/canopy-website/assets/Aditya-Cn3U-g1p.png",GF="/canopy-website/assets/Bijeysh-DS4fqpTe.png",KF="/canopy-website/assets/Niranjan-D3UlCa1y.png",XF="/canopy-website/assets/Saugat-B5EiNHph.png",qF="/canopy-website/assets/Shristi-Ct9SChgX.png",YF="/canopy-website/assets/Ashra-C9LLC7Z6.png",QF="/canopy-website/assets/Bhushan-BtEsMaCF.png",JF="/canopy-website/assets/Bibek-CSHkrsAY.png",ZF="/canopy-website/assets/Bimla-c6_BnzJI.png",eO="/canopy-website/assets/Binju-osveto37.png",tO="/canopy-website/assets/Clement-CMA6ixk3.png",nO="/canopy-website/assets/Heather-B0bAT2Ot.png",sO="/canopy-website/assets/Meg-6KOC5MYk.png",iO="/canopy-website/assets/Needhika-Brkt286Q.png",rO="/canopy-website/assets/Sanam-Ds7FUvSY.png",aO="/canopy-website/assets/Subha-zOZL8x27.png",oO="/canopy-website/assets/Swexya-Cv5WyzVa.png",lO=()=>{const[n,e]=T.useState("BOARD OF DIRECTORS"),t=["BOARD OF DIRECTORS","ADVISORY BOARD"],i=[{id:1,name:"Angirash Karki",title:"Board of Director",category:"BOARD OF DIRECTORS",image:VF,description:"Angirash is an educator and social impact leader with a decade of experience across education, inclusion, and youth empowerment. He has led country operations for ISLearning, advised U.S. Embassy Youth Council and Rotary initiatives, mentored changemakers globally, and developed inclusive education policies with governments and the National Human Rights Commission."},{id:2,name:"Mohit Rauniyar",title:"Board of Director",category:"BOARD OF DIRECTORS",image:UF,description:"Mohit is a seasoned education and development leader with experience across Nepal, the U.S., and Europe. Alongside founding Canopy Nepal, he has led grants strategy at Riverside Immigrant Services, supported the launch of the University of Nepal, mentored social entrepreneurs in Ghana, organized climate initiatives in France, and shaped education policy dialogue globally. He holds a Masters in Education from Harvard University."},{id:3,name:"Roshan Bhatta",title:"Board of Director",category:"BOARD OF DIRECTORS",image:zF,description:"Roshan is a biomedical engineer and researcher with global experience across the U.S., Turkey, and Romania. He previously served as Canopy Nepal's Managing Director and has since worked in medical device quality assurance and nanotechnology R&D. Roshan brings a unique lens at the intersection of innovation, science, and education."},{id:4,name:"Shreya Upadhyay",title:"Board of Director",category:"BOARD OF DIRECTORS",image:HF,description:"Shreya is a social impact strategist and entrepreneur with experience leading volunteer programs, nonprofit operations, and youth initiatives. She co-founded Sweet Fix Nepal and has led international exchanges, board engagement, and cross-cultural programs that bridge purpose, community, and creativity."},{id:5,name:"Srishti Vaidya",title:"Board of Director",category:"BOARD OF DIRECTORS",image:$F,description:"Srishti is an economist and sustainability advocate with experience at the International Finance Corporation and Cummins Inc. She has led operations at Vaidya Group, advised global climate initiatives, and served as Nepal's youth delegate at COP28. She is also a Global Shaper and founder of Kathmandu's longest-running book club."},{id:6,name:"Aditya Todi",title:"Canopy Nepal Advisory Board",category:"ADVISORY BOARD",image:WF,description:"Aditya leads the metal manufacturing vertical at MC Group, a century-old business in Nepal. With past roles in consulting and development, he brings a global lens to strategic leadership. He holds degrees from Stanford and dual master's from Harvard Kennedy School and Harvard Business School."},{id:7,name:"Bijeysh Ranjit",title:"Canopy Nepal Advisory Board",category:"ADVISORY BOARD",image:GF,description:"Bijeysh is a social entrepreneur and founder of Danfe Works, which creates opportunities for marginalized communities through business with purpose. He previously led the nonprofit SAATH and has worked across the U.S., Europe, and Nepal. Passionate about impact, he's also a nature lover and lifelong learner."},{id:8,name:"Niranjan Kunwar",title:"Canopy Nepal Advisory Board",category:"ADVISORY BOARD",image:KF,description:"Niranjan is an educator, writer, and translator based in Kathmandu. With an M.S.Ed from CUNY, he bridges education, arts, and culture. He's the author of Between Queens and the Cities, and continues to champion inclusive storytelling through his forthcoming translation of Seto Dharti and a children's book."},{id:9,name:"Saugat Gautam",title:"Canopy Nepal Advisory Board",category:"ADVISORY BOARD",image:XF,description:"Saugat is a political science scholar and development leader with a decade of experience. He manages programs at the International Commission of Jurists and teaches at Thames College. As co-founder of Nepal Center for Integrated Development, he blends research, advocacy, and action for lasting social change."},{id:10,name:"Shristi Mishra",title:"Canopy Nepal Advisory Board",category:"ADVISORY BOARD",image:qF,description:"Shristi is an education researcher, entrepreneur, and Fulbright alum with experience at the World Bank, USAID, and DC's education agency. A former teacher in Nepal, she now runs Yak9 Chews, a pet wellness company based in Austinproving you can love data and dogs equally."},{id:11,name:"Ashra Acharya",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:YF,description:"Ashra leads executive operations at Bessemer Venture Partners and previously served as Director of Community for the Great Nepali Diaspora. Born in Nepal and raised in Texas, she brings heart and expertise to her work, always rooting her leadership in connection, equity, and community building."},{id:12,name:"Bhushan Dahal",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:QF,description:"Bhushan is a Ph.D. candidate in Educational Leadership at Florida State University and former Executive Director of Kids of Kathmandu. His leadership spans rebuilding schools, implementing digital classrooms, and advancing education policyconnecting academic insight with grassroots action to drive educational change in Nepal and beyond."},{id:13,name:"Bibek Raj Kandel",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:JF,description:"Bibek is a global energy and climate expert advising governments and institutions across Asia and Africa. With a decade of experience in climate finance and policy, he brings systems-level thinking and a commitment to equitable growth. He holds an MPA from Harvard Kennedy School."},{id:14,name:"Bimla Siwakoti",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:ZF,description:"Bimla is a Health Informaticist at Deloitte, blending her technical background with lived experience from a refugee camp in Nepal. With degrees from Johns Hopkins and Penn State, she is passionate about improving healthcare systems and championing education equity through technology and data."},{id:15,name:"Binju Gaire",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:eO,description:"Binju is an IT Audit Manager at Deloitte, currently based in Dublin. With expertise in tech risk and compliance, she is equally committed to mental health, education, and financial literacy. She brings thoughtful insight and global experience to supporting impactful social change."},{id:16,name:"Clement V. Gomes",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:tO,description:"Clement is a Biology Professor at CUNY Guttman and founder of ISLearning. With decades of experience teaching in both K12 and higher education, he is passionate about fostering global citizenship and building inclusive learning environments. He holds a Ph.D. from Columbia University."},{id:17,name:"Heather Schultz",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:nO,description:"Heather helped launch Canopy's Katha Bunaun program in 2017 and continues to champion its mission. With years of experience in youth development and literacy, she now lives in Seattle and works as a Senior Onboarding Specialistalways bringing her love for learning to every role."},{id:18,name:"Meg Zuttermeister",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:sO,description:"Meg is an educator passionate about designing engaging and inclusive learning environments. Her work spans early intervention, parent coaching, and preschool education. She holds an M.Ed from Harvard and brings a deep understanding of human development to Canopy's mission of empowering learners at every stage."},{id:19,name:"Needika Adhikari",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:iO,description:"Needika is a Senior Analyst at Excelsior Energy Capital, managing renewable energy assets and advising on sustainability initiatives in the U.S. and Nepal. With an LLM from The Fletcher School, she brings analytical precision and a deep commitment to equitable climate solutions."},{id:20,name:"Sanam Karki",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:rO,description:"Sanam is a project and data management professional with experience in banking and nonprofit operations. With an MBA from the University of Southern Mississippi, she helps organizations improve systems, drive results, and build stronger teams through thoughtful analysis and collaborative leadership."},{id:21,name:"Subha Niroula",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:aO,description:"Subha is a Software Engineer with a passion for teaching and mathematics. With degrees from St. John's College and Wake Forest, he brings global academic experience and a love for lifelong learningbalancing code, books, and his second Master's degree while navigating Texas tech."},{id:22,name:"Swexya Panta",title:"Canopy USA Advisory Board",category:"ADVISORY BOARD",image:oO,description:"Swexya is a Senior Investment Analyst at the Carnegie Corporation of New York. With a strong foundation in financial research and analysis, she previously worked at Stone Forest Capital. She brings analytical clarity, curiosity, and commitment to socially impactful investing and education access."}].filter(a=>a.category===n),r="bg-gray-50";return f.jsxs("div",{className:"bg-primary-orange/5 text-gray-800 mt-28 min-h-screen",children:[f.jsxs("div",{className:"py-16 text-center",children:[f.jsx("h1",{className:`text-5xl md:text-6xl font-bold ${n==="BOARD OF DIRECTORS"?"text-primary-red":"text-[#4984c4]"} mb-12`,children:"Meet Our Board"}),f.jsx("div",{className:"flex flex-wrap justify-center items-center gap-4 md:gap-8 text-base font-medium text-gray-600",children:t.map((a,o)=>f.jsxs(vo.Fragment,{children:[f.jsx("button",{onClick:()=>e(a),className:`hover:text-gray-900 transition-colors duration-200 ${n===a?"text-gray-900 font-semibold":""}`,children:a}),o<t.length-1&&f.jsx("span",{className:"text-gray-400",children:"|"})]},a))})]}),f.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-20",children:f.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:i.map(a=>f.jsxs("div",{className:`${r} shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden w-full max-w-sm md:w-[calc(50%-12px)] lg:w-[calc(33.333%-16px)]`,children:[f.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[f.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center p-6",children:f.jsx("p",{className:"text-white text-md leading-relaxed",children:a.description})})]}),f.jsxs("div",{className:`${r} p-6`,children:[f.jsx("h3",{className:`text-2xl font-bold ${a.category==="BOARD OF DIRECTORS"?"text-primary-red":"text-[#4984c4]"} mb-1`,children:a.name}),f.jsx("p",{className:"text-base uppercase text-gray-600 tracking-wide",children:a.title})]})]},a.id))})})]})},sA=()=>{const[n,e]=T.useState(null),[t,s]=T.useState({x:0,y:0}),i=T.useRef(null),r={Darchula:{schools:6,students:450},Baitadi:{schools:8,students:600},Dadeldhura:{schools:10,students:750},Kanchanpur:{schools:18,students:1350},Kailali:{schools:22,students:1650},Doti:{schools:12,students:900},Achham:{schools:11,students:825},Bajhang:{schools:9,students:675},Bajura:{schools:7,students:525},Humla:{schools:4,students:300},Mugu:{schools:5,students:375},Jumla:{schools:6,students:450},Kalikot:{schools:8,students:600},Dolpa:{schools:3,students:225},Dailekh:{schools:12,students:900},Jajarkot:{schools:9,students:675},Surkhet:{schools:16,students:1200},Salyan:{schools:10,students:750},"Rukum West":{schools:7,students:525},Bardiya:{schools:17,students:1275},Banke:{schools:19,students:1425},Dang:{schools:20,students:1500},"Rukum East":{schools:8,students:600},Rolpa:{schools:11,students:825},Pyuthan:{schools:12,students:900},Arghakhanchi:{schools:10,students:750},Kapilvastu:{schools:18,students:1350},Rupandehi:{schools:28,students:2100},Palpa:{schools:14,students:1050},Gulmi:{schools:15,students:1125},Nawalpur:{schools:16,students:1200},Baglung:{schools:17,students:1275},Parbat:{schools:14,students:1050},Myagdi:{schools:10,students:750},Mustang:{schools:4,students:300},Syangja:{schools:24,students:1800},Kaski:{schools:30,students:2250},Tanahun:{schools:20,students:1500},Gorkha:{schools:18,students:1350},Lamjung:{schools:15,students:1125},Manang:{schools:3,students:225},Chitwan:{schools:27,students:2025},Makwanpur:{schools:19,students:1425},Dhading:{schools:22,students:1650},Nuwakot:{schools:26,students:1950},Kathmandu:{schools:58,students:4350},Bhaktapur:{schools:20,students:1500},Lalitpur:{schools:32,students:2400},Kavrepalanchok:{schools:24,students:1800},Sindhupalchok:{schools:28,students:2100},Rasuwa:{schools:6,students:450},Dolakha:{schools:13,students:975},Ramechhap:{schools:11,students:825},Sindhuli:{schools:14,students:1050},Solukhumbu:{schools:7,students:525},Okhaldhunga:{schools:10,students:750},Khotang:{schools:13,students:975},Udayapur:{schools:16,students:1200},Sankhuwasabha:{schools:9,students:675},Bhojpur:{schools:11,students:825},Terhathum:{schools:8,students:600},Dhankuta:{schools:10,students:750},Taplejung:{schools:12,students:890},Panchthar:{schools:14,students:1050},Ilam:{schools:18,students:1350},Saptari:{schools:19,students:1425},Siraha:{schools:20,students:1500},Dhanusa:{schools:18,students:1350},Mahottari:{schools:17,students:1275},Sarlahi:{schools:16,students:1200},Rautahat:{schools:15,students:1125},Bara:{schools:18,students:1350},Parsa:{schools:19,students:1425},Sunsari:{schools:21,students:1575},Morang:{schools:25,students:1875},Jhapa:{schools:22,students:1650}},a=Object.values(r).reduce((d,h)=>d+h.schools,0),o=Object.values(r).reduce((d,h)=>d+h.students,0),l=Object.keys(r).length,c=["Kathmandu","Lalitpur","Kaski","Rupandehi","Sindhupalchok","Nuwakot","Syangja"];return T.useEffect(()=>{i.current&&fetch("/src/assets/Map_of_Nepal_with_Districts.svg").then(d=>{if(!d.ok)throw new Error("Failed to load SVG");return d.text()}).then(d=>{i.current.innerHTML=d;const h=i.current.querySelector("svg");h&&(h.setAttribute("width","100%"),h.setAttribute("height","100%"),h.style.display="block",h.querySelectorAll("path").forEach(m=>{let y=m.getAttribute("title")||m.getAttribute("id")||m.getAttribute("name")||"";y=y.replace(/NP-|District|_/g,"").trim(),r[y]?(m.style.fill=c.includes(y)?"#DC2626":"#E5E7EB",m.style.stroke="#FFFFFF",m.style.strokeWidth="2",m.style.transition="all 0.3s ease",m.style.cursor="pointer",m.addEventListener("mouseenter",x=>{e(y),m.style.fill="#DC2626",m.style.opacity="0.8",m.style.strokeWidth="3"}),m.addEventListener("mouseleave",()=>{e(null),m.style.fill=c.includes(y)?"#DC2626":"#E5E7EB",m.style.opacity="1",m.style.strokeWidth="2"}),m.addEventListener("mousemove",x=>{const S=i.current.getBoundingClientRect();s({x:x.clientX-S.left,y:x.clientY-S.top})})):(m.style.fill="#F3F4F6",m.style.stroke="#FFFFFF",m.style.strokeWidth="1")}))}).catch(d=>{console.error("Error loading SVG:",d),i.current&&(i.current.innerHTML=`
              <div class="flex items-center justify-center h-full min-h-[600px] bg-gray-100 rounded-xl">
                <div class="text-center p-8">
                  <p class="text-xl text-gray-600 mb-4">Map visualization is currently unavailable</p>
                  <p class="text-gray-500">Please check our statistics below for impact information</p>
                </div>
              </div>
            `)})},[]),f.jsx("div",{className:"min-h-screen bg-white py-16",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h1",{className:"text-6xl md:text-7xl font-bold text-gray-900 mb-4",children:"OUR IMPACT"}),f.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Hover over any district to see how Canopy Nepal is transforming education across the country"})]}),f.jsxs("div",{className:"relative mb-16",children:[f.jsxs("div",{className:"mx-auto max-w-6xl bg-gray-50 rounded-2xl shadow-lg overflow-hidden p-4 md:p-8",children:[f.jsx("div",{ref:i,className:"relative w-full",style:{minHeight:"600px"},children:f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})})}),n&&r[n]&&f.jsx("div",{className:"absolute z-50 pointer-events-none",style:{left:`${t.x}px`,top:`${t.y-80}px`},children:f.jsxs("div",{className:"bg-gray-900 text-white px-4 py-3 rounded-lg shadow-xl",children:[f.jsx("div",{className:"font-bold text-lg mb-1",children:n}),f.jsxs("div",{className:"text-sm space-y-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-gray-400",children:"Schools:"}),f.jsx("span",{className:"font-semibold",children:r[n].schools})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-gray-400",children:"Students:"}),f.jsx("span",{className:"font-semibold",children:r[n].students.toLocaleString()})]})]}),f.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full",children:f.jsx("div",{className:"w-0 h-0 border-l-8 border-l-transparent border-r-8 border-r-transparent border-t-8 border-t-gray-900"})})]})})]}),f.jsxs("div",{className:"flex justify-center gap-8 mt-8",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-5 h-5 bg-red-600 rounded"}),f.jsx("span",{className:"text-gray-700",children:"High Impact Districts"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded"}),f.jsx("span",{className:"text-gray-700",children:"Active Districts"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-xl p-8 text-center transform hover:scale-105 transition-transform shadow-lg",children:[f.jsx("h3",{className:"text-5xl font-bold text-red-600 mb-2",children:l}),f.jsx("p",{className:"text-gray-700 font-medium",children:"Districts Reached"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-8 text-center transform hover:scale-105 transition-transform shadow-lg",children:[f.jsx("h3",{className:"text-5xl font-bold text-blue-600 mb-2",children:a}),f.jsx("p",{className:"text-gray-700 font-medium",children:"Schools Impacted"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-8 text-center transform hover:scale-105 transition-transform shadow-lg",children:[f.jsx("h3",{className:"text-5xl font-bold text-green-600 mb-2",children:o.toLocaleString()}),f.jsx("p",{className:"text-gray-700 font-medium",children:"Students Reached"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-8 text-center transform hover:scale-105 transition-transform shadow-lg",children:[f.jsx("h3",{className:"text-5xl font-bold text-purple-600 mb-2",children:"17"}),f.jsx("p",{className:"text-gray-700 font-medium",children:"Local Governments"})]})]}),f.jsxs("div",{className:"mt-16 text-center",children:[f.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Together, we're building a Nepal where every child has access to quality education"}),f.jsx("button",{className:"bg-red-600 text-white px-8 py-4 rounded-full font-semibold text-lg hover:bg-red-700 transform hover:scale-105 transition-all shadow-lg",children:"Support Our Mission"})]})]})})},cO="/canopy-website/assets/canfranhead-BrRzp8bQ.png",uO="/canopy-website/assets/canfran-DPSAn0dm.png",dO="/canopy-website/assets/canopyfrance-g2Ql284e.jpeg",hO=[{id:1,name:"Mohit Rauniyar",title:"Founder",category:"CORE TEAM",image:tw,description:"Established Canopy Nepal and leads its global vision, actively overseeing international chapters in the USA and France while driving strategic fundraising to expand impact and ensure long-term sustainability.",linkedin:"https://www.linkedin.com/in/mohitrauniyar/"},{id:2,name:"Monal Bhattarai",title:"Managing Director",category:"CORE TEAM",image:nw,description:"Leads Canopy's vision, partnerships, and fundraising strategysteering growth, building global relationships, and amplifying the organization's voice through thought leadership, board support, and international representation.",linkedin:"http://www.linkedin.com/in/monal-bhattarai-bb3261194"},{id:3,name:"Angirash Karki",title:"Executive Director",category:"CORE TEAM",image:Me,description:"Ensures Canopy operates smoothly by overseeing compliance, HR, finance, and risk management while building strong government partnerships and driving internal systems for staff performance and operational excellence.",linkedin:"https://www.linkedin.com/in/angirash-karki/"}],fO=()=>f.jsxs("div",{className:"bg-white font-sans mt-28",children:[f.jsxs("div",{className:"relative h-[400px] overflow-hidden mb-2",children:[f.jsx("img",{src:cO,alt:"Children in Nepal",className:"w-full h-[400px] object-cover"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:f.jsx("h1",{className:"text-white text-6xl font-bold",children:"Canopy France"})})]}),f.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsx("div",{className:"py-8 text-center",children:f.jsxs("p",{className:"text-2xl text-gray-700 leading-relaxed",children:["Established in 2022, ",f.jsx("span",{className:"text-primary-cyan font-bold",children:"Canopy France is our first international chapter"}),", founded by a passionate group of young changemakers from France and Nepal. Registered as a legal nonprofit under French law, the chapter supports Canopy Nepal by raising awareness, building partnerships, and mobilizing resources across Europe."]})}),f.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-stretch h-full",children:[f.jsx("div",{className:"w-full md:w-1/2 h-[400px] md:h-auto",children:f.jsx("img",{src:uO,alt:"Students in a classroom",className:"w-full h-full object-cover object-center"})}),f.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[f.jsx("h2",{className:"text-3xl font-bold text-primary-cyan mb-4",children:"What We Do?"}),f.jsxs("ul",{className:"list-disc text-gray-700 space-y-6 text-2xl",children:[f.jsx("li",{className:"text-xl",children:"Organize creative fundraising campaigns, cultural events, and storytelling nights across France"}),f.jsx("li",{className:"text-xl",children:"Strengthen connections between the Nepali diaspora and allies in France"}),f.jsx("li",{className:"text-xl",children:"Raise awareness around education equity through exhibitions, university partnerships, and youth networks"}),f.jsx("li",{className:"text-xl",children:"Directly support core programs like CANSHIP and Katha Bunaun with financial and advocacy support"})]})]})]})}),f.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen pb-8",children:f.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-stretch h-full",children:[f.jsx("div",{className:"w-full md:w-1/2 h-[400px] md:h-auto",children:f.jsx("img",{src:dO,alt:"Volunteer for Canopy France",className:"w-full h-[500px] object-cover object-bottom"})}),f.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-16 py-16 bg-white",children:[f.jsx("h2",{className:"text-3xl font-bold text-primary-cyan mb-4",children:"Want to Get Involved?"}),f.jsx("p",{className:"text-gray-700 text-xl mb-4",children:"If you're based in France and want to help us:"}),f.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-6 text-2xl",children:[f.jsx("li",{className:"text-xl",children:"Host a fundraiser or awareness event"}),f.jsx("li",{className:"text-xl",children:"Partner with us for an academic or youth engagement initiative"}),f.jsx("li",{className:"text-xl",children:"Volunteer your time or skills"})]}),f.jsxs("div",{className:"mt-8",children:[f.jsx("span",{className:"font-bold text-2xl text-gray-800",children:"Reach out to us at:"}),f.jsx("br",{}),f.jsx("a",{href:"mailto:info@canopyfrance.org",className:"text-primary-cyan hover:underline break-all text-xl",children:"info@canopyfrance.org"})]})]})]})}),f.jsx("div",{className:"w-full flex justify-center pb-4",children:f.jsxs("div",{className:"text-center text-xl",children:[f.jsx("span",{className:"text-gray-700",children:"And don't forget to "}),f.jsx("a",{href:"#",className:"text-primary-cyan hover:underline font-semibold",children:"[Subscribe to the Canopy France Newsletter]"}),f.jsx("span",{className:"text-gray-700",children:" to stay updated on our events, stories, and impact from the ground."})]})})]}),f.jsx("hr",{}),f.jsxs("div",{className:"py-8",children:[f.jsxs("p",{className:"text-center text-black text-xl mb-8",children:["The chapter is led by a lean team, and together, they bring cross-cultural ",f.jsx("br",{}),"energy and grassroots commitment to the mission."]}),f.jsx("h2",{className:"text-center text-3xl font-bold text-primary-cyan mb-8",children:"Meet the Canopy France Team"}),f.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-4",children:f.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:hO.map(n=>f.jsxs("div",{className:"bg-gray-50 shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden w-full max-w-sm md:w-[calc(50%-12px)] lg:w-[calc(33.333%-16px)]",children:[f.jsx("div",{className:"relative aspect-square overflow-hidden",children:f.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"bg-gray-50 p-6",children:[f.jsxs("div",{className:"flex items-center mb-1",children:[f.jsx("h3",{className:"text-2xl font-bold text-primary-orange mr-2",children:n.name}),n.linkedin&&f.jsx("a",{href:n.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-primary-blue hover:text-primary-gray",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]}),f.jsx("p",{className:"text-m uppercase text-gray-600 tracking-wide",children:n.title}),f.jsx("p",{className:"mt-4 text-gray-700 text-base leading-relaxed",children:n.description})]})]},n.id))})})]})]}),pO="/canopy-website/assets/canusaheader-E0h1pmYg.jpeg",mO="/canopy-website/assets/canusabody-DwMgJqvl.jpg",gO="/canopy-website/assets/canusa2-lQbWgcqf.jpg",yO=[{id:1,name:"Mohit Rauniyar",title:"Founder",category:"CORE TEAM",image:tw,description:"Established Canopy Nepal and leads its global vision, actively overseeing international chapters in the USA and France while driving strategic fundraising to expand impact and ensure long-term sustainability.",linkedin:"https://www.linkedin.com/in/mohitrauniyar/"},{id:2,name:"Monal Bhattarai",title:"Managing Director",category:"CORE TEAM",image:nw,description:"Leads Canopy's vision, partnerships, and fundraising strategysteering growth, building global relationships, and amplifying the organization's voice through thought leadership, board support, and international representation.",linkedin:"http://www.linkedin.com/in/monal-bhattarai-bb3261194"},{id:3,name:"Angirash Karki",title:"Executive Director",category:"CORE TEAM",image:Me,description:"Ensures Canopy operates smoothly by overseeing compliance, HR, finance, and risk management while building strong government partnerships and driving internal systems for staff performance and operational excellence.",linkedin:"https://www.linkedin.com/in/angirash-karki/"}],vO=()=>f.jsxs("div",{className:"bg-white font-sans mt-28",children:[f.jsxs("div",{className:"relative h-[400px] overflow-hidden mb-2",children:[f.jsx("img",{src:pO,alt:"Children in Nepal",className:"w-full h-[400px] object-cover"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:f.jsx("h1",{className:"text-white text-6xl font-bold",children:"Canopy USA"})})]}),f.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsx("div",{className:"py-8 text-center",children:f.jsx("p",{className:"text-2xl text-gray-700 leading-relaxed",children:"Established in 2024, Canopy USA is a registered 501(c)(3) nonprofit committed to supporting the mission of Canopy Nepal from across the world. Based in the United States, the chapter focuses on building partnerships, fundraising, and spreading awareness about education equity in Nepal."})}),f.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen py-4",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-stretch h-full",children:[f.jsx("div",{className:"w-full md:w-1/2 h-[400px] md:h-auto",children:f.jsx("img",{src:mO,alt:"Students in a classroom",className:"w-full h-full object-cover object-center"})}),f.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[f.jsx("h2",{className:"text-3xl font-bold text-primary-cyan mb-4",children:"What We Do?"}),f.jsxs("ul",{className:"list-disc text-gray-700 space-y-6 text-2xl",children:[f.jsx("li",{className:"text-xl",children:"Lead fundraising campaigns to support Canopy's flagship programs like CANSHIP and Katha Bunaun"}),f.jsx("li",{className:"text-xl",children:"Build connections with schools, universities, and donors across the U.S."}),f.jsx("li",{className:"text-xl",children:"Represent Canopy Nepal at global forums, education events, and diaspora gatherings"}),f.jsx("li",{className:"text-xl",children:"Share stories and impact through digital campaigns and in-person events"})]})]})]})}),f.jsx("div",{className:"text-center text-xl my-8 ",children:f.jsx("span",{className:"text-black font-semibold",children:"Canopy USA is a legally registered 501(c)(3) nonprofit. All donations are tax-deductible to the extent allowed by law."})}),f.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen pb-8",children:f.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-stretch h-full",children:[f.jsx("div",{className:"w-full md:w-1/2 h-[400px] md:h-auto",children:f.jsx("img",{src:gO,alt:"Volunteer for Canopy USA",className:"w-full h-[500px] object-cover object-bottom"})}),f.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-16 py-16 bg-white",children:[f.jsx("p",{className:" text-2xl mb-4 font-semibold",children:"If you're based in USA and want to:"}),f.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-6 text-2xl",children:[f.jsx("li",{className:"text-xl",children:"Host a fundraiser or awareness event"}),f.jsx("li",{className:"text-xl",children:"Collaborate with us on educational outreach or events"}),f.jsx("li",{className:"text-xl",children:"Support through donations or in-kind resources"})]}),f.jsxs("div",{className:"mt-8",children:[f.jsx("span",{className:"font-bold text-2xl text-gray-800",children:"Reach out to us at:"}),f.jsx("br",{}),f.jsx("a",{href:"mailto:info@canopyfrance.org",className:"text-primary-cyan hover:underline break-all text-xl",children:"canopyusa@canopynepal.org"})]}),f.jsx("p",{className:"mt-8 text-gray-700 text-xl",children:"Lets make quality education possibleacross borders, together."})]})]})})]}),f.jsx("hr",{}),f.jsxs("div",{className:"py-8 ",children:[f.jsx("p",{className:"text-center text-black text-xl mb-8 w-3/4 mx-auto",children:"Canopy USA is run by a lean team of dedicated volunteers and advisors, under the direct leadership of our founder, Mohit, working closely with Canopy Nepal's leadership to ensure transparency, sustainability, and aligned impact."}),f.jsx("h2",{className:"text-center text-3xl font-bold text-primary-cyan mb-8",children:"Meet the Canopy USA Team"}),f.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-4",children:f.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:yO.map(n=>f.jsxs("div",{className:"bg-gray-50 shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden w-full max-w-sm md:w-[calc(50%-12px)] lg:w-[calc(33.333%-16px)]",children:[f.jsx("div",{className:"relative aspect-square overflow-hidden",children:f.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"bg-gray-50 p-6",children:[f.jsxs("div",{className:"flex items-center mb-1",children:[f.jsx("h3",{className:"text-2xl font-bold text-primary-orange mr-2",children:n.name}),n.linkedin&&f.jsx("a",{href:n.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-primary-blue hover:text-primary-gray",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]}),f.jsx("p",{className:"text-m uppercase text-gray-600 tracking-wide",children:n.title}),f.jsx("p",{className:"mt-4 text-gray-700 text-base leading-relaxed",children:n.description})]})]},n.id))})})]})]}),xO="modulepreload",wO=function(n){return"/canopy-website/"+n},iA={},mf=function(e,t,s){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=wO(l),l in iA)return;iA[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":xO,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&r(o.reason);return e().catch(r)})};var Bu={};Bu.d=(n,e)=>{for(var t in e)Bu.o(e,t)&&!Bu.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Bu.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ee=globalThis.pdfjsLib={};Bu.d(ee,{AbortException:()=>Bo,AnnotationEditorLayer:()=>f0,AnnotationEditorParamsType:()=>J,AnnotationEditorType:()=>se,AnnotationEditorUIManager:()=>ko,AnnotationLayer:()=>v4,AnnotationMode:()=>ir,ColorPicker:()=>qp,DOMSVGFactory:()=>pw,DrawLayer:()=>y0,FeatureTest:()=>tn,GlobalWorkerOptions:()=>Mi,ImageKind:()=>If,InvalidPDFException:()=>U_,MissingPDFException:()=>Oo,OPS:()=>cs,OutputScale:()=>av,PDFDataRangeTransport:()=>FT,PDFDateString:()=>ow,PDFWorker:()=>Sl,PasswordResponses:()=>EO,PermissionFlag:()=>SO,PixelsPerInch:()=>qr,RenderingCancelledException:()=>rw,TextLayer:()=>Lv,UnexpectedResponseException:()=>Vm,Util:()=>G,VerbosityLevel:()=>Fm,XfaLayer:()=>BT,build:()=>J3,createValidAbsoluteUrl:()=>kO,fetchData:()=>zm,getDocument:()=>H3,getFilenameFromUrl:()=>FO,getPdfFilenameFromUrl:()=>OO,getXfaPageViewport:()=>BO,isDataScheme:()=>Hm,isPdfFile:()=>aw,noContextMenu:()=>ss,normalizeUnicode:()=>LO,setLayerDimensions:()=>To,shadow:()=>de,version:()=>Q3});const Gt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),V_=[1,0,0,1,0,0],nv=[.001,0,0,.001,0,0],bO=1e7,Fg=1.35,Nn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ir={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AO="pdfjs_internal_editor_",se={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},J={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},SO={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},It={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},If={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},at={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},eu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Fm={ERRORS:0,WARNINGS:1,INFOS:5},cs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},EO={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Om=Fm.WARNINGS;function CO(n){Number.isInteger(n)&&(Om=n)}function _O(){return Om}function Bm(n){Om>=Fm.INFOS&&console.log(`Info: ${n}`)}function re(n){Om>=Fm.WARNINGS&&console.log(`Warning: ${n}`)}function Ne(n){throw new Error(n)}function dt(n,e){n||Ne(e)}function TO(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function kO(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=MO(n)}catch{}}const s=e?new URL(n,e):new URL(n);if(TO(s))return s}catch{}return null}function de(n,e,t,s=!1){return Object.defineProperty(n,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const sa=function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class sv extends sa{constructor(e,t){super(e,"PasswordException"),this.code=t}}class iv extends sa{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class U_ extends sa{constructor(e){super(e,"InvalidPDFException")}}class Oo extends sa{constructor(e){super(e,"MissingPDFException")}}class Vm extends sa{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class NO extends sa{constructor(e){super(e,"FormatError")}}class Bo extends sa{constructor(e){super(e,"AbortException")}}function z_(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ne("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const s=[];for(let i=0;i<e;i+=t){const r=Math.min(i+t,e),a=n.subarray(i,r);s.push(String.fromCharCode.apply(null,a))}return s.join("")}function Um(n){typeof n!="string"&&Ne("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=n.charCodeAt(s)&255;return t}function PO(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function sw(n){const e=Object.create(null);for(const[t,s]of n)e[t]=s;return e}function RO(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function jO(){try{return new Function(""),!0}catch{return!1}}class tn{static get isLittleEndian(){return de(this,"isLittleEndian",RO())}static get isEvalSupported(){return de(this,"isEvalSupported",jO())}static get isOffscreenCanvasSupported(){return de(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?de(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):de(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return de(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Og=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Vi,Ff,rv;class G{static makeHexColor(e,t,s){return`#${Og[e]}${Og[t]}${Og[s]}`}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const s=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[s,i]}static applyInverseTransform(e,t){const s=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/s,r=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/s;return[i,r]}static getAxialAlignedBoundingBox(e,t){const s=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),r=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(s[0],i[0],r[0],a[0]),Math.min(s[1],i[1],r[1],a[1]),Math.max(s[0],i[0],r[0],a[0]),Math.max(s[1],i[1],r[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],s=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(s+a)/2,l=Math.sqrt((s+a)**2-4*(s*a-r*i))/2,c=o+l||1,d=o-l||1;return[Math.sqrt(c),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>a?null:[s,r,i,a]}static bezierBoundingBox(e,t,s,i,r,a,o,l,c){return c?(c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,o),Math.min(t,l),Math.max(e,o),Math.max(t,l)],A(this,Vi,rv).call(this,e,s,r,o,t,i,a,l,3*(-e+3*(s-r)+o),6*(e-2*s+r),3*(s-e),c),A(this,Vi,rv).call(this,e,s,r,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),c),c}}Vi=new WeakSet,Ff=function(e,t,s,i,r,a,o,l,c,d){if(c<=0||c>=1)return;const h=1-c,p=c*c,m=p*c,y=h*(h*(h*e+3*c*t)+3*p*s)+m*i,x=h*(h*(h*r+3*c*a)+3*p*o)+m*l;d[0]=Math.min(d[0],y),d[1]=Math.min(d[1],x),d[2]=Math.max(d[2],y),d[3]=Math.max(d[3],x)},rv=function(e,t,s,i,r,a,o,l,c,d,h,p){if(Math.abs(c)<1e-12){Math.abs(d)>=1e-12&&A(this,Vi,Ff).call(this,e,t,s,i,r,a,o,l,-h/d,p);return}const m=d**2-4*h*c;if(m<0)return;const y=Math.sqrt(m),x=2*c;A(this,Vi,Ff).call(this,e,t,s,i,r,a,o,l,(-d+y)/x,p),A(this,Vi,Ff).call(this,e,t,s,i,r,a,o,l,(-d-y)/x,p)},E(G,Vi);function MO(n){return decodeURIComponent(escape(n))}let Bg=null,rA=null;function LO(n){return Bg||(Bg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,rA=new Map([["","t"]])),n.replaceAll(Bg,(e,t,s)=>t?t.normalize("NFKC"):rA.get(s))}function DO(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return z_(n)}const iw="pdfjs_internal_id_",ni={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function IO(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(z_(n))}const ii="http://www.w3.org/2000/svg",pa=class pa{};Q(pa,"CSS",96),Q(pa,"PDF",72),Q(pa,"PDF_TO_CSS_UNITS",pa.CSS/pa.PDF);let qr=pa;async function zm(n,e="text"){if(uu(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}s(new Error(i.statusText))}},i.send(null)})}class Bh{constructor({viewBox:e,scale:t,rotation:s,offsetX:i=0,offsetY:r=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=s,this.offsetX=i,this.offsetY=r;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,d,h,p;switch(s%=360,s<0&&(s+=360),s){case 180:c=-1,d=0,h=0,p=1;break;case 90:c=0,d=1,h=1,p=0;break;case 270:c=0,d=-1,h=-1,p=0;break;case 0:c=1,d=0,h=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,p=-p);let m,y,x,S;c===0?(m=Math.abs(l-e[1])*t+i,y=Math.abs(o-e[0])*t+r,x=(e[3]-e[1])*t,S=(e[2]-e[0])*t):(m=Math.abs(o-e[0])*t+i,y=Math.abs(l-e[1])*t+r,x=(e[2]-e[0])*t,S=(e[3]-e[1])*t),this.transform=[c*t,d*t,h*t,p*t,m-c*t*o-h*t*l,y-d*t*o-p*t*l],this.width=x,this.height=S}get rawDims(){const{viewBox:e}=this;return de(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new Bh({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:s,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){return G.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=G.applyTransform([e[0],e[1]],this.transform),s=G.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){return G.applyInverseTransform([e,t],this.transform)}}class rw extends sa{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Hm(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function aw(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function FO(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function OO(n,e="document.pdf"){if(typeof n!="string")return e;if(Hm(n))return re('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let r=s.exec(i[1])||s.exec(i[2])||s.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=s.exec(decodeURIComponent(r))[0]}catch{}return r||e}class aA{constructor(){Q(this,"started",Object.create(null));Q(this,"times",[])}time(e){e in this.started&&re(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||re(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:i,end:r}of this.times)e.push(`${s.padEnd(t)} ${r-i}ms
`);return e.join("")}}function uu(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function ss(n){n.preventDefault()}function oA(n){console.log("Deprecated API usage: "+n)}var pd;class ow{static toDateObject(e){if(!e||typeof e!="string")return null;u(this,pd)||b(this,pd,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=u(this,pd).exec(e);if(!t)return null;const s=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(a+=d,o+=h):c==="+"&&(a-=d,o-=h),new Date(Date.UTC(s,i,r,a,o,l))}}pd=new WeakMap,E(ow,pd);function BO(n,{scale:e=1,rotation:t=0}){const{width:s,height:i}=n.attributes.style,r=[0,0,parseInt(s),parseInt(i)];return new Bh({viewBox:r,scale:e,rotation:t})}function lw(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(re(`Not a valid color format: "${n}"`),[0,0,0])}function VO(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;n.set(t,lw(s))}e.remove()}function Be(n){const{a:e,b:t,c:s,d:i,e:r,f:a}=n.getTransform();return[e,t,s,i,r,a]}function si(n){const{a:e,b:t,c:s,d:i,e:r,f:a}=n.getTransform().invertSelf();return[e,t,s,i,r,a]}function To(n,e,t=!1,s=!0){if(e instanceof Bh){const{pageWidth:i,pageHeight:r}=e.rawDims,{style:a}=n,o=tn.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${r}px`,d=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,h=o?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}s&&n.setAttribute("data-main-rotation",e.rotation)}class av{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var rr,ba,us,Aa,md,gd,Qp,H_,nn,$_,W_,Of,G_,lv;const ai=class ai{constructor(e){E(this,nn);E(this,rr,null);E(this,ba,null);E(this,us);E(this,Aa,null);E(this,md,null);b(this,us,e),u(ai,gd)||b(ai,gd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=b(this,rr,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=u(this,us)._uiManager._signal;e.addEventListener("contextmenu",ss,{signal:t}),e.addEventListener("pointerdown",A(ai,Qp,H_),{signal:t});const s=b(this,Aa,document.createElement("div"));s.className="buttons",e.append(s);const i=u(this,us).toolbarPosition;if(i){const{style:r}=e,a=u(this,us)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return A(this,nn,G_).call(this),e}get div(){return u(this,rr)}hide(){var e;u(this,rr).classList.add("hidden"),(e=u(this,ba))==null||e.hideDropdown()}show(){var e;u(this,rr).classList.remove("hidden"),(e=u(this,md))==null||e.shown()}async addAltText(e){const t=await e.render();A(this,nn,Of).call(this,t),u(this,Aa).prepend(t,u(this,nn,lv)),b(this,md,e)}addColorPicker(e){b(this,ba,e);const t=e.renderButton();A(this,nn,Of).call(this,t),u(this,Aa).prepend(t,u(this,nn,lv))}remove(){var e;u(this,rr).remove(),(e=u(this,ba))==null||e.destroy(),b(this,ba,null)}};rr=new WeakMap,ba=new WeakMap,us=new WeakMap,Aa=new WeakMap,md=new WeakMap,gd=new WeakMap,Qp=new WeakSet,H_=function(e){e.stopPropagation()},nn=new WeakSet,$_=function(e){u(this,us)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},W_=function(e){u(this,us)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Of=function(e){const t=u(this,us)._uiManager._signal;e.addEventListener("focusin",A(this,nn,$_).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",A(this,nn,W_).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ss,{signal:t})},G_=function(){const{editorType:e,_uiManager:t}=u(this,us),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",u(ai,gd)[e]),A(this,nn,Of).call(this,s),s.addEventListener("click",i=>{t.delete()},{signal:t._signal}),u(this,Aa).append(s)},lv=function(){const e=document.createElement("div");return e.className="divider",e},E(ai,Qp),E(ai,gd,null);let ov=ai;var yd,Sa,Ea,Qr,K_,X_,q_;class UO{constructor(e){E(this,Qr);E(this,yd,null);E(this,Sa,null);E(this,Ea);b(this,Ea,e)}show(e,t,s){const[i,r]=A(this,Qr,X_).call(this,t,s),{style:a}=u(this,Sa)||b(this,Sa,A(this,Qr,K_).call(this));e.append(u(this,Sa)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,Sa).remove()}}yd=new WeakMap,Sa=new WeakMap,Ea=new WeakMap,Qr=new WeakSet,K_=function(){const e=b(this,Sa,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ss,{signal:u(this,Ea)._signal});const t=b(this,yd,document.createElement("div"));return t.className="buttons",e.append(t),A(this,Qr,q_).call(this),e},X_=function(e,t){let s=0,i=0;for(const r of e){const a=r.y+r.height;if(a<s)continue;const o=r.x+(t?r.width:0);if(a>s){i=o,s=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,s]},q_=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=u(this,Ea)._signal;e.addEventListener("contextmenu",ss,{signal:s}),e.addEventListener("click",()=>{u(this,Ea).highlightSelection("floating_button")},{signal:s}),u(this,yd).append(e)};function Gp(n,e,t){for(const s of t)e.addEventListener(s,n[s].bind(n))}function zO(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Jp;class HO{constructor(){E(this,Jp,0)}get id(){return`${AO}${qt(this,Jp)._++}`}}Jp=new WeakMap;var _l,vd,Ot,Tl,Bf;const vw=class vw{constructor(){E(this,Tl);E(this,_l,DO());E(this,vd,0);E(this,Ot,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const r=i.decode().then(()=>(s.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return de(this,"_isSVGFittingCanvas",r)}async getFromFile(e){const{lastModified:t,name:s,size:i,type:r}=e;return A(this,Tl,Bf).call(this,`${t}_${s}_${i}_${r}`,e)}async getFromUrl(e){return A(this,Tl,Bf).call(this,e,e)}async getFromBlob(e,t){const s=await t;return A(this,Tl,Bf).call(this,e,s)}async getFromId(e){u(this,Ot)||b(this,Ot,new Map);const t=u(this,Ot).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){u(this,Ot)||b(this,Ot,new Map);let s=u(this,Ot).get(e);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),s={bitmap:i.transferToImageBitmap(),id:`image_${u(this,_l)}_${qt(this,vd)._++}`,refCounter:1,isSvg:!1},u(this,Ot).set(e,s),u(this,Ot).set(s.id,s),s}getSvgUrl(e){const t=u(this,Ot).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;u(this,Ot)||b(this,Ot,new Map);const t=u(this,Ot).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(s.width,s.height);r.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=r.convertToBlob()}(i=s.close)==null||i.call(s),t.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,_l)}_`)}};_l=new WeakMap,vd=new WeakMap,Ot=new WeakMap,Tl=new WeakSet,Bf=async function(e,t){u(this,Ot)||b(this,Ot,new Map);let s=u(this,Ot).get(e);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${u(this,_l)}_${qt(this,vd)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(s.url=t,i=await zm(t,"blob")):t instanceof File?i=s.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const r=vw._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,d)=>{o.onload=()=>{s.bitmap=o,s.isSvg=!0,c()},a.onload=async()=>{const h=s.svgUrl=a.result;o.src=await r?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else s.bitmap=await createImageBitmap(i);s.refCounter=1}catch(i){console.error(i),s=null}return u(this,Ot).set(e,s),s&&u(this,Ot).set(s.id,s),s};let cv=vw;var gt,ar,xd,yt;class $O{constructor(e=128){E(this,gt,[]);E(this,ar,!1);E(this,xd);E(this,yt,-1);b(this,xd,e)}add({cmd:e,undo:t,post:s,mustExec:i,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),u(this,ar))return;const l={cmd:e,undo:t,post:s,type:r};if(u(this,yt)===-1){u(this,gt).length>0&&(u(this,gt).length=0),b(this,yt,0),u(this,gt).push(l);return}if(a&&u(this,gt)[u(this,yt)].type===r){o&&(l.undo=u(this,gt)[u(this,yt)].undo),u(this,gt)[u(this,yt)]=l;return}const c=u(this,yt)+1;c===u(this,xd)?u(this,gt).splice(0,1):(b(this,yt,c),c<u(this,gt).length&&u(this,gt).splice(c)),u(this,gt).push(l)}undo(){if(u(this,yt)===-1)return;b(this,ar,!0);const{undo:e,post:t}=u(this,gt)[u(this,yt)];e(),t==null||t(),b(this,ar,!1),b(this,yt,u(this,yt)-1)}redo(){if(u(this,yt)<u(this,gt).length-1){b(this,yt,u(this,yt)+1),b(this,ar,!0);const{cmd:e,post:t}=u(this,gt)[u(this,yt)];e(),t==null||t(),b(this,ar,!1)}}hasSomethingToUndo(){return u(this,yt)!==-1}hasSomethingToRedo(){return u(this,yt)<u(this,gt).length-1}destroy(){b(this,gt,null)}}gt=new WeakMap,ar=new WeakMap,xd=new WeakMap,yt=new WeakMap;var Zp,Y_;class Vh{constructor(e){E(this,Zp);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=tn.platform;for(const[s,i,r={}]of e)for(const a of s){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:r}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(A(this,Zp,Y_).call(this,t));if(!s)return;const{callback:i,options:{bubbles:r=!1,args:a=[],checker:o=null}}=s;o&&!o(e,t)||(i.bind(e,...a,t)(),r||(t.stopPropagation(),t.preventDefault()))}}Zp=new WeakSet,Y_=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const em=class em{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return VO(e),de(this,"_colors",e)}convert(e){const t=lw(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,i]of this._colors)if(i.every((r,a)=>r===t[a]))return em._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?G.makeHexColor(...t):e}};Q(em,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let uv=em;var kl,bn,ot,Et,Nl,ci,Pl,ds,or,Rl,Ca,Ms,hs,_a,wd,bd,jl,Ad,Ls,lr,Ml,cr,Ds,tm,ur,Sd,dr,Ta,Ed,Cd,vt,ye,ui,ka,_d,Td,hr,Is,di,kd,Hn,O,Vf,dv,Q_,J_,Uf,Z_,eT,tT,hv,nT,fv,pv,sT,Yt,Ji,iT,rT,mv,aT,du,gv;const ml=class ml{constructor(e,t,s,i,r,a,o,l,c,d,h){E(this,O);E(this,kl,new AbortController);E(this,bn,null);E(this,ot,new Map);E(this,Et,new Map);E(this,Nl,null);E(this,ci,null);E(this,Pl,null);E(this,ds,new $O);E(this,or,null);E(this,Rl,0);E(this,Ca,new Set);E(this,Ms,null);E(this,hs,null);E(this,_a,new Set);E(this,wd,!1);E(this,bd,!1);E(this,jl,!1);E(this,Ad,null);E(this,Ls,null);E(this,lr,null);E(this,Ml,null);E(this,cr,!1);E(this,Ds,null);E(this,tm,new HO);E(this,ur,!1);E(this,Sd,!1);E(this,dr,null);E(this,Ta,null);E(this,Ed,null);E(this,Cd,null);E(this,vt,se.NONE);E(this,ye,new Set);E(this,ui,null);E(this,ka,null);E(this,_d,null);E(this,Td,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});E(this,hr,[0,0]);E(this,Is,null);E(this,di,null);E(this,kd,null);E(this,Hn,null);const p=this._signal=u(this,kl).signal;b(this,di,e),b(this,kd,t),b(this,Nl,s),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:p}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),i._on("setpreference",this.onSetPreference.bind(this),{signal:p}),i._on("switchannotationeditorparams",m=>this.updateParams(m.type,m.value),{signal:p}),A(this,O,Z_).call(this),A(this,O,sT).call(this),A(this,O,hv).call(this),b(this,ci,r.annotationStorage),b(this,Ad,r.filterFactory),b(this,ka,a),b(this,Ml,o||null),b(this,wd,l),b(this,bd,c),b(this,jl,d),b(this,Cd,h||null),this.viewParameters={realScale:qr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=ml.prototype,t=a=>u(a,di).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),s=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return de(this,"_keyboardManager",new Vh([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&u(a,di).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&u(a,di).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}destroy(){var e,t,s,i;(e=u(this,Hn))==null||e.resolve(),b(this,Hn,null),(t=u(this,kl))==null||t.abort(),b(this,kl,null),this._signal=null;for(const r of u(this,Et).values())r.destroy();u(this,Et).clear(),u(this,ot).clear(),u(this,_a).clear(),b(this,bn,null),u(this,ye).clear(),u(this,ds).destroy(),(s=u(this,Nl))==null||s.destroy(),(i=u(this,Ds))==null||i.hide(),b(this,Ds,null),u(this,Ls)&&(clearTimeout(u(this,Ls)),b(this,Ls,null)),u(this,Is)&&(clearTimeout(u(this,Is)),b(this,Is,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,Cd)}get useNewAltTextFlow(){return u(this,bd)}get useNewAltTextWhenAddingImage(){return u(this,jl)}get hcmFilter(){return de(this,"hcmFilter",u(this,ka)?u(this,Ad).addHCMFilter(u(this,ka).foreground,u(this,ka).background):"none")}get direction(){return de(this,"direction",getComputedStyle(u(this,di)).direction)}get highlightColors(){return de(this,"highlightColors",u(this,Ml)?new Map(u(this,Ml).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return de(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){b(this,Ed,e)}editAltText(e,t=!1){var s;(s=u(this,Nl))==null||s.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":b(this,jl,t);break}}onPageChanging({pageNumber:e}){b(this,Rl,e-1)}focusMainContainer(){u(this,di).focus()}findParent(e,t){for(const s of u(this,Et).values()){const{x:i,y:r,width:a,height:o}=s.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=r&&t<=r+o)return s}return null}disableUserSelect(e=!1){u(this,kd).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,_a).add(e)}removeShouldRescale(e){u(this,_a).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*qr.PDF_TO_CSS_UNITS;for(const t of u(this,_a))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:s,anchorOffset:i,focusNode:r,focusOffset:a}=t,o=t.toString(),c=A(this,O,Vf).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(c);if(!d)return;t.empty();const h=A(this,O,dv).call(this,c),p=u(this,vt)===se.NONE,m=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:s,anchorOffset:i,focusNode:r,focusOffset:a,text:o}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(se.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&u(this,ci)&&!u(this,ci).has(e.id)&&u(this,ci).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,u(this,cr)&&(b(this,cr,!1),A(this,O,Uf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,ye))if(t.div.contains(e)){b(this,Ta,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,Ta))return;const[e,t]=u(this,Ta);b(this,Ta,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){A(this,O,hv).call(this),A(this,O,fv).call(this)}removeEditListeners(){A(this,O,nT).call(this),A(this,O,pv).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of u(this,hs))if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of u(this,hs))if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var s;if(e.preventDefault(),(s=u(this,bn))==null||s.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of u(this,ye)){const r=i.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const a of u(this,hs))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(r){re(`paste: "${r.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const l of s){const c=await i.deserialize(l);if(!c)return;r.push(c)}const a=()=>{for(const l of r)A(this,O,mv).call(this,l);A(this,O,gv).call(this,r)},o=()=>{for(const l of r)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(r){re(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,vt)!==se.NONE&&!this.isEditorHandlingKeyboard&&ml._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,cr)&&(b(this,cr,!1),A(this,O,Uf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(A(this,O,eT).call(this),A(this,O,fv).call(this),A(this,O,Yt).call(this,{isEditing:u(this,vt)!==se.NONE,isEmpty:A(this,O,du).call(this),hasSomethingToUndo:u(this,ds).hasSomethingToUndo(),hasSomethingToRedo:u(this,ds).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,O,tT).call(this),A(this,O,pv).call(this),A(this,O,Yt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,hs)){b(this,hs,e);for(const t of u(this,hs))A(this,O,Ji).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,tm).id}get currentLayer(){return u(this,Et).get(u(this,Rl))}getLayer(e){return u(this,Et).get(e)}get currentPageIndex(){return u(this,Rl)}addLayer(e){u(this,Et).set(e.pageIndex,e),u(this,ur)?e.enable():e.disable()}removeLayer(e){u(this,Et).delete(e.pageIndex)}async updateMode(e,t=null,s=!1){if(u(this,vt)!==e&&!(u(this,Hn)&&(await u(this,Hn).promise,!u(this,Hn)))){if(b(this,Hn,Promise.withResolvers()),b(this,vt,e),e===se.NONE){this.setEditingState(!1),A(this,O,rT).call(this),u(this,Hn).resolve();return}this.setEditingState(!0),await A(this,O,iT).call(this),this.unselectAll();for(const i of u(this,Et).values())i.updateMode(e);if(!t){s&&this.addNewEditorFromKeyboard(),u(this,Hn).resolve();return}for(const i of u(this,ot).values())i.annotationElementId===t?(this.setSelected(i),i.enterInEditMode()):i.unselect();u(this,Hn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==u(this,vt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var s;if(u(this,hs)){switch(e){case J.CREATE:this.currentLayer.addNewEditor();return;case J.HIGHLIGHT_DEFAULT_COLOR:(s=u(this,Ed))==null||s.updateColor(t);break;case J.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,_d)||b(this,_d,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of u(this,ye))i.updateParams(e,t);for(const i of u(this,hs))i.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){var r;for(const a of u(this,ot).values())a.editorType===e&&a.show(t);(((r=u(this,_d))==null?void 0:r.get(J.HIGHLIGHT_SHOW_ALL))??!0)!==t&&A(this,O,Ji).call(this,[[J.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,Sd)!==e){b(this,Sd,e);for(const t of u(this,Et).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const s of u(this,ot).values())s.pageIndex===e&&t.push(s);return t}getEditor(e){return u(this,ot).get(e)}addEditor(e){u(this,ot).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(u(this,Ls)&&clearTimeout(u(this,Ls)),b(this,Ls,setTimeout(()=>{this.focusMainContainer(),b(this,Ls,null)},0))),u(this,ot).delete(e.id),this.unselect(e),(!e.annotationElementId||!u(this,Ca).has(e.annotationElementId))&&((t=u(this,ci))==null||t.remove(e.id))}addDeletedAnnotationElement(e){u(this,Ca).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,Ca).has(e)}removeDeletedAnnotationElement(e){u(this,Ca).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,bn)!==e&&(b(this,bn,e),e&&A(this,O,Ji).call(this,e.propertiesToUpdate))}updateUI(e){u(this,O,aT)===e&&A(this,O,Ji).call(this,e.propertiesToUpdate)}toggleSelected(e){if(u(this,ye).has(e)){u(this,ye).delete(e),e.unselect(),A(this,O,Yt).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,ye).add(e),e.select(),A(this,O,Ji).call(this,e.propertiesToUpdate),A(this,O,Yt).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of u(this,ye))t!==e&&t.unselect();u(this,ye).clear(),u(this,ye).add(e),e.select(),A(this,O,Ji).call(this,e.propertiesToUpdate),A(this,O,Yt).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,ye).has(e)}get firstSelectedEditor(){return u(this,ye).values().next().value}unselect(e){e.unselect(),u(this,ye).delete(e),A(this,O,Yt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,ye).size!==0}get isEnterHandled(){return u(this,ye).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){u(this,ds).undo(),A(this,O,Yt).call(this,{hasSomethingToUndo:u(this,ds).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,O,du).call(this)})}redo(){u(this,ds).redo(),A(this,O,Yt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,ds).hasSomethingToRedo(),isEmpty:A(this,O,du).call(this)})}addCommands(e){u(this,ds).add(e),A(this,O,Yt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,O,du).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...u(this,ye)],t=()=>{for(const i of e)i.remove()},s=()=>{for(const i of e)A(this,O,mv).call(this,i)};this.addCommands({cmd:t,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=u(this,bn))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,bn)||this.hasSelection}selectAll(){for(const e of u(this,ye))e.commit();A(this,O,gv).call(this,u(this,ot).values())}unselectAll(){if(!(u(this,bn)&&(u(this,bn).commitOrRemove(),u(this,vt)!==se.NONE))&&this.hasSelection){for(const e of u(this,ye))e.unselect();u(this,ye).clear(),A(this,O,Yt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;u(this,hr)[0]+=e,u(this,hr)[1]+=t;const[i,r]=u(this,hr),a=[...u(this,ye)],o=1e3;u(this,Is)&&clearTimeout(u(this,Is)),b(this,Is,setTimeout(()=>{b(this,Is,null),u(this,hr)[0]=u(this,hr)[1]=0,this.addCommands({cmd:()=>{for(const l of a)u(this,ot).has(l.id)&&l.translateInPage(i,r)},undo:()=>{for(const l of a)u(this,ot).has(l.id)&&l.translateInPage(-i,-r)},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,Ms,new Map);for(const e of u(this,ye))u(this,Ms).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,Ms))return!1;this.disableUserSelect(!1);const e=u(this,Ms);b(this,Ms,null);let t=!1;for(const[{x:i,y:r,pageIndex:a},o]of e)o.newX=i,o.newY=r,o.newPageIndex=a,t||(t=i!==o.savedX||r!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const s=(i,r,a,o)=>{if(u(this,ot).has(i.id)){const l=u(this,Et).get(o);l?i._setParentAndPosition(l,r,a):(i.pageIndex=o,i.x=r,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:a,newPageIndex:o}]of e)s(i,r,a,o)},undo:()=>{for(const[i,{savedX:r,savedY:a,savedPageIndex:o}]of e)s(i,r,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,Ms))for(const s of u(this,Ms).keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,ye).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,bn)===e}getActive(){return u(this,bn)}getMode(){return u(this,vt)}get imageManager(){return de(this,"imageManager",new cv)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,d=t.rangeCount;c<d;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:s,y:i,width:r,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,d,h,p)=>({x:(d-i)/a,y:1-(c+h-s)/r,width:p/a,height:h/r});break;case"180":o=(c,d,h,p)=>({x:1-(c+h-s)/r,y:1-(d+p-i)/a,width:h/r,height:p/a});break;case"270":o=(c,d,h,p)=>({x:1-(d+p-i)/a,y:(c-s)/r,width:p/a,height:h/r});break;default:o=(c,d,h,p)=>({x:(c-s)/r,y:(d-i)/a,width:h/r,height:p/a});break}const l=[];for(let c=0,d=t.rangeCount;c<d;c++){const h=t.getRangeAt(c);if(!h.collapsed)for(const{x:p,y:m,width:y,height:x}of h.getClientRects())y===0||x===0||l.push(o(p,m,y,x))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,Pl)||b(this,Pl,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,Pl))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=u(this,Pl))==null?void 0:i.get(e.data.id);if(!t)return;const s=u(this,ci).getRawValue(t);s&&(u(this,vt)===se.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}};kl=new WeakMap,bn=new WeakMap,ot=new WeakMap,Et=new WeakMap,Nl=new WeakMap,ci=new WeakMap,Pl=new WeakMap,ds=new WeakMap,or=new WeakMap,Rl=new WeakMap,Ca=new WeakMap,Ms=new WeakMap,hs=new WeakMap,_a=new WeakMap,wd=new WeakMap,bd=new WeakMap,jl=new WeakMap,Ad=new WeakMap,Ls=new WeakMap,lr=new WeakMap,Ml=new WeakMap,cr=new WeakMap,Ds=new WeakMap,tm=new WeakMap,ur=new WeakMap,Sd=new WeakMap,dr=new WeakMap,Ta=new WeakMap,Ed=new WeakMap,Cd=new WeakMap,vt=new WeakMap,ye=new WeakMap,ui=new WeakMap,ka=new WeakMap,_d=new WeakMap,Td=new WeakMap,hr=new WeakMap,Is=new WeakMap,di=new WeakMap,kd=new WeakMap,Hn=new WeakMap,O=new WeakSet,Vf=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},dv=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of u(this,Et).values())if(s.hasTextLayer(e))return s;return null},Q_=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=A(this,O,Vf).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(s);i&&(u(this,Ds)||b(this,Ds,new UO(this)),u(this,Ds).show(s,i,this.direction==="ltr"))},J_=function(){var r,a,o;const e=document.getSelection();if(!e||e.isCollapsed){u(this,ui)&&((r=u(this,Ds))==null||r.hide(),b(this,ui,null),A(this,O,Yt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,ui))return;const i=A(this,O,Vf).call(this,e).closest(".textLayer");if(!i){u(this,ui)&&((a=u(this,Ds))==null||a.hide(),b(this,ui,null),A(this,O,Yt).call(this,{hasSelectedText:!1}));return}if((o=u(this,Ds))==null||o.hide(),b(this,ui,t),A(this,O,Yt).call(this,{hasSelectedText:!0}),!(u(this,vt)!==se.HIGHLIGHT&&u(this,vt)!==se.NONE)&&(u(this,vt)===se.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,cr,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u(this,vt)===se.HIGHLIGHT?A(this,O,dv).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,d=this.combinedSignal(c),h=p=>{p.type==="pointerup"&&p.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),p.type==="pointerup"&&A(this,O,Uf).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},Uf=function(e=""){u(this,vt)===se.HIGHLIGHT?this.highlightSelection(e):u(this,wd)&&A(this,O,Q_).call(this)},Z_=function(){document.addEventListener("selectionchange",A(this,O,J_).bind(this),{signal:this._signal})},eT=function(){if(u(this,lr))return;b(this,lr,new AbortController);const e=this.combinedSignal(u(this,lr));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},tT=function(){var e;(e=u(this,lr))==null||e.abort(),b(this,lr,null)},hv=function(){if(u(this,dr))return;b(this,dr,new AbortController);const e=this.combinedSignal(u(this,dr));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},nT=function(){var e;(e=u(this,dr))==null||e.abort(),b(this,dr,null)},fv=function(){if(u(this,or))return;b(this,or,new AbortController);const e=this.combinedSignal(u(this,or));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},pv=function(){var e;(e=u(this,or))==null||e.abort(),b(this,or,null)},sT=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Yt=function(e){Object.entries(e).some(([s,i])=>u(this,Td)[s]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Td),e)}),u(this,vt)===se.HIGHLIGHT&&e.hasSelectedEditor===!1&&A(this,O,Ji).call(this,[[J.HIGHLIGHT_FREE,!0]]))},Ji=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},iT=async function(){if(!u(this,ur)){b(this,ur,!0);const e=[];for(const t of u(this,Et).values())e.push(t.enable());await Promise.all(e);for(const t of u(this,ot).values())t.enable()}},rT=function(){if(this.unselectAll(),u(this,ur)){b(this,ur,!1);for(const e of u(this,Et).values())e.disable();for(const e of u(this,ot).values())e.disable()}},mv=function(e){const t=u(this,Et).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},aT=function(){let e=null;for(e of u(this,ye));return e},du=function(){if(u(this,ot).size===0)return!0;if(u(this,ot).size===1)for(const e of u(this,ot).values())return e.isEmpty();return!1},gv=function(e){for(const t of u(this,ye))t.unselect();u(this,ye).clear();for(const t of e)t.isEmpty()||(u(this,ye).add(t),t.select());A(this,O,Yt).call(this,{hasSelectedEditor:this.hasSelection})},Q(ml,"TRANSLATE_SMALL",1),Q(ml,"TRANSLATE_BIG",10);let ko=ml;var xt,Fs,fs,Ll,Os,An,Dl,Bs,cn,hi,Na,Vs,fr,Cs,hu,zf;const Qt=class Qt{constructor(e){E(this,Cs);E(this,xt,null);E(this,Fs,!1);E(this,fs,null);E(this,Ll,null);E(this,Os,null);E(this,An,null);E(this,Dl,!1);E(this,Bs,null);E(this,cn,null);E(this,hi,null);E(this,Na,null);E(this,Vs,!1);b(this,cn,e),b(this,Vs,e._uiManager.useNewAltTextFlow),u(Qt,fr)||b(Qt,fr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Qt._l10n??(Qt._l10n=e)}async render(){const e=b(this,fs,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=b(this,Ll,document.createElement("span"));e.append(t),u(this,Vs)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(Qt,fr).missing),t.setAttribute("data-l10n-id",u(Qt,fr)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=u(this,cn)._uiManager._signal;e.addEventListener("contextmenu",ss,{signal:s}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:s});const i=r=>{r.preventDefault(),u(this,cn)._uiManager.editAltText(u(this,cn)),u(this,Vs)&&u(this,cn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,Cs,hu)}})};return e.addEventListener("click",i,{capture:!0,signal:s}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(b(this,Dl,!0),i(r))},{signal:s}),await A(this,Cs,zf).call(this),e}finish(){u(this,fs)&&(u(this,fs).focus({focusVisible:u(this,Dl)}),b(this,Dl,!1))}isEmpty(){return u(this,Vs)?u(this,xt)===null:!u(this,xt)&&!u(this,Fs)}hasData(){return u(this,Vs)?u(this,xt)!==null||!!u(this,hi):this.isEmpty()}get guessedText(){return u(this,hi)}async setGuessedText(e){u(this,xt)===null&&(b(this,hi,e),b(this,Na,await Qt._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),A(this,Cs,zf).call(this))}toggleAltTextBadge(e=!1){var t;if(!u(this,Vs)||u(this,xt)){(t=u(this,Bs))==null||t.remove(),b(this,Bs,null);return}if(!u(this,Bs)){const s=b(this,Bs,document.createElement("div"));s.className="noAltTextBadge",u(this,cn).div.append(s)}u(this,Bs).classList.toggle("hidden",!e)}serialize(e){let t=u(this,xt);return!e&&u(this,hi)===t&&(t=u(this,Na)),{altText:t,decorative:u(this,Fs),guessedText:u(this,hi),textWithDisclaimer:u(this,Na)}}get data(){return{altText:u(this,xt),decorative:u(this,Fs)}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:i,cancel:r=!1}){s&&(b(this,hi,s),b(this,Na,i)),!(u(this,xt)===e&&u(this,Fs)===t)&&(r||(b(this,xt,e),b(this,Fs,t)),A(this,Cs,zf).call(this))}toggle(e=!1){u(this,fs)&&(!e&&u(this,An)&&(clearTimeout(u(this,An)),b(this,An,null)),u(this,fs).disabled=!e)}shown(){u(this,cn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,Cs,hu)}})}destroy(){var e,t;(e=u(this,fs))==null||e.remove(),b(this,fs,null),b(this,Ll,null),b(this,Os,null),(t=u(this,Bs))==null||t.remove(),b(this,Bs,null)}};xt=new WeakMap,Fs=new WeakMap,fs=new WeakMap,Ll=new WeakMap,Os=new WeakMap,An=new WeakMap,Dl=new WeakMap,Bs=new WeakMap,cn=new WeakMap,hi=new WeakMap,Na=new WeakMap,Vs=new WeakMap,fr=new WeakMap,Cs=new WeakSet,hu=function(){return u(this,xt)&&"added"||u(this,xt)===null&&this.guessedText&&"review"||"missing"},zf=async function(){var i,r,a;const e=u(this,fs);if(!e)return;if(u(this,Vs)){if(e.classList.toggle("done",!!u(this,xt)),e.setAttribute("data-l10n-id",u(Qt,fr)[u(this,Cs,hu)]),(i=u(this,Ll))==null||i.setAttribute("data-l10n-id",u(Qt,fr)[`${u(this,Cs,hu)}-label`]),!u(this,xt)){(r=u(this,Os))==null||r.remove();return}}else{if(!u(this,xt)&&!u(this,Fs)){e.classList.remove("done"),(a=u(this,Os))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=u(this,Os);if(!t){b(this,Os,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${u(this,cn).id}`;const o=100,l=u(this,cn)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(u(this,An)),b(this,An,null)},{once:!0}),e.addEventListener("mouseenter",()=>{b(this,An,setTimeout(()=>{b(this,An,null),u(this,Os).classList.add("show"),u(this,cn)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;u(this,An)&&(clearTimeout(u(this,An)),b(this,An,null)),(c=u(this,Os))==null||c.classList.remove("show")},{signal:l})}u(this,Fs)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=u(this,xt)),t.parentNode||e.append(t);const s=u(this,cn).getImageForAltText();s==null||s.setAttribute("aria-describedby",t.id)},E(Qt,fr,null),Q(Qt,"_l10n",null);let Kp=Qt;var Pa,ps,Fe,Il,Ra,Ct,ja,pr,Nd,Ma,mr,Pd,La,fi,Us,Fl,Ol,$n,Rd,nm,ie,yv,jd,vv,xv,oT,lT,wv,bv,Av,cT,Sv,uT,dT,hT,Ev,fu;const me=class me{constructor(e){E(this,ie);E(this,Pa,null);E(this,ps,null);E(this,Fe,null);E(this,Il,!1);E(this,Ra,!1);E(this,Ct,null);E(this,ja,null);E(this,pr,null);E(this,Nd,"");E(this,Ma,!1);E(this,mr,null);E(this,Pd,!1);E(this,La,!1);E(this,fi,!1);E(this,Us,null);E(this,Fl,0);E(this,Ol,0);E(this,$n,null);Q(this,"_editToolbar",null);Q(this,"_initialOptions",Object.create(null));Q(this,"_initialData",null);Q(this,"_isVisible",!0);Q(this,"_uiManager",null);Q(this,"_focusEventsAllowed",!0);E(this,Rd,!1);E(this,nm,me._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:i,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,i],this.pageTranslation=[r,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=me.prototype._resizeWithKeyboard,t=ko.TRANSLATE_SMALL,s=ko.TRANSLATE_BIG;return de(this,"_resizerKeyboardManager",new Vh([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],me.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return de(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new WO({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(me._l10n??(me._l10n=e),me._l10nResizer||(me._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),me._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);me._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ne("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,Rd)}set _isDraggable(e){var t;b(this,Rd,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,nm)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):A(this,ie,fu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,Ma)?b(this,Ma,!1):this.parent.setSelected(this))}focusout(e){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,i){const[r,a]=this.parentDimensions;[s,i]=this.screenToPageTranslation(s,i),this.x=(e+s)/r,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){A(this,ie,yv).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,mr)||b(this,mr,[this.x,this.y]),A(this,ie,yv).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){u(this,mr)||b(this,mr,[this.x,this.y]);const[s,i]=this.parentDimensions;if(this.x+=e/s,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[o,l]=this.getBaseTranslation();r+=o,a+=l,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!u(this,mr)&&(u(this,mr)[0]!==this.x||u(this,mr)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=me,i=s/e,r=s/t;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,s]=this.pageDimensions;let{x:i,y:r,width:a,height:o}=this;if(a*=t,o*=s,i*=t,r*=s,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-a,i)),r=Math.max(0,Math.min(s-o,r));break;case 90:i=Math.max(0,Math.min(t-o,i)),r=Math.min(s,Math.max(a,r));break;case 180:i=Math.min(t,Math.max(a,i)),r=Math.min(s,Math.max(o,r));break;case 270:i=Math.min(t,Math.max(o,i)),r=Math.max(0,Math.min(s-a,r));break}this.x=i/=t,this.y=r/=s;const[l,c]=this.getBaseTranslation();i+=l,r+=c;const{style:d}=this.div;d.left=`${(100*i).toFixed(2)}%`,d.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var s;return A(s=me,jd,vv).call(s,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var s;return A(s=me,jd,vv).call(s,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(e,t){const[s,i]=this.parentDimensions;this.div.style.width=`${(100*e/s).toFixed(2)}%`,u(this,Ra)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:s}=e,i=s.endsWith("%"),r=!u(this,Ra)&&t.endsWith("%");if(i&&r)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(s)/a).toFixed(2)}%`),!u(this,Ra)&&!r&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=u(this,Fe))==null||e.finish()}async addEditToolbar(){return this._editToolbar||u(this,La)?this._editToolbar:(this._editToolbar=new ov(this),this.div.append(this._editToolbar.render()),u(this,Fe)&&await this._editToolbar.addAltText(u(this,Fe)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=u(this,Fe))==null||e.destroy())}addContainer(e){var s;const t=(s=this._editToolbar)==null?void 0:s.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,Fe)||(Kp.initialize(me._l10n),b(this,Fe,new Kp(this)),u(this,Pa)&&(u(this,Fe).data=u(this,Pa),b(this,Pa,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=u(this,Fe))==null?void 0:e.data}set altTextData(e){u(this,Fe)&&(u(this,Fe).data=e)}get guessedAltText(){var e;return(e=u(this,Fe))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=u(this,Fe))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=u(this,Fe))==null?void 0:t.serialize(e)}hasAltText(){return!!u(this,Fe)&&!u(this,Fe).isEmpty()}hasAltTextData(){var e;return((e=u(this,Fe))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,Il)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),A(this,ie,Sv).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[s,i]=this.getInitialTranslation();return this.translate(s,i),Gp(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=tn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(b(this,Ma,!0),this._isDraggable){A(this,ie,cT).call(this,e);return}A(this,ie,Av).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){u(this,Us)&&clearTimeout(u(this,Us)),b(this,Us,setTimeout(()=>{var e;b(this,Us,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition()}getRect(e,t,s=this.rotation){const i=this.parentScale,[r,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,d=t/i,h=this.x*r,p=this.y*a,m=this.width*r,y=this.height*a;switch(s){case 0:return[h+c+o,a-p-d-y+l,h+c+m+o,a-p-d+l];case 90:return[h+d+o,a-p+c+l,h+d+y+o,a-p+c+m+l];case 180:return[h-c-m+o,a-p+d+l,h-c+o,a-p+d+y+l];case 270:return[h-d-y+o,a-p-c-m+l,h-d+o,a-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,i,r,a]=e,o=r-s,l=a-i;switch(this.rotation){case 0:return[s,t-a,o,l];case 90:return[s,t-i,l,o];case 180:return[r,t-i,o,l];case 270:return[r,t-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){b(this,La,!0)}disableEditMode(){b(this,La,!1)}isInEditMode(){return u(this,La)}shouldGetKeyboardEvents(){return u(this,fi)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){A(this,ie,Sv).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Ne("An editor must be serializable")}static async deserialize(e,t,s){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s});i.rotation=e.rotation,b(i,Pa,e.accessibilityData);const[r,a]=i.pageDimensions,[o,l,c,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/r,i.y=l/a,i.width=c/r,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=u(this,pr))==null||e.abort(),b(this,pr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,Us)&&(clearTimeout(u(this,Us)),b(this,Us,null)),A(this,ie,fu).call(this),this.removeEditToolbar(),u(this,$n)){for(const t of u(this,$n).values())clearTimeout(t);b(this,$n,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,ie,oT).call(this),u(this,Ct).classList.remove("hidden"),Gp(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),b(this,ja,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,Ct).children;if(!u(this,ps)){b(this,ps,Array.from(t));const a=A(this,ie,uT).bind(this),o=A(this,ie,dT).bind(this),l=this._uiManager._signal;for(const c of u(this,ps)){const d=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",A(this,ie,hT).bind(this,d),{signal:l}),c.setAttribute("data-l10n-id",me._l10nResizer[d])}}const s=u(this,ps)[0];let i=0;for(const a of t){if(a===s)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(u(this,ps).length/4);if(r!==i){if(r<i)for(let o=0;o<i-r;o++)u(this,Ct).append(u(this,Ct).firstChild);else if(r>i)for(let o=0;o<r-i;o++)u(this,Ct).firstChild.before(u(this,Ct).lastChild);let a=0;for(const o of t){const c=u(this,ps)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",me._l10nResizer[c])}}A(this,ie,Ev).call(this,0),b(this,fi,!0),u(this,Ct).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,fi)&&A(this,ie,bv).call(this,u(this,Nd),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){A(this,ie,fu).call(this),this.div.focus()}select(){var e,t,s;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(t=this._editToolbar)==null||t.show(),(s=u(this,Fe))==null||s.toggleAltTextBadge(!1)}unselect(){var e,t,s,i,r;(e=u(this,Ct))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(r=u(this,Fe))==null||r.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,Pd)}set isEditing(e){b(this,Pd,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){b(this,Ra,!0);const s=e/t,{style:i}=this.div;i.aspectRatio=s,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,$n)||b(this,$n,new Map);const{action:s}=e;let i=u(this,$n).get(s);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),u(this,$n).delete(s),u(this,$n).size===0&&b(this,$n,null)},me._telemetryTimeout),u(this,$n).set(s,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),b(this,Il,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,Il,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Pa=new WeakMap,ps=new WeakMap,Fe=new WeakMap,Il=new WeakMap,Ra=new WeakMap,Ct=new WeakMap,ja=new WeakMap,pr=new WeakMap,Nd=new WeakMap,Ma=new WeakMap,mr=new WeakMap,Pd=new WeakMap,La=new WeakMap,fi=new WeakMap,Us=new WeakMap,Fl=new WeakMap,Ol=new WeakMap,$n=new WeakMap,Rd=new WeakMap,nm=new WeakMap,ie=new WeakSet,yv=function([e,t],s,i){[s,i]=this.screenToPageTranslation(s,i),this.x+=s/e,this.y+=i/t,this.fixAndSetPosition()},jd=new WeakSet,vv=function(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},xv=function(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}},oT=function(){if(u(this,Ct))return;b(this,Ct,document.createElement("div")),u(this,Ct).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const i=document.createElement("div");u(this,Ct).append(i),i.classList.add("resizer",s),i.setAttribute("data-resizer-name",s),i.addEventListener("pointerdown",A(this,ie,lT).bind(this,s),{signal:t}),i.addEventListener("contextmenu",ss,{signal:t}),i.tabIndex=-1}this.div.prepend(u(this,Ct))},lT=function(e,t){var y;t.preventDefault();const{isMac:s}=tn.platform;if(t.button!==0||t.ctrlKey&&s)return;(y=u(this,Fe))==null||y.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",A(this,ie,bv).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",ss,{signal:a});const o=this.x,l=this.y,c=this.width,d=this.height,h=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const m=()=>{var x;r.abort(),this.parent.togglePointerEvents(!0),(x=u(this,Fe))==null||x.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=h,this.div.style.cursor=p,A(this,ie,wv).call(this,o,l,c,d)};window.addEventListener("pointerup",m,{signal:a}),window.addEventListener("blur",m,{signal:a})},wv=function(e,t,s,i){const r=this.x,a=this.y,o=this.width,l=this.height;r===e&&a===t&&o===s&&l===i||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=r,this.y=a;const[c,d]=this.parentDimensions;this.setDims(c*o,d*l),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=i,this.x=e,this.y=t;const[c,d]=this.parentDimensions;this.setDims(c*s,d*i),this.fixAndSetPosition()},mustExec:!0})},bv=function(e,t){const[s,i]=this.parentDimensions,r=this.x,a=this.y,o=this.width,l=this.height,c=me.MIN_SIZE/s,d=me.MIN_SIZE/i,h=I=>Math.round(I*1e4)/1e4,p=A(this,ie,xv).call(this,this.rotation),m=(I,R)=>[p[0]*I+p[2]*R,p[1]*I+p[3]*R],y=A(this,ie,xv).call(this,360-this.rotation),x=(I,R)=>[y[0]*I+y[2]*R,y[1]*I+y[3]*R];let S,g,v=!1,w=!1;switch(e){case"topLeft":v=!0,S=(I,R)=>[0,0],g=(I,R)=>[I,R];break;case"topMiddle":S=(I,R)=>[I/2,0],g=(I,R)=>[I/2,R];break;case"topRight":v=!0,S=(I,R)=>[I,0],g=(I,R)=>[0,R];break;case"middleRight":w=!0,S=(I,R)=>[I,R/2],g=(I,R)=>[0,R/2];break;case"bottomRight":v=!0,S=(I,R)=>[I,R],g=(I,R)=>[0,0];break;case"bottomMiddle":S=(I,R)=>[I/2,R],g=(I,R)=>[I/2,0];break;case"bottomLeft":v=!0,S=(I,R)=>[0,R],g=(I,R)=>[I,0];break;case"middleLeft":w=!0,S=(I,R)=>[0,R/2],g=(I,R)=>[I,R/2];break}const C=S(o,l),_=g(o,l);let k=m(..._);const N=h(r+k[0]),P=h(a+k[1]);let j=1,M=1,[D,q]=this.screenToPageTranslation(t.movementX,t.movementY);if([D,q]=x(D/s,q/i),v){const I=Math.hypot(o,l);j=M=Math.max(Math.min(Math.hypot(_[0]-C[0]-D,_[1]-C[1]-q)/I,1/o,1/l),c/o,d/l)}else w?j=Math.max(c,Math.min(1,Math.abs(_[0]-C[0]-D)))/o:M=Math.max(d,Math.min(1,Math.abs(_[1]-C[1]-q)))/l;const H=h(o*j),$=h(l*M);k=m(...g(H,$));const Z=N-k[0],Y=P-k[1];this.width=H,this.height=$,this.x=Z,this.y=Y,this.setDims(s*H,i*$),this.fixAndSetPosition()},Av=function(e){const{isMac:t}=tn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},cT=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const s=new AbortController,i=this._uiManager.combinedSignal(s);if(t){this.div.classList.add("moving"),b(this,Fl,e.clientX),b(this,Ol,e.clientY);const a=o=>{const{clientX:l,clientY:c}=o,[d,h]=this.screenToPageTranslation(l-u(this,Fl),c-u(this,Ol));b(this,Fl,l),b(this,Ol,c),this._uiManager.dragSelectedEditors(d,h)};window.addEventListener("pointermove",a,{passive:!0,capture:!0,signal:i})}const r=()=>{s.abort(),t&&this.div.classList.remove("moving"),b(this,Ma,!1),this._uiManager.endDragSession()||A(this,ie,Av).call(this,e)};window.addEventListener("pointerup",r,{signal:i}),window.addEventListener("blur",r,{signal:i})},Sv=function(){if(u(this,pr)||!this.div)return;b(this,pr,new AbortController);const e=this._uiManager.combinedSignal(u(this,pr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},uT=function(e){me._resizerKeyboardManager.exec(this,e)},dT=function(e){var t;u(this,fi)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,Ct)&&A(this,ie,fu).call(this)},hT=function(e){b(this,Nd,u(this,fi)?e:"")},Ev=function(e){if(u(this,ps))for(const t of u(this,ps))t.tabIndex=e},fu=function(){if(b(this,fi,!1),A(this,ie,Ev).call(this,-1),u(this,ja)){const{savedX:e,savedY:t,savedWidth:s,savedHeight:i}=u(this,ja);A(this,ie,wv).call(this,e,t,s,i),b(this,ja,null)}},E(me,jd),Q(me,"_l10n",null),Q(me,"_l10nResizer",null),Q(me,"_borderLineWidth",-1),Q(me,"_colorManager",new uv),Q(me,"_zIndex",1),Q(me,"_telemetryTimeout",1e3);let xe=me;class WO extends xe{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const lA=3285377520,Un=4294901760,Rs=65535;class fT{constructor(e){this.h1=e?e&4294967295:lA,this.h2=e?e&4294967295:lA}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let x=0,S=e.length;x<S;x++){const g=e.charCodeAt(x);g<=255?t[s++]=g:(t[s++]=g>>>8,t[s++]=g&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=s>>2,r=s-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,c=this.h1,d=this.h2;const h=3432918353,p=461845907,m=h&Rs,y=p&Rs;for(let x=0;x<i;x++)x&1?(o=a[x],o=o*h&Un|o*m&Rs,o=o<<15|o>>>17,o=o*p&Un|o*y&Rs,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[x],l=l*h&Un|l*m&Rs,l=l<<15|l>>>17,l=l*p&Un|l*y&Rs,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,r){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*h&Un|o*m&Rs,o=o<<15|o>>>17,o=o*p&Un|o*y&Rs,i&1?c^=o:d^=o}this.h1=c,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Un|e*36045&Rs,t=t*4283543511&Un|((t<<16|e>>>16)*2950163797&Un)>>>16,e^=t>>>1,e=e*444984403&Un|e*60499&Rs,t=t*3301882366&Un|((t<<16|e>>>16)*3120437893&Un)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Cv=Object.freeze({map:null,hash:"",transfer:void 0});var Da,Ia,wt,sm,pT;class cw{constructor(){E(this,sm);E(this,Da,!1);E(this,Ia,null);E(this,wt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=u(this,wt).get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return u(this,wt).get(e)}remove(e){if(u(this,wt).delete(e),u(this,wt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,wt).values())if(t instanceof xe)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=u(this,wt).get(e);let i=!1;if(s!==void 0)for(const[r,a]of Object.entries(t))s[r]!==a&&(i=!0,s[r]=a);else i=!0,u(this,wt).set(e,t);i&&A(this,sm,pT).call(this),t instanceof xe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,wt).has(e)}getAll(){return u(this,wt).size>0?sw(u(this,wt)):null}setAll(e){for(const[t,s]of Object.entries(e))this.setValue(t,s)}get size(){return u(this,wt).size}resetModified(){u(this,Da)&&(b(this,Da,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new mT(this)}get serializable(){if(u(this,wt).size===0)return Cv;const e=new Map,t=new fT,s=[],i=Object.create(null);let r=!1;for(const[a,o]of u(this,wt)){const l=o instanceof xe?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),r||(r=!!l.bitmap))}if(r)for(const a of e.values())a.bitmap&&s.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:Cv}get editorStats(){let e=null;const t=new Map;for(const s of u(this,wt).values()){if(!(s instanceof xe))continue;const i=s.telemetryFinalData;if(!i)continue;const{type:r}=i;t.has(r)||t.set(r,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const a=e[r]||(e[r]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let c=a.get(o);c||(c=new Map,a.set(o,c));const d=c.get(l)??0;c.set(l,d+1)}}for(const[s,i]of t)e[s]=i.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){b(this,Ia,null)}get modifiedIds(){if(u(this,Ia))return u(this,Ia);const e=[];for(const t of u(this,wt).values())!(t instanceof xe)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return b(this,Ia,{ids:new Set(e),hash:e.join(",")})}}Da=new WeakMap,Ia=new WeakMap,wt=new WeakMap,sm=new WeakSet,pT=function(){u(this,Da)||(b(this,Da,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Md;class mT extends cw{constructor(t){super();E(this,Md);const{map:s,hash:i,transfer:r}=t.serializable,a=structuredClone(s,r?{transfer:r}:null);b(this,Md,{map:a,hash:i,transfer:r})}get print(){Ne("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,Md)}get modifiedIds(){return de(this,"modifiedIds",{ids:new Set,hash:""})}}Md=new WeakMap;var Bl;class GO{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){E(this,Bl,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,Bl).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||u(this,Bl).has(e.loadedName))){if(dt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:i,style:r}=e,a=new FontFace(s,i,r);this.addNativeFontFace(a);try{await a.load(),u(this,Bl).add(s),t==null||t(e)}catch{re(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Ne("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(i){throw re(`Failed to load font '${s.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const i=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return de(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Gt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),de(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(dt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;s.length>0&&s[0].done;){const r=s.shift();setTimeout(r.callback,0)}}const{loadingRequests:s}=this,i={done:!1,complete:t,callback:e};return s.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return de(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(C,_){return C.charCodeAt(_)<<24|C.charCodeAt(_+1)<<16|C.charCodeAt(_+2)<<8|C.charCodeAt(_+3)&255}function i(C,_,k,N){const P=C.substring(0,_),j=C.substring(_+k);return P+N+j}let r,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function d(C,_){if(++c>30){re("Load test font never loaded."),_();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(d.bind(null,C,_))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=i(p,976,h.length,h);const y=16,x=1482184792;let S=s(p,y);for(r=0,a=h.length-3;r<a;r+=4)S=S-x+s(h,r)|0;r<h.length&&(S=S-x+s(h+"XXX",r)|0),p=i(p,y,4,PO(S));const g=`url(data:font/opentype;base64,${btoa(p)});`,v=`@font-face {font-family:"${h}";src:${g}}`;this.insertRule(v);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const C of[e.loadedName,h]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=C,w.append(_)}this._document.body.append(w),d(h,()=>{w.remove(),t.complete()})}}Bl=new WeakMap;class KO{constructor(e,{disableFontFace:t=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=s}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${IO(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let s;try{s=e.get(this.loadedName+"_path_"+t)}catch(r){re(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[t]=function(r,a){};const i=[];for(let r=0,a=s.length;r<a;)switch(s[r++]){case ni.BEZIER_CURVE_TO:{const[o,l,c,d,h,p]=s.slice(r,r+6);i.push(m=>m.bezierCurveTo(o,l,c,d,h,p)),r+=6}break;case ni.MOVE_TO:{const[o,l]=s.slice(r,r+2);i.push(c=>c.moveTo(o,l)),r+=2}break;case ni.LINE_TO:{const[o,l]=s.slice(r,r+2);i.push(c=>c.lineTo(o,l)),r+=2}break;case ni.QUADRATIC_CURVE_TO:{const[o,l,c,d]=s.slice(r,r+4);i.push(h=>h.quadraticCurveTo(o,l,c,d)),r+=4}break;case ni.RESTORE:i.push(o=>o.restore());break;case ni.SAVE:i.push(o=>o.save());break;case ni.SCALE:dt(i.length===2,"Scale command is only valid at the third position.");break;case ni.TRANSFORM:{const[o,l,c,d,h,p]=s.slice(r,r+6);i.push(m=>m.transform(o,l,c,d,h,p)),r+=6}break;case ni.TRANSLATE:{const[o,l]=s.slice(r,r+2);i.push(c=>c.translate(o,l)),r+=2}break}return this.compiledGlyphs[t]=function(a,o){i[0](a),i[1](a),a.scale(o,-o);for(let l=2,c=i.length;l<c;l++)i[l](a)}}}var Ld;class gT{constructor({enableHWA:e=!1}){E(this,Ld,!1);b(this,Ld,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!u(this,Ld)})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ne("Abstract method `_createCanvas` called.")}}Ld=new WeakMap;class XO extends gT{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class yT{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ne("Abstract method `_fetch` called.")}}class vT extends yT{async _fetch(e){const t=await zm(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Um(t)}}class xT{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,i,r){return"none"}destroy(e=!1){}}var Fa,Oa,zs,pi,Bt,im,Ba,B,Ft,$o,Wo,Hf,Go,wT,_v,Ko,pu,mu,Tv,gu;class qO extends xT{constructor({docId:t,ownerDocument:s=globalThis.document}){super();E(this,B);E(this,Fa);E(this,Oa);E(this,zs);E(this,pi);E(this,Bt);E(this,im);E(this,Ba,0);b(this,pi,t),b(this,Bt,s)}addFilter(t){if(!t)return"none";let s=u(this,B,Ft).get(t);if(s)return s;const[i,r,a]=A(this,B,Hf).call(this,t),o=t.length===1?i:`${i}${r}${a}`;if(s=u(this,B,Ft).get(o),s)return u(this,B,Ft).set(t,s),s;const l=`g_${u(this,pi)}_transfer_map_${qt(this,Ba)._++}`,c=A(this,B,Go).call(this,l);u(this,B,Ft).set(t,c),u(this,B,Ft).set(o,c);const d=A(this,B,Ko).call(this,l);return A(this,B,mu).call(this,i,r,a,d),c}addHCMFilter(t,s){var y;const i=`${t}-${s}`,r="base";let a=u(this,B,$o).get(r);if((a==null?void 0:a.key)===i||(a?((y=a.filter)==null||y.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},u(this,B,$o).set(r,a)),!t||!s))return a.url;const o=A(this,B,gu).call(this,t);t=G.makeHexColor(...o);const l=A(this,B,gu).call(this,s);if(s=G.makeHexColor(...l),u(this,B,Wo).style.color="",t==="#000000"&&s==="#ffffff"||t===s)return a.url;const c=new Array(256);for(let x=0;x<=255;x++){const S=x/255;c[x]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const d=c.join(","),h=`g_${u(this,pi)}_hcm_filter`,p=a.filter=A(this,B,Ko).call(this,h);A(this,B,mu).call(this,d,d,d,p),A(this,B,_v).call(this,p);const m=(x,S)=>{const g=o[x]/255,v=l[x]/255,w=new Array(S+1);for(let C=0;C<=S;C++)w[C]=g+C/S*(v-g);return w.join(",")};return A(this,B,mu).call(this,m(0,5),m(1,5),m(2,5),p),a.url=A(this,B,Go).call(this,h),a.url}addAlphaFilter(t){let s=u(this,B,Ft).get(t);if(s)return s;const[i]=A(this,B,Hf).call(this,[t]),r=`alpha_${i}`;if(s=u(this,B,Ft).get(r),s)return u(this,B,Ft).set(t,s),s;const a=`g_${u(this,pi)}_alpha_map_${qt(this,Ba)._++}`,o=A(this,B,Go).call(this,a);u(this,B,Ft).set(t,o),u(this,B,Ft).set(r,o);const l=A(this,B,Ko).call(this,a);return A(this,B,Tv).call(this,i,l),o}addLuminosityFilter(t){let s=u(this,B,Ft).get(t||"luminosity");if(s)return s;let i,r;if(t?([i]=A(this,B,Hf).call(this,[t]),r=`luminosity_${i}`):r="luminosity",s=u(this,B,Ft).get(r),s)return u(this,B,Ft).set(t,s),s;const a=`g_${u(this,pi)}_luminosity_map_${qt(this,Ba)._++}`,o=A(this,B,Go).call(this,a);u(this,B,Ft).set(t,o),u(this,B,Ft).set(r,o);const l=A(this,B,Ko).call(this,a);return A(this,B,wT).call(this,l),t&&A(this,B,Tv).call(this,i,l),o}addHighlightHCMFilter(t,s,i,r,a){var v;const o=`${s}-${i}-${r}-${a}`;let l=u(this,B,$o).get(t);if((l==null?void 0:l.key)===o||(l?((v=l.filter)==null||v.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},u(this,B,$o).set(t,l)),!s||!i))return l.url;const[c,d]=[s,i].map(A(this,B,gu).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,y]=[r,a].map(A(this,B,gu).bind(this));p<h&&([h,p,m,y]=[p,h,y,m]),u(this,B,Wo).style.color="";const x=(w,C,_)=>{const k=new Array(256),N=(p-h)/_,P=w/255,j=(C-w)/(255*_);let M=0;for(let D=0;D<=_;D++){const q=Math.round(h+D*N),H=P+D*j;for(let $=M;$<=q;$++)k[$]=H;M=q+1}for(let D=M;D<256;D++)k[D]=k[M-1];return k.join(",")},S=`g_${u(this,pi)}_hcm_${t}_filter`,g=l.filter=A(this,B,Ko).call(this,S);return A(this,B,_v).call(this,g),A(this,B,mu).call(this,x(m[0],y[0],5),x(m[1],y[1],5),x(m[2],y[2],5),g),l.url=A(this,B,Go).call(this,S),l.url}destroy(t=!1){t&&u(this,B,$o).size!==0||(u(this,zs)&&(u(this,zs).parentNode.parentNode.remove(),b(this,zs,null)),u(this,Oa)&&(u(this,Oa).clear(),b(this,Oa,null)),b(this,Ba,0))}}Fa=new WeakMap,Oa=new WeakMap,zs=new WeakMap,pi=new WeakMap,Bt=new WeakMap,im=new WeakMap,Ba=new WeakMap,B=new WeakSet,Ft=function(){return u(this,Oa)||b(this,Oa,new Map)},$o=function(){return u(this,im)||b(this,im,new Map)},Wo=function(){if(!u(this,zs)){const t=u(this,Bt).createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const i=u(this,Bt).createElementNS(ii,"svg");i.setAttribute("width",0),i.setAttribute("height",0),b(this,zs,u(this,Bt).createElementNS(ii,"defs")),t.append(i),i.append(u(this,zs)),u(this,Bt).body.append(t)}return u(this,zs)},Hf=function(t){if(t.length===1){const c=t[0],d=new Array(256);for(let p=0;p<256;p++)d[p]=c[p]/255;const h=d.join(",");return[h,h,h]}const[s,i,r]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=s[c]/255,o[c]=i[c]/255,l[c]=r[c]/255;return[a.join(","),o.join(","),l.join(",")]},Go=function(t){if(u(this,Fa)===void 0){b(this,Fa,"");const s=u(this,Bt).URL;s!==u(this,Bt).baseURI&&(Hm(s)?re('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,Fa,s.split("#",1)[0]))}return`url(${u(this,Fa)}#${t})`},wT=function(t){const s=u(this,Bt).createElementNS(ii,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(s)},_v=function(t){const s=u(this,Bt).createElementNS(ii,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(s)},Ko=function(t){const s=u(this,Bt).createElementNS(ii,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",t),u(this,B,Wo).append(s),s},pu=function(t,s,i){const r=u(this,Bt).createElementNS(ii,s);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)},mu=function(t,s,i,r){const a=u(this,Bt).createElementNS(ii,"feComponentTransfer");r.append(a),A(this,B,pu).call(this,a,"feFuncR",t),A(this,B,pu).call(this,a,"feFuncG",s),A(this,B,pu).call(this,a,"feFuncB",i)},Tv=function(t,s){const i=u(this,Bt).createElementNS(ii,"feComponentTransfer");s.append(i),A(this,B,pu).call(this,i,"feFuncA",t)},gu=function(t){return u(this,B,Wo).style.color=t,lw(getComputedStyle(u(this,B,Wo)).getPropertyValue("color"))};class bT{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ne("Abstract method `_fetch` called.")}}class AT extends bT{async _fetch(e){const t=await zm(e,"arraybuffer");return new Uint8Array(t)}}if(Gt){var kv=Promise.withResolvers(),Vu=null;(async()=>{const e=await mf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await mf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await mf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await mf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let r,a;return new Map(Object.entries({fs:e,http:t,https:s,url:i,canvas:r,path2d:a}))})().then(e=>{Vu=e,kv.resolve()},e=>{re(`loadPackages: ${e}`),Vu=new Map,kv.resolve()})}class Yr{static get promise(){return kv.promise}static get(e){return Vu==null?void 0:Vu.get(e)}}async function ST(n){const t=await Yr.get("fs").promises.readFile(n);return new Uint8Array(t)}class YO extends xT{}class QO extends gT{_createCanvas(e,t){return Yr.get("canvas").createCanvas(e,t)}}class JO extends yT{async _fetch(e){return ST(e)}}class ZO extends bT{async _fetch(e){return ST(e)}}const Zt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Nv(n,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,s),n.clip(i)}class uw{getPattern(){Ne("Abstract method `getPattern` called.")}}class e3 extends uw{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,i){let r;if(i===Zt.STROKE||i===Zt.FILL){const a=t.current.getClippedPathBoundingBox(i,Be(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=t.cachedCanvases.getCanvas("pattern",o,l),d=c.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),s=G.transform(s,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),Nv(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),r=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(s);r.setTransform(h)}else Nv(e,this._bbox),r=this._createGradient(e);return r}}function Vg(n,e,t,s,i,r,a,o){const l=e.coords,c=e.colors,d=n.data,h=n.width*4;let p;l[t+1]>l[s+1]&&(p=t,t=s,s=p,p=r,r=a,a=p),l[s+1]>l[i+1]&&(p=s,s=i,i=p,p=a,a=o,o=p),l[t+1]>l[s+1]&&(p=t,t=s,s=p,p=r,r=a,a=p);const m=(l[t]+e.offsetX)*e.scaleX,y=(l[t+1]+e.offsetY)*e.scaleY,x=(l[s]+e.offsetX)*e.scaleX,S=(l[s+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,v=(l[i+1]+e.offsetY)*e.scaleY;if(y>=v)return;const w=c[r],C=c[r+1],_=c[r+2],k=c[a],N=c[a+1],P=c[a+2],j=c[o],M=c[o+1],D=c[o+2],q=Math.round(y),H=Math.round(v);let $,Z,Y,I,R,U,W,ae;for(let ne=q;ne<=H;ne++){if(ne<S){const ue=ne<y?0:(y-ne)/(y-S);$=m-(m-x)*ue,Z=w-(w-k)*ue,Y=C-(C-N)*ue,I=_-(_-P)*ue}else{let ue;ne>v?ue=1:S===v?ue=0:ue=(S-ne)/(S-v),$=x-(x-g)*ue,Z=k-(k-j)*ue,Y=N-(N-M)*ue,I=P-(P-D)*ue}let pe;ne<y?pe=0:ne>v?pe=1:pe=(y-ne)/(y-v),R=m-(m-g)*pe,U=w-(w-j)*pe,W=C-(C-M)*pe,ae=_-(_-D)*pe;const $e=Math.round(Math.min($,R)),Xt=Math.round(Math.max($,R));let ge=h*ne+$e*4;for(let ue=$e;ue<=Xt;ue++)pe=($-ue)/($-R),pe<0?pe=0:pe>1&&(pe=1),d[ge++]=Z-(Z-U)*pe|0,d[ge++]=Y-(Y-W)*pe|0,d[ge++]=I-(I-ae)*pe|0,d[ge++]=255}}function t3(n,e,t){const s=e.coords,i=e.colors;let r,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(s.length/o)-1,c=o-1;for(r=0;r<l;r++){let d=r*o;for(let h=0;h<c;h++,d++)Vg(n,t,s[d],s[d+1],s[d+o],i[d],i[d+1],i[d+o]),Vg(n,t,s[d+o+1],s[d+1],s[d+o],i[d+o+1],i[d+1],i[d+o])}break;case"triangles":for(r=0,a=s.length;r<a;r+=3)Vg(n,t,s[r],s[r+1],s[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class n3 extends uw{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,s){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),m=c/h,y=d/p,x={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/m,scaleY:1/y},S=h+2*2,g=p+2*2,v=s.getCanvas("mesh",S,g),w=v.context,C=w.createImageData(h,p);if(t){const k=C.data;for(let N=0,P=k.length;N<P;N+=4)k[N]=t[0],k[N+1]=t[1],k[N+2]=t[2],k[N+3]=255}for(const k of this._figures)t3(C,k,x);return w.putImageData(C,2,2),{canvas:v.canvas,offsetX:o-2*m,offsetY:l-2*y,scaleX:m,scaleY:y}}getPattern(e,t,s,i){Nv(e,this._bbox);let r;if(i===Zt.SHADING)r=G.singularValueDecompose2dScale(Be(e));else if(r=G.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=G.singularValueDecompose2dScale(this.matrix);r=[r[0]*o[0],r[1]*o[1]]}const a=this._createMeshCanvas(r,i===Zt.SHADING?null:this._background,t.cachedCanvases);return i!==Zt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class s3 extends uw{getPattern(){return"hotpink"}}function i3(n){switch(n[0]){case"RadialAxial":return new e3(n);case"Mesh":return new n3(n);case"Dummy":return new s3}throw new Error(`Unknown IR type: ${n[0]}`)}const cA={COLORED:1,UNCOLORED:2},rm=class rm{constructor(e,t,s,i,r){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=s,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:s,paintType:i,tilingType:r,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),Bm("TilingType: "+r);const d=t[0],h=t[1],p=t[2],m=t[3],y=p-d,x=m-h,S=G.singularValueDecompose2dScale(this.matrix),g=G.singularValueDecompose2dScale(this.baseTransform),v=S[0]*g[0],w=S[1]*g[1];let C=y,_=x,k=!1,N=!1;const P=Math.ceil(l*v),j=Math.ceil(c*w),M=Math.ceil(y*v),D=Math.ceil(x*w);P>=M?C=l:k=!0,j>=D?_=c:N=!0;const q=this.getSizeAndScale(C,this.ctx.canvas.width,v),H=this.getSizeAndScale(_,this.ctx.canvas.height,w),$=e.cachedCanvases.getCanvas("pattern",q.size,H.size),Z=$.context,Y=o.createCanvasGraphics(Z);if(Y.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Y,i,a),Z.translate(-q.scale*d,-H.scale*h),Y.transform(q.scale,0,0,H.scale,0,0),Z.save(),this.clipBbox(Y,d,h,p,m),Y.baseTransform=Be(Y.ctx),Y.executeOperatorList(s),Y.endDrawing(),Z.restore(),k||N){const I=$.canvas;k&&(C=l),N&&(_=c);const R=this.getSizeAndScale(C,this.ctx.canvas.width,v),U=this.getSizeAndScale(_,this.ctx.canvas.height,w),W=R.size,ae=U.size,ne=e.cachedCanvases.getCanvas("pattern-workaround",W,ae),pe=ne.context,$e=k?Math.floor(y/l):0,Xt=N?Math.floor(x/c):0;for(let ge=0;ge<=$e;ge++)for(let ue=0;ue<=Xt;ue++)pe.drawImage(I,W*ge,ae*ue,W,ae,0,0,W,ae);return{canvas:ne.canvas,scaleX:R.scale,scaleY:U.scale,offsetX:d,offsetY:h}}return{canvas:$.canvas,scaleX:q.scale,scaleY:H.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,t,s){const i=Math.max(rm.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*s);return r>=i?r=i:s=r/e,{scale:s,size:r}}clipBbox(e,t,s,i,r){const a=i-t,o=r-s;e.ctx.rect(t,s,a,o),e.current.updateRectMinMax(Be(e.ctx),[t,s,i,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const i=e.ctx,r=e.current;switch(t){case cA.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case cA.UNCOLORED:const o=G.makeHexColor(s[0],s[1],s[2]);i.fillStyle=o,i.strokeStyle=o,r.fillColor=o,r.strokeColor=o;break;default:throw new NO(`Unsupported paint type: ${t}`)}}getPattern(e,t,s,i){let r=s;i!==Zt.SHADING&&(r=G.transform(r,t.baseTransform),this.matrix&&(r=G.transform(r,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};Q(rm,"MAX_PATTERN_SIZE",3e3);let Pv=rm;function r3({src:n,srcPos:e=0,dest:t,width:s,height:i,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const o=tn.isLittleEndian?4278190080:255,[l,c]=a?[r,o]:[o,r],d=s>>3,h=s&7,p=n.length;t=new Uint32Array(t.buffer);let m=0;for(let y=0;y<i;y++){for(const S=e+d;e<S;e++){const g=e<p?n[e]:255;t[m++]=g&128?c:l,t[m++]=g&64?c:l,t[m++]=g&32?c:l,t[m++]=g&16?c:l,t[m++]=g&8?c:l,t[m++]=g&4?c:l,t[m++]=g&2?c:l,t[m++]=g&1?c:l}if(h===0)continue;const x=e<p?n[e++]:255;for(let S=0;S<h;S++)t[m++]=x&1<<7-S?c:l}return{srcPos:e,destPos:m}}const uA=16,dA=100,a3=15,hA=10,fA=1e3,hn=16;function o3(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(s,i){e.translate(s,i),this.__originalTranslate(s,i)},n.scale=function(s,i){e.scale(s,i),this.__originalScale(s,i)},n.transform=function(s,i,r,a,o,l){e.transform(s,i,r,a,o,l),this.__originalTransform(s,i,r,a,o,l)},n.setTransform=function(s,i,r,a,o,l){e.setTransform(s,i,r,a,o,l),this.__originalSetTransform(s,i,r,a,o,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(s){e.rotate(s),this.__originalRotate(s)},n.clip=function(s){e.clip(s),this.__originalClip(s)},n.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},n.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},n.bezierCurveTo=function(t,s,i,r,a,o){e.bezierCurveTo(t,s,i,r,a,o),this.__originalBezierCurveTo(t,s,i,r,a,o)},n.rect=function(t,s,i,r){e.rect(t,s,i,r),this.__originalRect(t,s,i,r)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class l3{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,s)):(i=this.canvasFactory.create(t,s),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function gf(n,e,t,s,i,r,a,o,l,c){const[d,h,p,m,y,x]=Be(n);if(h===0&&p===0){const v=a*d+y,w=Math.round(v),C=o*m+x,_=Math.round(C),k=(a+l)*d+y,N=Math.abs(Math.round(k)-w)||1,P=(o+c)*m+x,j=Math.abs(Math.round(P)-_)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(m),w,_),n.drawImage(e,t,s,i,r,0,0,N,j),n.setTransform(d,h,p,m,y,x),[N,j]}if(d===0&&m===0){const v=o*p+y,w=Math.round(v),C=a*h+x,_=Math.round(C),k=(o+c)*p+y,N=Math.abs(Math.round(k)-w)||1,P=(a+l)*h+x,j=Math.abs(Math.round(P)-_)||1;return n.setTransform(0,Math.sign(h),Math.sign(p),0,w,_),n.drawImage(e,t,s,i,r,0,0,j,N),n.setTransform(d,h,p,m,y,x),[j,N]}n.drawImage(e,t,s,i,r,a,o,l,c);const S=Math.hypot(d,h),g=Math.hypot(p,m);return[S*l,g*c]}function c3(n){const{width:e,height:t}=n;if(e>fA||t>fA)return null;const s=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=e+1;let a=new Uint8Array(r*(t+1)),o,l,c;const d=e+7&-8;let h=new Uint8Array(d*t),p=0;for(const g of n.data){let v=128;for(;v>0;)h[p++]=g&v?0:255,v>>=1}let m=0;for(p=0,h[p]!==0&&(a[0]=1,++m),l=1;l<e;l++)h[p]!==h[p+1]&&(a[l]=h[p]?2:1,++m),p++;for(h[p]!==0&&(a[l]=2,++m),o=1;o<t;o++){p=o*d,c=o*r,h[p-d]!==h[p]&&(a[c]=h[p]?1:8,++m);let g=(h[p]?4:0)+(h[p-d]?8:0);for(l=1;l<e;l++)g=(g>>2)+(h[p+1]?4:0)+(h[p-d+1]?8:0),i[g]&&(a[c+l]=i[g],++m),p++;if(h[p-d]!==h[p]&&(a[c+l]=h[p]?2:4,++m),m>s)return null}for(p=d*(t-1),c=o*r,h[p]!==0&&(a[c]=8,++m),l=1;l<e;l++)h[p]!==h[p+1]&&(a[c+l]=h[p]?4:8,++m),p++;if(h[p]!==0&&(a[c+l]=4,++m),m>s)return null;const y=new Int32Array([0,r,-1,0,-r,0,0,0,1]),x=new Path2D;for(o=0;m&&o<=t;o++){let g=o*r;const v=g+e;for(;g<v&&!a[g];)g++;if(g===v)continue;x.moveTo(g%r,o);const w=g;let C=a[g];do{const _=y[C];do g+=_;while(!a[g]);const k=a[g];k!==5&&k!==10?(C=k,a[g]=0):(C=k&51*C>>4,a[g]&=C>>2|C<<2),x.lineTo(g%r,g/r|0),a[g]||--m}while(w!==g);--o}return h=null,a=null,function(g){g.save(),g.scale(1/e,-1/t),g.translate(0,-t),g.fill(x),g.beginPath(),g.restore()}}class pA{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=V_,this.textMatrixScale=1,this.fontMatrix=nv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=It.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,s){[t,s]=G.applyTransform([t,s],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(e,t){const s=G.applyTransform(t,e),i=G.applyTransform(t.slice(2),e),r=G.applyTransform([t[0],t[3]],e),a=G.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,s[0],i[0],r[0],a[0]),this.minY=Math.min(this.minY,s[1],i[1],r[1],a[1]),this.maxX=Math.max(this.maxX,s[0],i[0],r[0],a[0]),this.maxY=Math.max(this.maxY,s[1],i[1],r[1],a[1])}updateScalingPathMinMax(e,t){G.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,s,i,r,a,o,l,c,d){const h=G.bezierBoundingBox(t,s,i,r,a,o,l,c,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=Zt.FILL,t=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(e===Zt.STROKE){t||Ne("Stroke bounding box must include transform.");const i=G.singularValueDecompose2dScale(t),r=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;s[0]-=r,s[1]-=a,s[2]+=r,s[3]+=a}return s}updateClipFromPath(){const e=G.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Zt.FILL,t=null){return G.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function mA(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,s=e.width,i=t%hn,r=(t-i)/hn,a=i===0?r:r+1,o=n.createImageData(s,hn);let l=0,c;const d=e.data,h=o.data;let p,m,y,x;if(e.kind===If.GRAYSCALE_1BPP){const S=d.byteLength,g=new Uint32Array(h.buffer,0,h.byteLength>>2),v=g.length,w=s+7>>3,C=4294967295,_=tn.isLittleEndian?4278190080:255;for(p=0;p<a;p++){for(y=p<r?hn:i,c=0,m=0;m<y;m++){const k=S-l;let N=0;const P=k>w?s:k*8-7,j=P&-8;let M=0,D=0;for(;N<j;N+=8)D=d[l++],g[c++]=D&128?C:_,g[c++]=D&64?C:_,g[c++]=D&32?C:_,g[c++]=D&16?C:_,g[c++]=D&8?C:_,g[c++]=D&4?C:_,g[c++]=D&2?C:_,g[c++]=D&1?C:_;for(;N<P;N++)M===0&&(D=d[l++],M=128),g[c++]=D&M?C:_,M>>=1}for(;c<v;)g[c++]=0;n.putImageData(o,0,p*hn)}}else if(e.kind===If.RGBA_32BPP){for(m=0,x=s*hn*4,p=0;p<r;p++)h.set(d.subarray(l,l+x)),l+=x,n.putImageData(o,0,m),m+=hn;p<a&&(x=s*i*4,h.set(d.subarray(l,l+x)),n.putImageData(o,0,m))}else if(e.kind===If.RGB_24BPP)for(y=hn,x=s*y,p=0;p<a;p++){for(p>=r&&(y=i,x=s*y),c=0,m=x;m--;)h[c++]=d[l++],h[c++]=d[l++],h[c++]=d[l++],h[c++]=255;n.putImageData(o,0,p*hn)}else throw new Error(`bad image kind: ${e.kind}`)}function gA(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,i=t%hn,r=(t-i)/hn,a=i===0?r:r+1,o=n.createImageData(s,hn);let l=0;const c=e.data,d=o.data;for(let h=0;h<a;h++){const p=h<r?hn:i;({srcPos:l}=r3({src:c,srcPos:l,dest:d,width:s,height:p,nonBlackColor:0})),n.putImageData(o,0,h*hn)}}function tu(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)n[s]!==void 0&&(e[s]=n[s]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function yf(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Gt){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function yA(n,e){if(e)return!0;const t=G.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*qr.PDF_TO_CSS_UNITS);return t[0]<=s&&t[1]<=s}const u3=["butt","round","square"],d3=["miter","round","bevel"],h3={},vA={};var Jr,Rv,jv;const xw=class xw{constructor(e,t,s,i,r,{optionalContentConfig:a,markedContentStack:o=null},l,c){E(this,Jr);this.ctx=e,this.current=new pA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new l3(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:i=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,s){const l=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Be(this.compositeCtx))}this.ctx.save(),yf(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Be(this.ctx)}executeOperatorList(e,t,s,i){const r=e.argsArray,a=e.fnArray;let o=t||0;const l=r.length;if(l===o)return o;const c=l-o>hA&&typeof s=="function",d=c?Date.now()+a3:0;let h=0;const p=this.commonObjs,m=this.objs;let y;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,s),o;if(y=a[o],y!==cs.dependency)this[y].apply(this,r[o]);else for(const x of r[o]){const S=x.startsWith("g_")?p:m;if(!S.has(x))return S.get(x,s),o}if(o++,o===l)return o;if(c&&++h>hA){if(Date.now()>d)return s(),o;h=0}}}endDrawing(){A(this,Jr,Rv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),A(this,Jr,jv).call(this)}_scaleImage(e,t){const s=e.width??e.displayWidth,i=e.height??e.displayHeight;let r=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=s,l=i,c="prescale1",d,h;for(;r>2&&o>1||a>2&&l>1;){let p=o,m=l;r>2&&o>1&&(p=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),r/=o/p),a>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/m),d=this.cachedCanvases.getCanvas(c,p,m),h=d.context,h.clearRect(0,0,p,m),h.drawImage(e,0,0,o,l,0,0,p,m),e=d.canvas,o=p,l=m,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:s,height:i}=e,r=this.current.fillColor,a=this.current.patternFill,o=Be(t);let l,c,d,h;if((e.bitmap||e.data)&&e.count>1){const P=e.bitmap||e.data.buffer;c=JSON.stringify(a?o:[o.slice(0,4),r]),l=this._cachedBitmapsMap.get(P),l||(l=new Map,this._cachedBitmapsMap.set(P,l));const j=l.get(c);if(j&&!a){const M=Math.round(Math.min(o[0],o[2])+o[4]),D=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:j,offsetX:M,offsetY:D}}d=j}d||(h=this.cachedCanvases.getCanvas("maskCanvas",s,i),gA(h.context,e));let p=G.transform(o,[1/s,0,0,-1/i,0,0]);p=G.transform(p,[1,0,0,1,0,-i]);const[m,y,x,S]=G.getAxialAlignedBoundingBox([0,0,s,i],p),g=Math.round(x-m)||1,v=Math.round(S-y)||1,w=this.cachedCanvases.getCanvas("fillCanvas",g,v),C=w.context,_=m,k=y;C.translate(-_,-k),C.transform(...p),d||(d=this._scaleImage(h.canvas,si(C)),d=d.img,l&&a&&l.set(c,d)),C.imageSmoothingEnabled=yA(Be(C),e.interpolate),gf(C,d,0,0,d.width,d.height,0,0,s,i),C.globalCompositeOperation="source-in";const N=G.transform(si(C),[1,0,0,1,-_,-k]);return C.fillStyle=a?r.getPattern(t,this,N,Zt.FILL):r,C.fillRect(0,0,s,i),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,w.canvas)),{canvas:w.canvas,offsetX:Math.round(_),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=u3[e]}setLineJoin(e){this.ctx.lineJoin=d3[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,s]of e)switch(t){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(s,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const r=this.ctx;r.setTransform(...Be(this.suspendedCtx)),tu(this.suspendedCtx,r),o3(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),tu(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,i){const r=i[0],a=i[1],o=i[2]-r,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,s,o,l,t.subtype,t.backdrop,t.transferMap,r,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,i,r,a,o,l,c,d,h){let p=e.canvas,m=l-d,y=c-h;if(a){const S=G.makeHexColor(...a);if(m<0||y<0||m+s>p.width||y+i>p.height){const g=this.cachedCanvases.getCanvas("maskExtension",s,i),v=g.context;v.drawImage(p,-m,-y),v.globalCompositeOperation="destination-atop",v.fillStyle=S,v.fillRect(0,0,s,i),v.globalCompositeOperation="source-over",p=g.canvas,m=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const g=new Path2D;g.rect(m,y,s,i),e.clip(g),e.globalCompositeOperation="destination-atop",e.fillStyle=S,e.fillRect(m,y,s,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const x=new Path2D;x.rect(l,c,s,i),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(p,m,y,s,i,l,c,s,i),t.restore()}save(){this.inSMaskMode?(tu(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),tu(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,s,i,r,a){this.ctx.transform(e,t,s,i,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s){const i=this.ctx,r=this.current;let a=r.x,o=r.y,l,c;const d=Be(i),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,p=h?s.slice(0):null;for(let m=0,y=0,x=e.length;m<x;m++)switch(e[m]|0){case cs.rectangle:a=t[y++],o=t[y++];const S=t[y++],g=t[y++],v=a+S,w=o+g;i.moveTo(a,o),S===0||g===0?i.lineTo(v,w):(i.lineTo(v,o),i.lineTo(v,w),i.lineTo(a,w)),h||r.updateRectMinMax(d,[a,o,v,w]),i.closePath();break;case cs.moveTo:a=t[y++],o=t[y++],i.moveTo(a,o),h||r.updatePathMinMax(d,a,o);break;case cs.lineTo:a=t[y++],o=t[y++],i.lineTo(a,o),h||r.updatePathMinMax(d,a,o);break;case cs.curveTo:l=a,c=o,a=t[y+4],o=t[y+5],i.bezierCurveTo(t[y],t[y+1],t[y+2],t[y+3],a,o),r.updateCurvePathMinMax(d,l,c,t[y],t[y+1],t[y+2],t[y+3],a,o,p),y+=6;break;case cs.curveTo2:l=a,c=o,i.bezierCurveTo(a,o,t[y],t[y+1],t[y+2],t[y+3]),r.updateCurvePathMinMax(d,l,c,a,o,t[y],t[y+1],t[y+2],t[y+3],p),a=t[y+2],o=t[y+3],y+=4;break;case cs.curveTo3:l=a,c=o,a=t[y+2],o=t[y+3],i.bezierCurveTo(t[y],t[y+1],a,o,a,o),r.updateCurvePathMinMax(d,l,c,t[y],t[y+1],a,o,a,o,p),y+=4;break;case cs.closePath:i.closePath();break}h&&r.updateScalingPathMinMax(d,p),r.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,s=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(t.save(),t.strokeStyle=s.getPattern(t,this,si(t),Zt.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,s=this.current.fillColor,i=this.current.patternFill;let r=!1;i&&(t.save(),t.fillStyle=s.getPattern(t,this,si(t),Zt.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=h3}eoClip(){this.pendingClip=vA}beginText(){this.current.textMatrix=V_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const s of e)t.setTransform(...s.transform),t.translate(s.x,s.y),s.addToPath(t,s.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const s=this.commonObjs.get(e),i=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=s.fontMatrix||nv,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&re("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=s,this.current.fontSize=t,s.isType3Font)return;const r=s.loadedName||"sans-serif",a=((d=s.systemFontInfo)==null?void 0:d.css)||`"${r}", ${s.fallbackName}`;let o="normal";s.black?o="900":s.bold&&(o="bold");const l=s.italic?"italic":"normal";let c=t;t<uA?c=uA:t>dA&&(c=dA),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${o} ${c}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,s,i,r,a){this.current.textMatrix=[e,t,s,i,r,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,s,i){const r=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,d=l&It.FILL_STROKE_MASK,h=!!(l&It.ADD_TO_PATH_FLAG),p=a.patternFill&&!o.missingFile;let m;(o.disableFontFace||h||p)&&(m=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||p?(r.save(),r.translate(t,s),r.beginPath(),m(r,c),i&&r.setTransform(...i),(d===It.FILL||d===It.FILL_STROKE)&&r.fill(),(d===It.STROKE||d===It.FILL_STROKE)&&r.stroke(),r.restore()):((d===It.FILL||d===It.FILL_STROKE)&&r.fillText(e,t,s),(d===It.STROKE||d===It.FILL_STROKE)&&r.strokeText(e,t,s)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Be(r),x:t,y:s,fontSize:c,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){s=!0;break}return de(this,"isFontSubpixelAAEnabled",s)}showText(e){const t=this.current,s=t.font;if(s.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const r=this.ctx,a=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,d=t.textHScale*c,h=e.length,p=s.vertical,m=p?1:-1,y=s.defaultVMetrics,x=i*t.fontMatrix[0],S=t.textRenderingMode===It.FILL&&!s.disableFontFace&&!t.patternFill;r.save(),r.transform(...t.textMatrix),r.translate(t.x,t.y+t.textRise),c>0?r.scale(d,-1):r.scale(d,1);let g;if(t.patternFill){r.save();const k=t.fillColor.getPattern(r,this,si(r),Zt.FILL);g=Be(r),r.restore(),r.fillStyle=k}let v=t.lineWidth;const w=t.textMatrixScale;if(w===0||v===0){const k=t.textRenderingMode&It.FILL_STROKE_MASK;(k===It.STROKE||k===It.FILL_STROKE)&&(v=this.getSinglePixelWidth())}else v/=w;if(a!==1&&(r.scale(a,a),v/=a),r.lineWidth=v,s.isInvalidPDFjsFont){const k=[];let N=0;for(const P of e)k.push(P.unicode),N+=P.width;r.fillText(k.join(""),0,0),t.x+=N*x*d,r.restore(),this.compose();return}let C=0,_;for(_=0;_<h;++_){const k=e[_];if(typeof k=="number"){C+=m*k*i/1e3;continue}let N=!1;const P=(k.isSpace?l:0)+o,j=k.fontChar,M=k.accent;let D,q,H=k.width;if(p){const Z=k.vmetric||y,Y=-(k.vmetric?Z[1]:H*.5)*x,I=Z[2]*x;H=Z?-Z[0]:H,D=Y/a,q=(C+I)/a}else D=C/a,q=0;if(s.remeasure&&H>0){const Z=r.measureText(j).width*1e3/i*a;if(H<Z&&this.isFontSubpixelAAEnabled){const Y=H/Z;N=!0,r.save(),r.scale(Y,1),D/=Y}else H!==Z&&(D+=(H-Z)/2e3*i/a)}if(this.contentVisible&&(k.isInFont||s.missingFile)){if(S&&!M)r.fillText(j,D,q);else if(this.paintChar(j,D,q,g),M){const Z=D+i*M.offset.x/a,Y=q-i*M.offset.y/a;this.paintChar(M.fontChar,Z,Y,g)}}const $=p?H*x-P*c:H*x+P*c;C+=$,N&&r.restore()}p?t.y-=C:t.x+=C*d,r.restore(),this.compose()}showType3Text(e){const t=this.ctx,s=this.current,i=s.font,r=s.fontSize,a=s.fontDirection,o=i.vertical?1:-1,l=s.charSpacing,c=s.wordSpacing,d=s.textHScale*a,h=s.fontMatrix||nv,p=e.length,m=s.textRenderingMode===It.INVISIBLE;let y,x,S,g;if(!(m||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...s.textMatrix),t.translate(s.x,s.y),t.scale(d,a),y=0;y<p;++y){if(x=e[y],typeof x=="number"){g=o*x*r/1e3,this.ctx.translate(g,0),s.x+=g*d;continue}const v=(x.isSpace?c:0)+l,w=i.charProcOperatorList[x.operatorListId];if(!w){re(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),t.scale(r,r),t.transform(...h),this.executeOperatorList(w),this.restore()),S=G.applyTransform([x.width,0],h)[0]*r+v,t.translate(S,0),s.x+=S*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,s,i,r,a){this.ctx.rect(s,i,r-s,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const s=e[1],i=this.baseTransform||Be(this.ctx),r={createCanvasGraphics:a=>new xw(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Pv(e,s,this.ctx,r,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,s){this.ctx.strokeStyle=this.current.strokeColor=G.makeHexColor(e,t,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,s){this.ctx.fillStyle=this.current.fillColor=G.makeHexColor(e,t,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=i3(this.getObject(e)),this.cachedPatterns.set(e,s)),t&&(s.matrix=t),s}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const s=this._getPattern(e);t.fillStyle=s.getPattern(t,this,si(t),Zt.SHADING);const i=si(t);if(i){const{width:r,height:a}=t.canvas,[o,l,c,d]=G.getAxialAlignedBoundingBox([0,0,r,a],i);this.ctx.fillRect(o,l,c-o,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ne("Should not call beginInlineImage")}beginImageData(){Ne("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Be(this.ctx),t)){const s=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],s,i),this.current.updateRectMinMax(Be(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Bm("TODO: Support non-isolated groups."),e.knockout&&re("Knockout groups not supported.");const s=Be(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=G.getAxialAlignedBoundingBox(e.bbox,Be(t));const r=[0,0,t.canvas.width,t.canvas.height];i=G.intersect(i,r)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-a,1),c=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,c),p=h.context;p.translate(-a,-o),p.transform(...s),e.smask?this.smaskStack.push({canvas:h.canvas,context:p,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),tu(t,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Be(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const r=G.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(e,t,s,i,r){if(A(this,Jr,Rv).call(this),yf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(r&&this.annotationCanvasMap){s=s.slice(),s[4]-=t[0],s[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[l,c]=G.singularValueDecompose2dScale(Be(this.ctx)),{viewportScale:d}=this,h=Math.ceil(a*this.outputScaleX*d),p=Math.ceil(o*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,o*c),yf(this.ctx)}else yf(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new pA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),A(this,Jr,jv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const s=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=c3(e)),i.compiled)){i.compiled(s);return}const r=this._createMaskCanvas(e),a=r.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(a,r.offsetX,r.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s=0,i=0,r,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Be(o);o.transform(t,s,i,r,0,0);const c=this._createMaskCanvas(e);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let d=0,h=a.length;d<h;d+=2){const p=G.transform(l,[t,s,i,r,a[d],a[d+1]]),[m,y]=G.applyTransform([0,0],p);o.drawImage(c.canvas,m,y)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,s=this.current.fillColor,i=this.current.patternFill;for(const r of e){const{data:a,width:o,height:l,transform:c}=r,d=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=d.context;h.save();const p=this.getObject(a,r);gA(h,p),h.globalCompositeOperation="source-in",h.fillStyle=i?s.getPattern(h,this,si(t),Zt.FILL):s,h.fillRect(0,0,o,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),gf(t,d.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){re("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,s,i){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){re("Dependent image isn't ready yet");return}const a=r.width,o=r.height,l=[];for(let c=0,d=i.length;c<d;c+=2)l.push({transform:[t,0,0,s,i[c],i[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",s,i),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,s=e.height,i=this.ctx;if(this.save(),!Gt){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/t,-1/s);let r;if(e.bitmap)r=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)r=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,s).context;mA(l,e),r=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(r,si(i));i.imageSmoothingEnabled=yA(Be(i),e.interpolate),gf(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-s,t,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const r=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",r,a).context;mA(l,e),i=this.applyTransferMapsToCanvas(l)}for(const r of t)s.save(),s.transform(...r.transform),s.scale(1,-1),gf(s,i,r.x,r.y,r.w,r.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(t||(this.pendingClip===vA?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Be(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:i,d:r}=this.ctx.getTransform();let a,o;if(s===0&&i===0){const l=Math.abs(t),c=Math.abs(r);if(l===c)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/c;else{const d=l*e,h=c*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(t*r-s*i),c=Math.hypot(t,s),d=Math.hypot(i,r);if(e===0)a=d/l,o=c/l;else{const h=e*l;a=d>h?d/h:1,o=c>h?c/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:s}=this.current,[i,r]=this.getScaleForStroking();if(t.lineWidth=s||1,i===1&&r===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,r),a.length>0){const o=Math.max(i,r);t.setLineDash(a.map(l=>l/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Jr=new WeakSet,Rv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},jv=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Al=xw;for(const n in cs)Al.prototype[n]!==void 0&&(Al.prototype[cs[n]]=Al.prototype[n]);var Dd,Id;class Mi{static get workerPort(){return u(this,Dd)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");b(this,Dd,e)}static get workerSrc(){return u(this,Id)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");b(this,Id,e)}}Dd=new WeakMap,Id=new WeakMap,E(Mi,Dd,null),E(Mi,Id,"");const vf={UNKNOWN:0,DATA:1,ERROR:2},et={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Ne('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Bo(n.message);case"MissingPDFException":return new Oo(n.message);case"PasswordException":return new sv(n.message,n.code);case"UnexpectedResponseException":return new Vm(n.message,n.status);case"UnknownErrorException":return new iv(n.message,n.details);default:return new iv(n.message,n.toString())}}var Vl,es,ET,CT,_T,$f;class yu{constructor(e,t,s){E(this,es);E(this,Vl,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",A(this,es,ET).bind(this),{signal:u(this,Vl).signal})}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},s)}catch(a){r.reject(a)}return r.promise}sendWithStream(e,t,s,i){const r=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const d=Promise.withResolvers();return this.streamControllers[r]={controller:c,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:r,data:t,desiredSize:c.desiredSize},i),d.promise},pull:c=>{const d=Promise.withResolvers();return this.streamControllers[r].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:et.PULL,streamId:r,desiredSize:c.desiredSize}),d.promise},cancel:c=>{dt(c instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[r].cancelCall=d,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:et.CANCEL,streamId:r,reason:wn(c)}),d.promise}},s)}destroy(){var e;(e=u(this,Vl))==null||e.abort(),b(this,Vl,null)}}Vl=new WeakMap,es=new WeakSet,ET=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){A(this,es,_T).call(this,e);return}if(e.callback){const s=e.callbackId,i=this.callbackCapabilities[s];if(!i)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===vf.DATA)i.resolve(e.data);else if(e.callback===vf.ERROR)i.reject(wn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,i=e.sourceName,r=this.comObj;new Promise(function(a){a(t(e.data))}).then(function(a){r.postMessage({sourceName:s,targetName:i,callback:vf.DATA,callbackId:e.callbackId,data:a})},function(a){r.postMessage({sourceName:s,targetName:i,callback:vf.ERROR,callbackId:e.callbackId,reason:wn(a)})});return}if(e.streamId){A(this,es,CT).call(this,e);return}t(e.data)},CT=function(e){const t=e.streamId,s=this.sourceName,i=e.sourceName,r=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,d=1,h){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=d,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:s,targetName:i,stream:et.ENQUEUE,streamId:t,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:i,stream:et.CLOSE,streamId:t}),delete a.streamSinks[t])},error(c){dt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:i,stream:et.ERROR,streamId:t,reason:wn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(o(e.data,l))}).then(function(){r.postMessage({sourceName:s,targetName:i,stream:et.START_COMPLETE,streamId:t,success:!0})},function(c){r.postMessage({sourceName:s,targetName:i,stream:et.START_COMPLETE,streamId:t,reason:wn(c)})})},_T=function(e){const t=e.streamId,s=this.sourceName,i=e.sourceName,r=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case et.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(wn(e.reason));break;case et.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(wn(e.reason));break;case et.PULL:if(!o){r.postMessage({sourceName:s,targetName:i,stream:et.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=o.onPull)==null?void 0:c.call(o))}).then(function(){r.postMessage({sourceName:s,targetName:i,stream:et.PULL_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:s,targetName:i,stream:et.PULL_COMPLETE,streamId:t,reason:wn(l)})});break;case et.ENQUEUE:if(dt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case et.CLOSE:if(dt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),A(this,es,$f).call(this,a,t);break;case et.ERROR:dt(a,"error should have stream controller"),a.controller.error(wn(e.reason)),A(this,es,$f).call(this,a,t);break;case et.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(wn(e.reason)),A(this,es,$f).call(this,a,t);break;case et.CANCEL:if(!o)break;new Promise(function(l){var c;l((c=o.onCancel)==null?void 0:c.call(o,wn(e.reason)))}).then(function(){r.postMessage({sourceName:s,targetName:i,stream:et.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:s,targetName:i,stream:et.CANCEL_COMPLETE,streamId:t,reason:wn(l)})}),o.sinkCapability.reject(wn(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},$f=async function(e,t){var s,i,r;await Promise.allSettled([(s=e.startCall)==null?void 0:s.promise,(i=e.pullCall)==null?void 0:i.promise,(r=e.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[t]};var Va,Fd;class f3{constructor({parsedData:e,rawData:t}){E(this,Va);E(this,Fd);b(this,Va,e),b(this,Fd,t)}getRaw(){return u(this,Fd)}get(e){return u(this,Va).get(e)??null}getAll(){return sw(u(this,Va))}has(e){return u(this,Va).has(e)}}Va=new WeakMap,Fd=new WeakMap;const Xo=Symbol("INTERNAL");var Od,Bd,Vd,Ul;class p3{constructor(e,{name:t,intent:s,usage:i,rbGroups:r}){E(this,Od,!1);E(this,Bd,!1);E(this,Vd,!1);E(this,Ul,!0);b(this,Od,!!(e&Nn.DISPLAY)),b(this,Bd,!!(e&Nn.PRINT)),this.name=t,this.intent=s,this.usage=i,this.rbGroups=r}get visible(){if(u(this,Vd))return u(this,Ul);if(!u(this,Ul))return!1;const{print:e,view:t}=this.usage;return u(this,Od)?(t==null?void 0:t.viewState)!=="OFF":u(this,Bd)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,s=!1){e!==Xo&&Ne("Internal method `_setVisible` called."),b(this,Vd,s),b(this,Ul,t)}}Od=new WeakMap,Bd=new WeakMap,Vd=new WeakMap,Ul=new WeakMap;var gr,ve,zl,Hl,Ud,Mv;class m3{constructor(e,t=Nn.DISPLAY){E(this,Ud);E(this,gr,null);E(this,ve,new Map);E(this,zl,null);E(this,Hl,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,b(this,Hl,e.order);for(const s of e.groups)u(this,ve).set(s.id,new p3(t,s));if(e.baseState==="OFF")for(const s of u(this,ve).values())s._setVisible(Xo,!1);for(const s of e.on)u(this,ve).get(s)._setVisible(Xo,!0);for(const s of e.off)u(this,ve).get(s)._setVisible(Xo,!1);b(this,zl,this.getHash())}}isVisible(e){if(u(this,ve).size===0)return!0;if(!e)return Bm("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,ve).has(e.id)?u(this,ve).get(e.id).visible:(re(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return A(this,Ud,Mv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,ve).has(t))return re(`Optional content group not found: ${t}`),!0;if(u(this,ve).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,ve).has(t))return re(`Optional content group not found: ${t}`),!0;if(!u(this,ve).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,ve).has(t))return re(`Optional content group not found: ${t}`),!0;if(!u(this,ve).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,ve).has(t))return re(`Optional content group not found: ${t}`),!0;if(u(this,ve).get(t).visible)return!1}return!0}return re(`Unknown optional content policy ${e.policy}.`),!0}return re(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){var r;const i=u(this,ve).get(e);if(!i){re(`Optional content group not found: ${e}`);return}if(s&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((r=u(this,ve).get(o))==null||r._setVisible(Xo,!1,!0));i._setVisible(Xo,!!t,!0),b(this,gr,null)}setOCGState({state:e,preserveRB:t}){let s;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":s=i;continue}const r=u(this,ve).get(i);if(r)switch(s){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!r.visible,t);break}}b(this,gr,null)}get hasInitialVisibility(){return u(this,zl)===null||this.getHash()===u(this,zl)}getOrder(){return u(this,ve).size?u(this,Hl)?u(this,Hl).slice():[...u(this,ve).keys()]:null}getGroups(){return u(this,ve).size>0?sw(u(this,ve)):null}getGroup(e){return u(this,ve).get(e)||null}getHash(){if(u(this,gr)!==null)return u(this,gr);const e=new fT;for(const[t,s]of u(this,ve))e.update(`${t}:${s.visible}`);return b(this,gr,e.hexdigest())}}gr=new WeakMap,ve=new WeakMap,zl=new WeakMap,Hl=new WeakMap,Ud=new WeakSet,Mv=function(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let i=1;i<t;i++){const r=e[i];let a;if(Array.isArray(r))a=A(this,Ud,Mv).call(this,r);else if(u(this,ve).has(r))a=u(this,ve).get(r).visible;else return re(`Optional content group not found: ${r}`),!0;switch(s){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return s==="And"};class g3{constructor(e,{disableRange:t=!1,disableStream:s=!1}){dt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(r==null?void 0:r.length)>0){const l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const i=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(s),!0)});dt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,s,i,r;e.total===void 0?(s=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||s.call(t,{loaded:e.loaded}):(r=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||r.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){dt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new y3(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new v3(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class y3{constructor(e,t,s=!1,i=null){this._stream=e,this._done=s||!1,this._filename=aw(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class v3{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function x3(n){let e=!0,t=s("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=c(d),r(d)}if(t=a(n),t){const d=c(t);return r(d)}if(t=s("filename","i").exec(n),t){t=t[1];let d=o(t);return d=c(d),r(d)}function s(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const p=new TextDecoder(d,{fatal:!0}),m=Um(h);h=p.decode(m),e=!1}catch{}}return h}function r(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const h=[];let p;const m=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=m.exec(d))!==null;){let[,x,S,g]=p;if(x=parseInt(x,10),x in h){if(x===0)break;continue}h[x]=[S,g]}const y=[];for(let x=0;x<h.length&&x in h;++x){let[S,g]=h[x];g=o(g),S&&(g=unescape(g),x===0&&(g=l(g))),y.push(g)}return y.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let p=0;p<h.length;++p){const m=h[p].indexOf('"');m!==-1&&(h[p]=h[p].slice(0,m),h.length=p+1),h[p]=h[p].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const p=d.slice(0,h),y=d.slice(h+1).replace(/^[^']*'/,"");return i(p,y)}function c(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,p,m,y){if(m==="q"||m==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,S){return String.fromCharCode(parseInt(S,16))}),i(p,y);try{y=atob(y)}catch{}return i(p,y)})}return""}function dw(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const s in e){const i=e[s];i!==void 0&&t.append(s,i)}return t}function hw({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:s}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n.get("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*t)||s||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function fw(n){const e=n.get("Content-Disposition");if(e){let t=x3(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(aw(t))return t}return null}function $m(n,e){return n===404||n===0&&e.startsWith("file:")?new Oo('Missing PDF "'+e+'".'):new Vm(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function TT(n){return n===200||n===206}function kT(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function NT(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(re(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class xA{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=dw(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return dt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new w3(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new b3(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class w3{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),i=t.url;fetch(i,kT(s,this._withCredentials,this._abortController)).then(r=>{if(!TT(r.status))throw $m(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const a=r.headers,{allowRangeRequests:o,suggestedLength:l}=hw({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=fw(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Bo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:NT(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class b3{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${s-1}`);const a=i.url;fetch(a,kT(r,this._withCredentials,this._abortController)).then(o=>{if(!TT(o.status))throw $m(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:NT(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Ug=200,zg=206;function A3(n){const e=n.response;return typeof e!="string"?e:Um(e).buffer}class S3{constructor({url:e,httpHeaders:t,withCredentials:s}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=dw(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,s){const i={begin:e,end:t};for(const r in s)i[r]=s[r];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,i=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,a]of this.headers)t.setRequestHeader(r,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=zg):i.expectedStatus=Ug,t.responseType="arraybuffer",e.onError&&(t.onerror=function(r){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){var i;const s=this.pendingRequests[e];s&&((i=s.onProgress)==null||i.call(s,t))}onStateChange(e,t){var l,c,d;const s=this.pendingRequests[e];if(!s)return;const i=s.xhr;if(i.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=s.onError)==null||l.call(s,i.status);return}const r=i.status||Ug;if(!(r===Ug&&s.expectedStatus===zg)&&r!==s.expectedStatus){(c=s.onError)==null||c.call(s,i.status);return}const o=A3(i);if(r===zg){const h=i.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);s.onDone({begin:parseInt(p[1],10),chunk:o})}else o?s.onDone({begin:0,chunk:o}):(d=s.onError)==null||d.call(s,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class E3{constructor(e){this._source=e,this._manager=new S3(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return dt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new C3(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new _3(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class C3{constructor(e,t){this._manager=e;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),s=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(a=>{const[o,...l]=a.split(": ");return[o,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:r}=hw({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=fw(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=$m(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _3{constructor(e,t,s){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,s,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=$m(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const T3=/^[a-z][a-z0-9\-+.]+:/i;function k3(n){if(T3.test(n))return new URL(n);const e=Yr.get("url");return new URL(e.pathToFileURL(n))}function PT(n,e,t){return n.protocol==="http:"?Yr.get("http").request(n,{headers:e},t):Yr.get("https").request(n,{headers:e},t)}class N3{constructor(e){this.source=e,this.url=k3(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=dw(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return dt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new j3(this):new P3(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=this.isFsUrl?new M3(this,e,t):new R3(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class RT{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Bo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class jT{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class P3 extends RT{constructor(e){super(e);const t=Object.fromEntries(e.headers),s=i=>{if(i.statusCode===404){const l=new Oo(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);const r=new Headers(this._readableStream.headers),{allowRangeRequests:a,suggestedLength:o}=hw({responseHeaders:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=fw(r)};this._request=PT(this._url,t,s),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class R3 extends jT{constructor(e,t,s){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${t}-${s-1}`;const r=a=>{if(a.statusCode===404){const o=new Oo(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(a)};this._request=PT(this._url,i,r),this._request.on("error",a=>{this._storedError=a}),this._request.end()}}class j3 extends RT{constructor(e){super(e);const t=Yr.get("fs");t.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Oo(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class M3 extends jT{constructor(e,t,s){super(e);const i=Yr.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:s-1}))}}const L3=1e5,on=30,D3=.8;var FA,yr,un,zd,Hd,Ua,mi,$d,Wd,za,$l,Wl,vr,Gl,Gd,Kl,Ha,Kd,Xd,Ge,$a,Wa,qd,xr,Xl,Ki,MT,LT,Dv,Dn,Wf,Iv,DT,IT;let Lv=(Ge=class{constructor({textContentSource:e,container:t,viewport:s}){E(this,Ki);E(this,yr,Promise.withResolvers());E(this,un,null);E(this,zd,!1);E(this,Hd,!!((FA=globalThis.FontInspector)!=null&&FA.enabled));E(this,Ua,null);E(this,mi,null);E(this,$d,0);E(this,Wd,0);E(this,za,null);E(this,$l,null);E(this,Wl,0);E(this,vr,0);E(this,Gl,Object.create(null));E(this,Gd,[]);E(this,Kl,null);E(this,Ha,[]);E(this,Kd,new WeakMap);E(this,Xd,null);var l;if(e instanceof ReadableStream)b(this,Kl,e);else if(typeof e=="object")b(this,Kl,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,un,b(this,$l,t)),b(this,vr,s.scale*(globalThis.devicePixelRatio||1)),b(this,Wl,s.rotation),b(this,mi,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:r,pageX:a,pageY:o}=s.rawDims;b(this,Xd,[1,0,0,-1,-a,o+r]),b(this,Wd,i),b(this,$d,r),A(l=Ge,Dn,DT).call(l),To(t,s),u(this,yr).promise.finally(()=>{u(Ge,Xl).delete(this),b(this,mi,null),b(this,Gl,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=tn.platform;return de(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,za).read().then(({value:t,done:s})=>{if(s){u(this,yr).resolve();return}u(this,Ua)??b(this,Ua,t.lang),Object.assign(u(this,Gl),t.styles),A(this,Ki,MT).call(this,t.items),e()},u(this,yr).reject)};return b(this,za,u(this,Kl).getReader()),u(Ge,Xl).add(this),e(),u(this,yr).promise}update({viewport:e,onBefore:t=null}){var r;const s=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==u(this,Wl)&&(t==null||t(),b(this,Wl,i),To(u(this,$l),{rotation:i})),s!==u(this,vr)){t==null||t(),b(this,vr,s);const a={div:null,properties:null,ctx:A(r=Ge,Dn,Wf).call(r,u(this,Ua))};for(const o of u(this,Ha))a.properties=u(this,Kd).get(o),a.div=o,A(this,Ki,Dv).call(this,a)}}cancel(){var t;const e=new Bo("TextLayer task cancelled.");(t=u(this,za))==null||t.cancel(e).catch(()=>{}),b(this,za,null),u(this,yr).reject(e)}get textDivs(){return u(this,Ha)}get textContentItemsStr(){return u(this,Gd)}static cleanup(){if(!(u(this,Xl).size>0)){u(this,$a).clear();for(const{canvas:e}of u(this,Wa).values())e.remove();u(this,Wa).clear()}}},yr=new WeakMap,un=new WeakMap,zd=new WeakMap,Hd=new WeakMap,Ua=new WeakMap,mi=new WeakMap,$d=new WeakMap,Wd=new WeakMap,za=new WeakMap,$l=new WeakMap,Wl=new WeakMap,vr=new WeakMap,Gl=new WeakMap,Gd=new WeakMap,Kl=new WeakMap,Ha=new WeakMap,Kd=new WeakMap,Xd=new WeakMap,$a=new WeakMap,Wa=new WeakMap,qd=new WeakMap,xr=new WeakMap,Xl=new WeakMap,Ki=new WeakSet,MT=function(e){var i,r;if(u(this,zd))return;(r=u(this,mi)).ctx??(r.ctx=A(i=Ge,Dn,Wf).call(i,u(this,Ua)));const t=u(this,Ha),s=u(this,Gd);for(const a of e){if(t.length>L3){re("Ignoring additional textDivs for performance reasons."),b(this,zd,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=u(this,un);b(this,un,document.createElement("span")),u(this,un).classList.add("markedContent"),a.id!==null&&u(this,un).setAttribute("id",`${a.id}`),o.append(u(this,un))}else a.type==="endMarkedContent"&&b(this,un,u(this,un).parentNode);continue}s.push(a.str),A(this,Ki,LT).call(this,a)}},LT=function(e){var x;const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,Ha).push(t);const i=G.transform(u(this,Xd),e.transform);let r=Math.atan2(i[1],i[0]);const a=u(this,Gl)[e.fontName];a.vertical&&(r+=Math.PI/2);let o=u(this,Hd)&&a.fontSubstitution||a.fontFamily;o=Ge.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*A(x=Ge,Dn,IT).call(x,o,u(this,Ua));let d,h;r===0?(d=i[4],h=i[5]-c):(d=i[4]+c*Math.sin(r),h=i[5]-c*Math.cos(r));const p="calc(var(--scale-factor)*",m=t.style;u(this,un)===u(this,$l)?(m.left=`${(100*d/u(this,Wd)).toFixed(2)}%`,m.top=`${(100*h/u(this,$d)).toFixed(2)}%`):(m.left=`${p}${d.toFixed(2)}px)`,m.top=`${p}${h.toFixed(2)}px)`),m.fontSize=`${p}${(u(Ge,xr)*l).toFixed(2)}px)`,m.fontFamily=o,s.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,Hd)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),r!==0&&(s.angle=r*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);S!==g&&Math.max(S,g)/Math.min(S,g)>1.5&&(y=!0)}if(y&&(s.canvasWidth=a.vertical?e.height:e.width),u(this,Kd).set(t,s),u(this,mi).div=t,u(this,mi).properties=s,A(this,Ki,Dv).call(this,u(this,mi)),s.hasText&&u(this,un).append(t),s.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),u(this,un).append(S)}},Dv=function(e){var o;const{div:t,properties:s,ctx:i}=e,{style:r}=t;let a="";if(u(Ge,xr)>1&&(a=`scale(${1/u(Ge,xr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:l}=r,{canvasWidth:c,fontSize:d}=s;A(o=Ge,Dn,Iv).call(o,i,d*u(this,vr),l);const{width:h}=i.measureText(t.textContent);h>0&&(a=`scaleX(${c*u(this,vr)/h}) ${a}`)}s.angle!==0&&(a=`rotate(${s.angle}deg) ${a}`),a.length>0&&(r.transform=a)},Dn=new WeakSet,Wf=function(e=null){let t=u(this,Wa).get(e||(e=""));if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,Wa).set(e,t),u(this,qd).set(t,{size:0,family:""})}return t},Iv=function(e,t,s){const i=u(this,qd).get(e);t===i.size&&s===i.family||(e.font=`${t}px ${s}`,i.size=t,i.family=s)},DT=function(){if(u(this,xr)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),b(this,xr,e.getBoundingClientRect().height),e.remove()},IT=function(e,t){const s=u(this,$a).get(e);if(s)return s;const i=A(this,Dn,Wf).call(this,t);i.canvas.width=i.canvas.height=on,A(this,Dn,Iv).call(this,i,on,e);const r=i.measureText("");let a=r.fontBoundingBoxAscent,o=Math.abs(r.fontBoundingBoxDescent);if(a){const d=a/(a+o);return u(this,$a).set(e,d),i.canvas.width=i.canvas.height=0,d}i.strokeStyle="red",i.clearRect(0,0,on,on),i.strokeText("g",0,0);let l=i.getImageData(0,0,on,on).data;o=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){o=Math.ceil(d/4/on);break}i.clearRect(0,0,on,on),i.strokeText("A",0,on),l=i.getImageData(0,0,on,on).data,a=0;for(let d=0,h=l.length;d<h;d+=4)if(l[d]>0){a=on-Math.floor(d/4/on);break}i.canvas.width=i.canvas.height=0;const c=a?a/(a+o):D3;return u(this,$a).set(e,c),c},E(Ge,Dn),E(Ge,$a,new Map),E(Ge,Wa,new Map),E(Ge,qd,new WeakMap),E(Ge,xr,null),E(Ge,Xl,new Set),Ge);class hd{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function i(r){var l;if(!r)return;let a=null;const o=r.name;if(o==="#text")a=r.value;else if(hd.shouldBuildText(o))(l=r==null?void 0:r.attributes)!=null&&l.textContent?a=r.attributes.textContent:r.value&&(a=r.value);else return;if(a!==null&&t.push({str:a}),!!r.children)for(const c of r.children)i(c)}return i(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const I3=65536,F3=100,O3=5e3,B3=Gt?QO:XO,V3=Gt?JO:vT,U3=Gt?YO:qO,z3=Gt?ZO:AT;function H3(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Fv,{docId:t}=e,s=n.url?$3(n.url):null,i=n.data?W3(n.data):null,r=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof FT?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:I3;let d=n.worker instanceof Sl?n.worker:null;const h=n.verbosity,p=typeof n.docBaseUrl=="string"&&!Hm(n.docBaseUrl)?n.docBaseUrl:null,m=typeof n.cMapUrl=="string"?n.cMapUrl:null,y=n.cMapPacked!==!1,x=n.CMapReaderFactory||V3,S=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,g=n.StandardFontDataFactory||z3,v=n.stopAtErrors!==!0,w=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,C=n.isEvalSupported!==!1,_=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Gt,k=typeof n.isChrome=="boolean"?n.isChrome:!tn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),N=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,P=typeof n.disableFontFace=="boolean"?n.disableFontFace:Gt,j=n.fontExtraProperties===!0,M=n.enableXfa===!0,D=n.ownerDocument||globalThis.document,q=n.disableRange===!0,H=n.disableStream===!0,$=n.disableAutoFetch===!0,Z=n.pdfBug===!0,Y=n.CanvasFactory||B3,I=n.FilterFactory||U3,R=n.enableHWA===!0,U=l?l.length:n.length??NaN,W=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Gt&&!P,ae=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:x===vT&&g===AT&&m&&S&&uu(m,document.baseURI)&&uu(S,document.baseURI);n.canvasFactory&&oA("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&oA("`filterFactory`-instance option, please use `FilterFactory` instead.");const ne=null;CO(h);const pe={canvasFactory:new Y({ownerDocument:D,enableHWA:R}),filterFactory:new I({docId:t,ownerDocument:D}),cMapReaderFactory:ae?null:new x({baseUrl:m,isCompressed:y}),standardFontDataFactory:ae?null:new g({baseUrl:S})};if(!d){const ge={verbosity:h,port:Mi.workerPort};d=ge.port?Sl.fromPort(ge):new Sl(ge),e._worker=d}const $e={docId:t,apiVersion:"4.8.69",data:i,password:o,disableAutoFetch:$,rangeChunkSize:c,length:U,docBaseUrl:p,enableXfa:M,evaluatorOptions:{maxImageSize:w,disableFontFace:P,ignoreErrors:v,isEvalSupported:C,isOffscreenCanvasSupported:_,isChrome:k,canvasMaxAreaInBytes:N,fontExtraProperties:j,useSystemFonts:W,cMapUrl:ae?m:null,standardFontDataUrl:ae?S:null}},Xt={disableFontFace:P,fontExtraProperties:j,ownerDocument:D,pdfBug:Z,styleElement:ne,loadingParams:{disableAutoFetch:$,enableXfa:M}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ge=d.messageHandler.sendWithPromise("GetDocRequest",$e,i?[i.buffer]:null);let ue;if(l)ue=new g3(l,{disableRange:q,disableStream:H});else if(!i){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Ns;Gt?Ns=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&uu(s)?xA:N3:Ns=uu(s)?xA:E3,ue=new Ns({url:s,length:U,httpHeaders:r,withCredentials:a,rangeChunkSize:c,disableRange:q,disableStream:H})}return ge.then(Ns=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const is=new yu(t,Ns,d.port),je=new q3(is,e,ue,Xt,pe);e._transport=je,is.send("Ready",null)})}).catch(e._capability.reject),e}function $3(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Gt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function W3(n){if(Gt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Um(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function wA(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var am;const om=class om{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${qt(om,am)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};am=new WeakMap,E(om,am,0);let Fv=om,FT=class{constructor(e,t,s=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const s of this._rangeListeners)s(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Ne("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class G3{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return de(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var wr,gi,Yn,qo,Gf;class K3{constructor(e,t,s,i=!1){E(this,Yn);E(this,wr,null);E(this,gi,!1);this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=i?new aA:null,this._pdfBug=i,this.commonObjs=s.commonObjs,this.objs=new OT,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:i=0,dontFlip:r=!1}={}){return new Bh({viewBox:this.view,scale:e,rotation:t,offsetX:s,offsetY:i,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return de(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:s="display",annotationMode:i=ir.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:d=null,isEditing:h=!1}){var C,_;(C=this._stats)==null||C.time("Overall");const p=this._transport.getRenderingIntent(s,i,d,h),{renderingIntent:m,cacheKey:y}=p;b(this,gi,!1),A(this,Yn,Gf).call(this),o||(o=this._transport.getOptionalContentConfig(m));let x=this._intentStates.get(y);x||(x=Object.create(null),this._intentStates.set(y,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const S=!!(m&Nn.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_=this._stats)==null||_.time("Page Request"),this._pumpOperatorList(p));const g=k=>{var N;x.renderTasks.delete(v),(this._maybeCleanupAfterRender||S)&&b(this,gi,!0),A(this,Yn,qo).call(this,!S),k?(v.capability.reject(k),this._abortOperatorList({intentState:x,reason:k instanceof Error?k:new Error(k)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(N=globalThis.Stats)!=null&&N.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new Bv({callback:g,params:{canvasContext:e,viewport:t,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:c});(x.renderTasks||(x.renderTasks=new Set)).add(v);const w=v.task;return Promise.all([x.displayReadyCapability.promise,o]).then(([k,N])=>{var P;if(this.destroyed){g();return}if((P=this._stats)==null||P.time("Rendering"),!(N.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:k,optionalContentConfig:N}),v.operatorListChanged()}).catch(g),w}getOperatorList({intent:e="display",annotationMode:t=ir.ENABLE,printAnnotationStorage:s=null,isEditing:i=!1}={}){var c;function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,s,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>hd.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,i){function r(){a.read().then(function({value:l,done:c}){if(c){s(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),r()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),b(this,gi,!1),A(this,Yn,Gf).call(this),Promise.all(e)}cleanup(e=!1){b(this,gi,!0);const t=A(this,Yn,qo).call(this,!1);return e&&t&&this._stats&&(this._stats=new aA),t}_startRenderPage(e,t){var i,r;const s=this._intentStates.get(t);s&&((i=this._stats)==null||i.timeEnd("Page Request"),(r=s.displayReadyCapability)==null||r.resolve(e))}_renderPageChunk(e,t){for(let s=0,i=e.length;s<i;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&A(this,Yn,qo).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:i}){const{map:r,transfer:a}=s,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:i},a).getReader(),c=this._intentStates.get(t);c.streamReader=l;const d=()=>{l.read().then(({value:h,done:p})=>{if(p){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),d())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const p of c.renderTasks)p.operatorListChanged();A(this,Yn,qo).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof rw){let i=F3;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Bo(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}wr=new WeakMap,gi=new WeakMap,Yn=new WeakSet,qo=function(e=!1){if(A(this,Yn,Gf).call(this),!u(this,gi)||this.destroyed)return!1;if(e)return b(this,wr,setTimeout(()=>{b(this,wr,null),A(this,Yn,qo).call(this,!1)},O3)),!1;for(const{renderTasks:t,operatorList:s}of this._intentStates.values())if(t.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,gi,!1),!0},Gf=function(){u(this,wr)&&(clearTimeout(u(this,wr)),b(this,wr,null))};var yi,lm;class X3{constructor(){E(this,yi,new Map);E(this,lm,Promise.resolve())}postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};u(this,lm).then(()=>{for(const[i]of u(this,yi))i.call(this,s)})}addEventListener(e,t,s=null){let i=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:r}=s;if(r.aborted){re("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}u(this,yi).set(t,i)}removeEventListener(e,t){const s=u(this,yi).get(t);s==null||s(),u(this,yi).delete(t)}terminate(){for(const[,e]of u(this,yi))e==null||e();u(this,yi).clear()}}yi=new WeakMap,lm=new WeakMap;var cm,Ga,Ka,ql,Kf,Yl,Xf;const Le=class Le{constructor({name:e=null,port:t=null,verbosity:s=_O()}={}){E(this,ql);var i;if(this.name=e,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=u(Le,Ka))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(u(Le,Ka)||b(Le,Ka,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Gt?Promise.all([Yr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new yu("main","worker",e),this._messageHandler.on("ready",function(){}),A(this,ql,Kf).call(this)}_initialize(){if(u(Le,Ga)||u(Le,Yl,Xf)){this._setupFakeWorker();return}let{workerSrc:e}=Le;try{Le._isSameOrigin(window.location.href,e)||(e=Le._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new yu("main","worker",t),i=()=>{r.abort(),s.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:r.signal}),s.on("test",o=>{if(r.abort(),this.destroyed||!o){i();return}this._messageHandler=s,this._port=t,this._webWorker=t,A(this,ql,Kf).call(this)}),s.on("ready",o=>{if(r.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;s.send("test",o,[o.buffer])};a();return}catch{Bm("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){u(Le,Ga)||(re("Setting up fake worker."),b(Le,Ga,!0)),Le._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new X3;this._port=t;const s=`fake${qt(Le,cm)._++}`,i=new yu(s+"_worker",s,t);e.setup(i,t),this._messageHandler=new yu(s,s+"_worker",t),A(this,ql,Kf).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=u(Le,Ka))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var s;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(s=u(this,Ka))==null?void 0:s.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Le(e)}static get workerSrc(){if(Mi.workerSrc)return Mi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return de(this,"_setupFakeWorkerGlobal",(async()=>u(this,Yl,Xf)?u(this,Yl,Xf):(await import(this.workerSrc)).WorkerMessageHandler)())}};cm=new WeakMap,Ga=new WeakMap,Ka=new WeakMap,ql=new WeakSet,Kf=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Yl=new WeakSet,Xf=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},E(Le,Yl),E(Le,cm,0),E(Le,Ga,!1),E(Le,Ka),Gt&&(b(Le,Ga,!0),Mi.workerSrc||(Mi.workerSrc="./pdf.worker.mjs")),Le._isSameOrigin=(e,t)=>{let s;try{if(s=new URL(e),!s.origin||s.origin==="null")return!1}catch{return!1}const i=new URL(t,s);return s.origin===i.origin},Le._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Sl=Le;var vi,Hs,Ql,Jl,$s,Xa,vu;class q3{constructor(e,t,s,i,r){E(this,Xa);E(this,vi,new Map);E(this,Hs,new Map);E(this,Ql,new Map);E(this,Jl,new Map);E(this,$s,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new OT,this.fontLoader=new GO({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return de(this,"annotationStorage",new cw)}getRenderingIntent(e,t=ir.ENABLE,s=null,i=!1,r=!1){let a=Nn.DISPLAY,o=Cv;switch(e){case"any":a=Nn.ANY;break;case"display":break;case"print":a=Nn.PRINT;break;default:re(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Nn.PRINT&&s instanceof mT?s:this.annotationStorage;switch(t){case ir.DISABLE:a+=Nn.ANNOTATIONS_DISABLE;break;case ir.ENABLE:break;case ir.ENABLE_FORMS:a+=Nn.ANNOTATIONS_FORMS;break;case ir.ENABLE_STORAGE:a+=Nn.ANNOTATIONS_STORAGE,o=l.serializable;break;default:re(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=Nn.IS_EDITING),r&&(a+=Nn.OPLIST);const{ids:c,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=u(this,$s))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of u(this,Hs).values())e.push(i._destroy());u(this,Hs).clear(),u(this,Ql).clear(),u(this,Jl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),u(this,vi).clear(),this.filterFactory.destroy(),Lv.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Bo("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,i)=>{dt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){i.close();return}dt(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async s=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:r,contentLength:a}=this._fullReader;return(!i||!r)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:r,contentLength:a}}),e.on("GetRangeReader",(s,i)=>{dt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(s.begin,s.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:a,done:o}){if(o){i.close();return}dt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{r.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new G3(s,this))}),e.on("DocException",function(s){let i;switch(s.name){case"PasswordException":i=new sv(s.message,s.code);break;case"InvalidPDFException":i=new U_(s.message);break;case"MissingPDFException":i=new Oo(s.message);break;case"UnexpectedResponseException":i=new Vm(s.message,s.status);break;case"UnknownErrorException":i=new iv(s.message,s.details);break;default:Ne("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",s=>{if(b(this,$s,Promise.withResolvers()),t.onPassword){const i=r=>{r instanceof Error?u(this,$s).reject(r):u(this,$s).resolve({password:r})};try{t.onPassword(i,s.code)}catch(r){u(this,$s).reject(r)}}else u(this,$s).reject(new sv(s.message,s.code));return u(this,$s).promise}),e.on("DataLoaded",s=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;u(this,Hs).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,i,r])=>{var a;if(this.destroyed||this.commonObjs.has(s))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in r){const m=r.error;re(`Error during font loading: ${m}`),this.commonObjs.resolve(s,m);break}const d=c&&((a=globalThis.FontInspector)!=null&&a.enabled)?(m,y)=>globalThis.FontInspector.fontAdded(m,y):null,h=new KO(r,{disableFontFace:o,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(s,h)});break;case"CopyLocalImage":const{imageRef:p}=r;dt(p,"The imageRef must be defined.");for(const m of u(this,Hs).values())for(const[,y]of m.objs)if((y==null?void 0:y.ref)===p)return y.dataLen?(this.commonObjs.resolve(s,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([s,i,r,a])=>{var l;if(this.destroyed)return;const o=u(this,Hs).get(i);if(!o.objs.has(s)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(r){case"Image":o.objs.resolve(s,a),(a==null?void 0:a.dataLen)>bO&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(s,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",s=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:s.loaded,total:s.total})}),e.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),e.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&re("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((s=this._fullReader)==null?void 0:s.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=u(this,Ql).get(t);if(s)return s;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&u(this,Jl).set(r.refStr,e);const a=new K3(t,r,this,this._params.pdfBug);return u(this,Hs).set(t,a),a});return u(this,Ql).set(t,i),i}getPageIndex(e){return wA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return A(this,Xa,vu).call(this,"GetFieldObjects")}hasJSActions(){return A(this,Xa,vu).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return A(this,Xa,vu).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return A(this,Xa,vu).call(this,"GetOptionalContentConfig").then(t=>new m3(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,vi).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(i=>{var r,a;return{info:i[0],metadata:i[1]?new f3(i[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return u(this,vi).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,Hs).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,vi).clear(),this.filterFactory.destroy(!0),Lv.cleanup()}}cachedPageNumber(e){if(!wA(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,Jl).get(t)??null}}vi=new WeakMap,Hs=new WeakMap,Ql=new WeakMap,Jl=new WeakMap,$s=new WeakMap,Xa=new WeakSet,vu=function(e,t=null){const s=u(this,vi).get(e);if(s)return s;const i=this.messageHandler.sendWithPromise(e,t);return u(this,vi).set(e,i),i};const xf=Symbol("INITIAL_DATA");var ms,Yd,Ov;class OT{constructor(){E(this,Yd);E(this,ms,Object.create(null))}get(e,t=null){if(t){const i=A(this,Yd,Ov).call(this,e);return i.promise.then(()=>t(i.data)),null}const s=u(this,ms)[e];if(!s||s.data===xf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=u(this,ms)[e];return!!t&&t.data!==xf}resolve(e,t=null){const s=A(this,Yd,Ov).call(this,e);s.data=t,s.resolve()}clear(){var e;for(const t in u(this,ms)){const{data:s}=u(this,ms)[t];(e=s==null?void 0:s.bitmap)==null||e.close()}b(this,ms,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,ms)){const{data:t}=u(this,ms)[e];t!==xf&&(yield[e,t])}}}ms=new WeakMap,Yd=new WeakSet,Ov=function(e){var t;return(t=u(this,ms))[e]||(t[e]={...Promise.withResolvers(),data:xf})};var br;class Y3{constructor(e){E(this,br,null);b(this,br,e),this.onContinue=null}get promise(){return u(this,br).capability.promise}cancel(e=0){u(this,br).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,br).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,br);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}br=new WeakMap;var Ar,qa;const ma=class ma{constructor({callback:e,params:t,objs:s,commonObjs:i,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:p=null}){E(this,Ar,null);this.callback=e,this.params=t,this.objs=s,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Y3(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,l;if(this.cancelled)return;if(this._canvas){if(u(ma,qa).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(ma,qa).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:i,transform:r,background:a}=this.params;this.gfx=new Al(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),u(this,Ar)&&(window.cancelAnimationFrame(u(this,Ar)),b(this,Ar,null)),u(ma,qa).delete(this._canvas),this.callback(e||new rw(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,Ar,window.requestAnimationFrame(()=>{b(this,Ar,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(ma,qa).delete(this._canvas),this.callback())))}};Ar=new WeakMap,qa=new WeakMap,E(ma,qa,new WeakSet);let Bv=ma;const Q3="4.8.69",J3="3634dab10";function bA(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function nu(n){return Math.max(0,Math.min(255,255*n))}class AA{static CMYK_G([e,t,s,i]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=nu(e),[e,e,e]}static G_HTML([e]){const t=bA(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(nu)}static RGB_HTML(e){return`#${e.map(bA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,s+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,s,i]){return[nu(1-Math.min(1,e+i)),nu(1-Math.min(1,s+i)),nu(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const i=1-e,r=1-t,a=1-s,o=Math.min(i,r,a);return["CMYK",i,r,a,o]}}class Z3{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),s||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ne("Abstract method `_createSVG` called.")}}class pw extends Z3{_createSVG(e){return document.createElementNS(ii,e)}}class BT{static setupStorage(e,t,s,i,r){const a=i.getValue(t,{value:null});switch(s.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),r==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(a.value===s.attributes.xfaOn?e.setAttribute("checked",!0):a.value===s.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),r==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of s.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:i,linkService:r}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&r.addLinkAttributes(e,a.href,a.newWindow),s&&a.dataId&&this.setupStorage(e,a.dataId,t,s)}static render(e){var h,p;const t=e.annotationStorage,s=e.linkService,i=e.xfaHtml,r=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:r,linkService:s});const o=r!=="richText",l=e.div;if(l.append(a),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=m}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);a.append(m),o&&hd.shouldBuildText(i.name)&&c.push(m)}return{textDivs:c}}const d=[[i,-1,a]];for(;d.length>0;){const[m,y,x]=d.at(-1);if(y+1===m.children.length){d.pop();continue}const S=m.children[++d.at(-1)[1]];if(S===null)continue;const{name:g}=S;if(g==="#text"){const w=document.createTextNode(S.value);c.push(w),x.append(w);continue}const v=(h=S==null?void 0:S.attributes)!=null&&h.xmlns?document.createElementNS(S.attributes.xmlns,g):document.createElement(g);if(x.append(v),S.attributes&&this.setAttributes({html:v,element:S,storage:t,intent:r,linkService:s}),((p=S.children)==null?void 0:p.length)>0)d.push([S,-1,v]);else if(S.value){const w=document.createTextNode(S.value);o&&hd.shouldBuildText(g)&&c.push(w),v.append(w)}}for(const m of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Uh=1e3,e4=9,No=new WeakSet;function Bi(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class t4{static create(e){switch(e.data.annotationType){case at.LINK:return new VT(e);case at.TEXT:return new n4(e);case at.WIDGET:switch(e.data.fieldType){case"Tx":return new s4(e);case"Btn":return e.data.radioButton?new HT(e):e.data.checkBox?new r4(e):new a4(e);case"Ch":return new o4(e);case"Sig":return new i4(e)}return new Vo(e);case at.POPUP:return new Uv(e);case at.FREETEXT:return new XT(e);case at.LINE:return new c4(e);case at.SQUARE:return new u4(e);case at.CIRCLE:return new d4(e);case at.POLYLINE:return new qT(e);case at.CARET:return new f4(e);case at.INK:return new mw(e);case at.POLYGON:return new h4(e);case at.HIGHLIGHT:return new YT(e);case at.UNDERLINE:return new p4(e);case at.SQUIGGLY:return new m4(e);case at.STRIKEOUT:return new g4(e);case at.STAMP:return new QT(e);case at.FILEATTACHMENT:return new y4(e);default:return new Je(e)}}}var Ya,Zl,ec,Qd,Vv;const ww=class ww{constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:i=!1}={}){E(this,Qd);E(this,Ya,null);E(this,Zl,!1);E(this,ec,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:s}){return!!(e!=null&&e.str||t!=null&&t.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return ww._hasPopupData(this.data)}updateEdited(e){var s;if(!this.container)return;u(this,Ya)||b(this,Ya,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&A(this,Qd,Vv).call(this,t),(s=u(this,ec))==null||s.popup.updateEdited(e)}resetEdited(){var e;u(this,Ya)&&(A(this,Qd,Vv).call(this,u(this,Ya).rect),(e=u(this,ec))==null||e.popup.resetEdited(),b(this,Ya,null))}_createContainer(e){const{data:t,parent:{page:s,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof Vo||(r.tabIndex=Uh);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof Uv){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,r),r}const{width:o,height:l}=Bi(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(x>0||S>0){const v=`calc(${x}px * var(--scale-factor)) / calc(${S}px * var(--scale-factor))`;a.borderRadius=v}else if(this instanceof HT){const v=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=v}switch(t.borderStyle.style){case eu.SOLID:a.borderStyle="solid";break;case eu.DASHED:a.borderStyle="dashed";break;case eu.BEVELED:re("Unimplemented border style: beveled");break;case eu.INSET:re("Unimplemented border style: inset");break;case eu.UNDERLINE:a.borderBottomStyle="solid";break}const g=t.borderColor||null;g?(b(this,Zl,!0),a.borderColor=G.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):a.borderWidth=0}const c=G.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:d,pageHeight:h,pageX:p,pageY:m}=i.rawDims;a.left=`${100*(c[0]-p)/d}%`,a.top=`${100*(c[1]-m)/h}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(y,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:i}=this.parent.viewport.rawDims,{width:r,height:a}=Bi(this.data.rect);let o,l;e%180===0?(o=100*r/s,l=100*a/i):(o=100*a/s,l=100*r/i),t.style.width=`${o}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,i)=>{const r=i.detail[t],a=r[0],o=r.slice(1);i.target.style[s]=AA[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[s]:AA[`${a}_rgb`](o)})};return de(this,"_commonActions",{display:t=>{const{display:s}=t.detail,i=s%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const i of Object.keys(t.detail)){const r=e[i]||s[i];r==null||r(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[i,r]of Object.entries(t)){const a=s[i];if(a){const o={detail:{[i]:r},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,i,r]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,S,g,v]=e.subarray(2,6);if(i===x&&r===S&&t===g&&s===v)return}const{style:a}=this.container;let o;if(u(this,Zl)){const{borderColor:x,borderWidth:S}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const l=i-t,c=r-s,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const p=d.createElement("defs");h.append(p);const m=d.createElement("clipPath"),y=`clippath_${this.data.id}`;m.setAttribute("id",y),m.setAttribute("clipPathUnits","objectBoundingBox"),p.append(m);for(let x=2,S=e.length;x<S;x+=8){const g=e[x],v=e[x+1],w=e[x+2],C=e[x+3],_=d.createElement("rect"),k=(w-t)/l,N=(r-v)/c,P=(g-w)/l,j=(v-C)/c;_.setAttribute("x",k),_.setAttribute("y",N),_.setAttribute("width",P),_.setAttribute("height",j),m.append(_),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${N}" width="${P}" height="${j}"/>`)}u(this,Zl)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{data:e}=this,t=b(this,ec,new Uv({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Ne("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:r,id:a,exportValues:o}of i){if(r===-1||a===t)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!No.has(c)){re(`_getElementsByName - element not allowed: ${a}`);continue}s.push({id:a,exportValue:l,domElement:c})}return s}for(const i of document.getElementsByName(e)){const{exportValue:r}=i,a=i.getAttribute("data-element-id");a!==t&&No.has(i)&&s.push({id:a,exportValue:r,domElement:i})}return s}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Ya=new WeakMap,Zl=new WeakMap,ec=new WeakMap,Qd=new WeakSet,Vv=function(e){const{container:{style:t},data:{rect:s,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:o,pageY:l}}}}=this;s==null||s.splice(0,4,...e);const{width:c,height:d}=Bi(e);t.left=`${100*(e[0]-o)/r}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*c/r}%`,t.height=`${100*d/a}%`):this.setRotation(i)};let Je=ww;var Rn,ua,UT,zT;class VT extends Je{constructor(t,s=null){super(t,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});E(this,Rn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:s}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(s.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action),r=!0):t.attachment?(A(this,Rn,UT).call(this,i,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(A(this,Rn,zT).call(this,i,t.setOCGState),r=!0):t.dest?(this._bindLink(i,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}_bindLink(t,s){t.href=this.linkService.getDestinationHash(s),t.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&A(this,Rn,ua).call(this)}_bindNamedAction(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(s),!1),A(this,Rn,ua).call(this)}_bindJSAction(t,s){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(s.actions)){const a=i.get(r);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:r}}),!1})}t.onclick||(t.onclick=()=>!1),A(this,Rn,ua).call(this)}_bindResetFormAction(t,s){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),A(this,Rn,ua).call(this),!this._fieldObjects){re('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:r,refs:a,include:o}=s,l=[];if(r.length!==0||a.length!==0){const p=new Set(a);for(const m of r){const y=this._fieldObjects[m]||[];for(const{id:x}of y)p.add(x)}for(const m of Object.values(this._fieldObjects))for(const y of m)p.has(y.id)===o&&l.push(y)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const c=this.annotationStorage,d=[];for(const p of l){const{id:m}=p;switch(d.push(m),p.type){case"text":{const x=p.defaultValue||"";c.setValue(m,{value:x});break}case"checkbox":case"radiobutton":{const x=p.defaultValue===p.exportValues;c.setValue(m,{value:x});break}case"combobox":case"listbox":{const x=p.defaultValue||"";c.setValue(m,{value:x});break}default:continue}const y=document.querySelector(`[data-element-id="${m}"]`);if(y){if(!No.has(y)){re(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Rn=new WeakSet,ua=function(){this.container.setAttribute("data-internal-link","")},UT=function(t,s,i=null){t.href=this.linkService.getAnchorUrl(""),s.description&&(t.title=s.description),t.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(s.content,s.filename,i),!1},A(this,Rn,ua).call(this)},zT=function(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(s),!1),A(this,Rn,ua).call(this)};class n4 extends Je{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Vo extends Je{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return tn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,i,r){s.includes("mouse")?e.addEventListener(s,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(s,a=>{var o;if(s==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}r&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(a)}}))})}_setEventListeners(e,t,s,i){var r,a,o;for(const[l,c]of s)(c==="Action"||(r=this.data.actions)!=null&&r[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":G.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||e4,r=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(c/(Fg*i))||1,h=c/d;a=Math.min(i,l(h/Fg))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/Fg))}r.fontSize=`calc(${a}px * var(--scale-factor))`,r.color=G.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class s4 extends Vo{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,i){const r=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=s),r.setValue(a.id,{[i]:s})}render(){var i,r;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=c??o,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",c??o),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),No.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=Uh,this._setRequired(s,this.data.required),l&&(s.maxLength=l),s.addEventListener("input",p=>{e.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(s,"value",p.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue??"";s.value=d.userValue=m,d.formattedValue=null});let h=p=>{const{formattedValue:m}=d;m!=null&&(p.target.value=m),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",m=>{var x;if(d.focused)return;const{target:y}=m;d.userValue&&(y.value=d.userValue),d.lastCommittedValue=y.value,d.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const y={value(x){d.userValue=x.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),x.target.value=d.userValue},formattedValue(x){const{formattedValue:S}=x.detail;d.formattedValue=S,S!=null&&x.target!==document.activeElement&&(x.target.value=S),e.setValue(t,{formattedValue:S})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var w;const{charLimit:S}=x.detail,{target:g}=x;if(S===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",S);let v=d.userValue;!v||v.length<=S||(v=v.slice(0,S),g.value=d.userValue=v,e.setValue(t,{value:v}),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(y,m)}),s.addEventListener("keydown",m=>{var S;d.commitKey=1;let y=-1;if(m.key==="Escape"?y=0:m.key==="Enter"&&!this.data.multiLine?y=2:m.key==="Tab"&&(d.commitKey=3),y===-1)return;const{value:x}=m.target;d.lastCommittedValue!==x&&(d.lastCommittedValue=x,d.userValue=x,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:y,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const p=h;h=null,s.addEventListener("blur",m=>{var x,S;if(!d.focused||!m.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(d.focused=!1);const{value:y}=m.target;d.userValue=y,d.lastCommittedValue!==y&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:d.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),p(m)}),(r=this.data.actions)!=null&&r.Keystroke&&s.addEventListener("beforeinput",m=>{var _;d.lastCommittedValue=null;const{data:y,target:x}=m,{value:S,selectionStart:g,selectionEnd:v}=x;let w=g,C=v;switch(m.inputType){case"deleteWordBackward":{const k=S.substring(0,g).match(/\w*[^\w]*$/);k&&(w-=k[0].length);break}case"deleteWordForward":{const k=S.substring(g).match(/^[^\w]*\w*/);k&&(C+=k[0].length);break}case"deleteContentBackward":g===v&&(w-=1);break;case"deleteContentForward":g===v&&(C+=1);break}m.preventDefault(),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:y||"",willCommit:!1,selStart:w,selEnd:C}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(h&&s.addEventListener("blur",h),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/l;s.classList.add("comb"),s.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class i4 extends Vo{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class r4 extends Vo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let i=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(s,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return No.add(r),r.setAttribute("data-element-id",s),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=Uh,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,s)){const d=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=d),e.setValue(c.id,{value:d})}e.setValue(s,{value:l})}),r.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(s,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class HT extends Vo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let i=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(s,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,s))e.setValue(a.id,{value:!1});const r=document.createElement("input");if(No.add(r),r.setAttribute("data-element-id",s),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=Uh,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,s))e.setValue(c.id,{value:!1});e.setValue(s,{value:l})}),r.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;r.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const d=a===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const p=d&&h.id===s;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class a4 extends VT{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class o4 extends Vo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");No.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Uh;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const p of i.options)p.selected=p.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,s.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),r=!1),i.append(h)}let a=null;if(r){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:p,multiple:m}=i;return m?Array.prototype.filter.call(p,y=>y.selected).map(y=>y[h]):p.selectedIndex===-1?null:p[p.selectedIndex][h]};let l=o(!1);const c=d=>{const h=d.target.options;return Array.prototype.map.call(h,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(p){a==null||a();const m=p.detail.value,y=new Set(Array.isArray(m)?m:[m]);for(const x of i.options)x.selected=y.has(x.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(p){i.multiple=!0},remove(p){const m=i.options,y=p.detail.remove;m[y].selected=!1,i.remove(y),m.length>0&&Array.prototype.findIndex.call(m,S=>S.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:o(!0),items:c(p)}),l=o(!1)},clear(p){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(p){const{index:m,displayValue:y,exportValue:x}=p.detail.insert,S=i.children[m],g=document.createElement("option");g.textContent=y,g.value=x,S?S.before(g):i.append(g),e.setValue(t,{value:o(!0),items:c(p)}),l=o(!1)},items(p){const{items:m}=p.detail;for(;i.length!==0;)i.remove(0);for(const y of m){const{displayValue:x,exportValue:S}=y,g=document.createElement("option");g.textContent=x,g.value=S,i.append(g)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:c(p)}),l=o(!1)},indices(p){const m=new Set(p.detail.indices);for(const y of p.target.options)y.selected=m.has(y.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var m;const h=o(!0),p=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:p,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Uv extends Je{constructor(e){const{data:t,elements:s}=e;super(e,{isRenderable:Je._hasPopupData(t)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new l4({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",t.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(s=>`${iw}${s}`).join(",")),this.container}}var tc,um,dm,nc,Qa,We,xi,sc,Jd,Zd,ic,wi,gs,bi,eh,Ai,th,Ja,Za,Ae,qf,zv,$T,WT,GT,KT,Yf,Qf,Hv;class l4{constructor({container:e,color:t,elements:s,titleObj:i,modificationDate:r,contentsObj:a,richText:o,parent:l,rect:c,parentRect:d,open:h}){E(this,Ae);E(this,tc,A(this,Ae,GT).bind(this));E(this,um,A(this,Ae,Hv).bind(this));E(this,dm,A(this,Ae,Qf).bind(this));E(this,nc,A(this,Ae,Yf).bind(this));E(this,Qa,null);E(this,We,null);E(this,xi,null);E(this,sc,null);E(this,Jd,null);E(this,Zd,null);E(this,ic,null);E(this,wi,!1);E(this,gs,null);E(this,bi,null);E(this,eh,null);E(this,Ai,null);E(this,th,null);E(this,Ja,null);E(this,Za,!1);var p;b(this,We,e),b(this,th,i),b(this,xi,a),b(this,Ai,o),b(this,Zd,l),b(this,Qa,t),b(this,eh,c),b(this,ic,d),b(this,Jd,s),b(this,sc,ow.toDateObject(r)),this.trigger=s.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",u(this,nc)),m.addEventListener("mouseenter",u(this,dm)),m.addEventListener("mouseleave",u(this,um)),m.classList.add("popupTriggerArea");for(const m of s)(p=m.container)==null||p.addEventListener("keydown",u(this,tc));u(this,We).hidden=!0,h&&A(this,Ae,Yf).call(this)}render(){if(u(this,gs))return;const e=b(this,gs,document.createElement("div"));if(e.className="popup",u(this,Qa)){const r=e.style.outlineColor=G.makeHexColor(...u(this,Qa));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:e.style.backgroundColor=G.makeHexColor(...u(this,Qa).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const s=document.createElement("h1");if(t.append(s),{dir:s.dir,str:s.textContent}=u(this,th),e.append(t),u(this,sc)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,sc).valueOf()})),t.append(r)}const i=u(this,Ae,qf);if(i)BT.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(u(this,xi));e.append(r)}u(this,We).append(e)}_formatContents({str:e,dir:t}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let r=0,a=i.length;r<a;++r){const o=i[r];s.append(document.createTextNode(o)),r<a-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:e,popupContent:t}){var s;u(this,Ja)||b(this,Ja,{contentsObj:u(this,xi),richText:u(this,Ai)}),e&&b(this,bi,null),t&&(b(this,Ai,A(this,Ae,WT).call(this,t)),b(this,xi,null)),(s=u(this,gs))==null||s.remove(),b(this,gs,null)}resetEdited(){var e;u(this,Ja)&&({contentsObj:qt(this,xi)._,richText:qt(this,Ai)._}=u(this,Ja),b(this,Ja,null),(e=u(this,gs))==null||e.remove(),b(this,gs,null),b(this,bi,null))}forceHide(){b(this,Za,this.isVisible),u(this,Za)&&(u(this,We).hidden=!0)}maybeShow(){u(this,Za)&&(u(this,gs)||A(this,Ae,Qf).call(this),b(this,Za,!1),u(this,We).hidden=!1)}get isVisible(){return u(this,We).hidden===!1}}tc=new WeakMap,um=new WeakMap,dm=new WeakMap,nc=new WeakMap,Qa=new WeakMap,We=new WeakMap,xi=new WeakMap,sc=new WeakMap,Jd=new WeakMap,Zd=new WeakMap,ic=new WeakMap,wi=new WeakMap,gs=new WeakMap,bi=new WeakMap,eh=new WeakMap,Ai=new WeakMap,th=new WeakMap,Ja=new WeakMap,Za=new WeakMap,Ae=new WeakSet,qf=function(){const e=u(this,Ai),t=u(this,xi);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,Ai).html||null},zv=function(){var e,t,s;return((s=(t=(e=u(this,Ae,qf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.fontSize)||0},$T=function(){var e,t,s;return((s=(t=(e=u(this,Ae,qf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.color)||null},WT=function(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:u(this,Ae,$T),fontSize:u(this,Ae,zv)?`calc(${u(this,Ae,zv)}px * var(--scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:i});return s},GT=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,wi))&&A(this,Ae,Yf).call(this)},KT=function(){if(u(this,bi)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:i,pageY:r}}}=u(this,Zd);let a=!!u(this,ic),o=a?u(this,ic):u(this,eh);for(const y of u(this,Jd))if(!o||G.intersect(y.data.rect,o)!==null){o=y.data.rect,a=!0;break}const l=G.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,p=l[1];b(this,bi,[100*(h-i)/t,100*(p-r)/s]);const{style:m}=u(this,We);m.left=`${u(this,bi)[0]}%`,m.top=`${u(this,bi)[1]}%`},Yf=function(){b(this,wi,!u(this,wi)),u(this,wi)?(A(this,Ae,Qf).call(this),u(this,We).addEventListener("click",u(this,nc)),u(this,We).addEventListener("keydown",u(this,tc))):(A(this,Ae,Hv).call(this),u(this,We).removeEventListener("click",u(this,nc)),u(this,We).removeEventListener("keydown",u(this,tc)))},Qf=function(){u(this,gs)||this.render(),this.isVisible?u(this,wi)&&u(this,We).classList.add("focused"):(A(this,Ae,KT).call(this),u(this,We).hidden=!1,u(this,We).style.zIndex=parseInt(u(this,We).style.zIndex)+1e3)},Hv=function(){u(this,We).classList.remove("focused"),!(u(this,wi)||!this.isVisible)&&(u(this,We).hidden=!0,u(this,We).style.zIndex=parseInt(u(this,We).style.zIndex)-1e3)};class XT extends Je{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=se.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var nh;class c4 extends Je{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,nh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:s,height:i}=Bi(t.rect),r=this.svgFactory.create(s,i,!0),a=b(this,nh,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,nh)}addHighlightArea(){this.container.classList.add("highlightArea")}}nh=new WeakMap;var sh;class u4 extends Je{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,sh,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:s,height:i}=Bi(t.rect),r=this.svgFactory.create(s,i,!0),a=t.borderStyle.width,o=b(this,sh,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",s-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,sh)}addHighlightArea(){this.container.classList.add("highlightArea")}}sh=new WeakMap;var ih;class d4 extends Je{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,ih,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:s,height:i}=Bi(t.rect),r=this.svgFactory.create(s,i,!0),a=t.borderStyle.width,o=b(this,ih,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",s/2),o.setAttribute("cy",i/2),o.setAttribute("rx",s/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,ih)}addHighlightArea(){this.container.classList.add("highlightArea")}}ih=new WeakMap;var rh;class qT extends Je{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,rh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:s,borderStyle:i,popupRef:r}}=this;if(!s)return this.container;const{width:a,height:o}=Bi(t),l=this.svgFactory.create(a,o,!0);let c=[];for(let h=0,p=s.length;h<p;h+=2){const m=s[h]-t[0],y=t[3]-s[h+1];c.push(`${m},${y}`)}c=c.join(" ");const d=b(this,rh,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,rh)}addHighlightArea(){this.container.classList.add("highlightArea")}}rh=new WeakMap;class h4 extends qT{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class f4 extends Je{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var ah;class mw extends Je{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,ah,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?se.HIGHLIGHT:se.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:s,borderStyle:i,popupRef:r}}=this,{width:a,height:o}=Bi(t),l=this.svgFactory.create(a,o,!0);for(const c of s){let d=[];for(let p=0,m=c.length;p<m;p+=2){const y=c[p]-t[0],x=t[3]-c[p+1];d.push(`${y},${x}`)}d=d.join(" ");const h=this.svgFactory.createElement(this.svgElementName);u(this,ah).push(h),h.setAttribute("points",d),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return u(this,ah)}addHighlightArea(){this.container.classList.add("highlightArea")}}ah=new WeakMap;class YT extends Je{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=se.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class p4 extends Je{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class m4 extends Je{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class g4 extends Je{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class QT extends Je{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=se.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var oh,lh,$v;class y4 extends Je{constructor(t){var i;super(t,{isRenderable:!0});E(this,lh);E(this,oh,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:s}=this;let i;s.hasAppearance||s.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),i.addEventListener("dblclick",A(this,lh,$v).bind(this)),b(this,oh,i);const{isMac:r}=tn.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&A(this,lh,$v).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return u(this,oh)}addHighlightArea(){this.container.classList.add("highlightArea")}}oh=new WeakMap,lh=new WeakSet,$v=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var ch,eo,to,uh,Ro,JT,Wv,OA;let v4=(OA=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:i,page:r,viewport:a,structTreeLayer:o}){E(this,Ro);E(this,ch,null);E(this,eo,null);E(this,to,new Map);E(this,uh,null);this.div=e,b(this,ch,t),b(this,eo,s),b(this,uh,o||null),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return u(this,to).size>0}async render(e){var a;const{annotations:t}=e,s=this.div;To(s,this.viewport);const i=new Map,r={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new pw,annotationStorage:e.annotationStorage||new cw,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===at.POPUP;if(l){const h=i.get(o.id);if(!h)continue;r.elements=h}else{const{width:h,height:p}=Bi(o.rect);if(h<=0||p<=0)continue}r.data=o;const c=t4.create(r);if(!c.isRenderable)continue;if(!l&&o.popupRef){const h=i.get(o.popupRef);h?h.push(c):i.set(o.popupRef,[c])}const d=c.render();o.hidden&&(d.style.visibility="hidden"),await A(this,Ro,JT).call(this,d,o.id),c._isEditable&&(u(this,to).set(c.data.id,c),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(c))}A(this,Ro,Wv).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,To(t,{rotation:e.rotation}),A(this,Ro,Wv).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,to).values())}getEditableAnnotation(e){return u(this,to).get(e)}},ch=new WeakMap,eo=new WeakMap,to=new WeakMap,uh=new WeakMap,Ro=new WeakSet,JT=async function(e,t){var a,o;const s=e.firstChild||e,i=s.id=`${iw}${t}`,r=await((a=u(this,uh))==null?void 0:a.getAriaAttributes(i));if(r)for(const[l,c]of r)s.setAttribute(l,c);this.div.append(e),(o=u(this,ch))==null||o.moveElementInDOM(this.div,e,s,!1)},Wv=function(){if(!u(this,eo))return;const e=this.div;for(const[t,s]of u(this,eo)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;s.className="annotationContent";const{firstChild:r}=i;r?r.nodeName==="CANVAS"?r.replaceWith(s):r.classList.contains("annotationContent")?r.after(s):r.before(s):i.append(s)}u(this,eo).clear()},OA);const wf=/\r\n?|\n/g;var ys,Sn,dh,no,En,rt,ZT,ek,tk,Jf,Ui,Zf,ep,nk,Kv,sk;const Ce=class Ce extends xe{constructor(t){super({...t,name:"freeTextEditor"});E(this,rt);E(this,ys);E(this,Sn,"");E(this,dh,`${this.id}-editor`);E(this,no,null);E(this,En);b(this,ys,t.color||Ce._defaultColor||xe._defaultLineColor),b(this,En,t.fontSize||Ce._defaultFontSize)}static get _keyboardManager(){const t=Ce.prototype,s=a=>a.isEmpty(),i=ko.TRANSLATE_SMALL,r=ko.TRANSLATE_BIG;return de(this,"_keyboardManager",new Vh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:s}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:s}]]))}static initialize(t,s){xe.initialize(t,s);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,s){switch(t){case J.FREETEXT_SIZE:Ce._defaultFontSize=s;break;case J.FREETEXT_COLOR:Ce._defaultColor=s;break}}updateParams(t,s){switch(t){case J.FREETEXT_SIZE:A(this,rt,ZT).call(this,s);break;case J.FREETEXT_COLOR:A(this,rt,ek).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[J.FREETEXT_SIZE,Ce._defaultFontSize],[J.FREETEXT_COLOR,Ce._defaultColor||xe._defaultLineColor]]}get propertiesToUpdate(){return[[J.FREETEXT_SIZE,u(this,En)],[J.FREETEXT_COLOR,u(this,ys)]]}_translateEmpty(t,s){this._uiManager.translateSelectedEditors(t,s,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ce._internalPadding*t,-(Ce._internalPadding+u(this,En))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(se.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,no,new AbortController);const t=this._uiManager.combinedSignal(u(this,no));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,dh)),this._isDraggable=!0,(t=u(this,no))==null||t.abort(),b(this,no,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,Sn),s=b(this,Sn,A(this,rt,tk).call(this).trimEnd());if(t===s)return;const i=r=>{if(b(this,Sn,r),!r){this.remove();return}A(this,rt,ep).call(this),this._uiManager.rebuild(this),A(this,rt,Jf).call(this)};this.addCommands({cmd:()=>{i(s)},undo:()=>{i(t)},mustExec:!1}),A(this,rt,Jf).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ce._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,s;this.width&&(t=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,dh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${u(this,En)}px * var(--scale-factor))`,i.color=u(this,ys),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Gp(this,this.div,["dblclick","keydown"]),this.width){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[d,h]=this.pageDimensions,[p,m]=this.pageTranslation;let y,x;switch(this.rotation){case 0:y=t+(o[0]-p)/d,x=s+this.height-(o[1]-m)/h;break;case 90:y=t+(o[0]-p)/d,x=s-(o[1]-m)/h,[l,c]=[c,-l];break;case 180:y=t-this.width+(o[0]-p)/d,x=s-(o[1]-m)/h,[l,c]=[-l,-c];break;case 270:y=t+(o[0]-p-this.height*h)/d,x=s+(o[1]-m-this.width*d)/h,[l,c]=[-c,l];break}this.setAt(y*r,x*a,l,c)}else this.setAt(t*r,s*a,this.width*r,this.height*a);A(this,rt,ep).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,x,S;const s=t.clipboardData||window.clipboardData,{types:i}=s;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=A(y=Ce,Ui,Kv).call(y,s.getData("text")||"").replaceAll(wf,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(wf,"")),g!==this.editorDiv){let v=d;for(const w of this.editorDiv.childNodes){if(w===g){v=h;continue}v.push(A(x=Ce,Ui,Zf).call(x,w))}}d.push(l.nodeValue.slice(0,c).replaceAll(wf,""))}else if(l===this.editorDiv){let g=d,v=0;for(const w of this.editorDiv.childNodes)v++===c&&(g=h),g.push(A(S=Ce,Ui,Zf).call(S,w))}b(this,Sn,`${d.join(`
`)}${r}${h.join(`
`)}`),A(this,rt,ep).call(this);const p=new Range;let m=d.reduce((g,v)=>g+v.length,0);for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const v=g.nodeValue.length;if(m<=v){p.setStart(g,m),p.setEnd(g,m);break}m-=v}a.removeAllRanges(),a.addRange(p)}get contentDiv(){return this.editorDiv}static async deserialize(t,s,i){var o;let r=null;if(t instanceof XT){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:h,id:p,popupRef:m},textContent:y,textPosition:x,parent:{page:{pageNumber:S}}}=t;if(!y||y.length===0)return null;r=t={annotationType:se.FREETEXT,color:Array.from(c),fontSize:l,value:y.join(`
`),position:x,pageIndex:S-1,rect:d.slice(0),rotation:h,id:p,deleted:!1,popupRef:m}}const a=await super.deserialize(t,s,i);return b(a,En,t.fontSize),b(a,ys,G.makeHexColor(...t.color)),b(a,Sn,A(o=Ce,Ui,Kv).call(o,t.value)),a.annotationElementId=t.id||null,a._initialData=r,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Ce._internalPadding*this.parentScale,i=this.getRect(s,s),r=xe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,ys)),a={annotationType:se.FREETEXT,color:r,fontSize:u(this,En),value:A(this,rt,nk).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!A(this,rt,sk).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const s=super.renderAnnotationElement(t);if(this.deleted)return s;const{style:i}=s;i.fontSize=`calc(${u(this,En)}px * var(--scale-factor))`,i.color=u(this,ys),s.replaceChildren();for(const a of u(this,Sn).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),s.append(o)}const r=Ce._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:u(this,Sn)}),s}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};ys=new WeakMap,Sn=new WeakMap,dh=new WeakMap,no=new WeakMap,En=new WeakMap,rt=new WeakSet,ZT=function(t){const s=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-u(this,En))*this.parentScale),b(this,En,r),A(this,rt,Jf).call(this)},i=u(this,En);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:J.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ek=function(t){const s=r=>{b(this,ys,this.editorDiv.style.color=r)},i=u(this,ys);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:J.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},tk=function(){var i;const t=[];this.editorDiv.normalize();let s=null;for(const r of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(t.push(A(i=Ce,Ui,Zf).call(i,r)),s=r);return t.join(`
`)},Jf=function(){const[t,s]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/s):(this.width=i.height/t,this.height=i.width/s),this.fixAndSetPosition()},Ui=new WeakSet,Zf=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(wf,"")},ep=function(){if(this.editorDiv.replaceChildren(),!!u(this,Sn))for(const t of u(this,Sn).split(`
`)){const s=document.createElement("div");s.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(s)}},nk=function(){return u(this,Sn).replaceAll(""," ")},Kv=function(t){return t.replaceAll(" ","")},sk=function(t){const{value:s,fontSize:i,color:r,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==s||t.fontSize!==i||t.color.some((o,l)=>o!==r[l])||t.pageIndex!==a},E(Ce,Ui),Q(Ce,"_freeTextDefaultContent",""),Q(Ce,"_internalPadding",0),Q(Ce,"_defaultColor",null),Q(Ce,"_defaultFontSize",10),Q(Ce,"_type","freetext"),Q(Ce,"_editorType",se.FREETEXT);let Gv=Ce;class ik{toSVGPath(){Ne("Abstract method `toSVGPath` must be implemented.")}get box(){Ne("Abstract getter `box` must be implemented.")}serialize(e,t){Ne("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Ne("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Ne("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Cn,vs,rc,ac,Ws,oe,so,io,hh,fh,oc,lc,Sr,ph,hm,fm,ft,xu,rk,ak,ok,lk,ck,uk;const oi=class oi{constructor({x:e,y:t},s,i,r,a,o=0){E(this,ft);E(this,Cn);E(this,vs,[]);E(this,rc);E(this,ac);E(this,Ws,[]);E(this,oe,new Float64Array(18));E(this,so);E(this,io);E(this,hh);E(this,fh);E(this,oc);E(this,lc);E(this,Sr,[]);b(this,Cn,s),b(this,lc,r*i),b(this,ac,a),u(this,oe).set([NaN,NaN,NaN,NaN,e,t],6),b(this,rc,o),b(this,fh,u(oi,ph)*i),b(this,hh,u(oi,fm)*i),b(this,oc,i),u(this,Sr).push(e,t)}isEmpty(){return isNaN(u(this,oe)[8])}add({x:e,y:t}){var j;b(this,so,e),b(this,io,t);const[s,i,r,a]=u(this,Cn);let[o,l,c,d]=u(this,oe).subarray(8,12);const h=e-c,p=t-d,m=Math.hypot(h,p);if(m<u(this,hh))return!1;const y=m-u(this,fh),x=y/m,S=x*h,g=x*p;let v=o,w=l;o=c,l=d,c+=S,d+=g,(j=u(this,Sr))==null||j.push(e,t);const C=-g/y,_=S/y,k=C*u(this,lc),N=_*u(this,lc);return u(this,oe).set(u(this,oe).subarray(2,8),0),u(this,oe).set([c+k,d+N],4),u(this,oe).set(u(this,oe).subarray(14,18),12),u(this,oe).set([c-k,d-N],16),isNaN(u(this,oe)[6])?(u(this,Ws).length===0&&(u(this,oe).set([o+k,l+N],2),u(this,Ws).push(NaN,NaN,NaN,NaN,(o+k-s)/r,(l+N-i)/a),u(this,oe).set([o-k,l-N],14),u(this,vs).push(NaN,NaN,NaN,NaN,(o-k-s)/r,(l-N-i)/a)),u(this,oe).set([v,w,o,l,c,d],6),!this.isEmpty()):(u(this,oe).set([v,w,o,l,c,d],6),Math.abs(Math.atan2(w-l,v-o)-Math.atan2(g,S))<Math.PI/2?([o,l,c,d]=u(this,oe).subarray(2,6),u(this,Ws).push(NaN,NaN,NaN,NaN,((o+c)/2-s)/r,((l+d)/2-i)/a),[o,l,v,w]=u(this,oe).subarray(14,18),u(this,vs).push(NaN,NaN,NaN,NaN,((v+o)/2-s)/r,((w+l)/2-i)/a),!0):([v,w,o,l,c,d]=u(this,oe).subarray(0,6),u(this,Ws).push(((v+5*o)/6-s)/r,((w+5*l)/6-i)/a,((5*o+c)/6-s)/r,((5*l+d)/6-i)/a,((o+c)/2-s)/r,((l+d)/2-i)/a),[c,d,o,l,v,w]=u(this,oe).subarray(12,18),u(this,vs).push(((v+5*o)/6-s)/r,((w+5*l)/6-i)/a,((5*o+c)/6-s)/r,((5*l+d)/6-i)/a,((o+c)/2-s)/r,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,Ws),t=u(this,vs);if(isNaN(u(this,oe)[6])&&!this.isEmpty())return A(this,ft,rk).call(this);const s=[];s.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?s.push(`L${e[i+4]} ${e[i+5]}`):s.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);A(this,ft,ok).call(this,s);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?s.push(`L${t[i+4]} ${t[i+5]}`):s.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return A(this,ft,ak).call(this,s),s.join(" ")}newFreeDrawOutline(e,t,s,i,r,a){return new dk(e,t,s,i,r,a)}getOutlines(){var h;const e=u(this,Ws),t=u(this,vs),s=u(this,oe),[i,r,a,o]=u(this,Cn),l=new Float64Array((((h=u(this,Sr))==null?void 0:h.length)??0)+2);for(let p=0,m=l.length-2;p<m;p+=2)l[p]=(u(this,Sr)[p]-i)/a,l[p+1]=(u(this,Sr)[p+1]-r)/o;if(l[l.length-2]=(u(this,so)-i)/a,l[l.length-1]=(u(this,io)-r)/o,isNaN(s[6])&&!this.isEmpty())return A(this,ft,lk).call(this,l);const c=new Float64Array(u(this,Ws).length+24+u(this,vs).length);let d=e.length;for(let p=0;p<d;p+=2){if(isNaN(e[p])){c[p]=c[p+1]=NaN;continue}c[p]=e[p],c[p+1]=e[p+1]}d=A(this,ft,uk).call(this,c,d);for(let p=t.length-6;p>=6;p-=6)for(let m=0;m<6;m+=2){if(isNaN(t[p+m])){c[d]=c[d+1]=NaN,d+=2;continue}c[d]=t[p+m],c[d+1]=t[p+m+1],d+=2}return A(this,ft,ck).call(this,c,d),this.newFreeDrawOutline(c,l,u(this,Cn),u(this,oc),u(this,rc),u(this,ac))}};Cn=new WeakMap,vs=new WeakMap,rc=new WeakMap,ac=new WeakMap,Ws=new WeakMap,oe=new WeakMap,so=new WeakMap,io=new WeakMap,hh=new WeakMap,fh=new WeakMap,oc=new WeakMap,lc=new WeakMap,Sr=new WeakMap,ph=new WeakMap,hm=new WeakMap,fm=new WeakMap,ft=new WeakSet,xu=function(){const e=u(this,oe).subarray(4,6),t=u(this,oe).subarray(16,18),[s,i,r,a]=u(this,Cn);return[(u(this,so)+(e[0]-t[0])/2-s)/r,(u(this,io)+(e[1]-t[1])/2-i)/a,(u(this,so)+(t[0]-e[0])/2-s)/r,(u(this,io)+(t[1]-e[1])/2-i)/a]},rk=function(){const[e,t,s,i]=u(this,Cn),[r,a,o,l]=A(this,ft,xu).call(this);return`M${(u(this,oe)[2]-e)/s} ${(u(this,oe)[3]-t)/i} L${(u(this,oe)[4]-e)/s} ${(u(this,oe)[5]-t)/i} L${r} ${a} L${o} ${l} L${(u(this,oe)[16]-e)/s} ${(u(this,oe)[17]-t)/i} L${(u(this,oe)[14]-e)/s} ${(u(this,oe)[15]-t)/i} Z`},ak=function(e){const t=u(this,vs);e.push(`L${t[4]} ${t[5]} Z`)},ok=function(e){const[t,s,i,r]=u(this,Cn),a=u(this,oe).subarray(4,6),o=u(this,oe).subarray(16,18),[l,c,d,h]=A(this,ft,xu).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-s)/r} L${l} ${c} L${d} ${h} L${(o[0]-t)/i} ${(o[1]-s)/r}`)},lk=function(e){const t=u(this,oe),[s,i,r,a]=u(this,Cn),[o,l,c,d]=A(this,ft,xu).call(this),h=new Float64Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-s)/r,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-s)/r,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,(t[16]-s)/r,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-s)/r,(t[15]-i)/a],0),this.newFreeDrawOutline(h,e,u(this,Cn),u(this,oc),u(this,rc),u(this,ac))},ck=function(e,t){const s=u(this,vs);return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6},uk=function(e,t){const s=u(this,oe).subarray(4,6),i=u(this,oe).subarray(16,18),[r,a,o,l]=u(this,Cn),[c,d,h,p]=A(this,ft,xu).call(this);return e.set([NaN,NaN,NaN,NaN,(s[0]-r)/o,(s[1]-a)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(i[0]-r)/o,(i[1]-a)/l],t),t+=24},E(oi,ph,8),E(oi,hm,2),E(oi,fm,u(oi,ph)+u(oi,hm));let Xp=oi;var cc,ro,Si,mh,_n,gh,qe,gn,wu,bu,hk;class dk extends ik{constructor(t,s,i,r,a,o){super();E(this,gn);E(this,cc);E(this,ro,null);E(this,Si);E(this,mh);E(this,_n);E(this,gh);E(this,qe);b(this,qe,t),b(this,_n,s),b(this,cc,i),b(this,gh,r),b(this,Si,a),b(this,mh,o),A(this,gn,hk).call(this,o);const{x:l,y:c,width:d,height:h}=u(this,ro);for(let p=0,m=t.length;p<m;p+=2)t[p]=(t[p]-l)/d,t[p+1]=(t[p+1]-c)/h;for(let p=0,m=s.length;p<m;p+=2)s[p]=(s[p]-l)/d,s[p+1]=(s[p+1]-c)/h}toSVGPath(){const t=[`M${u(this,qe)[4]} ${u(this,qe)[5]}`];for(let s=6,i=u(this,qe).length;s<i;s+=6){if(isNaN(u(this,qe)[s])){t.push(`L${u(this,qe)[s+4]} ${u(this,qe)[s+5]}`);continue}t.push(`C${u(this,qe)[s]} ${u(this,qe)[s+1]} ${u(this,qe)[s+2]} ${u(this,qe)[s+3]} ${u(this,qe)[s+4]} ${u(this,qe)[s+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,s,i,r],a){const o=i-t,l=r-s;let c,d;switch(a){case 0:c=A(this,gn,wu).call(this,u(this,qe),t,r,o,-l),d=A(this,gn,wu).call(this,u(this,_n),t,r,o,-l);break;case 90:c=A(this,gn,bu).call(this,u(this,qe),t,s,o,l),d=A(this,gn,bu).call(this,u(this,_n),t,s,o,l);break;case 180:c=A(this,gn,wu).call(this,u(this,qe),i,s,-o,l),d=A(this,gn,wu).call(this,u(this,_n),i,s,-o,l);break;case 270:c=A(this,gn,bu).call(this,u(this,qe),i,r,-o,-l),d=A(this,gn,bu).call(this,u(this,_n),i,r,-o,-l);break}return{outline:Array.from(c),points:[Array.from(d)]}}get box(){return u(this,ro)}newOutliner(t,s,i,r,a,o=0){return new Xp(t,s,i,r,a,o)}getNewOutline(t,s){const{x:i,y:r,width:a,height:o}=u(this,ro),[l,c,d,h]=u(this,cc),p=a*d,m=o*h,y=i*d+l,x=r*h+c,S=this.newOutliner({x:u(this,_n)[0]*p+y,y:u(this,_n)[1]*m+x},u(this,cc),u(this,gh),t,u(this,mh),s??u(this,Si));for(let g=2;g<u(this,_n).length;g+=2)S.add({x:u(this,_n)[g]*p+y,y:u(this,_n)[g+1]*m+x});return S.getOutlines()}get mustRemoveSelfIntersections(){return!0}}cc=new WeakMap,ro=new WeakMap,Si=new WeakMap,mh=new WeakMap,_n=new WeakMap,gh=new WeakMap,qe=new WeakMap,gn=new WeakSet,wu=function(t,s,i,r,a){const o=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)o[l]=s+t[l]*r,o[l+1]=i+t[l+1]*a;return o},bu=function(t,s,i,r,a){const o=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)o[l]=s+t[l+1]*r,o[l+1]=i+t[l]*a;return o},hk=function(t){const s=u(this,qe);let i=s[4],r=s[5],a=i,o=r,l=i,c=r,d=i,h=r;const p=t?Math.max:Math.min;for(let g=6,v=s.length;g<v;g+=6){if(isNaN(s[g]))a=Math.min(a,s[g+4]),o=Math.min(o,s[g+5]),l=Math.max(l,s[g+4]),c=Math.max(c,s[g+5]),h<s[g+5]?(d=s[g+4],h=s[g+5]):h===s[g+5]&&(d=p(d,s[g+4]));else{const w=G.bezierBoundingBox(i,r,...s.slice(g,g+6));a=Math.min(a,w[0]),o=Math.min(o,w[1]),l=Math.max(l,w[2]),c=Math.max(c,w[3]),h<w[3]?(d=w[2],h=w[3]):h===w[3]&&(d=p(d,w[2]))}i=s[g+4],r=s[g+5]}const m=a-u(this,Si),y=o-u(this,Si),x=l-a+2*u(this,Si),S=c-o+2*u(this,Si);b(this,ro,{x:m,y,width:x,height:S,lastPoint:[d,h]})};var yh,Er,xs,sn,fk,tp,pk,mk,Xv;class SA{constructor(e,t=0,s=0,i=!0){E(this,sn);E(this,yh);E(this,Er,[]);E(this,xs,[]);let r=1/0,a=-1/0,o=1/0,l=-1/0;const d=10**-4;for(const{x:g,y:v,width:w,height:C}of e){const _=Math.floor((g-t)/d)*d,k=Math.ceil((g+w+t)/d)*d,N=Math.floor((v-t)/d)*d,P=Math.ceil((v+C+t)/d)*d,j=[_,N,P,!0],M=[k,N,P,!1];u(this,Er).push(j,M),r=Math.min(r,_),a=Math.max(a,k),o=Math.min(o,N),l=Math.max(l,P)}const h=a-r+2*s,p=l-o+2*s,m=r-s,y=o-s,x=u(this,Er).at(i?-1:-2),S=[x[0],x[2]];for(const g of u(this,Er)){const[v,w,C]=g;g[0]=(v-m)/h,g[1]=(w-y)/p,g[2]=(C-y)/p}b(this,yh,{x:m,y,width:h,height:p,lastPoint:S})}getOutlines(){u(this,Er).sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of u(this,Er))t[3]?(e.push(...A(this,sn,Xv).call(this,t)),A(this,sn,pk).call(this,t)):(A(this,sn,mk).call(this,t),e.push(...A(this,sn,Xv).call(this,t)));return A(this,sn,fk).call(this,e)}}yh=new WeakMap,Er=new WeakMap,xs=new WeakMap,sn=new WeakSet,fk=function(e){const t=[],s=new Set;for(const a of e){const[o,l,c]=a;t.push([o,l,a],[o,c,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],c=t[a+1][2];l.push(c),c.push(l),s.add(l),s.add(c)}const i=[];let r;for(;s.size>0;){const a=s.values().next().value;let[o,l,c,d,h]=a;s.delete(a);let p=o,m=l;for(r=[o,c],i.push(r);;){let y;if(s.has(d))y=d;else if(s.has(h))y=h;else break;s.delete(y),[o,l,c,d,h]=y,p!==o&&(r.push(p,m,o,m===l?l:c),p=o),m=m===l?c:l}r.push(p,m)}return new x4(i,u(this,yh))},tp=function(e){const t=u(this,xs);let s=0,i=t.length-1;for(;s<=i;){const r=s+i>>1,a=t[r][0];if(a===e)return r;a<e?s=r+1:i=r-1}return i+1},pk=function([,e,t]){const s=A(this,sn,tp).call(this,e);u(this,xs).splice(s,0,[e,t])},mk=function([,e,t]){const s=A(this,sn,tp).call(this,e);for(let i=s;i<u(this,xs).length;i++){const[r,a]=u(this,xs)[i];if(r!==e)break;if(r===e&&a===t){u(this,xs).splice(i,1);return}}for(let i=s-1;i>=0;i--){const[r,a]=u(this,xs)[i];if(r!==e)break;if(r===e&&a===t){u(this,xs).splice(i,1);return}}},Xv=function(e){const[t,s,i]=e,r=[[t,s,i]],a=A(this,sn,tp).call(this,i);for(let o=0;o<a;o++){const[l,c]=u(this,xs)[o];for(let d=0,h=r.length;d<h;d++){const[,p,m]=r[d];if(!(c<=p||m<=l)){if(p>=l){if(m>c)r[d][1]=c;else{if(h===1)return[];r.splice(d,1),d--,h--}continue}r[d][2]=l,m>c&&r.push([t,c,m])}}}return r};var vh,uc;class x4 extends ik{constructor(t,s){super();E(this,vh);E(this,uc);b(this,uc,t),b(this,vh,s)}toSVGPath(){const t=[];for(const s of u(this,uc)){let[i,r]=s;t.push(`M${i} ${r}`);for(let a=2;a<s.length;a+=2){const o=s[a],l=s[a+1];o===i?(t.push(`V${l}`),r=l):l===r&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,s,i,r],a){const o=[],l=i-t,c=r-s;for(const d of u(this,uc)){const h=new Array(d.length);for(let p=0;p<d.length;p+=2)h[p]=t+d[p]*l,h[p+1]=r-d[p+1]*c;o.push(h)}return o}get box(){return u(this,vh)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}vh=new WeakMap,uc=new WeakMap;class qv extends Xp{newFreeDrawOutline(e,t,s,i,r,a){return new w4(e,t,s,i,r,a)}get classNamesForDrawing(){return["highlight","free"]}}class w4 extends dk{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,s,i,r,a=0){return new qv(e,t,s,i,r,a)}}var ws,ao,dc,lt,xh,hc,wh,bh,Cr,bs,fc,Ah,be,Yv,Qv,Jv,da,gk,Zi;const ln=class ln{constructor({editor:e=null,uiManager:t=null}){E(this,be);E(this,ws,null);E(this,ao,null);E(this,dc);E(this,lt,null);E(this,xh,!1);E(this,hc,!1);E(this,wh,null);E(this,bh);E(this,Cr,null);E(this,bs,null);E(this,fc);var s;e?(b(this,hc,!1),b(this,fc,J.HIGHLIGHT_COLOR),b(this,wh,e)):(b(this,hc,!0),b(this,fc,J.HIGHLIGHT_DEFAULT_COLOR)),b(this,bs,(e==null?void 0:e._uiManager)||t),b(this,bh,u(this,bs)._eventBus),b(this,dc,(e==null?void 0:e.color)||((s=u(this,bs))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),u(ln,Ah)||b(ln,Ah,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return de(this,"_keyboardManager",new Vh([[["Escape","mac+Escape"],ln.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ln.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ln.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ln.prototype._moveToPrevious],[["Home","mac+Home"],ln.prototype._moveToBeginning],[["End","mac+End"],ln.prototype._moveToEnd]]))}renderButton(){const e=b(this,ws,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=u(this,bs)._signal;e.addEventListener("click",A(this,be,da).bind(this),{signal:t}),e.addEventListener("keydown",A(this,be,Jv).bind(this),{signal:t});const s=b(this,ao,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=u(this,dc),e.append(s),e}renderMainDropdown(){const e=b(this,lt,A(this,be,Yv).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===u(this,ws)){A(this,be,da).call(this,e);return}const t=e.target.getAttribute("data-color");t&&A(this,be,Qv).call(this,t,e)}_moveToNext(e){var t,s;if(!u(this,be,Zi)){A(this,be,da).call(this,e);return}if(e.target===u(this,ws)){(t=u(this,lt).firstChild)==null||t.focus();return}(s=e.target.nextSibling)==null||s.focus()}_moveToPrevious(e){var t,s;if(e.target===((t=u(this,lt))==null?void 0:t.firstChild)||e.target===u(this,ws)){u(this,be,Zi)&&this._hideDropdownFromKeyboard();return}u(this,be,Zi)||A(this,be,da).call(this,e),(s=e.target.previousSibling)==null||s.focus()}_moveToBeginning(e){var t;if(!u(this,be,Zi)){A(this,be,da).call(this,e);return}(t=u(this,lt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,be,Zi)){A(this,be,da).call(this,e);return}(t=u(this,lt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=u(this,lt))==null||e.classList.add("hidden"),(t=u(this,Cr))==null||t.abort(),b(this,Cr,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,hc)){if(!u(this,be,Zi)){(e=u(this,wh))==null||e.unselect();return}this.hideDropdown(),u(this,ws).focus({preventScroll:!0,focusVisible:u(this,xh)})}}updateColor(e){if(u(this,ao)&&(u(this,ao).style.backgroundColor=e),!u(this,lt))return;const t=u(this,bs).highlightColors.values();for(const s of u(this,lt).children)s.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=u(this,ws))==null||e.remove(),b(this,ws,null),b(this,ao,null),(t=u(this,lt))==null||t.remove(),b(this,lt,null)}};ws=new WeakMap,ao=new WeakMap,dc=new WeakMap,lt=new WeakMap,xh=new WeakMap,hc=new WeakMap,wh=new WeakMap,bh=new WeakMap,Cr=new WeakMap,bs=new WeakMap,fc=new WeakMap,Ah=new WeakMap,be=new WeakSet,Yv=function(){const e=document.createElement("div"),t=u(this,bs)._signal;e.addEventListener("contextmenu",ss,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,i]of u(this,bs).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=s,r.setAttribute("data-l10n-id",u(ln,Ah)[s]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=i,r.setAttribute("aria-selected",i===u(this,dc)),r.addEventListener("click",A(this,be,Qv).bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",A(this,be,Jv).bind(this),{signal:t}),e},Qv=function(e,t){t.stopPropagation(),u(this,bh).dispatch("switchannotationeditorparams",{source:this,type:u(this,fc),value:e})},Jv=function(e){ln._keyboardManager.exec(this,e)},da=function(e){if(u(this,be,Zi)){this.hideDropdown();return}if(b(this,xh,e.detail===0),u(this,Cr)||(b(this,Cr,new AbortController),window.addEventListener("pointerdown",A(this,be,gk).bind(this),{signal:u(this,bs).combinedSignal(u(this,Cr))})),u(this,lt)){u(this,lt).classList.remove("hidden");return}const t=b(this,lt,A(this,be,Yv).call(this));u(this,ws).append(t)},gk=function(e){var t;(t=u(this,lt))!=null&&t.contains(e.target)||this.hideDropdown()},Zi=function(){return u(this,lt)&&!u(this,lt).classList.contains("hidden")},E(ln,Ah,null);let qp=ln;var pc,Sh,Ei,oo,mc,Wn,Eh,Ch,lo,As,Vt,dn,gc,Ci,ct,yc,Gn,_h,te,Zv,np,yk,vk,xk,e0,ha,Qn,Yo,wk,sp,Au,bk,Ak,Sk,Ek,Ck;const fe=class fe extends xe{constructor(t){super({...t,name:"highlightEditor"});E(this,te);E(this,pc,null);E(this,Sh,0);E(this,Ei);E(this,oo,null);E(this,mc,null);E(this,Wn,null);E(this,Eh,null);E(this,Ch,0);E(this,lo,null);E(this,As,null);E(this,Vt,null);E(this,dn,!1);E(this,gc,null);E(this,Ci);E(this,ct,null);E(this,yc,"");E(this,Gn);E(this,_h,"");this.color=t.color||fe._defaultColor,b(this,Gn,t.thickness||fe._defaultThickness),b(this,Ci,t.opacity||fe._defaultOpacity),b(this,Ei,t.boxes||null),b(this,_h,t.methodOfCreation||""),b(this,yc,t.text||""),this._isDraggable=!1,t.highlightId>-1?(b(this,dn,!0),A(this,te,np).call(this,t),A(this,te,ha).call(this)):u(this,Ei)&&(b(this,pc,t.anchorNode),b(this,Sh,t.anchorOffset),b(this,Eh,t.focusNode),b(this,Ch,t.focusOffset),A(this,te,Zv).call(this),A(this,te,ha).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=fe.prototype;return de(this,"_keyboardManager",new Vh([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,dn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,Gn),methodOfCreation:u(this,_h)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,s){var i;xe.initialize(t,s),fe._defaultColor||(fe._defaultColor=((i=s.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,s){switch(t){case J.HIGHLIGHT_DEFAULT_COLOR:fe._defaultColor=s;break;case J.HIGHLIGHT_THICKNESS:fe._defaultThickness=s;break}}translateInPage(t,s){}get toolbarPosition(){return u(this,gc)}updateParams(t,s){switch(t){case J.HIGHLIGHT_COLOR:A(this,te,yk).call(this,s);break;case J.HIGHLIGHT_THICKNESS:A(this,te,vk).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[J.HIGHLIGHT_DEFAULT_COLOR,fe._defaultColor],[J.HIGHLIGHT_THICKNESS,fe._defaultThickness]]}get propertiesToUpdate(){return[[J.HIGHLIGHT_COLOR,this.color||fe._defaultColor],[J.HIGHLIGHT_THICKNESS,u(this,Gn)||fe._defaultThickness],[J.HIGHLIGHT_FREE,u(this,dn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(b(this,mc,new qp({editor:this})),t.addColorPicker(u(this,mc))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,te,Au).call(this))}getBaseTranslation(){return[0,0]}getRect(t,s){return super.getRect(t,s,A(this,te,Au).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){A(this,te,e0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,te,ha).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let s=!1;this.parent&&!t?A(this,te,e0).call(this):t&&(A(this,te,ha).call(this,t),s=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),s&&this.select()}rotate(t){var r,a,o;const{drawLayer:s}=this.parent;let i;u(this,dn)?(t=(t-this.rotation+360)%360,i=A(r=fe,Qn,Yo).call(r,u(this,As).box,t)):i=A(a=fe,Qn,Yo).call(a,this,t),s.rotate(u(this,Vt),t),s.rotate(u(this,ct),t),s.updateBox(u(this,Vt),i),s.updateBox(u(this,ct),A(o=fe,Qn,Yo).call(o,u(this,Wn).box,t))}render(){if(this.div)return this.div;const t=super.render();u(this,yc)&&(t.setAttribute("aria-label",u(this,yc)),t.setAttribute("role","mark")),u(this,dn)?t.classList.add("free"):this.div.addEventListener("keydown",A(this,te,wk).bind(this),{signal:this._uiManager._signal});const s=b(this,lo,document.createElement("div"));t.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=u(this,oo);const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),Gp(this,u(this,lo),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(u(this,ct),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(u(this,ct),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:A(this,te,sp).call(this,!0);break;case 1:case 3:A(this,te,sp).call(this,!1);break}}select(){var t,s;super.select(),u(this,ct)&&((t=this.parent)==null||t.drawLayer.removeClass(u(this,ct),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(u(this,ct),"selected"))}unselect(){var t;super.unselect(),u(this,ct)&&((t=this.parent)==null||t.drawLayer.removeClass(u(this,ct),"selected"),u(this,dn)||A(this,te,sp).call(this,!1))}get _mustFixPosition(){return!u(this,dn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(u(this,Vt),t),this.parent.drawLayer.show(u(this,ct),t))}static startHighlighting(t,s,{target:i,x:r,y:a}){const{x:o,y:l,width:c,height:d}=i.getBoundingClientRect(),h=new AbortController,p=t.combinedSignal(h),m=x=>{x.preventDefault(),x.stopPropagation()},y=x=>{h.abort(),A(this,Qn,Ek).call(this,t,x)};window.addEventListener("blur",y,{signal:p}),window.addEventListener("pointerup",y,{signal:p}),window.addEventListener("pointerdown",m,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",ss,{signal:p}),i.addEventListener("pointermove",A(this,Qn,Sk).bind(this,t),{signal:p}),this._freeHighlight=new qv({x:r,y:a},[o,l,c,d],t.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,s,i){var x,S,g,v;let r=null;if(t instanceof YT){const{data:{quadPoints:w,rect:C,rotation:_,id:k,color:N,opacity:P,popupRef:j},parent:{page:{pageNumber:M}}}=t;r=t={annotationType:se.HIGHLIGHT,color:Array.from(N),opacity:P,quadPoints:w,boxes:null,pageIndex:M-1,rect:C.slice(0),rotation:_,id:k,deleted:!1,popupRef:j}}else if(t instanceof mw){const{data:{inkLists:w,rect:C,rotation:_,id:k,color:N,borderStyle:{rawWidth:P},popupRef:j},parent:{page:{pageNumber:M}}}=t;r=t={annotationType:se.HIGHLIGHT,color:Array.from(N),thickness:P,inkLists:w,boxes:null,pageIndex:M-1,rect:C.slice(0),rotation:_,id:k,deleted:!1,popupRef:j}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=t,d=await super.deserialize(t,s,i);d.color=G.makeHexColor(...a),b(d,Ci,c||1),l&&b(d,Gn,t.thickness),d.annotationElementId=t.id||null,d._initialData=r;const[h,p]=d.pageDimensions,[m,y]=d.pageTranslation;if(o){const w=b(d,Ei,[]);for(let C=0;C<o.length;C+=8)w.push({x:(o[C]-m)/h,y:1-(o[C+1]-y)/p,width:(o[C+2]-o[C])/h,height:(o[C+1]-o[C+5])/p});A(x=d,te,Zv).call(x),A(S=d,te,ha).call(S),d.rotate(d.rotation)}else if(l){b(d,dn,!0);const w=l[0],C={x:w[0]-m,y:p-(w[1]-y)},_=new qv(C,[0,0,h,p],1,u(d,Gn)/2,!0,.001);for(let P=0,j=w.length;P<j;P+=2)C.x=w[P]-m,C.y=p-(w[P+1]-y),_.add(C);const{id:k,clipPathId:N}=s.drawLayer.draw(_,d.color,d._defaultOpacity,!0);A(g=d,te,np).call(g,{highlightOutlines:_.getOutlines(),highlightId:k,clipPathId:N}),A(v=d,te,ha).call(v)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),i=xe._colorManager.convert(this.color),r={annotationType:se.HIGHLIGHT,color:i,opacity:u(this,Ci),thickness:u(this,Gn),quadPoints:A(this,te,bk).call(this),outlines:A(this,te,Ak).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:A(this,te,Au).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!A(this,te,Ck).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};pc=new WeakMap,Sh=new WeakMap,Ei=new WeakMap,oo=new WeakMap,mc=new WeakMap,Wn=new WeakMap,Eh=new WeakMap,Ch=new WeakMap,lo=new WeakMap,As=new WeakMap,Vt=new WeakMap,dn=new WeakMap,gc=new WeakMap,Ci=new WeakMap,ct=new WeakMap,yc=new WeakMap,Gn=new WeakMap,_h=new WeakMap,te=new WeakSet,Zv=function(){const t=new SA(u(this,Ei),.001);b(this,As,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=u(this,As).box;const s=new SA(u(this,Ei),.0025,.001,this._uiManager.direction==="ltr");b(this,Wn,s.getOutlines());const{lastPoint:i}=u(this,Wn).box;b(this,gc,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},np=function({highlightOutlines:t,highlightId:s,clipPathId:i}){var h,p;if(b(this,As,t),b(this,Wn,t.getNewOutline(u(this,Gn)/2+1.5,.0025)),s>=0)b(this,Vt,s),b(this,oo,i),this.parent.drawLayer.finalizeLine(s,t),b(this,ct,this.parent.drawLayer.drawOutline(u(this,Wn)));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(u(this,Vt),t),this.parent.drawLayer.updateBox(u(this,Vt),A(h=fe,Qn,Yo).call(h,u(this,As).box,(m-this.rotation+360)%360)),this.parent.drawLayer.updateLine(u(this,ct),u(this,Wn)),this.parent.drawLayer.updateBox(u(this,ct),A(p=fe,Qn,Yo).call(p,u(this,Wn).box,m))}const{x:a,y:o,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[m,y]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*y/m,this.height=c*m/y;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[m,y]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*y/m,this.height=c*m/y;break}}const{lastPoint:d}=u(this,Wn).box;b(this,gc,[(d[0]-a)/l,(d[1]-o)/c])},yk=function(t){const s=(a,o)=>{var l,c,d;this.color=a,(l=this.parent)==null||l.drawLayer.changeColor(u(this,Vt),a),(c=u(this,mc))==null||c.updateColor(a),b(this,Ci,o),(d=this.parent)==null||d.drawLayer.changeOpacity(u(this,Vt),o)},i=this.color,r=u(this,Ci);this.addCommands({cmd:s.bind(this,t,fe._defaultOpacity),undo:s.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:J.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},vk=function(t){const s=u(this,Gn),i=r=>{b(this,Gn,r),A(this,te,xk).call(this,r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:J.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},xk=function(t){if(!u(this,dn))return;A(this,te,np).call(this,{highlightOutlines:u(this,As).getNewOutline(t/2)}),this.fixAndSetPosition();const[s,i]=this.parentDimensions;this.setDims(this.width*s,this.height*i)},e0=function(){u(this,Vt)===null||!this.parent||(this.parent.drawLayer.remove(u(this,Vt)),b(this,Vt,null),this.parent.drawLayer.remove(u(this,ct)),b(this,ct,null))},ha=function(t=this.parent){u(this,Vt)===null&&({id:qt(this,Vt)._,clipPathId:qt(this,oo)._}=t.drawLayer.draw(u(this,As),this.color,u(this,Ci)),b(this,ct,t.drawLayer.drawOutline(u(this,Wn))),u(this,lo)&&(u(this,lo).style.clipPath=u(this,oo)))},Qn=new WeakSet,Yo=function({x:t,y:s,width:i,height:r},a){switch(a){case 90:return{x:1-s-r,y:t,width:r,height:i};case 180:return{x:1-t-i,y:1-s-r,width:i,height:r};case 270:return{x:s,y:1-t-i,width:r,height:i}}return{x:t,y:s,width:i,height:r}},wk=function(t){fe._keyboardManager.exec(this,t)},sp=function(t){if(!u(this,pc))return;const s=window.getSelection();t?s.setPosition(u(this,pc),u(this,Sh)):s.setPosition(u(this,Eh),u(this,Ch))},Au=function(){return u(this,dn)?this.rotation:0},bk=function(){if(u(this,dn))return null;const[t,s]=this.pageDimensions,[i,r]=this.pageTranslation,a=u(this,Ei),o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:d,width:h,height:p}of a){const m=c*t+i,y=(1-d-p)*s+r;o[l]=o[l+4]=m,o[l+1]=o[l+3]=y,o[l+2]=o[l+6]=m+h*t,o[l+5]=o[l+7]=y+p*s,l+=8}return o},Ak=function(t){return u(this,As).serialize(t,A(this,te,Au).call(this))},Sk=function(t,s){this._freeHighlight.add(s)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Ek=function(t,s){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Ck=function(t){const{color:s}=this._initialData;return t.color.some((i,r)=>i!==s[r])},E(fe,Qn),Q(fe,"_defaultColor",null),Q(fe,"_defaultOpacity",1),Q(fe,"_defaultThickness",12),Q(fe,"_type","highlight"),Q(fe,"_editorType",se.HIGHLIGHT),Q(fe,"_freeHighlightId",-1),Q(fe,"_freeHighlight",null),Q(fe,"_freeHighlightClipId","");let Yp=fe;var co,uo,Gs,_i,Kn,ho,fo,po,Ti,vc,mo,go,_r,F,_k,Tk,kk,Nk,n0,Pk,s0,Rk,jk,Mk,Lk,Dk,fa,i0,r0,a0,ip,rp,Qo,o0,ap,Xi,Ik,l0,Fk,Ok,c0,op,Su;const Ie=class Ie extends xe{constructor(t){super({...t,name:"inkEditor"});E(this,F);E(this,co,0);E(this,uo,0);E(this,Gs,null);E(this,_i,new Path2D);E(this,Kn,!1);E(this,ho,null);E(this,fo,!1);E(this,po,!1);E(this,Ti,null);E(this,vc,null);E(this,mo,0);E(this,go,0);E(this,_r,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,s){xe.initialize(t,s)}static updateDefaultParams(t,s){switch(t){case J.INK_THICKNESS:Ie._defaultThickness=s;break;case J.INK_COLOR:Ie._defaultColor=s;break;case J.INK_OPACITY:Ie._defaultOpacity=s/100;break}}updateParams(t,s){switch(t){case J.INK_THICKNESS:A(this,F,_k).call(this,s);break;case J.INK_COLOR:A(this,F,Tk).call(this,s);break;case J.INK_OPACITY:A(this,F,kk).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[J.INK_THICKNESS,Ie._defaultThickness],[J.INK_COLOR,Ie._defaultColor||xe._defaultLineColor],[J.INK_OPACITY,Math.round(Ie._defaultOpacity*100)]]}get propertiesToUpdate(){return[[J.INK_THICKNESS,this.thickness||Ie._defaultThickness],[J.INK_COLOR,this.color||Ie._defaultColor||xe._defaultLineColor],[J.INK_OPACITY,Math.round(100*(this.opacity??Ie._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(A(this,F,ip).call(this),A(this,F,rp).call(this)),this.isAttachedToDOM||(this.parent.add(this),A(this,F,Qo).call(this)),A(this,F,Su).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,Gs)&&(clearTimeout(u(this,Gs)),b(this,Gs,null)),(t=u(this,Ti))==null||t.disconnect(),b(this,Ti,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,s]=this.parentDimensions,i=this.width*t,r=this.height*s;this.setDimensions(i,r)}enableEditMode(){u(this,Kn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,A(this,F,i0).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),A(this,F,r0).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,Kn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),b(this,Kn,!0),this.div.classList.add("disabled"),A(this,F,Su).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||u(this,Kn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),A(this,F,Pk).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),A(this,F,s0).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),A(this,F,a0).call(this,t)}canvasPointerleave(t){A(this,F,a0).call(this,t)}get isResizable(){return!this.isEmpty()&&u(this,Kn)}render(){if(this.div)return this.div;let t,s;this.width&&(t=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,r,a,o]=A(this,F,Nk).call(this);if(this.setAt(i,r,0,0),this.setDims(a,o),A(this,F,ip).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,s*c,this.width*l,this.height*c),b(this,po,!0),A(this,F,Qo).call(this),this.setDims(this.width*l,this.height*c),A(this,F,fa).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return A(this,F,rp).call(this),this.div}setDimensions(t,s){const i=Math.round(t),r=Math.round(s);if(u(this,mo)===i&&u(this,go)===r)return;b(this,mo,i),b(this,go,r),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=t/a,this.height=s/o,this.fixAndSetPosition(),u(this,Kn)&&A(this,F,o0).call(this,t,s),A(this,F,Qo).call(this),A(this,F,fa).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,s,i){var S,g,v;if(t instanceof mw)return null;const r=await super.deserialize(t,s,i);r.thickness=t.thickness,r.color=G.makeHexColor(...t.color),r.opacity=t.opacity;const[a,o]=r.pageDimensions,l=r.width*a,c=r.height*o,d=r.parentScale,h=t.thickness/2;b(r,Kn,!0),b(r,mo,Math.round(l)),b(r,go,Math.round(c));const{paths:p,rect:m,rotation:y}=t;for(let{bezier:w}of p){w=A(S=Ie,Xi,Fk).call(S,w,m,y);const C=[];r.paths.push(C);let _=d*(w[0]-h),k=d*(w[1]-h);for(let P=2,j=w.length;P<j;P+=6){const M=d*(w[P]-h),D=d*(w[P+1]-h),q=d*(w[P+2]-h),H=d*(w[P+3]-h),$=d*(w[P+4]-h),Z=d*(w[P+5]-h);C.push([[_,k],[M,D],[q,H],[$,Z]]),_=$,k=Z}const N=A(this,Xi,Ik).call(this,C);r.bezierPath2D.push(N)}const x=A(g=r,F,c0).call(g);return b(r,uo,Math.max(xe.MIN_SIZE,x[2]-x[0])),b(r,co,Math.max(xe.MIN_SIZE,x[3]-x[1])),A(v=r,F,o0).call(v,l,c),r}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),s=xe._colorManager.convert(this.ctx.strokeStyle);return{annotationType:se.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:A(this,F,Ok).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};co=new WeakMap,uo=new WeakMap,Gs=new WeakMap,_i=new WeakMap,Kn=new WeakMap,ho=new WeakMap,fo=new WeakMap,po=new WeakMap,Ti=new WeakMap,vc=new WeakMap,mo=new WeakMap,go=new WeakMap,_r=new WeakMap,F=new WeakSet,_k=function(t){const s=r=>{this.thickness=r,A(this,F,Su).call(this)},i=this.thickness;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:J.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Tk=function(t){const s=r=>{this.color=r,A(this,F,fa).call(this)},i=this.color;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:J.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},kk=function(t){const s=r=>{this.opacity=r,A(this,F,fa).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:J.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Nk=function(){const{parentRotation:t,parentDimensions:[s,i]}=this;switch(t){case 90:return[0,i,i,s];case 180:return[s,i,s,i];case 270:return[s,0,i,s];default:return[0,0,s,i]}},n0=function(){const{ctx:t,color:s,opacity:i,thickness:r,parentScale:a,scaleFactor:o}=this;t.lineWidth=r*a/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${s}${zO(i)}`},Pk=function(t,s){this.canvas.addEventListener("contextmenu",ss,{signal:this._uiManager._signal}),A(this,F,r0).call(this),b(this,ho,new AbortController);const i=this._uiManager.combinedSignal(u(this,ho));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,u(this,po)||(b(this,po,!0),A(this,F,Qo).call(this),this.thickness||(this.thickness=Ie._defaultThickness),this.color||(this.color=Ie._defaultColor||xe._defaultLineColor),this.opacity??(this.opacity=Ie._defaultOpacity)),this.currentPath.push([t,s]),b(this,fo,!1),A(this,F,n0).call(this),b(this,_r,()=>{A(this,F,Mk).call(this),u(this,_r)&&window.requestAnimationFrame(u(this,_r))}),window.requestAnimationFrame(u(this,_r))},s0=function(t,s){const[i,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&s===r)return;const a=this.currentPath;let o=u(this,_i);if(a.push([t,s]),b(this,fo,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(t,s);return}a.length===3&&(b(this,_i,o=new Path2D),o.moveTo(...a[0])),A(this,F,Lk).call(this,o,...a.at(-3),...a.at(-2),t,s)},Rk=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);u(this,_i).lineTo(...t)},jk=function(t,s){b(this,_r,null),t=Math.min(Math.max(t,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),A(this,F,s0).call(this,t,s),A(this,F,Rk).call(this);let i;if(this.currentPath.length!==1)i=A(this,F,Dk).call(this);else{const c=[t,s];i=[[c,c.slice(),c.slice(),c]]}const r=u(this,_i),a=this.currentPath;this.currentPath=[],b(this,_i,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(i),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(A(this,F,ip).call(this),A(this,F,rp).call(this)),A(this,F,Su).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},Mk=function(){if(!u(this,fo))return;b(this,fo,!1);const t=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),i=s.map(o=>o[0]),r=s.map(o=>o[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...r)-t,Math.max(...r)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(u(this,_i)),a.restore()},Lk=function(t,s,i,r,a,o,l){const c=(s+r)/2,d=(i+a)/2,h=(r+o)/2,p=(a+l)/2;t.bezierCurveTo(c+2*(r-c)/3,d+2*(a-d)/3,h+2*(r-h)/3,p+2*(a-p)/3,h,p)},Dk=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const s=[];let i,[r,a]=t[0];for(i=1;i<t.length-2;i++){const[m,y]=t[i],[x,S]=t[i+1],g=(m+x)/2,v=(y+S)/2,w=[r+2*(m-r)/3,a+2*(y-a)/3],C=[g+2*(m-g)/3,v+2*(y-v)/3];s.push([[r,a],w,C,[g,v]]),[r,a]=[g,v]}const[o,l]=t[i],[c,d]=t[i+1],h=[r+2*(o-r)/3,a+2*(l-a)/3],p=[c+2*(o-c)/3,d+2*(l-d)/3];return s.push([[r,a],h,p,[c,d]]),s},fa=function(){if(this.isEmpty()){A(this,F,ap).call(this);return}A(this,F,n0).call(this);const{canvas:t,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,t.width,t.height),A(this,F,ap).call(this);for(const i of this.bezierPath2D)s.stroke(i)},i0=function(){if(u(this,vc))return;b(this,vc,new AbortController);const t=this._uiManager.combinedSignal(u(this,vc));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},r0=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},a0=function(t){var s;(s=u(this,ho))==null||s.abort(),b(this,ho,null),A(this,F,i0).call(this),u(this,Gs)&&clearTimeout(u(this,Gs)),b(this,Gs,setTimeout(()=>{b(this,Gs,null),this.canvas.removeEventListener("contextmenu",ss)},10)),A(this,F,jk).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},ip=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},rp=function(){b(this,Ti,new ResizeObserver(t=>{const s=t[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),u(this,Ti).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=u(this,Ti))==null||t.disconnect(),b(this,Ti,null)},{once:!0})},Qo=function(){if(!u(this,po))return;const[t,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*s),A(this,F,ap).call(this)},o0=function(t,s){const i=A(this,F,op).call(this),r=(t-i)/u(this,uo),a=(s-i)/u(this,co);this.scaleFactor=Math.min(r,a)},ap=function(){const t=A(this,F,op).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Xi=new WeakSet,Ik=function(t){const s=new Path2D;for(let i=0,r=t.length;i<r;i++){const[a,o,l,c]=t[i];i===0&&s.moveTo(...a),s.bezierCurveTo(o[0],o[1],l[0],l[1],c[0],c[1])}return s},l0=function(t,s,i){const[r,a,o,l]=s;switch(i){case 0:for(let c=0,d=t.length;c<d;c+=2)t[c]+=r,t[c+1]=l-t[c+1];break;case 90:for(let c=0,d=t.length;c<d;c+=2){const h=t[c];t[c]=t[c+1]+r,t[c+1]=h+a}break;case 180:for(let c=0,d=t.length;c<d;c+=2)t[c]=o-t[c],t[c+1]+=a;break;case 270:for(let c=0,d=t.length;c<d;c+=2){const h=t[c];t[c]=o-t[c+1],t[c+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},Fk=function(t,s,i){const[r,a,o,l]=s;switch(i){case 0:for(let c=0,d=t.length;c<d;c+=2)t[c]-=r,t[c+1]=l-t[c+1];break;case 90:for(let c=0,d=t.length;c<d;c+=2){const h=t[c];t[c]=t[c+1]-a,t[c+1]=h-r}break;case 180:for(let c=0,d=t.length;c<d;c+=2)t[c]=o-t[c],t[c+1]-=a;break;case 270:for(let c=0,d=t.length;c<d;c+=2){const h=t[c];t[c]=l-t[c+1],t[c+1]=o-h}break;default:throw new Error("Invalid rotation")}return t},Ok=function(t,s,i,r){var d,h;const a=[],o=this.thickness/2,l=t*s+o,c=t*i+o;for(const p of this.paths){const m=[],y=[];for(let x=0,S=p.length;x<S;x++){const[g,v,w,C]=p[x];if(g[0]===C[0]&&g[1]===C[1]&&S===1){const H=t*g[0]+l,$=t*g[1]+c;m.push(H,$),y.push(H,$);break}const _=t*g[0]+l,k=t*g[1]+c,N=t*v[0]+l,P=t*v[1]+c,j=t*w[0]+l,M=t*w[1]+c,D=t*C[0]+l,q=t*C[1]+c;x===0&&(m.push(_,k),y.push(_,k)),m.push(N,P,j,M,D,q),y.push(N,P),x===S-1&&y.push(D,q)}a.push({bezier:A(d=Ie,Xi,l0).call(d,m,r,this.rotation),points:A(h=Ie,Xi,l0).call(h,y,r,this.rotation)})}return a},c0=function(){let t=1/0,s=-1/0,i=1/0,r=-1/0;for(const a of this.paths)for(const[o,l,c,d]of a){const h=G.bezierBoundingBox(...o,...l,...c,...d);t=Math.min(t,h[0]),i=Math.min(i,h[1]),s=Math.max(s,h[2]),r=Math.max(r,h[3])}return[t,i,s,r]},op=function(){return u(this,Kn)?Math.ceil(this.thickness*this.parentScale):0},Su=function(t=!1){if(this.isEmpty())return;if(!u(this,Kn)){A(this,F,fa).call(this);return}const s=A(this,F,c0).call(this),i=A(this,F,op).call(this);b(this,uo,Math.max(xe.MIN_SIZE,s[2]-s[0])),b(this,co,Math.max(xe.MIN_SIZE,s[3]-s[1]));const r=Math.ceil(i+u(this,uo)*this.scaleFactor),a=Math.ceil(i+u(this,co)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=r/o,this.height=a/l,this.setAspectRatio(r,a);const c=this.translationX,d=this.translationY;this.translationX=-s[0],this.translationY=-s[1],A(this,F,Qo).call(this),A(this,F,fa).call(this),b(this,mo,r),b(this,go,a),this.setDims(r,a);const h=t?i/this.scaleFactor/2:0;this.translate(c-this.translationX-h,d-this.translationY-h)},E(Ie,Xi),Q(Ie,"_defaultColor",null),Q(Ie,"_defaultOpacity",1),Q(Ie,"_defaultThickness",1),Q(Ie,"_type","ink"),Q(Ie,"_editorType",se.INK);let t0=Ie;var Oe,_t,Tr,ki,kr,xc,Ks,Ni,Xs,Tn,wc,ce,Eu,Cu,lp,d0,Bk,cp,h0,up,Vk,Uk;const Uu=class Uu extends xe{constructor(t){super({...t,name:"stampEditor"});E(this,ce);E(this,Oe,null);E(this,_t,null);E(this,Tr,null);E(this,ki,null);E(this,kr,null);E(this,xc,"");E(this,Ks,null);E(this,Ni,null);E(this,Xs,null);E(this,Tn,!1);E(this,wc,!1);b(this,ki,t.bitmapUrl),b(this,kr,t.bitmapFile)}static initialize(t,s){xe.initialize(t,s)}static get supportedTypes(){return de(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return de(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,s){s.pasteEditor(se.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const s=t.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(t=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:r,width:a,height:o,channels:r.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),s&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t,s;u(this,_t)&&(b(this,Oe,null),this._uiManager.imageManager.deleteId(u(this,_t)),(t=u(this,Ks))==null||t.remove(),b(this,Ks,null),(s=u(this,Ni))==null||s.disconnect(),b(this,Ni,null),u(this,Xs)&&(clearTimeout(u(this,Xs)),b(this,Xs,null))),super.remove()}rebuild(){if(!this.parent){u(this,_t)&&A(this,ce,lp).call(this);return}super.rebuild(),this.div!==null&&(u(this,_t)&&u(this,Ks)===null&&A(this,ce,lp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,Tr)||u(this,Oe)||u(this,ki)||u(this,kr)||u(this,_t))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,s;if(this.width&&(t=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),u(this,Oe)?A(this,ce,d0).call(this):A(this,ce,lp).call(this),this.width&&!this.annotationElementId){const[i,r]=this.parentDimensions;this.setAt(t*i,s*r,this.width*i,this.height*r)}return this.div}copyCanvas(t,s,i=!1){var m;t||(t=224);const{width:r,height:a}=u(this,Oe),o=new av;let l=u(this,Oe),c=r,d=a,h=null;if(s){if(r>s||a>s){const P=Math.min(s/r,s/a);c=Math.floor(r*P),d=Math.floor(a*P)}h=document.createElement("canvas");const y=h.width=Math.ceil(c*o.sx),x=h.height=Math.ceil(d*o.sy);u(this,Tn)||(l=A(this,ce,cp).call(this,y,x));const S=h.getContext("2d");S.filter=this._uiManager.hcmFilter;let g="white",v="#cfcfd8";this._uiManager.hcmFilter!=="none"?v="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(g="#8f8f9d",v="#42414d");const w=15,C=w*o.sx,_=w*o.sy,k=new OffscreenCanvas(C*2,_*2),N=k.getContext("2d");N.fillStyle=g,N.fillRect(0,0,C*2,_*2),N.fillStyle=v,N.fillRect(0,0,C,_),N.fillRect(C,_,C,_),S.fillStyle=S.createPattern(k,"repeat"),S.fillRect(0,0,y,x),S.drawImage(l,0,0,l.width,l.height,0,0,y,x)}let p=null;if(i){let y,x;if(o.symmetric&&l.width<t&&l.height<t)y=l.width,x=l.height;else if(l=u(this,Oe),r>t||a>t){const v=Math.min(t/r,t/a);y=Math.floor(r*v),x=Math.floor(a*v),u(this,Tn)||(l=A(this,ce,cp).call(this,y,x))}const g=new OffscreenCanvas(y,x).getContext("2d",{willReadFrequently:!0});g.drawImage(l,0,0,l.width,l.height,0,0,y,x),p={width:y,height:x,data:g.getImageData(0,0,y,x).data}}return{canvas:h,width:c,height:d,imageData:p}}getImageForAltText(){return u(this,Ks)}static async deserialize(t,s,i){var x;let r=null;if(t instanceof QT){const{data:{rect:S,rotation:g,id:v,structParent:w,popupRef:C},container:_,parent:{page:{pageNumber:k}}}=t,N=_.querySelector("canvas"),P=i.imageManager.getFromCanvas(_.id,N);N.remove();const j=((x=await s._structTree.getAriaAttributes(`${iw}${v}`))==null?void 0:x.get("aria-label"))||"";r=t={annotationType:se.STAMP,bitmapId:P.id,bitmap:P.bitmap,pageIndex:k-1,rect:S.slice(0),rotation:g,id:v,deleted:!1,accessibilityData:{decorative:!1,altText:j},isSvg:!1,structParent:w,popupRef:C}}const a=await super.deserialize(t,s,i),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:d,isSvg:h,accessibilityData:p}=t;d&&i.imageManager.isValidId(d)?(b(a,_t,d),l&&b(a,Oe,l)):b(a,ki,c),b(a,Tn,h);const[m,y]=a.pageDimensions;return a.width=(o[2]-o[0])/m,a.height=(o[3]-o[1])/y,a.annotationElementId=t.id||null,p&&(a.altTextData=p),a._initialData=r,b(a,wc,!!r),a}serialize(t=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:se.STAMP,bitmapId:u(this,_t),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,Tn),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=A(this,ce,up).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:r,altText:a}=this.serializeAltText(!1);if(!r&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=A(this,ce,Uk).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,s===null)return i;s.stamps||(s.stamps=new Map);const o=u(this,Tn)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!s.stamps.has(u(this,_t)))s.stamps.set(u(this,_t),{area:o,serialized:i}),i.bitmap=A(this,ce,up).call(this,!1);else if(u(this,Tn)){const l=s.stamps.get(u(this,_t));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=A(this,ce,up).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Oe=new WeakMap,_t=new WeakMap,Tr=new WeakMap,ki=new WeakMap,kr=new WeakMap,xc=new WeakMap,Ks=new WeakMap,Ni=new WeakMap,Xs=new WeakMap,Tn=new WeakMap,wc=new WeakMap,ce=new WeakSet,Eu=function(t,s=!1){if(!t){this.remove();return}b(this,Oe,t.bitmap),s||(b(this,_t,t.id),b(this,Tn,t.isSvg)),t.file&&b(this,xc,t.file.name),A(this,ce,d0).call(this)},Cu=function(){if(b(this,Tr,null),this._uiManager.enableWaiting(!1),!!u(this,Ks)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Oe)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Oe)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},lp=function(){if(u(this,_t)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,_t)).then(i=>A(this,ce,Eu).call(this,i,!0)).finally(()=>A(this,ce,Cu).call(this));return}if(u(this,ki)){const i=u(this,ki);b(this,ki,null),this._uiManager.enableWaiting(!0),b(this,Tr,this._uiManager.imageManager.getFromUrl(i).then(r=>A(this,ce,Eu).call(this,r)).finally(()=>A(this,ce,Cu).call(this)));return}if(u(this,kr)){const i=u(this,kr);b(this,kr,null),this._uiManager.enableWaiting(!0),b(this,Tr,this._uiManager.imageManager.getFromFile(i).then(r=>A(this,ce,Eu).call(this,r)).finally(()=>A(this,ce,Cu).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Uu.supportedTypesStr;const s=this._uiManager._signal;b(this,Tr,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),A(this,ce,Eu).call(this,r)}i()},{signal:s}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:s})}).finally(()=>A(this,ce,Cu).call(this))),t.click()},d0=function(){const{div:t}=this;let{width:s,height:i}=u(this,Oe);const[r,a]=this.pageDimensions,o=.75;if(this.width)s=this.width*r,i=this.height*a;else if(s>o*r||i>o*a){const h=Math.min(o*r/s,o*a/i);s*=h,i*=h}const[l,c]=this.parentDimensions;this.setDims(s*l/r,i*c/a),this._uiManager.enableWaiting(!1);const d=b(this,Ks,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),A(this,ce,h0).call(this,s,i),A(this,ce,Vk).call(this),u(this,wc)||(this.parent.addUndoableEditor(this),b(this,wc,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,xc)&&d.setAttribute("aria-label",u(this,xc))},Bk=function(t,s){var o;const[i,r]=this.parentDimensions;this.width=t/i,this.height=s/r,(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,Xs)!==null&&clearTimeout(u(this,Xs)),b(this,Xs,setTimeout(()=>{b(this,Xs,null),A(this,ce,h0).call(this,t,s)},200))},cp=function(t,s){const{width:i,height:r}=u(this,Oe);let a=i,o=r,l=u(this,Oe);for(;a>2*t||o>2*s;){const c=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*s&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,c,d,0,0,a,o),l=h.transferToImageBitmap()}return l},h0=function(t,s){const i=new av,r=Math.ceil(t*i.sx),a=Math.ceil(s*i.sy),o=u(this,Ks);if(!o||o.width===r&&o.height===a)return;o.width=r,o.height=a;const l=u(this,Tn)?u(this,Oe):A(this,ce,cp).call(this,r,a),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,r,a)},up=function(t){if(t){if(u(this,Tn)){const r=this._uiManager.imageManager.getSvgUrl(u(this,_t));if(r)return r}const s=document.createElement("canvas");return{width:s.width,height:s.height}=u(this,Oe),s.getContext("2d").drawImage(u(this,Oe),0,0),s.toDataURL()}if(u(this,Tn)){const[s,i]=this.pageDimensions,r=Math.round(this.width*s*qr.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*qr.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,a);return o.getContext("2d").drawImage(u(this,Oe),0,0,u(this,Oe).width,u(this,Oe).height,0,0,r,a),o.transferToImageBitmap()}return structuredClone(u(this,Oe))},Vk=function(){this._uiManager._signal&&(b(this,Ni,new ResizeObserver(t=>{const s=t[0].contentRect;s.width&&s.height&&A(this,ce,Bk).call(this,s.width,s.height)})),u(this,Ni).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=u(this,Ni))==null||t.disconnect(),b(this,Ni,null)},{once:!0}))},Uk=function(t){var c;const{rect:s,pageIndex:i,accessibilityData:{altText:r}}=this._initialData,a=t.rect.every((d,h)=>Math.abs(d-s[h])<1),o=t.pageIndex===i,l=(((c=t.accessibilityData)==null?void 0:c.alt)||"")===r;return{isSame:a&&o&&l,isSameAltText:l}},Q(Uu,"_type","stamp"),Q(Uu,"_editorType",se.STAMP);let u0=Uu;var yo,bc,qs,Nr,Pi,kn,Pr,Ac,Sc,Ut,Ri,K,Rr,Pt,zk,p0,m0,g0,dp;const os=class os{constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:i,accessibilityManager:r,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:d}){E(this,Pt);E(this,yo);E(this,bc,!1);E(this,qs,null);E(this,Nr,null);E(this,Pi,null);E(this,kn,new Map);E(this,Pr,!1);E(this,Ac,!1);E(this,Sc,!1);E(this,Ut,null);E(this,Ri,null);E(this,K);const h=[...u(os,Rr).values()];if(!os._initialized){os._initialized=!0;for(const p of h)p.initialize(d,e)}e.registerEditorTypes(h),b(this,K,e),this.pageIndex=t,this.div=s,b(this,yo,r),b(this,qs,a),this.viewport=c,b(this,Ut,l),this.drawLayer=o,this._structTree=i,u(this,K).addLayer(this)}get isEmpty(){return u(this,kn).size===0}get isInvisible(){return this.isEmpty&&u(this,K).getMode()===se.NONE}updateToolbar(e){u(this,K).updateToolbar(e)}updateMode(e=u(this,K).getMode()){switch(A(this,Pt,dp).call(this),e){case se.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case se.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case se.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const s of u(os,Rr).values())t.toggle(`${s._type}Editing`,e===s._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,Ut))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(u(this,K).getMode()!==se.INK)return;if(!e){for(const s of u(this,kn).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){u(this,K).setEditingState(e)}addCommands(e){u(this,K).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,qs))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const s of u(this,kn).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(u(this,K).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!u(this,qs))return;const t=u(this,qs).getEditableAnnotations();for(const s of t){if(s.hide(),u(this,K).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const i=await this.deserialize(s);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;b(this,Sc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const r of u(this,kn).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else t.set(r.annotationElementId,r);(i=this.getEditableAnnotation(r.annotationElementId))==null||i.show(),r.remove()}if(u(this,qs)){const r=u(this,qs).getEditableAnnotations();for(const a of r){const{id:o}=a.data;if(u(this,K).isDeletedAnnotationElement(o))continue;let l=t.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(u(this,K).addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}A(this,Pt,dp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const r of u(os,Rr).values())s.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,Sc,!1)}getEditableAnnotation(e){var t;return((t=u(this,qs))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,K).getActive()!==e&&u(this,K).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,Ut))!=null&&e.div&&!u(this,Ri)){b(this,Ri,new AbortController);const t=u(this,K).combinedSignal(u(this,Ri));u(this,Ut).div.addEventListener("pointerdown",A(this,Pt,zk).bind(this),{signal:t}),u(this,Ut).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,Ut))!=null&&e.div&&u(this,Ri)&&(u(this,Ri).abort(),b(this,Ri,null),u(this,Ut).div.classList.remove("highlighting"))}enableClick(){if(u(this,Nr))return;b(this,Nr,new AbortController);const e=u(this,K).combinedSignal(u(this,Nr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=u(this,Nr))==null||e.abort(),b(this,Nr,null)}attach(e){u(this,kn).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,K).isDeletedAnnotationElement(t)&&u(this,K).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,kn).delete(e.id),(t=u(this,yo))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,Sc)&&e.annotationElementId&&u(this,K).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,K).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,u(this,Ac)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,K).addDeletedAnnotationElement(e.annotationElementId),xe.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,K).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),u(this,K).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var s;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,Pi)&&(e._focusEventsAllowed=!1,b(this,Pi,setTimeout(()=>{b(this,Pi,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,K)._signal}),t.focus())},0))),e._structTreeParentId=(s=u(this,yo))==null?void 0:s.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getNextId(){return u(this,K).getId()}combinedSignal(e){return u(this,K).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,Pt,p0))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){u(this,K).updateToolbar(e),u(this,K).updateMode(e);const{offsetX:s,offsetY:i}=A(this,Pt,g0).call(this),r=this.getNextId(),a=A(this,Pt,m0).call(this,{parent:this,id:r,x:s,y:i,uiManager:u(this,K),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=u(os,Rr).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,K)))||null}createAndAddNewEditor(e,t,s={}){const i=this.getNextId(),r=A(this,Pt,m0).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:u(this,K),isCentered:t,...s});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(A(this,Pt,g0).call(this),!0)}setSelected(e){u(this,K).setSelected(e)}toggleSelected(e){u(this,K).toggleSelected(e)}unselect(e){u(this,K).unselect(e)}pointerup(e){const{isMac:t}=tn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&u(this,Pr)){if(b(this,Pr,!1),!u(this,bc)){b(this,bc,!0);return}if(u(this,K).getMode()===se.STAMP){u(this,K).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(u(this,K).getMode()===se.HIGHLIGHT&&this.enableTextSelection(),u(this,Pr)){b(this,Pr,!1);return}const{isMac:t}=tn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;b(this,Pr,!0);const s=u(this,K).getActive();b(this,bc,!s||s.isEmpty())}findNewParent(e,t,s){const i=u(this,K).findParent(t,s);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=u(this,K).getActive())==null?void 0:e.parent)===this&&(u(this,K).commitOrRemove(),u(this,K).setActiveEditor(null)),u(this,Pi)&&(clearTimeout(u(this,Pi)),b(this,Pi,null));for(const s of u(this,kn).values())(t=u(this,yo))==null||t.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,u(this,kn).clear(),u(this,K).removeLayer(this)}render({viewport:e}){this.viewport=e,To(this.div,e);for(const t of u(this,K).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,K).commitOrRemove(),A(this,Pt,dp).call(this);const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,To(this.div,{rotation:s}),t!==s)for(const i of u(this,kn).values())i.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,K).viewParameters.realScale}};yo=new WeakMap,bc=new WeakMap,qs=new WeakMap,Nr=new WeakMap,Pi=new WeakMap,kn=new WeakMap,Pr=new WeakMap,Ac=new WeakMap,Sc=new WeakMap,Ut=new WeakMap,Ri=new WeakMap,K=new WeakMap,Rr=new WeakMap,Pt=new WeakSet,zk=function(e){u(this,K).unselectAll();const{target:t}=e;if(t===u(this,Ut).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&u(this,Ut).div.contains(t)){const{isMac:s}=tn.platform;if(e.button!==0||e.ctrlKey&&s)return;u(this,K).showAllEditors("highlight",!0,!0),u(this,Ut).div.classList.add("free"),this.toggleDrawing(),Yp.startHighlighting(this,u(this,K).direction==="ltr",{target:u(this,Ut).div,x:e.x,y:e.y}),u(this,Ut).div.addEventListener("pointerup",()=>{u(this,Ut).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,K)._signal}),e.preventDefault()}},p0=function(){return u(os,Rr).get(u(this,K).getMode())},m0=function(e){const t=u(this,Pt,p0);return t?new t.prototype.constructor(e):null},g0=function(){const{x:e,y:t,width:s,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+s),l=Math.min(window.innerHeight,t+i),c=(r+o)/2-e,d=(a+l)/2-t,[h,p]=this.viewport.rotation%180===0?[c,d]:[d,c];return{offsetX:h,offsetY:p}},dp=function(){b(this,Ac,!0);for(const e of u(this,kn).values())e.isEmpty()&&e.remove();b(this,Ac,!1)},Q(os,"_initialized",!1),E(os,Rr,new Map([Gv,t0,u0,Yp].map(e=>[e._editorType,e])));let f0=os;var Ys,Th,tt,ji,kh,v0,jo,x0,Hk;const St=class St{constructor({pageIndex:e}){E(this,jo);E(this,Ys,null);E(this,Th,0);E(this,tt,new Map);E(this,ji,new Map);this.pageIndex=e}setParent(e){if(!u(this,Ys)){b(this,Ys,e);return}if(u(this,Ys)!==e){if(u(this,tt).size>0)for(const t of u(this,tt).values())t.remove(),e.append(t);b(this,Ys,e)}}static get _svgFactory(){return de(this,"_svgFactory",new pw)}draw(e,t,s,i=!1){const r=qt(this,Th)._++,a=A(this,jo,x0).call(this,e.box);a.classList.add(...e.classNamesForDrawing);const o=St._svgFactory.createElement("defs");a.append(o);const l=St._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&u(this,ji).set(r,l);const d=A(this,jo,Hk).call(this,o,c),h=St._svgFactory.createElement("use");return a.append(h),a.setAttribute("fill",t),a.setAttribute("fill-opacity",s),h.setAttribute("href",`#${c}`),u(this,tt).set(r,a),{id:r,clipPathId:`url(#${d})`}}drawOutline(e){const t=qt(this,Th)._++,s=A(this,jo,x0).call(this,e.box);s.classList.add(...e.classNamesForOutlining);const i=St._svgFactory.createElement("defs");s.append(i);const r=St._svgFactory.createElement("path");i.append(r);const a=`path_p${this.pageIndex}_${t}`;r.setAttribute("id",a),r.setAttribute("d",e.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.mustRemoveSelfIntersections){const d=St._svgFactory.createElement("mask");i.append(d),o=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",o),d.setAttribute("maskUnits","objectBoundingBox");const h=St._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const p=St._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const l=St._svgFactory.createElement("use");s.append(l),l.setAttribute("href",`#${a}`),o&&l.setAttribute("mask",`url(#${o})`);const c=l.cloneNode();return s.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),u(this,tt).set(t,s),t}finalizeLine(e,t){const s=u(this,ji).get(e);u(this,ji).delete(e),this.updateBox(e,t.box),s.setAttribute("d",t.toSVGPath())}updateLine(e,t){u(this,tt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){u(this,ji).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var s;A(s=St,kh,v0).call(s,u(this,tt).get(e),t)}show(e,t){u(this,tt).get(e).classList.toggle("hidden",!t)}rotate(e,t){u(this,tt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){u(this,tt).get(e).setAttribute("fill",t)}changeOpacity(e,t){u(this,tt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){u(this,tt).get(e).classList.add(t)}removeClass(e,t){u(this,tt).get(e).classList.remove(t)}getSVGRoot(e){return u(this,tt).get(e)}remove(e){u(this,ji).delete(e),u(this,Ys)!==null&&(u(this,tt).get(e).remove(),u(this,tt).delete(e))}destroy(){b(this,Ys,null);for(const e of u(this,tt).values())e.remove();u(this,tt).clear(),u(this,ji).clear()}};Ys=new WeakMap,Th=new WeakMap,tt=new WeakMap,ji=new WeakMap,kh=new WeakSet,v0=function(e,{x:t=0,y:s=0,width:i=1,height:r=1}={}){const{style:a}=e;a.top=`${100*s}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*r}%`},jo=new WeakSet,x0=function(e){var s;const t=St._svgFactory.create(1,1,!0);return u(this,Ys).append(t),t.setAttribute("aria-hidden",!0),A(s=St,kh,v0).call(s,t,e),t},Hk=function(e,t){const s=St._svgFactory.createElement("clipPath");e.append(s);const i=`clip_${t}`;s.setAttribute("id",i),s.setAttribute("clipPathUnits","objectBoundingBox");const r=St._svgFactory.createElement("use");return s.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i},E(St,kh);let y0=St;var b4=ee.AbortException,A4=ee.AnnotationEditorLayer,S4=ee.AnnotationEditorParamsType,E4=ee.AnnotationEditorType,C4=ee.AnnotationEditorUIManager,$k=ee.AnnotationLayer,Wk=ee.AnnotationMode,_4=ee.ColorPicker,T4=ee.DOMSVGFactory,k4=ee.DrawLayer,N4=ee.FeatureTest,gw=ee.GlobalWorkerOptions,P4=ee.ImageKind,R4=ee.InvalidPDFException,j4=ee.MissingPDFException,M4=ee.OPS,L4=ee.OutputScale,D4=ee.PDFDataRangeTransport,I4=ee.PDFDateString,F4=ee.PDFWorker,O4=ee.PasswordResponses,B4=ee.PermissionFlag,V4=ee.PixelsPerInch,U4=ee.RenderingCancelledException,Gk=ee.TextLayer,z4=ee.UnexpectedResponseException,H4=ee.Util,$4=ee.VerbosityLevel,W4=ee.XfaLayer,G4=ee.build,K4=ee.createValidAbsoluteUrl,X4=ee.fetchData,Kk=ee.getDocument,q4=ee.getFilenameFromUrl,Y4=ee.getPdfFilenameFromUrl,Q4=ee.getXfaPageViewport,J4=ee.isDataScheme,Z4=ee.isPdfFile,e5=ee.noContextMenu,t5=ee.normalizeUnicode,n5=ee.setLayerDimensions,s5=ee.shadow,Xk=ee.version;const i5=Object.freeze(Object.defineProperty({__proto__:null,AbortException:b4,AnnotationEditorLayer:A4,AnnotationEditorParamsType:S4,AnnotationEditorType:E4,AnnotationEditorUIManager:C4,AnnotationLayer:$k,AnnotationMode:Wk,ColorPicker:_4,DOMSVGFactory:T4,DrawLayer:k4,FeatureTest:N4,GlobalWorkerOptions:gw,ImageKind:P4,InvalidPDFException:R4,MissingPDFException:j4,OPS:M4,OutputScale:L4,PDFDataRangeTransport:D4,PDFDateString:I4,PDFWorker:F4,PasswordResponses:O4,PermissionFlag:B4,PixelsPerInch:V4,RenderingCancelledException:U4,TextLayer:Gk,UnexpectedResponseException:z4,Util:H4,VerbosityLevel:$4,XfaLayer:W4,build:G4,createValidAbsoluteUrl:K4,fetchData:X4,getDocument:Kk,getFilenameFromUrl:q4,getPdfFilenameFromUrl:Y4,getXfaPageViewport:Q4,isDataScheme:J4,isPdfFile:Z4,noContextMenu:e5,normalizeUnicode:t5,setLayerDimensions:n5,shadow:s5,version:Xk},Symbol.toStringTag,{value:"Module"}));var mt=function(n,e,t){if(t||arguments.length===2)for(var s=0,i=e.length,r;s<i;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return n.concat(r||Array.prototype.slice.call(e))},r5=["onCopy","onCut","onPaste"],a5=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],o5=["onFocus","onBlur"],l5=["onInput","onInvalid","onReset","onSubmit"],c5=["onLoad","onError"],u5=["onKeyDown","onKeyPress","onKeyUp"],d5=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],h5=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],f5=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],p5=["onSelect"],m5=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],g5=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],y5=["onScroll"],v5=["onWheel"],x5=["onAnimationStart","onAnimationEnd","onAnimationIteration"],w5=["onTransitionEnd"],b5=["onToggle"],A5=["onChange"],S5=mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt(mt([],r5,!0),a5,!0),o5,!0),l5,!0),c5,!0),u5,!0),d5,!0),h5,!0),f5,!0),p5,!0),m5,!0),g5,!0),y5,!0),v5,!0),x5,!0),w5,!0),A5,!0),b5,!0);function qk(n,e){var t={};return S5.forEach(function(s){var i=n[s];i&&(e?t[s]=function(r){return i(r,e(s))}:t[s]=i)}),t}function zh(n){var e=!1,t=new Promise(function(s,i){n.then(function(r){return!e&&s(r)}).catch(function(r){return!e&&i(r)})});return{promise:t,cancel:function(){e=!0}}}function Yk(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Yk(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Wm(){for(var n,e,t=0,s="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Yk(n))&&(s&&(s+=" "),s+=e);return s}var E5="Invariant failed";function Se(n,e){if(!n)throw new Error(E5)}var C5=function(){},_5=C5;const $t=BA(_5);var EA=Object.prototype.hasOwnProperty;function CA(n,e,t){for(t of n.keys())if(El(t,e))return t}function El(n,e){var t,s,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((s=n.length)===e.length)for(;s--&&El(n[s],e[s]););return s===-1}if(t===Set){if(n.size!==e.size)return!1;for(s of n)if(i=s,i&&typeof i=="object"&&(i=CA(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(s of n)if(i=s[0],i&&typeof i=="object"&&(i=CA(e,i),!i)||!El(s[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((s=n.byteLength)===e.byteLength)for(;s--&&n.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(n)){if((s=n.byteLength)===e.byteLength)for(;s--&&n[s]===e[s];);return s===-1}if(!t||typeof n=="object"){s=0;for(t in n)if(EA.call(n,t)&&++s&&!EA.call(e,t)||!(t in e)||!El(n[t],e[t]))return!1;return Object.keys(e).length===s}}return n!==n&&e!==e}const Qk=T.createContext(null);function Cl({children:n,type:e}){return f.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const T5="noopener noreferrer nofollow";class k5{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Se(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Se(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Se(this.pdfDocument),Se(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Se(Array.isArray(t));const s=t[0];new Promise(i=>{Se(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(r=>{i(r)}).catch(()=>{Se(!1)}):typeof s=="number"?i(s):Se(!1)}).then(i=>{const r=i+1;Se(this.pdfViewer),Se(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:r})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Se(this.pdfViewer),Se(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||T5,e.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const _A={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Gm=typeof window<"u",Jk=Gm&&window.location.protocol==="file:";function N5(n){return typeof n<"u"}function ra(n){return N5(n)&&n!==null}function P5(n){return typeof n=="string"}function R5(n){return n instanceof ArrayBuffer}function j5(n){return Se(Gm),n instanceof Blob}function w0(n){return P5(n)&&/^data:/.test(n)}function TA(n){Se(w0(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function M5(){return Gm&&window.devicePixelRatio||1}const Zk="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function kA(){$t(!Jk,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Zk}`)}function L5(){$t(!Jk,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Zk}`)}function Po(n){n!=null&&n.cancel&&n.cancel()}function b0(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function D5(n){return n.name==="RenderingCancelledException"}function I5(n){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:r}=i.target;if(!r)return t(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(n)})}function F5(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Lc(){return T.useReducer(F5,{value:void 0,error:void 0})}var O5=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function o(d){try{c(s.next(d))}catch(h){a(h)}}function l(d){try{c(s.throw(d))}catch(h){a(h)}}function c(d){d.done?r(d.value):i(d.value).then(o,l)}c((s=s.apply(n,e||[])).next())})},NA=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t};const{PDFDataRangeTransport:B5}=i5,V5=(n,e)=>{switch(e){case _A.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case _A.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function PA(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const U5=T.forwardRef(function(e,t){var{children:s,className:i,error:r="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:h="Loading PDF",noData:p="No PDF file specified.",onItemClick:m,onLoadError:y,onLoadProgress:x,onLoadSuccess:S,onPassword:g=V5,onSourceError:v,onSourceSuccess:w,options:C,renderMode:_,rotate:k}=e,N=NA(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[P,j]=Lc(),{value:M,error:D}=P,[q,H]=Lc(),{value:$,error:Z}=q,Y=T.useRef(new k5),I=T.useRef([]),R=T.useRef(void 0),U=T.useRef(void 0);l&&l!==R.current&&PA(l)&&($t(!El(l,R.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),R.current=l),C&&C!==U.current&&($t(!El(C,U.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),U.current=C);const W=T.useRef({scrollPageIntoView:Ee=>{const{dest:Ze,pageNumber:jt,pageIndex:pt=jt-1}=Ee;if(m){m({dest:Ze,pageIndex:pt,pageNumber:jt});return}const Uo=I.current[pt];if(Uo){Uo.scrollIntoView();return}$t(!1,`An internal link leading to page ${jt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});T.useImperativeHandle(t,()=>({linkService:Y,pages:I,viewer:W}),[]);function ae(){w&&w()}function ne(){D&&($t(!1,D.toString()),v&&v(D))}function pe(){j({type:"RESET"})}T.useEffect(pe,[l,j]);const $e=T.useCallback(()=>O5(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return w0(l)?{data:TA(l)}:(kA(),{url:l});if(l instanceof B5)return{range:l};if(R5(l))return{data:l};if(Gm&&j5(l))return{data:yield I5(l)};if(Se(typeof l=="object"),Se(PA(l)),"url"in l&&typeof l.url=="string"){if(w0(l.url)){const{url:Ee}=l,Ze=NA(l,["url"]),jt=TA(Ee);return Object.assign({data:jt},Ze)}kA()}return l}),[l]);T.useEffect(()=>{const Ee=zh($e());return Ee.promise.then(Ze=>{j({type:"RESOLVE",value:Ze})}).catch(Ze=>{j({type:"REJECT",error:Ze})}),()=>{Po(Ee)}},[$e,j]),T.useEffect(()=>{if(!(typeof M>"u")){if(M===!1){ne();return}ae()}},[M]);function Xt(){$&&(S&&S($),I.current=new Array($.numPages),Y.current.setDocument($))}function ge(){Z&&($t(!1,Z.toString()),y&&y(Z))}T.useEffect(function(){H({type:"RESET"})},[H,M]),T.useEffect(function(){if(!M)return;const Ze=C?Object.assign(Object.assign({},M),C):M,jt=Kk(Ze);x&&(jt.onProgress=x),g&&(jt.onPassword=g);const pt=jt,Uo=pt.promise.then($c=>{H({type:"RESOLVE",value:$c})}).catch($c=>{pt.destroyed||H({type:"REJECT",error:$c})});return()=>{Uo.finally(()=>pt.destroy())}},[C,H,M]),T.useEffect(()=>{if(!(typeof $>"u")){if($===!1){ge();return}Xt()}},[$]),T.useEffect(function(){Y.current.setViewer(W.current),Y.current.setExternalLinkRel(a),Y.current.setExternalLinkTarget(o)},[a,o]);const ue=T.useCallback((Ee,Ze)=>{I.current[Ee]=Ze},[]),Ns=T.useCallback(Ee=>{delete I.current[Ee]},[]),is=T.useMemo(()=>({imageResourcesPath:d,linkService:Y.current,onItemClick:m,pdf:$,registerPage:ue,renderMode:_,rotate:k,unregisterPage:Ns}),[d,m,$,ue,_,k,Ns]),je=T.useMemo(()=>qk(N,()=>$),[N,$]);function zc(){return f.jsx(Qk.Provider,{value:is,children:s})}function Hc(){return l?$==null?f.jsx(Cl,{type:"loading",children:typeof h=="function"?h():h}):$===!1?f.jsx(Cl,{type:"error",children:typeof r=="function"?r():r}):zc():f.jsx(Cl,{type:"no-data",children:typeof p=="function"?p():p})}return f.jsx("div",Object.assign({className:Wm("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},je,{children:Hc()}))});function eN(){return T.useContext(Qk)}function tN(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(r){t.forEach(function(a){typeof a=="function"?a(r):a&&(a.current=r)})}}const nN=T.createContext(null),sN={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},z5=/^H(\d+)$/;function H5(n){return n in sN}function Km(n){return"children"in n}function iN(n){return Km(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function $5(n){const e={};if(Km(n)){const{role:t}=n,s=t.match(z5);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(H5(t)){const i=sN[t];i&&(e.role=i)}}return e}function rN(n){const e={};if(Km(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),iN(n)){const[t]=n.children;if(t){const s=rN(t);return Object.assign(Object.assign({},e),s)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function W5(n){return n?Object.assign(Object.assign({},$5(n)),rN(n)):null}function aN({className:n,node:e}){const t=T.useMemo(()=>W5(e),[e]),s=T.useMemo(()=>!Km(e)||iN(e)?null:e.children.map((i,r)=>f.jsx(aN,{node:i},r)),[e]);return f.jsx("span",Object.assign({className:n},t,{children:s}))}function Xm(){return T.useContext(nN)}function G5(){const n=Xm();Se(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[s,i]=Lc(),{value:r,error:a}=s,{customTextRenderer:o,page:l}=n;function c(){r&&t&&t(r)}function d(){a&&($t(!1,a.toString()),e&&e(a))}return T.useEffect(function(){i({type:"RESET"})},[i,l]),T.useEffect(function(){if(o||!l)return;const p=zh(l.getStructTree()),m=p;return p.promise.then(y=>{i({type:"RESOLVE",value:y})}).catch(y=>{i({type:"REJECT",error:y})}),()=>Po(m)},[o,l,i]),T.useEffect(()=>{if(r!==void 0){if(r===!1){d();return}c()}},[r]),r?f.jsx(aN,{className:"react-pdf__Page__structTree structTree",node:r}):null}const RA=Wk;function K5(n){const e=Xm();Se(e);const t=Object.assign(Object.assign({},e),n),{_className:s,canvasBackground:i,devicePixelRatio:r=M5(),onRenderError:a,onRenderSuccess:o,page:l,renderForms:c,renderTextLayer:d,rotate:h,scale:p}=t,{canvasRef:m}=n;Se(l);const y=T.useRef(null);function x(){l&&o&&o(b0(l,p))}function S(C){D5(C)||($t(!1,C.toString()),a&&a(C))}const g=T.useMemo(()=>l.getViewport({scale:p*r,rotation:h}),[r,l,h,p]),v=T.useMemo(()=>l.getViewport({scale:p,rotation:h}),[l,h,p]);T.useEffect(function(){if(!l)return;l.cleanup();const{current:_}=y;if(!_)return;_.width=g.width,_.height=g.height,_.style.width=`${Math.floor(v.width)}px`,_.style.height=`${Math.floor(v.height)}px`,_.style.visibility="hidden";const k={annotationMode:c?RA.ENABLE_FORMS:RA.ENABLE,canvasContext:_.getContext("2d",{alpha:!1}),viewport:g};i&&(k.background=i);const N=l.render(k),P=N;return N.promise.then(()=>{_.style.visibility="",x()}).catch(S),()=>Po(P)},[i,l,c,g,v]);const w=T.useCallback(()=>{const{current:C}=y;C&&(C.width=0,C.height=0)},[]);return T.useEffect(()=>w,[w]),f.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:tN(m,y),style:{display:"block",userSelect:"none"},children:d?f.jsx(G5,{}):null})}function X5(n){return"str"in n}function q5(){const n=Xm();Se(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:i,onRenderTextLayerSuccess:r,page:a,pageIndex:o,pageNumber:l,rotate:c,scale:d}=n;Se(a);const[h,p]=Lc(),{value:m,error:y}=h,x=T.useRef(null);$t(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){m&&s&&s(m)}function g(){y&&($t(!1,y.toString()),t&&t(y))}T.useEffect(function(){p({type:"RESET"})},[a,p]),T.useEffect(function(){if(!a)return;const P=zh(a.getTextContent()),j=P;return P.promise.then(M=>{p({type:"RESOLVE",value:M})}).catch(M=>{p({type:"REJECT",error:M})}),()=>Po(j)},[a,p]),T.useEffect(()=>{if(m!==void 0){if(m===!1){g();return}S()}},[m]);const v=T.useCallback(()=>{r&&r()},[r]),w=T.useCallback(N=>{$t(!1,N.toString()),i&&i(N)},[i]);function C(){const N=x.current;N&&N.classList.add("selecting")}function _(){const N=x.current;N&&N.classList.remove("selecting")}const k=T.useMemo(()=>a.getViewport({scale:d,rotation:c}),[a,c,d]);return T.useLayoutEffect(function(){if(!a||!m)return;const{current:P}=x;if(!P)return;P.innerHTML="";const j=a.streamTextContent({includeMarkedContent:!0}),M={container:P,textContentSource:j,viewport:k},D=new Gk(M),q=D;return D.render().then(()=>{const H=document.createElement("div");H.className="endOfContent",P.append(H);const $=P.querySelectorAll('[role="presentation"]');if(e){let Z=0;m.items.forEach((Y,I)=>{if(!X5(Y))return;const R=$[Z];if(!R)return;const U=e(Object.assign({pageIndex:o,pageNumber:l,itemIndex:I},Y));R.innerHTML=U,Z+=Y.str&&Y.hasEOL?2:1})}v()}).catch(w),()=>Po(q)},[e,w,v,a,o,l,m,k]),f.jsx("div",{className:Wm("react-pdf__Page__textContent","textLayer"),onMouseUp:_,onMouseDown:C,ref:x})}function Y5(){const n=eN(),e=Xm();Se(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:s,linkService:i,onGetAnnotationsError:r,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:c,pdf:d,renderForms:h,rotate:p,scale:m=1}=t;Se(d),Se(c),Se(i);const[y,x]=Lc(),{value:S,error:g}=y,v=T.useRef(null);$t(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function w(){S&&a&&a(S)}function C(){g&&($t(!1,g.toString()),r&&r(g))}T.useEffect(function(){x({type:"RESET"})},[x,c]),T.useEffect(function(){if(!c)return;const j=zh(c.getAnnotations()),M=j;return j.promise.then(D=>{x({type:"RESOLVE",value:D})}).catch(D=>{x({type:"REJECT",error:D})}),()=>{Po(M)}},[x,c]),T.useEffect(()=>{if(S!==void 0){if(S===!1){C();return}w()}},[S]);function _(){l&&l()}function k(P){$t(!1,`${P}`),o&&o(P)}const N=T.useMemo(()=>c.getViewport({scale:m,rotation:p}),[c,p,m]);return T.useEffect(function(){if(!d||!c||!i||!S)return;const{current:j}=v;if(!j)return;const M=N.clone({dontFlip:!0}),D={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:j,l10n:null,page:c,structTreeLayer:null,viewport:M},q={annotations:S,annotationStorage:d.annotationStorage,div:j,imageResourcesPath:s,linkService:i,page:c,renderForms:h,viewport:M};j.innerHTML="";try{new $k(D).render(q),_()}catch(H){k(H)}return()=>{}},[S,s,i,c,d,h,N]),f.jsx("div",{className:Wm("react-pdf__Page__annotations","annotationLayer"),ref:v})}var Q5=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t};const jA=1;function J5(n){const e=eN(),t=Object.assign(Object.assign({},e),n),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:r,canvasRef:a,children:o,className:l,customRenderer:c,customTextRenderer:d,devicePixelRatio:h,error:p="Failed to load the page.",height:m,inputRef:y,loading:x="Loading page",noData:S="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:v,onGetStructTreeError:w,onGetStructTreeSuccess:C,onGetTextError:_,onGetTextSuccess:k,onLoadError:N,onLoadSuccess:P,onRenderAnnotationLayerError:j,onRenderAnnotationLayerSuccess:M,onRenderError:D,onRenderSuccess:q,onRenderTextLayerError:H,onRenderTextLayerSuccess:$,pageIndex:Z,pageNumber:Y,pdf:I,registerPage:R,renderAnnotationLayer:U=!0,renderForms:W=!1,renderMode:ae="canvas",renderTextLayer:ne=!0,rotate:pe,scale:$e=jA,unregisterPage:Xt,width:ge}=t,ue=Q5(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ns,is]=Lc(),{value:je,error:zc}=Ns,Hc=T.useRef(null);Se(I);const Ee=ra(Y)?Y-1:Z??null,Ze=Y??(ra(Z)?Z+1:null),jt=pe??(je?je.rotate:null),pt=T.useMemo(()=>{if(!je)return null;let zo=1;const $h=$e??jA;if(ge||m){const Wh=je.getViewport({scale:1,rotation:jt});ge?zo=ge/Wh.width:m&&(zo=m/Wh.height)}return $h*zo},[m,je,jt,$e,ge]);T.useEffect(function(){return()=>{ra(Ee)&&i&&Xt&&Xt(Ee)}},[i,I,Ee,Xt]);function Uo(){if(P){if(!je||!pt)return;P(b0(je,pt))}if(i&&R){if(!ra(Ee)||!Hc.current)return;R(Ee,Hc.current)}}function $c(){zc&&($t(!1,zc.toString()),N&&N(zc))}T.useEffect(function(){is({type:"RESET"})},[is,I,Ee]),T.useEffect(function(){if(!I||!Ze)return;const $h=zh(I.getPage(Ze)),Wh=$h;return $h.promise.then(qm=>{is({type:"RESOLVE",value:qm})}).catch(qm=>{is({type:"REJECT",error:qm})}),()=>Po(Wh)},[is,I,Ze]),T.useEffect(()=>{if(je!==void 0){if(je===!1){$c();return}Uo()}},[je,pt]);const pN=T.useMemo(()=>je&&ra(Ee)&&Ze&&ra(jt)&&ra(pt)?{_className:s,canvasBackground:r,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:g,onGetAnnotationsSuccess:v,onGetStructTreeError:w,onGetStructTreeSuccess:C,onGetTextError:_,onGetTextSuccess:k,onRenderAnnotationLayerError:j,onRenderAnnotationLayerSuccess:M,onRenderError:D,onRenderSuccess:q,onRenderTextLayerError:H,onRenderTextLayerSuccess:$,page:je,pageIndex:Ee,pageNumber:Ze,renderForms:W,renderTextLayer:ne,rotate:jt,scale:pt}:null,[s,r,d,h,g,v,w,C,_,k,j,M,D,q,H,$,je,Ee,Ze,W,ne,jt,pt]),mN=T.useMemo(()=>qk(ue,()=>je&&(pt?b0(je,pt):void 0)),[ue,je,pt]),Hh=`${Ee}@${pt}/${jt}`;function gN(){switch(ae){case"custom":return Se(c),f.jsx(c,{},`${Hh}_custom`);case"none":return null;case"canvas":default:return f.jsx(K5,{canvasRef:a},`${Hh}_canvas`)}}function yN(){return ne?f.jsx(q5,{},`${Hh}_text`):null}function vN(){return U?f.jsx(Y5,{},`${Hh}_annotations`):null}function xN(){return f.jsxs(nN.Provider,{value:pN,children:[gN(),yN(),vN(),o]})}function wN(){return Ze?I===null||je===void 0||je===null?f.jsx(Cl,{type:"loading",children:typeof x=="function"?x():x}):I===!1||je===!1?f.jsx(Cl,{type:"error",children:typeof p=="function"?p():p}):xN():f.jsx(Cl,{type:"no-data",children:typeof S=="function"?S():S})}return f.jsx("div",Object.assign({className:Wm(s,l),"data-page-number":Ze,ref:tN(y,Hc),style:{"--scale-factor":`${pt}`,backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},mN,{children:wN()}))}L5();gw.workerSrc="pdf.worker.mjs";gw.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${Xk}/pdf.worker.min.js`;const Z5=({pdfPath:n,title:e,onClose:t,isOpen:s})=>{const[i,r]=T.useState(0),[a,o]=T.useState(1),[l,c]=T.useState(1),[d,h]=T.useState(0),[p,m]=T.useState(!0),[y,x]=T.useState(null);T.useEffect(()=>{if(s){console.log("Opening PDF:",n),o(1),c(1),h(0),m(!0),x(null),fetch(n,{method:"HEAD"}).then(P=>{if(!P.ok)throw new Error(`PDF not accessible: ${P.status} ${P.statusText}`);console.log("PDF is accessible")}).catch(P=>{console.error("PDF accessibility test failed:",P),x(`PDF not accessible: ${P.message}`),m(!1)});const N=setTimeout(()=>{p&&(console.error("PDF loading timeout"),x("PDF took too long to load. Please try again."),m(!1))},15e3);return()=>clearTimeout(N)}},[s,n,p]);function S({numPages:N}){console.log("PDF loaded successfully:",N,"pages"),r(N),m(!1),x(null)}function g(N){console.error("Error loading PDF:",N),console.error("PDF path was:",n),x(`Failed to load PDF: ${N.message}. Please try again or download the file.`),m(!1)}const v=N=>{o(P=>{const j=P+N;return Math.min(Math.max(1,j),i)})},w=N=>{c(Math.min(Math.max(.5,N),2))},C=()=>{h(N=>(N+90)%360)},_=()=>{const N=document.createElement("a");N.href=n,N.download=e||"document.pdf",document.body.appendChild(N),N.click(),document.body.removeChild(N)},k=N=>{if(s)switch(N.key){case"ArrowLeft":N.preventDefault(),v(-1);break;case"ArrowRight":N.preventDefault(),v(1);break;case"Escape":N.preventDefault(),t==null||t();break}};return T.useEffect(()=>(document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)),[s,a,i]),s?f.jsx(Op,{children:f.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",onClick:t,children:f.jsxs(z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-2xl max-w-7xl w-full max-h-[90vh] flex flex-col",onClick:N=>N.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(PI,{className:"w-6 h-6 text-blue-600"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e||"PDF Document"}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Page ",a," of ",i,"  ",Math.round(l*100),"%"]})]})]}),f.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",title:"Close",children:f.jsx(Zx,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b border-gray-200",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>v(-1),disabled:a<=1,className:"p-2 rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",title:"Previous page",children:f.jsx(O_,{className:"w-5 h-5"})}),f.jsxs("span",{className:"text-sm font-medium px-3",children:[a," / ",i]}),f.jsx("button",{onClick:()=>v(1),disabled:a>=i,className:"p-2 rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",title:"Next page",children:f.jsx(B_,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>w(l-.1),disabled:l<=.5,className:"p-2 rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",title:"Zoom out",children:f.jsx(WI,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>w(l+.1),disabled:l>=2,className:"p-2 rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",title:"Zoom in",children:f.jsx($I,{className:"w-5 h-5"})}),f.jsx("button",{onClick:C,className:"p-2 rounded-md bg-white hover:bg-gray-100 transition-colors border border-gray-200",title:"Rotate",children:f.jsx(BI,{className:"w-5 h-5"})}),f.jsx("button",{onClick:_,className:"p-2 rounded-md bg-blue-100 hover:bg-blue-200 text-blue-700 transition-colors border border-blue-200",title:"Download PDF",children:f.jsx(kI,{className:"w-5 h-5"})})]})]}),f.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[y&&f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-red-600 mb-4",children:y}),f.jsx("button",{onClick:()=>window.open(n,"_blank"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Open in New Tab"})]})}),p&&!y&&f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading PDF..."})]})}),!p&&!y&&f.jsx("div",{className:"flex justify-center",children:f.jsx(U5,{file:n,onLoadSuccess:S,onLoadError:g,loading:f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Rendering PDF..."})]})}),error:f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-red-600 mb-4",children:"Failed to render PDF"}),f.jsx("button",{onClick:()=>window.open(n,"_blank"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Open in New Tab"})]})}),children:f.jsx(J5,{pageNumber:a,scale:l,rotate:d,renderTextLayer:!1,renderAnnotationLayer:!1,className:"shadow-lg",loading:f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),error:f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-red-600 mb-4",children:"Failed to render page"}),f.jsx("button",{onClick:()=>window.open(n,"_blank"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Open in New Tab"})]})})})})})]}),i>1&&!y&&f.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:f.jsx("div",{className:"flex justify-center",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>o(1),disabled:a<=1,className:"px-3 py-1 text-sm rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",children:"First"}),f.jsx("button",{onClick:()=>v(-1),disabled:a<=1,className:"px-3 py-1 text-sm rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",children:"Previous"}),f.jsxs("span",{className:"px-3 py-1 text-sm font-medium",children:["Page ",a," of ",i]}),f.jsx("button",{onClick:()=>v(1),disabled:a>=i,className:"px-3 py-1 text-sm rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",children:"Next"}),f.jsx("button",{onClick:()=>o(i),disabled:a>=i,className:"px-3 py-1 text-sm rounded-md bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border border-gray-200",children:"Last"})]})})})]})})}):null},eB="/canopy-website/assets/Annual2024-BmC07zNV.png",tB="/canopy-website/assets/Annual2023-Zdq1jT3I.png",nB="/canopy-website/assets/Annual2022-DD6O8Oep.png",sB="/canopy-website/assets/AUDIT80_81-CphbK-iE.png",iB="/canopy-website/assets/AUDIT79_80-BP4y_-ID.png",rB="/canopy-website/assets/AUDIT78_79-z6v4GpRi.png",aB="/canopy-website/assets/AUDIT77_78-D4uIrZRH.png",oB="/canopy-website/assets/AUDIT76_77-vae1ukPv.png",lB="/canopy-website/assets/AUDIT75_76-Blzb1Sek.png",cB="/canopy-website/assets/AUDIT74_75-wZE34qJ8.png",uB="/canopy-website/assets/AUDIT73_74-BiZ_QfOD.png",dB="/canopy-website/assets/Magazine1-BMGf2tui.png",hB="/canopy-website/assets/Magazine2-aPzQx13p.png",fB="/canopy-website/assets/Magazine3-lVRxWGI8.png",pB="/canopy-website/assets/Magazine4-CmTUHtDG.png",mB="/canopy-website/assets/Magazine5-qHNovJdk.png",gB="/canopy-website/assets/Magazine6-CI5ZDn1p.png",yB="/canopy-website/assets/Magazine7-2YKXDtV9.png",vB="/canopy-website/assets/Magazine8-D6smLcip.png",xB="/canopy-website/assets/Magazine9-BNm0q7zX.png",wB="/canopy-website/assets/Magazine10-BB4xvKKu.png",bB="/canopy-website/assets/Magazine11-CQlqbkKu.png",AB=()=>{const[n,e]=T.useState("buneka-katha"),[t,s]=T.useState(null),[i,r]=T.useState(!1),a=()=>{switch(n){case"buneka-katha":return"Buneka Katha";case"annual-report":return"Annual Reports";case"financial-report":return"Financial Reports";default:return"Buneka Katha"}},o=(c,d)=>{s({path:c,title:d}),r(!0)},l=()=>{r(!1),s(null)};return f.jsxs("div",{className:"min-h-screen bg-white",children:[f.jsx("div",{className:"relative h-[400px] overflow-hidden",children:f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center",children:[f.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-primary-red mb-8",children:a()}),f.jsxs("div",{className:"flex justify-center space-x-8",children:[f.jsx("button",{onClick:()=>e("buneka-katha"),className:`text-lg pb-2 transition-colors uppercase ${n==="buneka-katha"?"text-primary-cyan border-b-2 border-primary-cyan font-bold":"text-gray-600 hover:text-primary-cyan font-medium"}`,children:"Buneka Katha"}),f.jsx("button",{onClick:()=>e("annual-report"),className:`text-lg pb-2 transition-colors uppercase ${n==="annual-report"?"text-primary-cyan border-b-2 border-primary-cyan font-bold":"text-gray-600 hover:text-primary-cyan font-medium"}`,children:"Annual Report"}),f.jsx("button",{onClick:()=>e("financial-report"),className:`text-lg pb-2 transition-colors uppercase ${n==="financial-report"?"text-primary-cyan border-b-2 border-primary-cyan font-bold":"text-gray-600 hover:text-primary-cyan font-medium"}`,children:"Financial Report"})]})]})}),f.jsxs("div",{className:"max-w-screen-xl mx-auto px-6 -mt-24",children:[n==="buneka-katha"&&f.jsxs("div",{className:"mb-24 animate-in fade-in duration-500",children:[f.jsx("p",{className:"text-center text-lg mb-8 max-w-4xl mx-auto",children:"Our magazine publications featuring stories, insights, and updates from our work in education and community development."}),f.jsx("div",{className:"flex flex-wrap justify-center gap-8 py-4",children:[{id:11,cover:bB,pdf:"magazine-11.pdf"},{id:10,cover:wB,pdf:"magazine-10.pdf"},{id:9,cover:xB,pdf:"magazine-9.pdf"},{id:8,cover:vB,pdf:"magazine-8.pdf"},{id:7,cover:yB,pdf:"magazine-7.pdf"},{id:6,cover:gB,pdf:"magazine-6.pdf"},{id:5,cover:mB,pdf:"magazine-5.pdf"},{id:4,cover:pB,pdf:"magazine-4.pdf"},{id:3,cover:fB,pdf:"magazine-3.pdf"},{id:2,cover:hB,pdf:"magazine-2.pdf"},{id:1,cover:dB,pdf:"magazine-1.pdf"}].map(c=>f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o(`/pdfs/${c.pdf}`,`Buneka Katha Magazine ${c.id}`),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:c.cover,alt:`Buneka Katha Magazine ${c.id}`,className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})},c.id))})]}),n==="annual-report"&&f.jsxs("div",{className:"mb-24 animate-in fade-in duration-500",children:[f.jsx("p",{className:"text-center text-lg mb-8 max-w-4xl mx-auto",children:"Every year, we highlight our work and achievements to share with our supporters  individuals, multinational corporations, international organizations, and local allies  who make our work possible."}),f.jsxs("div",{className:"flex justify-center space-x-8 py-4",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("button",{onClick:()=>o("/pdfs/annualreport2024.pdf","Annual Report 2024"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:eB,alt:"2024 Annual Report",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})}),f.jsx("p",{className:"mt-4 font-semibold text-gray-800",children:"2024"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("button",{onClick:()=>o("/pdfs/annualreport2023.pdf","Annual Report 2023"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:tB,alt:"2023 Annual Report",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})}),f.jsx("p",{className:"mt-4 font-semibold text-gray-800",children:"2023"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("button",{onClick:()=>o("/pdfs/annualreport2022.pdf","Annual Report 2022"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:nB,alt:"2022 Annual Report",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})}),f.jsx("p",{className:"mt-4 font-semibold text-gray-800",children:"2022"})]})]})]}),n==="financial-report"&&f.jsxs("div",{className:"mb-24 animate-in fade-in duration-500",children:[f.jsx("p",{className:"text-center text-lg mb-8 max-w-4xl mx-auto",children:"Our comprehensive financial statements and audit reports ensuring transparency and accountability in our operations."}),f.jsxs("div",{className:"flex flex-wrap justify-center gap-8 py-4",children:[f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2080-81.pdf","Audit Report 2080/81"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:sB,alt:"Audit Report 2080/81",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2079-80.pdf","Audit Report 2079/80"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:iB,alt:"Audit Report 2079/80",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2078-79.pdf","Audit Report 2078/79"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:rB,alt:"Audit Report 2078/79",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2077-78.pdf","Audit Report 2077/78"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:aB,alt:"Audit Report 2077/78",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2076-77.pdf","Audit Report 2076/77"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:oB,alt:"Audit Report 2076/77",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2075-76.pdf","Audit Report 2075/76"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:lB,alt:"Audit Report 2075/76",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2074-75.pdf","Audit Report 2074/75"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:cB,alt:"Audit Report 2074/75",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})}),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>o("/pdfs/audit-report-2073-74.pdf","Audit Report 2073/74"),className:"transition-transform hover:scale-105",children:f.jsx("img",{src:uB,alt:"Audit Report 2073/74",className:"w-80 h-[28rem] object-cover object-center shadow-md rounded-lg bg-white"})})})]})]})]}),t&&f.jsx(Z5,{pdfPath:t.path,title:t.title,isOpen:i,onClose:l})]})},SB=()=>{const n="https://canopynepal.us18.list-manage.com/subscribe/post-json",e="458803be3c6c443caf7b7d870",t="d09382c729",[s,i]=T.useState(""),[r,a]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(!1),[h,p]=T.useState(""),[m,y]=T.useState("");T.useEffect(()=>{if(o){const S=setTimeout(()=>{l("")},5e3);return()=>clearTimeout(S)}},[o]);const x=S=>{if(S.preventDefault(),d(!0),l("sending"),p(""),y(""),!s){l("error"),p("Please enter your email address"),y("error"),d(!1);return}const g=new URL(n);g.searchParams.append("u",e),g.searchParams.append("id",t),g.searchParams.append("EMAIL",s),r&&g.searchParams.append("FNAME",r),g.searchParams.append("f_id","00feaae6f0"),g.searchParams.append("c","callback");const v=document.createElement("script");v.src=g.toString(),v.id="mailchimp-jsonp",window.callback=w=>{delete window.callback,document.body.removeChild(v),d(!1),w.result==="success"?(l("success"),p("Thank you for subscribing to our newsletter!"),y("success"),i(""),a("")):(l("error"),w.msg.includes("already subscribed")?(p("You're already subscribed to our newsletter."),y("info")):(p(w.msg||"An error occurred. Please try again."),y("error")))},document.body.appendChild(v)};return f.jsx("section",{className:"bg-primary-red/5 py-16 px-6 rounded-2xl",children:f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary-red mb-4",children:"Join Our Community"}),f.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"Subscribe to our newsletter for updates on student stories, impact reports, and opportunities to support education in Nepal."})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 md:p-8",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{htmlFor:"newsletter-name",className:"sr-only",children:"First Name"}),f.jsx("input",{id:"newsletter-name",type:"text",value:r,onChange:S=>a(S.target.value),placeholder:"Your first name",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:c})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{htmlFor:"newsletter-email",className:"sr-only",children:"Email address"}),f.jsx("input",{id:"newsletter-email",type:"email",value:s,onChange:S=>i(S.target.value),placeholder:"Your email address",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0,disabled:c})]}),f.jsx("button",{onClick:x,disabled:c,className:`px-8 py-3 rounded-lg font-medium text-white transition-colors duration-300 ${c?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 hover:shadow-md"}`,children:c?f.jsxs("span",{className:"flex items-center justify-center",children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subscribing"]}):"Subscribe"})]}),h&&f.jsx("div",{className:`mt-4 p-3 rounded-lg ${m==="success"?"bg-green-100 text-green-800":m==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:h}),f.jsx("div",{className:"text-center text-sm text-gray-500 mt-6",children:"We respect your privacy. Your information will never be shared with third parties."})]})]})})},EB="/canopy-website/assets/ourwork-BPacZRO-.png",CB=()=>{const n=vx();return f.jsxs("div",{className:"bg-white min-h-screen w-full flex flex-col items-center mt-28 font-sans",children:[f.jsx("img",{src:EB,alt:"Our Work Hero",className:"w-full h-auto object-cover object-center mb-4",style:{maxHeight:"500px"}}),f.jsx("div",{className:"w-full"}),f.jsxs("div",{className:"w-full max-w-5xl mx-auto text-center px-4 mt-8",children:[f.jsxs("h1",{className:"text-2xl md:text-2xl lg:text-2xl font-bold text-primary-blue leading-snug mb-8",children:["We directly solve the two major issues for the alarming dropout rate in Nepal",f.jsx("br",{}),f.jsx("span",{className:"text-primary-blue underline underline-offset-2",children:"cost"})," and",f.jsx("span",{className:"text-primary-blue underline underline-offset-2",children:" poor-quality education."})]}),f.jsxs("p",{className:"text-base md:text-lg text-gray-700 mb-8",children:["Every year, millions of students in Nepal face a tough choicedrop out of school or keep showing up to classrooms that fail to engage or support them.",f.jsx("span",{className:"text-primary-red font-bold",children:" At Canopy Nepal, we're doing something about both."})]}),f.jsx("p",{className:"text-base md:text-lg text-black mb-8",children:"Through CANSHIP and Katha Bunaun, our two flagship programs, we remove financial barriers and reimagine how education feels in the classroom."})]}),f.jsxs("div",{className:"w-full text-center mb-8",children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-[#2386B6] mb-8",children:"Our Programs"}),f.jsxs("div",{className:"flex justify-center gap-12",children:[f.jsx("button",{className:"bg-[#FFF3D1] text-[#F6B800] font-bold text-xl px-8 py-2 rounded-xl shadow-sm transition-transform hover:scale-105",onClick:()=>n("/canship"),children:"CANSHIP"}),f.jsx("button",{className:"bg-[#FFF3D1] text-[#F6B800] font-bold text-xl px-8 py-2 rounded-xl shadow-sm transition-transform hover:scale-105",onClick:()=>n("/katha-bunaun"),children:"Katha Bunaun"})]})]}),f.jsx("div",{className:"w-full text-center mt-4 mb-8",children:f.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-[#2386B6] mb-4",children:"Our Ecosystem"})})]})},_B="/canopy-website/assets/canship-DE44gviV.jpeg",TB="/canopy-website/assets/ow2-D9SfHwqp.png",kB="/canopy-website/assets/canshiplifecycle-CVsc7kdI.png",NB="/canopy-website/assets/canshipbottom-bLPtMPsS.png",PB="/canopy-website/assets/canshipImpact-PKAXGyAE.png",RB=()=>f.jsxs("div",{className:"min-h-screen bg-white mt-28",children:[f.jsx("img",{src:_B,alt:"Canopy Nepal Scholarship Hero",className:"w-full h-[500px] object-cover mb-8"}),f.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-12",children:[f.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-blue mb-2",children:"Canopy Nepal Scholarship Program"}),f.jsxs("div",{className:"mt-4",children:[f.jsx("p",{className:"text-gray-700 text-xl leading-relaxed mb-6",children:"CANSHIP, short for Canopy Scholarship Program, is our long-term commitment to supporting students through their entire educational journey."}),f.jsxs("p",{className:"text-gray-700 text-xl leading-relaxed",children:["At Canopy, we believe scholarships should do more than cover fees. That's why CANSHIP offers holistic support: school materials, nutritious meals, mentorship, psychosocial care, and hands-on learning opportunities. ",f.jsx("span",{className:"font-semibold text-primary-blue",children:"It's a program built not just to help students stay in school, but to help them grow, lead, and thrive."})]})]})]}),f.jsx("img",{src:TB,alt:"CANSHIP Section Divider",className:"w-full h-[400px] object-cover object-center",style:{maxHeight:"400px"}}),f.jsx("div",{className:"bg-white px-6 py-8",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsx("div",{className:"flex flex-col items-center gap-12",children:f.jsxs("div",{className:"w-full text-center",children:[f.jsx("p",{className:"text-gray-700 text-xl leading-relaxed mb-8",children:"With our long-term support and mentorship, CANSHIP helps break the cycle of poverty, empowering young people with the skills, confidence, and choices they need to shape their futures."}),f.jsxs("p",{className:" text-xl leading-relaxed",children:[f.jsx("span",{className:"text-primary-blue font-semibold text-xl",children:"And it doesn't end at graduation."})," Many of our scholars go on to pursue higher education, launch careers, and land jobs that allow them to support themselves and their families, creating real change in their lives and communities."]})]})})})}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-primary-blue text-center",children:"Canopy Scholar Lifecycle"}),f.jsx("div",{className:"flex justify-center",children:f.jsx("img",{src:kB,alt:"Canopy Scholar Lifecycle Flowchart",className:"w-full max-w-6xl h-auto"})})]})}),f.jsx("div",{className:" px-6 py-8",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch gap-12",children:[f.jsxs("div",{className:"lg:w-1/2 flex flex-col justify-center",children:[f.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-primary-blue mb-8",children:"Impact"}),f.jsxs("ul",{className:"space-y-6 text-gray-700",children:[f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-blue mr-3 mt-1",children:""}),f.jsxs("div",{className:"text-xl",children:[f.jsx("span",{className:"font-semibold text-xl",children:"Retention and Completion:"})," Scholars stay in school year after year, even when many of their peers drop out."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-blue mr-3 mt-1 text-xl",children:""}),f.jsxs("div",{className:"text-xl",children:[f.jsx("span",{className:"font-semibold text-xl",children:"Academic Progress:"})," Improved test scores, grade promotions, and graduation rates."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-blue mr-3 mt-1 text-xl",children:""}),f.jsxs("div",{className:"text-xl",children:[f.jsx("span",{className:"font-semibold text-xl",children:"Wellbeing:"})," Increased confidence, better mental health, improved attendance due to meals and psychosocial support."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-blue mr-3 mt-1 text-xl",children:""}),f.jsxs("div",{className:"text-xl",children:[f.jsx("span",{className:"font-semibold text-xl",children:"Skills Development:"})," Public speaking, critical thinking, digital literacy, storytelling, leadership, etc."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-blue mr-3 mt-1 text-xl",children:""}),f.jsxs("div",{className:"text-xl",children:[f.jsx("span",{className:"font-semibold text-xl",children:"Post-Program Outcomes:"})," Scholars pursuing higher education, vocational training, or entering the job market with readiness."]})]})]})]}),f.jsx("div",{className:"lg:w-1/2 flex justify-end items-stretch",children:f.jsx("img",{src:PB,alt:"Student and mentor interaction",className:"rounded-lg h-auto object-cover",style:{}})})]})})}),f.jsx("div",{className:"bg-white px-6 py-12",children:f.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6",children:[f.jsx("div",{children:f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-blue mb-2",children:"100% employed within one year of graduation"})}),f.jsx("div",{children:f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-blue mb-2",children:"Avg. increase in family income after student enters workforce"})}),f.jsx("div",{children:f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-blue mb-2",children:"X scholars have joined Canopy as mentors for younger scholars"})})]})}),f.jsx("img",{src:NB,alt:"CANSHIP Section Divider",className:"w-full h-[400px] object-cover object-center",style:{maxHeight:"400px"}})]}),jB="/canopy-website/assets/kbtop-BKF58M4_.png",MB="/canopy-website/assets/kbmiddle-Btr9iSUG.png",LB="/canopy-website/assets/kblifecycle-B8dJBG-x.png",DB="/canopy-website/assets/kbImpact-Jq88Xq-n.png",IB=()=>f.jsxs("div",{className:"min-h-screen bg-white mt-28",children:[f.jsx("img",{src:jB,alt:"Canopy Nepal Scholarship Hero",className:"w-full h-[500px] object-cover object-bottom mb-8"}),f.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-12",children:[f.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-red mb-2",children:"Katha Bunaun"}),f.jsxs("div",{className:"mt-4",children:[f.jsxs("p",{className:"text-gray-700 text-xl leading-relaxed mb-4",children:['Katha Bunaun, which translates to "Weaving Stories," is ',f.jsx("span",{className:"text-primary-red font-semibold",children:"Canopy Nepal's signature story-based learning program"})," that brings classrooms to life."]}),f.jsx("p",{className:"text-gray-700 text-xl leading-relaxed",children:"Through interactive sessions, students explore language, identity, values, creativity, self-expression and critical thinking by crafting and sharing stories. Whether it's a tale about their village, a dream for the future, or a social issue they care about, students learn to express themselves with confidence and curiosity."})]})]}),f.jsx("img",{src:MB,alt:"CANSHIP Section Divider",className:"w-full h-[400px] object-cover object-center",style:{maxHeight:"400px"}}),f.jsx("div",{className:"bg-white px-6 py-8",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsx("div",{className:"flex flex-col items-center gap-12",children:f.jsxs("div",{className:"w-full text-center",children:[f.jsx("p",{className:" text-xl leading-relaxed mb-8",children:"Katha Bunaun isn't just about storytelling, it's about building the foundational skills that traditional classrooms often overlook: empathy, communication, collaboration, and voice."}),f.jsxs("p",{className:" text-xl leading-relaxed",children:["Designed to align with local curriculum and",f.jsx("span",{className:"text-primary-red font-semibold text-xl",children:" delivered in partnership with teachers and local governments, Katha Bunaun is Nepal's only storytelling program"})," that creates a new kind of classroom, one where every child has the space to imagine, reflect, and speak up."]}),f.jsx("p",{className:"mt-4 text-xl leading-relaxed",children:"Because when students tell their own stories, they start to believe in their own power."})]})})})}),f.jsx("div",{className:"px-6 py-8",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-primary-red text-center",children:"Katha Bunaun Incorporation in the System"}),f.jsx("div",{className:"flex justify-center",children:f.jsx("img",{src:LB,alt:"Canopy Scholar Lifecycle Flowchart",className:"w-full max-w-6xl h-[250px]"})})]})}),f.jsx("div",{className:"px-6 py-8",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch gap-12",children:[f.jsxs("div",{className:"lg:w-1/2 flex flex-col justify-center",children:[f.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-primary-red mb-8",children:"Impact"}),f.jsxs("ul",{className:"space-y-6 text-gray-700 text-xl",children:[f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Engagement & Expression:"})," Students who were once shy or disengaged now speak up, participate actively, and take pride in their ideas and identities."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Foundational Skills:"})," Improvements in communication, empathy, creativity, and critical thinking, skills rarely prioritized in traditional classrooms."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Academic Improvement:"})," Increased classroom participation, engagement in extracurricular activities, comprehension, and retention by connecting curriculum with personal experiences and imagination."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Wellbeing & Confidence:"})," Students report feeling more confident, seen, and heard. Teachers observe better peer relationships and expression."]})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-primary-red mr-3 mt-1",children:""}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Leadership & Collaboration:"})," Students learn to listen and collaborate while leading group discussions and projects, often guiding their friends in shared storytelling activities."]})]})]})]}),f.jsx("div",{className:"lg:w-1/2 flex justify-end items-stretch",children:f.jsx("img",{src:DB,alt:"Student and mentor interaction",className:"rounded-xl h-auto object-cover transform -scale-x-100",style:{}})})]})})}),f.jsx("div",{className:"bg-white px-6 py-8",children:f.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6",children:[f.jsx("div",{children:f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-red mb-2",children:"Local governments have increased their budget by XX on average to incorporate storytelling into their curriculum."})}),f.jsx("div",{children:f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-red mb-2",children:"XXX schools have adapted interactive learning and child-centered learning values."})}),f.jsx("div",{children:f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-primary-red mb-2",children:"Students have increased engagement in school activities by XXX%."})})]})}),f.jsx("div",{className:"text-center mx-auto max-w-2xl my-4",children:f.jsxs("p",{className:"text-2xl leading-relaxed",children:["And by 2030, we aim to bring this program to",f.jsx("span",{className:"text-primary-red font-semibold text-2xl",children:" half a million students, "}),"making storytelling not an extra but an essential part of every Nepali classroom."]})})]}),FB="/canopy-website/assets/getinvolvedhero-DEcN4PBr.png",OB="/canopy-website/assets/gi1-AKhCTXre.jpeg",BB="/canopy-website/assets/gi2-DLEYLPNv.jpg",VB="/canopy-website/assets/gi3-CFl71RrR.jpg",UB="/canopy-website/assets/gi4-B5u9zHo8.jpg",zB="/canopy-website/assets/gi5-DUiIj3oj.png",HB="/canopy-website/assets/gi6-BlkNppq1.png",$B=()=>f.jsxs("div",{className:"bg-white font-sans mt-28",children:[f.jsxs("div",{className:"relative h-96",children:[f.jsx("img",{src:FB,alt:"Happy students",className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex flex-col items-center justify-center text-center text-white p-4",children:f.jsx("h1",{className:"text-6xl md:text-6xl font-bold mb-4",children:"Get Involved"})})]}),f.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsx("div",{className:"py-8 text-center",children:f.jsxs("p",{className:"text-2xl leading-relaxed",children:["At Canopy Nepal, we believe everyone has something to give - whether it's time, skills, resources, or simply a belief in the power of education. ",f.jsx("br",{}),f.jsx("br",{}),"Here's how you can be part of our mission to help every child stay in school, find their voice, and thrive."]})}),f.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:f.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-stretch h-full",children:[f.jsx("div",{className:"w-full md:w-1/2 h-[400px]",children:f.jsx("img",{src:OB,alt:"Donate",className:"w-full h-full object-cover object-center"})}),f.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[f.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"1. Donate"}),f.jsx("p",{className:"text-xl text-gray-700 mb-6 leading-relaxed",children:"Your support fuels scholarships, storytelling sessions, and teacher training. Big or small - every contribution helps us reach more students!"}),f.jsx("a",{href:"#",className:"w-max inline-block bg-primary-orange text-white font-semibold py-2 px-4 rounded-lg text-lg hover:bg-primary-red transition-colors duration-300",children:"Donate Now"})]})]})}),f.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-stretch h-full",children:[f.jsx("div",{className:"w-full md:w-1/2 h-[400px]",children:f.jsx("img",{src:BB,alt:"Fundraise With Us",className:"w-full h-full object-cover object-center transform -scale-x-100"})}),f.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[f.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"2. Fundraise With Us"}),f.jsx("p",{className:"text-xl text-gray-700 mb-6 leading-relaxed",children:"Run a marathon, host a dinner, celebrate your birthday - turn any moment into impact. We'll support you every step of the way."}),f.jsx("a",{href:"#",className:"w-max inline-block bg-primary-orange text-white font-semibold py-2 px-4 rounded-lg text-lg hover:bg-primary-red transition-colors duration-300",children:"Host A Fundraiser"})]})]})}),f.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:f.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-stretch h-full",children:[f.jsx("div",{className:"w-full md:w-1/2 h-[400px]",children:f.jsx("img",{src:VB,alt:"Partner With Us",className:"w-full h-full object-cover object-center"})}),f.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[f.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"3. Partner With Us"}),f.jsx("p",{className:"text-xl text-gray-700 mb-6 leading-relaxed",children:"We love teaming up with schools, businesses, universities, and community groups. Let's create something meaningful together."}),f.jsx("a",{href:"mailto:info@canopynepal.org",className:"w-max inline-block bg-primary-orange text-white font-semibold py-2 px-4 rounded-lg text-lg hover:bg-primary-red transition-colors duration-300",children:"Email Us"})]})]})}),f.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-stretch h-full",children:[f.jsx("div",{className:"w-full md:w-1/2 h-[400px]",children:f.jsx("img",{src:UB,alt:"Jobs/ Volunteer/ Intern",className:"w-full h-full object-cover object-center"})}),f.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[f.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"4. Jobs/ Volunteer/ Intern"}),f.jsx("p",{className:"text-xl text-gray-700 mb-6 leading-relaxed",children:"Got skills? Passion? Curiosity? Join us in Nepal or remotely and help shape the future of education."}),f.jsx("a",{href:"#",className:"w-max inline-block bg-primary-orange text-white font-semibold py-2 px-4 rounded-lg text-lg hover:bg-primary-red transition-colors duration-300",children:"Join the Team"})]})]})}),f.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:f.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-stretch h-full",children:[f.jsx("div",{className:"w-full md:w-1/2 h-[400px]",children:f.jsx("img",{src:zB,alt:"Join Our Chapters",className:"w-full h-full object-cover object-center"})}),f.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[f.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"5. Join Our Chapters"}),f.jsx("p",{className:"text-xl text-gray-700 mb-6 leading-relaxed",children:"If you're based in the U.S. or France, connect with our global community and help take Canopy further."}),f.jsx("a",{href:"#",className:"w-max inline-block bg-primary-orange text-white font-semibold py-2 px-4 rounded-lg text-lg hover:bg-primary-red transition-colors duration-300",children:"Reach Out"})]})]})}),f.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-stretch h-full",children:[f.jsx("div",{className:"w-full md:w-1/2 h-[400px]",children:f.jsx("img",{src:HB,alt:"Child with backpack",className:"w-full h-full object-cover object-center"})}),f.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-8 bg-white",children:[f.jsx("h2",{className:"text-3xl font-bold text-primary-red mb-4",children:"Still wondering how to help?"}),f.jsxs("p",{className:"text-xl text-gray-700 mb-6 leading-relaxed",children:["Reach out to us at ",f.jsx("a",{href:"mailto:info@canopynepal.org",className:"text-primary-blue hover:underline font-semibold",children:"info@canopynepal.org"}),". We'd love to hear from you."]}),f.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:"Because when you support Canopy, you're not just helping a child stay in schoolyou're helping them rewrite their future."})]})]})})]})]}),WB="/canopy-website/assets/donatehero-D8j9vtOR.png",GB="/canopy-website/assets/donatebody-QdRkP_d3.jpg";/*!
 * react-paypal-js v8.8.3 (2025-04-11T19:50:46.506Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn;(function(n){n.INITIAL="initial",n.PENDING="pending",n.REJECTED="rejected",n.RESOLVED="resolved"})(fn||(fn={}));var $r;(function(n){n.LOADING_STATUS="setLoadingStatus",n.RESET_OPTIONS="resetOptions",n.SET_BRAINTREE_INSTANCE="braintreeInstance"})($r||($r={}));var MA;(function(n){n.NUMBER="number",n.CVV="cvv",n.EXPIRATION_DATE="expirationDate",n.EXPIRATION_MONTH="expirationMonth",n.EXPIRATION_YEAR="expirationYear",n.POSTAL_CODE="postalCode"})(MA||(MA={}));var nt=function(){return nt=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++){t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},nt.apply(this,arguments)};function oN(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t}function LA(n,e,t){if(t||arguments.length===2)for(var s=0,i=e.length,r;s<i;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return n.concat(r||Array.prototype.slice.call(e))}var fd="data-react-paypal-script-id",wa={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},KB="Failed to load the PayPal JS SDK script.",lN="paypal",XB="usePayPalScriptReducer must be used within a PayPalScriptProvider";function qB(n){return n===void 0&&(n=lN),window[n]}function YB(n){for(var e="",t=0;t<n.length;t++){var s=n[t].charCodeAt(0)*t;n[t+1]&&(s+=n[t+1].charCodeAt(0)*(t-1)),e+=String.fromCharCode(97+Math.abs(s)%26)}return e}function QB(n){var e=n.reactComponentName,t=n.sdkComponentKey,s=n.sdkRequestedComponents,i=s===void 0?"":s,r=n.sdkDataNamespace,a=r===void 0?lN:r,o=t.charAt(0).toUpperCase().concat(t.substring(1)),l="Unable to render <".concat(e," /> because window.").concat(a,".").concat(o," is undefined."),c=typeof i=="string"?i:i.join(",");if(!c.includes(t)){var d=[c,t].filter(Boolean).join();l+=`
To fix the issue, add '`.concat(t,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(d,"'}}>`.")}return l}function cN(n){var e=n,t=fd;e[t];var s=oN(e,[t+""]);return"react-paypal-js-".concat(YB(JSON.stringify(s)))}function JB(n){var e=self.document.querySelector("script[".concat(fd,'="').concat(n,'"]'));e!=null&&e.parentNode&&e.parentNode.removeChild(e)}function ZB(n,e){var t,s;switch(e.type){case $r.LOADING_STATUS:return typeof e.value=="object"?nt(nt({},n),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):nt(nt({},n),{loadingStatus:e.value});case $r.RESET_OPTIONS:return JB(n.options[fd]),nt(nt({},n),{loadingStatus:fn.PENDING,options:nt(nt((t={},t[wa.DATA_SDK_INTEGRATION_SOURCE]=wa.DATA_LIBRARY_VALUE,t),e.value),(s={},s[fd]="".concat(cN(e.value)),s))});case $r.SET_BRAINTREE_INSTANCE:return nt(nt({},n),{braintreePayPalCheckoutInstance:e.value});default:return n}}var uN=T.createContext(null);function e6(n){if(typeof(n==null?void 0:n.dispatch)=="function"&&n.dispatch.length!==0)return n;throw new Error(XB)}function dN(){var n=e6(T.useContext(uN)),e=nt(nt({},n),{isInitial:n.loadingStatus===fn.INITIAL,isPending:n.loadingStatus===fn.PENDING,isResolved:n.loadingStatus===fn.RESOLVED,isRejected:n.loadingStatus===fn.REJECTED});return[e,n.dispatch]}T.createContext({});function t6(n){var e=T.useRef(new Proxy({},{get:function(t,s,i){return typeof t[s]=="function"?function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return t[s].apply(t,r)}:Reflect.get(t,s,i)}}));return e.current=Object.assign(e.current,n),e.current}var yw=function(n){var e,t=n.className,s=t===void 0?"":t,i=n.disabled,r=i===void 0?!1:i,a=n.children,o=n.forceReRender,l=o===void 0?[]:o,c=oN(n,["className","disabled","children","forceReRender"]),d=r?{opacity:.38}:{},h="".concat(s," ").concat(r?"paypal-buttons-disabled":"").trim(),p=T.useRef(null),m=T.useRef(null),y=t6(c),x=dN()[0],S=x.isResolved,g=x.options,v=T.useState(null),w=v[0],C=v[1],_=T.useState(!0),k=_[0],N=_[1],P=T.useState(null),j=P[1];function M(){m.current!==null&&m.current.close().catch(function(){})}return!((e=m.current)===null||e===void 0)&&e.updateProps&&m.current.updateProps({message:c.message}),T.useEffect(function(){if(S===!1)return M;var D=qB(g.dataNamespace);if(D===void 0||D.Buttons===void 0)return j(function(){throw new Error(QB({reactComponentName:yw.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:g.components,sdkDataNamespace:g[wa.DATA_NAMESPACE]}))}),M;var q=function(H,$){C($),typeof c.onInit=="function"&&c.onInit(H,$)};try{m.current=D.Buttons(nt(nt({},y),{onInit:q}))}catch(H){return j(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(H))})}return m.current.isEligible()===!1?(N(!1),M):(p.current&&m.current.render(p.current).catch(function(H){p.current===null||p.current.children.length===0||j(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(H))})}),M)},LA(LA([S],l,!0),[c.fundingSource],!1)),T.useEffect(function(){w!==null&&(r===!0?w.disable().catch(function(){}):w.enable().catch(function(){}))},[r,w]),vo.createElement(vo.Fragment,null,k?vo.createElement("div",{ref:p,style:d,className:h}):a)};yw.displayName="PayPalButtons";function n6(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t}function s6(n,e){var t=document.querySelector('script[src="'.concat(n,'"]'));if(t===null)return null;var s=hN(n,e),i=t.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(s.dataset).length)return null;var r=!0;return Object.keys(i.dataset).forEach(function(a){i.dataset[a]!==s.dataset[a]&&(r=!1)}),r?t:null}function i6(n){var e=n.url,t=n.attributes,s=n.onSuccess,i=n.onError,r=hN(e,t);r.onerror=i,r.onload=s,document.head.insertBefore(r,document.head.firstElementChild)}function r6(n){var e=n.sdkBaseUrl,t=n.environment,s=n6(n,["sdkBaseUrl","environment"]),i=e||l6(t),r=s,a=Object.keys(r).filter(function(c){return typeof r[c]<"u"&&r[c]!==null&&r[c]!==""}).reduce(function(c,d){var h=r[d].toString();return d=a6(d),d.substring(0,4)==="data"||d==="crossorigin"?c.attributes[d]=h:c.queryParams[d]=h,c},{queryParams:{},attributes:{}}),o=a.queryParams,l=a.attributes;return o["merchant-id"]&&o["merchant-id"].indexOf(",")!==-1&&(l["data-merchant-id"]=o["merchant-id"],o["merchant-id"]="*"),{url:"".concat(i,"?").concat(o6(o)),attributes:l}}function a6(n){var e=function(t,s){return(s?"-":"")+t.toLowerCase()};return n.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function o6(n){var e="";return Object.keys(n).forEach(function(t){e.length!==0&&(e+="&"),e+=t+"="+n[t]}),e}function l6(n){return n==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function hN(n,e){e===void 0&&(e={});var t=document.createElement("script");return t.src=n,Object.keys(e).forEach(function(s){t.setAttribute(s,e[s]),s==="data-csp-nonce"&&t.setAttribute("nonce",e["data-csp-nonce"])}),t}function c6(n,e){if(e===void 0&&(e=Promise),fN(n,e),typeof document>"u")return e.resolve(null);var t=r6(n),s=t.url,i=t.attributes,r=i["data-namespace"]||"paypal",a=DA(r);return i["data-js-sdk-library"]||(i["data-js-sdk-library"]="paypal-js"),s6(s,i)&&a?e.resolve(a):u6({url:s,attributes:i},e).then(function(){var o=DA(r);if(o)return o;throw new Error("The window.".concat(r," global variable is not available."))})}function u6(n,e){e===void 0&&(e=Promise),fN(n,e);var t=n.url,s=n.attributes;if(typeof t!="string"||t.length===0)throw new Error("Invalid url.");if(typeof s<"u"&&typeof s!="object")throw new Error("Expected attributes to be an object.");return new e(function(i,r){if(typeof document>"u")return i();i6({url:t,attributes:s,onSuccess:function(){return i()},onError:function(){var a=new Error('The script "'.concat(t,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return r(a)}})})}function DA(n){return window[n]}function fN(n,e){if(typeof n!="object"||n===null)throw new Error("Expected an options object.");var t=n.environment;if(t&&t!=="production"&&t!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var d6=function(n){var e,t=n.options,s=t===void 0?{clientId:"test"}:t,i=n.children,r=n.deferLoading,a=r===void 0?!1:r,o=T.useReducer(ZB,{options:nt(nt({},s),(e={},e[wa.DATA_JS_SDK_LIBRARY]=wa.DATA_LIBRARY_VALUE,e[wa.DATA_SDK_INTEGRATION_SOURCE]=wa.DATA_LIBRARY_VALUE,e[fd]="".concat(cN(s)),e)),loadingStatus:a?fn.INITIAL:fn.PENDING}),l=o[0],c=o[1];return T.useEffect(function(){if(a===!1&&l.loadingStatus===fn.INITIAL)return c({type:$r.LOADING_STATUS,value:fn.PENDING});if(l.loadingStatus===fn.PENDING){var d=!0;return c6(l.options).then(function(){d&&c({type:$r.LOADING_STATUS,value:fn.RESOLVED})}).catch(function(h){console.error("".concat(KB," ").concat(h)),d&&c({type:$r.LOADING_STATUS,value:{state:fn.REJECTED,message:String(h)}})}),function(){d=!1}}},[l.options,a,l.loadingStatus]),vo.createElement(uN.Provider,{value:nt(nt({},l),{dispatch:c})},i)};function IA(){}T.createContext({cardFieldsForm:null,fields:{},registerField:IA,unregisterField:IA});const h6=({amount:n,isMonthly:e,onSuccess:t,onError:s})=>{const[{isPending:i}]=dN();if(i)return f.jsxs("div",{className:"flex items-center justify-center p-4",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-500"}),f.jsx("span",{className:"ml-2 text-gray-600",children:"Loading PayPal..."})]});const r=(d,h)=>(console.log("Creating one-time PayPal order for amount:",n),h.order.create({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"USD",value:n.toString()},description:`One-time donation to Canopy Nepal - $${n}`}],application_context:{shipping_preference:"NO_SHIPPING",user_action:"PAY_NOW",return_url:window.location.origin+"/donate?success=true",cancel_url:window.location.origin+"/donate?cancelled=true"}})),a=(d,h)=>(console.log("Creating PayPal subscription for amount:",n),h.subscription.create({plan_id:o(n),application_context:{shipping_preference:"NO_SHIPPING",user_action:"SUBSCRIBE_NOW",return_url:window.location.origin+"/donate?success=true",cancel_url:window.location.origin+"/donate?cancelled=true"}})),o=d=>{const h={25:"P-12345678901234567ABCDEFG",50:"P-98765432109876543HIJKLMN",100:"P-ABCDEFGHIJKLMNOPQ123456",250:"P-RSTUVWXYZ1234567890ABCD",500:"P-EFGHIJKLMNOPQRST1234567",1e3:"P-UVWXYZ1234567ABCDEFGHI"};return h[d]||h[25]},l=async(d,h)=>{console.log("One-time order approved:",d);try{const p=await h.order.capture();console.log("Payment captured successfully:",p),t&&t(p)}catch(p){console.error("Error capturing payment:",p),s&&s(p)}},c=async d=>{console.log("Subscription approved:",d);try{console.log("Subscription created successfully with ID:",d.subscriptionID),t&&t({id:d.subscriptionID,status:"SUBSCRIPTION_CREATED",type:"subscription",amount:n,frequency:"monthly"})}catch(h){console.error("Error processing subscription:",h),s&&s(h)}};return f.jsx(yw,{style:{layout:"vertical",color:"blue",shape:"rect",label:"pay"},fundingSource:void 0,createOrder:e?void 0:r,createSubscription:e?a:void 0,onApprove:e?c:l,onCancel:()=>{console.log("Payment was cancelled by user"),s&&s(new Error("Payment was cancelled."))},onError:d=>{console.error("PayPal error:",d),s&&s(d)}})},f6=({isOpen:n,onClose:e})=>{const[t,s]=T.useState(25),[i,r]=T.useState(""),[a,o]=T.useState(!1),[l,c]=T.useState(!1),[d,h]=T.useState(""),p=[25,50,100,250,500,1e3],m=v=>{s(v),r(""),h("")},y=v=>{r(v),h(""),v&&!isNaN(Number(v))&&s(Number(v))},x=v=>{console.log("Donation success handler called!",v),c(!0),h("")},S=v=>{console.error("Donation error:",v);let w="An error occurred during payment. Please try again.";v.message&&(v.message.includes("cancelled")?w="Payment was cancelled. You can try again anytime.":v.message.includes("popup blocked")?w="Payment popup was blocked. Please allow popups for this site and try again.":v.message.includes("Window closed")||v.message.includes("window closed")||v.message.includes("Target window is closed")||v.message.includes("postrobot_method")?w="Payment window closed unexpectedly. Please try again.":v.message.includes("network")?w="Network error. Please check your connection and try again.":v.message.includes("timeout")?w="Payment timed out. Please try again.":v.message.includes("insufficient funds")?w="Insufficient funds. Please check your payment method and try again.":v.message.includes("card declined")&&(w="Card was declined. Please try a different payment method.")),h(w),console.log("Error details:",{message:v.message,stack:v.stack,timestamp:new Date().toISOString(),amount:t,isMonthly:a})},g=()=>{c(!1),s(25),r(""),o(!1),h(""),e()};return n?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:l?"Thank You!":"Make a Donation"}),f.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 transition-colors",children:f.jsx(Zx,{size:24})})]}),l?f.jsxs("div",{className:"p-6 text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(_I,{className:"w-8 h-8 text-green-600"})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Donation Successful!"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for your generous donation to Canopy Nepal. Your support helps students stay in school and dream without limits."}),f.jsx("button",{onClick:g,className:"bg-primary-blue text-white px-6 py-2 rounded-lg hover:bg-primary-blue transition-colors",children:"Close"})]}):f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 mb-6",children:[f.jsx("button",{onClick:()=>o(!1),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${a?"text-gray-600 hover:text-gray-800 text-lg":"bg-white text-primary-blue shadow-sm text-lg font-semibold"}`,children:"One-time"}),f.jsx("button",{onClick:()=>o(!0),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${a?"bg-white text-primary-blue shadow-sm font-semibold text-lg":"text-gray-600 hover:text-gray-800 text-lg"}`,children:"Monthly"})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Amount"}),f.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:p.map(v=>f.jsxs("button",{onClick:()=>m(v),className:`py-3 px-4 rounded-lg border-2 text-lg  transition-colors ${t===v&&!i?"border-primary-blue bg-primary-blue/10 text-primary-blue font-semibold":"border-gray-200 text-gray-700 hover:border-gray-300"}`,children:["$",v]},v))}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Or enter a custom amount"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),f.jsx("input",{type:"number",value:i,onChange:v=>y(v.target.value),placeholder:"Enter amount",className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-blue focus:border-transparent",min:"5",step:"1"})]})]})]}),f.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-600 font-bold",children:a?"Monthly donation:":"One-time donation:"}),f.jsxs("span",{className:"text-2xl font-bold text-primary-blue",children:["$",t]})]})}),f.jsx(h6,{amount:t,isMonthly:a,onSuccess:x,onError:S}),d&&f.jsx("div",{className:"mt-4 p-3 bg-primary-red/30 border border-red-200 rounded-lg",children:f.jsx("p",{className:"text-primary-red text-sm",children:d})}),f.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Your donation is secure and tax-deductible. Canopy USA is a registered 501(c)(3) nonprofit."})]})]})}):null},p6="/canopy-website/assets/dicon1-Ij6lLssD.png",m6="/canopy-website/assets/dicon2-BXTya36h.png",g6="/canopy-website/assets/dicon3-CBEPKB38.png",y6="/canopy-website/assets/dicon4-DcgJEyhW.png",v6="/canopy-website/assets/dicon5-CDJS9SD0.png",x6=[{amount:"$25",description:"provides school supplies for one student",icon:p6},{amount:"$50",description:"covers one month of nutritious school meals and transport",icon:m6},{amount:"$100",description:"supports a CANSHIP scholar for one month",icon:g6},{amount:"$250",description:"funds a storytelling workshop for an entire classroom",icon:y6},{amount:"$1,000",description:"covers a full year of support for a student, including scholarship, school mentorship, and workshops",icon:v6}],w6=["We work directly with students, families, communities, and local governments","Our programs are designed to be long-term, inclusive, and measurable","Donations support education-focused programs in Nepal, with more than 90% directly going to the students","We keep you updated with real stories and real impact","We treat your donation like tea in a Nepali household: shared generously and used wisely"],b6=()=>{const[n,e]=T.useState(!1),t=()=>{e(!0)};return f.jsxs("div",{className:"bg-white font-sans mt-28",children:[f.jsxs("div",{className:"relative h-[450px] overflow-hidden",children:[f.jsx("img",{src:WB,alt:"Smiling student in Nepal",className:"w-full h-full object-cover object-top"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-40"})]}),f.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[f.jsx("h2",{className:"text-2xl font-bold text-primary-blue mb-8",children:"Your gift helps students stay in school, grow with confidence, and dream without limits."}),f.jsx("p",{className:"text-xl leading-relaxed",children:"Every donation to Canopy Nepal directly supports students through scholarships, story-based learning, and long-term mentorship. Whether it's a one-time gift or a monthly commitment, your support helps break barriers and build futures."})]}),f.jsxs("div",{className:"py-8",children:[f.jsx("h3",{className:"text-center text-3xl font-bold text-primary-blue mb-8",children:"What Your Donation Supports"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:x6.map(s=>f.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 text-center flex flex-col items-center",children:[f.jsx("img",{src:s.icon,alt:s.description,className:"w-24 h-24 object-contain mb-4"}),f.jsx("span",{className:"text-4xl font-bold text-black mb-4",children:s.amount}),f.jsx("p",{className:"text-gray-700 flex-grow",children:s.description})]},s.amount))})]}),f.jsx("div",{className:"text-center space-x-4 mb-8",children:f.jsx("button",{onClick:t,className:"bg-primary-blue text-white text-xl font-bold py-2 px-4 rounded-lg hover:bg-primary-cyan transition-colors",children:"Donate Now"})}),f.jsx("p",{className:"text-center text-lg text-gray-500 mb-8",children:"Secure and tax-deductible (in the U.S. through Canopy USA, a registered 501(c)(3) nonprofit)"}),f.jsx("div",{className:"relative left-1/2 right-1/2 ml-[-50vw] mr-[-50vw] w-screen",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-stretch h-full",children:[f.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-16 bg-white",children:[f.jsx("h2",{className:"text-3xl font-bold text-primary-blue mb-4",children:"Why Give to Canopy?"}),f.jsx("ul",{className:"list-disc  text-gray-700 space-y-4 text-xl",children:w6.map((s,i)=>f.jsx("li",{children:s},i))})]}),f.jsx("div",{className:"w-full md:w-1/2 h-[400px] md:h-auto",children:f.jsx("img",{src:GB,alt:"A young boy smiling",className:"w-full h-full object-cover object-center mb-4"})})]})}),f.jsxs("div",{className:"mt-8 mb-0 rounded-lg text-center",children:[f.jsx("h2",{className:"text-3xl font-bold text-primary-blue mb-4",children:"Prefer Bank Transfer or In-Kind Donation?"}),f.jsx("div",{className:"text-left inline-block max-w-md mx-auto",children:f.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-lg",children:[f.jsx("span",{className:"font-semibold text-gray-800",children:"Account Number:"}),f.jsx("span",{className:"text-gray-600",children:"00116539370"}),f.jsx("span",{className:"font-semibold text-gray-800",children:"Account Name:"}),f.jsx("span",{className:"text-gray-600",children:"CANOPY NEPAL"}),f.jsx("span",{className:"font-semibold text-gray-800",children:"Bank Name:"}),f.jsx("span",{className:"text-gray-600",children:"SIDDHARTHA BANK LTD."}),f.jsx("span",{className:"font-semibold text-gray-800",children:"SWIFT Code:"}),f.jsx("span",{className:"text-gray-600",children:"SIDDNPKA"}),f.jsx("span",{className:"font-semibold text-gray-800",children:"Branch Name:"}),f.jsx("span",{className:"text-gray-600",children:"HATTISAR"}),f.jsx("span",{className:"font-semibold text-gray-800",children:"City:"}),f.jsx("span",{className:"text-gray-600",children:"KATHMANDU"}),f.jsx("span",{className:"font-semibold text-gray-800",children:"Country:"}),f.jsx("span",{className:"text-gray-600",children:"NEPAL"})]})})]})]}),f.jsx("div",{className:"bg-white mb-8",children:f.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4",children:[f.jsx("p",{className:"text-xl text-gray-700 mb-2",children:"Thank you for believing in students who just need a chance to thrive."}),f.jsx("p",{className:"text-xl font-semibold text-gray-800",children:"Together, we're not just funding educationwe're changing lives, one story at a time."})]})}),f.jsx(f6,{isOpen:n,onClose:()=>e(!1)})]})},A6="AWzQjJc0cZ1unc5EnIbQ3U_HQIc3PBdndMFwEql8yBo6G2G7WD_Ck0zkCqavB4HVOKl85Jy53zWF5QFw",S6={clientId:A6,currency:"USD",intent:"capture","enable-funding":"venmo,card","disable-funding":"credit"},E6=({children:n})=>f.jsx(d6,{options:S6,children:n});function C6(){const{pathname:n}=Bc();return T.useEffect(()=>{window.scrollTo(0,0)},[n]),null}function _6(){return f.jsx(E6,{children:f.jsxs(GR,{children:[f.jsx(C6,{}),f.jsxs("div",{className:"min-h-screen bg-white",children:[f.jsx(KI,{}),f.jsx(Op,{mode:"wait",children:f.jsxs(BR,{children:[f.jsx(Dt,{path:"/canopy-website",element:f.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[f.jsx(qI,{}),f.jsx(aF,{}),f.jsx(iF,{}),f.jsx(nF,{}),f.jsx(uF,{}),f.jsx(dF,{}),f.jsx(fF,{}),f.jsx(AF,{}),f.jsx(SB,{})]})}),f.jsx(Dt,{path:"/missions",element:f.jsx(NF,{})}),f.jsx(Dt,{path:"/story",element:f.jsx(CF,{})}),f.jsx(Dt,{path:"/meet-the-team",element:f.jsx(BF,{})}),f.jsx(Dt,{path:"/board-of-directors",element:f.jsx(lO,{})}),f.jsx(Dt,{path:"/ourimpact",element:f.jsx(sA,{})}),f.jsx(Dt,{path:"/canopyfrance",element:f.jsx(fO,{})}),f.jsx(Dt,{path:"/canopyusa",element:f.jsx(vO,{})}),f.jsx(Dt,{path:"/publications",element:f.jsx(AB,{})}),f.jsx(Dt,{path:"/ourimpact",element:f.jsx(sA,{})}),f.jsx(Dt,{path:"/ourwork",element:f.jsx(CB,{})}),f.jsx(Dt,{path:"/canship",element:f.jsx(RB,{})}),f.jsx(Dt,{path:"/katha-bunaun",element:f.jsx(IB,{})}),f.jsx(Dt,{path:"/getinvolved",element:f.jsx($B,{})}),f.jsx(Dt,{path:"/donate",element:f.jsx(b6,{})})]})}),f.jsx(rF,{})]})]})})}JE(document.getElementById("root")).render(f.jsx(T.StrictMode,{children:f.jsx(_6,{})}));
